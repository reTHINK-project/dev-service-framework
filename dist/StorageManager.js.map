{"version":3,"sources":["/StorageManager.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","StorageManager","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/object/define-property","2","instance","Constructor","TypeError","3","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","4","$Object","Object","it","desc","defineProperty","../../modules/_core","../../modules/es6.object.define-property","5","6","isObject","./_is-object","7","core","version","__e","8","aFunction","fn","that","undefined","b","c","apply","arguments","./_a-function","9","get","./_fails","10","document","is","createElement","./_global","11","ctx","hide","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","C","Function","virtual","R","U","./_core","./_ctx","./_hide","12","exec","13","Math","__g","14","dP","createDesc","object","value","./_descriptors","./_object-dp","./_property-desc","15","./_dom-create","16","17","anObject","IE8_DOM_DEFINE","toPrimitive","O","Attributes","./_an-object","./_ie8-dom-define","./_to-primitive","18","bitmap","19","val","toString","valueOf","20","./_export","21","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","db","storageName","stores","open","then","console","info","verno","error","put","_checkKey","where","equals","first","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass"],"mappings":"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","file":"StorageManager.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.StorageManager = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":1}],4:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":7,\"../../modules/es6.object.define-property\":20}],5:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],6:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":16}],7:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],8:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":5}],9:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":12}],10:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":13,\"./_is-object\":16}],11:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":7,\"./_ctx\":8,\"./_global\":13,\"./_hide\":14}],12:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],13:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],14:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":9,\"./_object-dp\":17,\"./_property-desc\":18}],15:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":9,\"./_dom-create\":10,\"./_fails\":12}],16:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],17:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":6,\"./_descriptors\":9,\"./_ie8-dom-define\":15,\"./_to-primitive\":19}],18:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],19:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":16}],20:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":9,\"./_export\":11,\"./_object-dp\":17}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar StorageManager = function () {\n  function StorageManager(db, storageName) {\n    var version = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    (0, _classCallCheck3.default)(this, StorageManager);\n\n    if (!db) throw Error('The Storage Manager needs the database instance');\n    if (!storageName) throw Error('The Storage Manager needs the storage name');\n\n    var stores = {};\n    stores[storageName] = 'key,version,value';\n\n    db.version(version).stores(stores);\n    db.open().then(function (db) {\n      console.info('Found database name ' + db.name + ' with version no: ' + db.verno);\n\n      // db.tables.forEach((table) => {\n      //   console.log('Found table: ' + table.name);\n      //   console.log('Table Schema: ' + JSON.stringify(table.schema, null, 4));\n      // });\n    }).catch(console.error);\n\n    this.db = db;\n    this.storageName = storageName;\n  }\n\n  (0, _createClass3.default)(StorageManager, [{\n    key: '_checkKey',\n    value: function _checkKey(key) {\n      if (typeof key !== 'string') return key.toString();\n      return key;\n    }\n\n    /**\r\n    * Adds a new entry to the database for a given key, together with its version.\r\n    * If an entry for the given key is already stored in the database, it will be updated.\r\n    * @param {!string} key - key that can be used with {@link storageManager.get} to retrieve the value object\r\n    * @param {!string} version - version descriptor for the given value\r\n    * @param value - value stored in the database that is mapped to given key\r\n    * @returns {Promise} result - Promise that will be fulfilled with the key if the entry was stored successfully,\r\n    * otherwise it is rejected with an error.\r\n    */\n\n  }, {\n    key: 'set',\n    value: function set(key, version, value) {\n      console.info('[StorageManager] - set ', key);\n\n      return this.db[this.storageName].put({ key: this._checkKey(key), version: version, value: value });\n    }\n\n    /**\r\n     * Get a entry value from the database for a given key.\r\n     * If no entry is found undefined is returned.\r\n     * @param {!string} key - key that was stored using {@link storageManager.set}\r\n     * @returns {Promise} result - Promise that will be fulfilled with the value.\r\n     */\n\n  }, {\n    key: 'get',\n    value: function get(key) {\n      console.info('[StorageManager] - get ', key);\n      return this.db[this.storageName].where('key').equals(this._checkKey(key)).first().then(function (object) {\n        if (object) return object.value;\n      }).catch(function (error) {\n        console.info('error getting the key ', key, ' with error: ', error);\n        return undefined;\n      });\n    }\n\n    /**\r\n     * Get a entry version from the database for a given key.\r\n     * If no entry is found undefined is returned.\r\n     * @param {!string} key - key that was stored using {@link storageManager.set}\r\n     * @returns {Promise} result - Promise that will be fulfilled with the version.\r\n     */\n\n  }, {\n    key: 'getVersion',\n    value: function getVersion(key) {\n      console.info('[StorageManager] - getVersion for key ', key);\n      return this.db[this.storageName].where('key').equals(this._checkKey(key)).first().then(function (object) {\n        if (object) return object.version;\n      }).catch(function (error) {\n        console.info('error getting the version for ', key, ' with error: ', error);\n        return undefined;\n      });\n    }\n\n    /**\r\n     * Delete a entry from the database for a given key.\r\n     * @param {!string} key - key that was stored using {@link storageManager.set}\r\n     * @returns {Promise} result - Promise that will be fulfilled with the number of affected rows.\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(key) {\n      return this.db[this.storageName].where('key').equals(this._checkKey(key)).delete();\n    }\n  }]);\n  return StorageManager;\n}();\n\nexports.default = StorageManager;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":2,\"babel-runtime/helpers/createClass\":3}]},{},[21])(21)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwic3JjXFxzdG9yYWdlLW1hbmFnZXJcXFN0b3JhZ2VNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0osTUFESSxDQUNHLEtBQUssU0FBTCxDQUFlLEdBQWYsQ0FESCxFQUVKLEtBRkksR0FHSixJQUhJLENBR0MsVUFBQyxNQUFELEVBQVk7QUFDaEIsWUFBSSxNQUFKLEVBQVksT0FBTyxPQUFPLE9BQWQ7QUFDYixPQUxJLEVBTUosS0FOSSxDQU1FLGlCQUFTO0FBQ2QsZ0JBQVEsSUFBUixDQUFhLGdDQUFiLEVBQStDLEdBQS9DLEVBQW9ELGVBQXBELEVBQXFFLEtBQXJFO0FBQ0EsZUFBTyxTQUFQO0FBQ0QsT0FUSSxDQUFQO0FBVUQ7O0FBRUg7Ozs7Ozs7OzRCQUtTLEcsRUFBSztBQUNWLGFBQU8sS0FBSyxFQUFMLENBQVEsS0FBSyxXQUFiLEVBQ0osS0FESSxDQUNFLEtBREYsRUFFSixNQUZJLENBRUcsS0FBSyxTQUFMLENBQWUsR0FBZixDQUZILEVBR0osTUFISSxFQUFQO0FBSUQ7Ozs7O2tCQUlZLGMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59OyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59OyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59OyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pOyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07IiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07IiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mfSk7IiwiY2xhc3MgU3RvcmFnZU1hbmFnZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihkYiwgc3RvcmFnZU5hbWUsIHZlcnNpb24gPSAxKSB7XHJcbiAgICBpZiAoIWRiKSB0aHJvdyBFcnJvcignVGhlIFN0b3JhZ2UgTWFuYWdlciBuZWVkcyB0aGUgZGF0YWJhc2UgaW5zdGFuY2UnKTtcclxuICAgIGlmICghc3RvcmFnZU5hbWUpIHRocm93IEVycm9yKCdUaGUgU3RvcmFnZSBNYW5hZ2VyIG5lZWRzIHRoZSBzdG9yYWdlIG5hbWUnKTtcclxuXHJcbiAgICBsZXQgc3RvcmVzID0gIHt9O1xyXG4gICAgc3RvcmVzW3N0b3JhZ2VOYW1lXSA9ICdrZXksdmVyc2lvbix2YWx1ZSc7XHJcblxyXG4gICAgZGIudmVyc2lvbih2ZXJzaW9uKS5zdG9yZXMoc3RvcmVzKTtcclxuICAgIGRiLm9wZW4oKS50aGVuKChkYikgPT4ge1xyXG4gICAgICBjb25zb2xlLmluZm8oJ0ZvdW5kIGRhdGFiYXNlIG5hbWUgJyArIGRiLm5hbWUgKyAnIHdpdGggdmVyc2lvbiBubzogJyArIGRiLnZlcm5vKTtcclxuXHJcbiAgICAgIC8vIGRiLnRhYmxlcy5mb3JFYWNoKCh0YWJsZSkgPT4ge1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCdGb3VuZCB0YWJsZTogJyArIHRhYmxlLm5hbWUpO1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCdUYWJsZSBTY2hlbWE6ICcgKyBKU09OLnN0cmluZ2lmeSh0YWJsZS5zY2hlbWEsIG51bGwsIDQpKTtcclxuICAgICAgLy8gfSk7XHJcblxyXG4gICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4gICAgdGhpcy5kYiA9IGRiO1xyXG4gICAgdGhpcy5zdG9yYWdlTmFtZSA9IHN0b3JhZ2VOYW1lO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrS2V5KGtleSkge1xyXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSByZXR1cm4ga2V5LnRvU3RyaW5nKCk7XHJcbiAgICByZXR1cm4ga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAqIEFkZHMgYSBuZXcgZW50cnkgdG8gdGhlIGRhdGFiYXNlIGZvciBhIGdpdmVuIGtleSwgdG9nZXRoZXIgd2l0aCBpdHMgdmVyc2lvbi5cclxuICogSWYgYW4gZW50cnkgZm9yIHRoZSBnaXZlbiBrZXkgaXMgYWxyZWFkeSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlLCBpdCB3aWxsIGJlIHVwZGF0ZWQuXHJcbiAqIEBwYXJhbSB7IXN0cmluZ30ga2V5IC0ga2V5IHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgc3RvcmFnZU1hbmFnZXIuZ2V0fSB0byByZXRyaWV2ZSB0aGUgdmFsdWUgb2JqZWN0XHJcbiAqIEBwYXJhbSB7IXN0cmluZ30gdmVyc2lvbiAtIHZlcnNpb24gZGVzY3JpcHRvciBmb3IgdGhlIGdpdmVuIHZhbHVlXHJcbiAqIEBwYXJhbSB2YWx1ZSAtIHZhbHVlIHN0b3JlZCBpbiB0aGUgZGF0YWJhc2UgdGhhdCBpcyBtYXBwZWQgdG8gZ2l2ZW4ga2V5XHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSByZXN1bHQgLSBQcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2l0aCB0aGUga2V5IGlmIHRoZSBlbnRyeSB3YXMgc3RvcmVkIHN1Y2Nlc3NmdWxseSxcclxuICogb3RoZXJ3aXNlIGl0IGlzIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXHJcbiAqL1xyXG4gIHNldChrZXksIHZlcnNpb24sIHZhbHVlKSB7XHJcbiAgICBjb25zb2xlLmluZm8oJ1tTdG9yYWdlTWFuYWdlcl0gLSBzZXQgJywga2V5KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5kYlt0aGlzLnN0b3JhZ2VOYW1lXS5wdXQoe2tleTogdGhpcy5fY2hlY2tLZXkoa2V5KSwgdmVyc2lvbjp2ZXJzaW9uLCB2YWx1ZTp2YWx1ZX0pO1xyXG4gIH1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYSBlbnRyeSB2YWx1ZSBmcm9tIHRoZSBkYXRhYmFzZSBmb3IgYSBnaXZlbiBrZXkuXHJcbiAqIElmIG5vIGVudHJ5IGlzIGZvdW5kIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cclxuICogQHBhcmFtIHshc3RyaW5nfSBrZXkgLSBrZXkgdGhhdCB3YXMgc3RvcmVkIHVzaW5nIHtAbGluayBzdG9yYWdlTWFuYWdlci5zZXR9XHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSByZXN1bHQgLSBQcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2l0aCB0aGUgdmFsdWUuXHJcbiAqL1xyXG4gIGdldChrZXkpIHtcclxuICAgIGNvbnNvbGUuaW5mbygnW1N0b3JhZ2VNYW5hZ2VyXSAtIGdldCAnLCBrZXkpO1xyXG4gICAgcmV0dXJuIHRoaXMuZGJbdGhpcy5zdG9yYWdlTmFtZV0ud2hlcmUoJ2tleScpXHJcbiAgICAgIC5lcXVhbHModGhpcy5fY2hlY2tLZXkoa2V5KSlcclxuICAgICAgLmZpcnN0KClcclxuICAgICAgLnRoZW4ob2JqZWN0ID0+IHtcclxuICAgICAgICBpZiAob2JqZWN0KSByZXR1cm4gb2JqZWN0LnZhbHVlO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnZXJyb3IgZ2V0dGluZyB0aGUga2V5ICcsIGtleSwgJyB3aXRoIGVycm9yOiAnLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuLyoqXHJcbiAqIEdldCBhIGVudHJ5IHZlcnNpb24gZnJvbSB0aGUgZGF0YWJhc2UgZm9yIGEgZ2l2ZW4ga2V5LlxyXG4gKiBJZiBubyBlbnRyeSBpcyBmb3VuZCB1bmRlZmluZWQgaXMgcmV0dXJuZWQuXHJcbiAqIEBwYXJhbSB7IXN0cmluZ30ga2V5IC0ga2V5IHRoYXQgd2FzIHN0b3JlZCB1c2luZyB7QGxpbmsgc3RvcmFnZU1hbmFnZXIuc2V0fVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVzdWx0IC0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdpdGggdGhlIHZlcnNpb24uXHJcbiAqL1xyXG4gIGdldFZlcnNpb24oa2V5KSB7XHJcbiAgICBjb25zb2xlLmluZm8oJ1tTdG9yYWdlTWFuYWdlcl0gLSBnZXRWZXJzaW9uIGZvciBrZXkgJywga2V5KTtcclxuICAgIHJldHVybiB0aGlzLmRiW3RoaXMuc3RvcmFnZU5hbWVdLndoZXJlKCdrZXknKVxyXG4gICAgICAuZXF1YWxzKHRoaXMuX2NoZWNrS2V5KGtleSkpXHJcbiAgICAgIC5maXJzdCgpXHJcbiAgICAgIC50aGVuKChvYmplY3QpID0+IHtcclxuICAgICAgICBpZiAob2JqZWN0KSByZXR1cm4gb2JqZWN0LnZlcnNpb247XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdlcnJvciBnZXR0aW5nIHRoZSB2ZXJzaW9uIGZvciAnLCBrZXksICcgd2l0aCBlcnJvcjogJywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSBlbnRyeSBmcm9tIHRoZSBkYXRhYmFzZSBmb3IgYSBnaXZlbiBrZXkuXHJcbiAqIEBwYXJhbSB7IXN0cmluZ30ga2V5IC0ga2V5IHRoYXQgd2FzIHN0b3JlZCB1c2luZyB7QGxpbmsgc3RvcmFnZU1hbmFnZXIuc2V0fVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVzdWx0IC0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdpdGggdGhlIG51bWJlciBvZiBhZmZlY3RlZCByb3dzLlxyXG4gKi9cclxuICBkZWxldGUoa2V5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYlt0aGlzLnN0b3JhZ2VOYW1lXVxyXG4gICAgICAud2hlcmUoJ2tleScpXHJcbiAgICAgIC5lcXVhbHModGhpcy5fY2hlY2tLZXkoa2V5KSlcclxuICAgICAgLmRlbGV0ZSgpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3JhZ2VNYW5hZ2VyO1xyXG4iXX0=\n"]}
{"version":3,"sources":["RuntimeCatalogue.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","RuntimeCatalogue","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/get-iterator","2","core-js/library/fn/is-iterable","3","core-js/library/fn/json/stringify","4","core-js/library/fn/object/create","5","core-js/library/fn/object/define-property","6","core-js/library/fn/object/get-prototype-of","7","core-js/library/fn/object/set-prototype-of","8","core-js/library/fn/promise","9","core-js/library/fn/symbol","10","core-js/library/fn/symbol/iterator","11","instance","Constructor","TypeError","12","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","13","_setPrototypeOf","_setPrototypeOf2","_create","_create2","_typeof2","_typeof3","subClass","superClass","constructor","value","__proto__","../core-js/object/create","../core-js/object/set-prototype-of","../helpers/typeof","14","ReferenceError","15","_isIterable2","_isIterable3","_getIterator2","_getIterator3","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","Array","isArray","Object","../core-js/get-iterator","../core-js/is-iterable","16","_iterator","_iterator2","_symbol","_symbol2","_typeof","../core-js/symbol","../core-js/symbol/iterator","17","../modules/core.get-iterator","../modules/es6.string.iterator","../modules/web.dom.iterable","18","../modules/core.is-iterable","19","core","$JSON","JSON","stringify","it","apply","arguments","../../modules/_core","20","$Object","P","D","create","../../modules/es6.object.create","21","desc","defineProperty","../../modules/es6.object.define-property","22","getPrototypeOf","../../modules/es6.object.get-prototype-of","23","setPrototypeOf","../../modules/es6.object.set-prototype-of","24","Promise","../modules/_core","../modules/es6.object.to-string","../modules/es6.promise","25","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","26","../../modules/_wks-ext","../../modules/es6.string.iterator","../../modules/web.dom.iterable","27","28","29","name","forbiddenField","30","isObject","./_is-object","31","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","O","index","./_to-index","./_to-iobject","./_to-length","32","cof","TAG","ARG","tryGet","T","B","callee","./_cof","./_wks","33","toString","slice","34","version","__e","35","aFunction","fn","that","b","c","./_a-function","36","37","get","./_fails","38","document","is","createElement","./_global","39","split","40","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","./_object-gops","./_object-keys","./_object-pie","41","ctx","hide","PROTOTYPE","$export","type","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","expProto","C","Function","virtual","R","U","./_core","./_ctx","./_hide","42","exec","43","isArrayIter","anObject","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","step","iterator","iterFn","./_an-object","./_is-array-iter","./_iter-call","./core.get-iterator-method","44","Math","__g","45","hasOwnProperty","46","dP","createDesc","object","./_descriptors","./_object-dp","./_property-desc","47","documentElement","48","./_dom-create","49","args","un","50","propertyIsEnumerable","51","Iterators","ArrayProto","./_iterators","52","arg","53","54","ret","55","setToStringTag","IteratorPrototype","NAME","./_object-create","./_set-to-string-tag","56","LIBRARY","redefine","has","$iterCreate","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","./_export","./_has","./_iter-create","./_library","./_object-gpo","./_redefine","57","SAFE_CLOSING","riter","from","skipClosing","safe","iter","58","59","60","61","62","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","./_uid","63","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","head","last","notify","flush","parent","domain","exit","enter","nextTick","toggle","node","createTextNode","observe","characterData","data","resolve","promise","then","task","./_task","64","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","appendChild","src","contentWindow","open","write","close","Properties","./_enum-bug-keys","./_html","./_object-dps","./_shared-key","65","IE8_DOM_DEFINE","toPrimitive","Attributes","./_ie8-dom-define","./_to-primitive","66","67","gOPD","getOwnPropertyDescriptor","68","gOPN","windowNames","getOwnPropertyNames","getWindowNames","./_object-gopn","69","$keys","hiddenKeys","concat","./_object-keys-internal","70","getOwnPropertySymbols","71","toObject","ObjectProto","./_to-object","72","arrayIndexOf","names","./_array-includes","73","74","75","fails","exp","76","bitmap","77","78","79","check","test","buggy","./_object-gopd","80","DESCRIPTORS","SPECIES","81","def","tag","stat","82","shared","uid","./_shared","83","SHARED","store","84","85","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./_defined","./_to-integer","86","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","listener","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","clear","./_invoke","87","max","min","88","ceil","floor","isNaN","89","IObject","./_iobject","90","91","92","val","valueOf","93","px","random","94","wksExt","$Symbol","./_wks-ext","95","96","USE_SYMBOL","$exports","97","classof","getIteratorMethod","./_classof","98","getIterator","99","isIterable","100","addToUnscopables","iterated","_t","_k","Arguments","./_add-to-unscopables","./_iter-define","./_iter-step","101","102","103","$getPrototypeOf","./_object-sap","104","./_set-proto","105","106","Internal","GenericPromiseCapability","Wrapper","anInstance","forOf","speciesConstructor","microtask","PROMISE","$Promise","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","reject","$$resolve","$$reject","perform","error","isReject","chain","_c","_v","ok","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","abrupt","console","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_w","$resolve","wrapper","executor","onFulfilled","onRejected","catch","capability","x","all","remaining","$index","alreadyCalled","race","./_an-instance","./_for-of","./_iter-detect","./_microtask","./_redefine-all","./_set-species","./_species-constructor","107","$at","point","./_string-at","108","$fails","wks","wksDefine","keyOf","enumKeys","gOPNExt","$GOPD","$DP","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","for","keyFor","useSetter","useSimple","replacer","$replacer","./_enum-keys","./_is-array","./_keyof","./_meta","./_object-gopn-ext","./_wks-define","109","110","111","TO_STRING_TAG","collections","Collection","./es6.array.iterator","112","factory","tv4","notReallyPercentEncode","string","encodeURI","replace","doubleEncoded","substring","uriTemplateSubstitution","spec","modifier","uriTemplateGlobalModifiers","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","varSpecs","varSpecMap","varName","truncate","indexOf","parts","parseInt","suffices","uriTemplateSuffices","varSpec","subFunction","valueFunction","startIndex","j","encodeURIComponent","first","substitution","UriTemplate","template","textParts","shift","prefixes","substitutions","part","remainder","funcs","fill","recursiveCompare","A","parseURI","url","m","match","href","protocol","authority","host","hostname","pathname","search","hash","resolveUrl","base","removeDotSegments","input","output","p","pop","join","lastIndexOf","getDocumentUri","uri","normSchema","schema","baseUri","defaultErrorReporter","language","errorMessages","languages","messageTemplate","ErrorMessagesDefault","messageParams","params","whole","subValue","ValidationError","dataPath","schemaPath","subErrors","message","stack","stacktrace","isTrustedUrl","baseUrl","testUrl","createApi","currentLanguage","customErrorReporter","globalContext","ValidatorContext","api","setErrorReporter","reporter","addFormat","addLanguage","messageMap","ErrorCodes","rootCode","freshApi","validate","checkRecursive","banUnknownProperties","errorReporter","context","$ref","addSchema","validateAll","missing","valid","validateResult","validateMultiple","errors","getSchema","getSchemaMap","getSchemaUris","getMissingUris","dropSchemas","defineKeyword","defineError","codeName","codeNumber","defaultMessage","ErrorCodeLookup","langCode","reset","errorCodes","hasDontEnumBug","dontEnums","dontEnumsLength","prop","vArg","searchElement","len","Number","Infinity","abs","k","isFrozen","+","#",".","/",";","?","&","*","fillFromObject","collectMultiple","trackUnknownProperties","missingMap","formatValidators","schemas","handleError","collectError","returnError","scanned","scannedFrozen","scannedFrozenSchemas","scannedFrozenValidationErrors","validatedSchemasKey","validationErrorsKey","knownPropertyPaths","unknownPropertyPaths","definedKeywords","keyword","keywordFunction","createError","prefixErrors","prefixWith","unknownPath","UNKNOWN_PROPERTY","path","format","validator","resolveRefs","urlHistory","CIRCULAR_REFERENCE","urls","fragment","pointerPath","decodeURIComponent","component","searchSchemas","map","filterRegExp","list","dataPathParts","schemaPathParts","dataPointerPath","topLevel","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","schemaIndex","frozenSchemaIndex","errorCount","validateBasic","validateNumeric","validateString","validateArray","validateObject","validateCombinations","validateHypermedia","validateFormat","validateDefinedKeywords","item","dataPart","schemaPart","errorMessage","FORMAT_CUSTOM","validationFunctions","func","KEYWORD_CUSTOM","validateType","validateEnum","dataType","allowedTypes","INVALID_TYPE","expected","enumVal","ENUM_MISMATCH","validateMultipleOf","validateMinMax","validateNaN","CLOSE_ENOUGH_LOW","pow","CLOSE_ENOUGH_HIGH","multipleOf","divisibleBy","NUMBER_MULTIPLE_OF","minimum","NUMBER_MINIMUM","exclusiveMinimum","NUMBER_MINIMUM_EXCLUSIVE","maximum","NUMBER_MAXIMUM","exclusiveMaximum","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","validateStringLength","validateStringPattern","minLength","STRING_LENGTH_SHORT","maxLength","STRING_LENGTH_LONG","pattern","RegExp","regexp","body","flags","literal","STRING_PATTERN","validateArrayLength","validateArrayUniqueItems","validateArrayItems","minItems","ARRAY_LENGTH_SHORT","maxItems","ARRAY_LENGTH_LONG","uniqueItems","ARRAY_UNIQUE","match1","match2","items","additionalItems","ARRAY_ADDITIONAL_ITEMS","validateObjectMinMaxProperties","validateObjectRequiredProperties","validateObjectProperties","validateObjectDependencies","minProperties","OBJECT_PROPERTIES_MINIMUM","propertyCount","maxProperties","OBJECT_PROPERTIES_MAXIMUM","required","OBJECT_REQUIRED","keyPointerPath","foundMatch","properties","patternProperties","patternKey","additionalProperties","OBJECT_ADDITIONAL_PROPERTIES","dependencies","depKey","dep","OBJECT_DEPENDENCY_KEY","requiredKey","validateAllOf","validateAnyOf","validateOneOf","validateNot","allOf","subSchema","anyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownKey","unknownKey","ANY_OF_MISSING","oneOf","validIndex","ONE_OF_MULTIPLE","index1","index2","ONE_OF_MISSING","not","oldErrorCount","notErrors","NOT_PASSED","links","ldo","rel","allPresent","schemaUrl","dataPrefix","schemaPrefix","113","_RuntimeCatalogue","_RuntimeCatalogue2","./runtime-catalogue/RuntimeCatalogue","114","DataObjectSourceLanguage","CatalogueObjectType","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_RethinkObject2","_RethinkObject3","CatalogueDataObject","_RethinkObject","guid","objectName","description","sourcePackageURL","_this","_guid","_type","_version","_objectName","_description","_language","_sourcePackageURL","_signature","_sourcePackage","signature","sourcePackage","HYPERTY","PROTOSTUB","HYPERTY_RUNTIME","HYPERTY_INTERCEPTOR","HYPERTY_DATA_OBJECT","JAVASCRIPT_ECMA6","JAVASCRIPT_ECMA5","JSON_SCHEMA_V4","PYTHON","TYPESCRIPT","../reTHINKObject/RethinkObject","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","115","_CatalogueDataObject","_CatalogueDataObject2","_SourcePackage","_SourcePackage2","_HypertyDescriptor","_HypertyDescriptor2","_ProtocolStubDescriptor","_ProtocolStubDescriptor2","_HypertyRuntimeDescriptor","_HypertyRuntimeDescriptor2","_HypertyInterceptorDescriptor","_HypertyInterceptorDescriptor2","_DataObjectSchema","CatalogueDataObjectFactory","hypertyType","dataObjects","messageSchemas","configuration","constraints","interworking","idpProxy","mutualAuthentication","runtimeType","hypertyCapabilities","protocolCapabilities","p2pHandlerStub","p2pRequesterStub","policies","DataObjectSchema","accessControlPolicy","scheme","DataUrlScheme","COMM","CommunicationDataObjectSchema","CONNECTION","ConnectionDataObjectSchema","CTXT","ContextDataObjectSchema","IDENTITY","IdentityDataObjectSchema","sourceCodeClassname","sourceCode","./CatalogueDataObject","./DataObjectSchema","./HypertyDescriptor","./HypertyInterceptorDescriptor","./HypertyRuntimeDescriptor","./ProtocolStubDescriptor","./SourcePackage","116","HypertyDataObjectSchema","MessageDataObjectSchema","_CatalogueDataObject3","_DataObjectSchema2","dataUrlScheme","_this3","_accessControlPolicy","_scheme","_HypertyDataObjectSch","_HypertyDataObjectSch2","_HypertyDataObjectSch3","_HypertyDataObjectSch4","117","HypertyResourceType","HypertyType","RuntimeHypertyCapabilityType","HypertyDescriptor","catalogueType","dataObjectUrls","_configuration","_constraints","_policies","_messageSchema","_hypertyType","_dataObjects","hType","messageSchema","COMMUNICATOR","CONTEXT","chat","audio","video","av","screen","file","midi","118","PolicyEnforcerDescriptor","119","RuntimeType","RuntimeProtocolCapability","RuntimeHypertyCapability","_stringify2","HypertyRuntimeDescriptor","_runtimeType","_hypertyCapabilities","_protocolCapabilities","_p2pHandlerStub","_p2pRequesterStub","isWebRTCSupported","isMicSupported","isCameraSupported","isSensorSupported","isORTCSupported","_isWebRTC","_isMic","_isCamera","_isSensor","_isORTC","isHttp","isHttps","isWS","isWSS","isCoap","isDataChannel","_isHttp","_isHttps","_isWS","_isWSS","_isCoap","_isDataChannel","BROWSER","STANDALONE","SERVER","GATEWAY","babel-runtime/core-js/json/stringify","120","ProtocolStubDescriptor","_messageSchemas","_interworking","_idpProxy","_mutualAuthentication","121","SourcePackage","_sourceCode","_sourceCodeClassname","_encoding","encoding","sign","122","RethinkObject","_tv","_tv2","parse","forEach","warn","log","123","_slicedToArray2","_slicedToArray3","_promise","_promise2","_CatalogueDataObjectFactory","_CatalogueDataObjectFactory2","runtimeFactory","_factory","httpRequest","createHttpRequest","atob","storageManager","descriptorURL","createFunc","getFull","isSavedDescriptor","isCompleteDescriptor","descriptorPromise","_ref","_ref2","cguid","getVersion","dbVersion","errorString","returnPromise","attachRawSourcePackage","_this2","hypertyURL","getDescriptor","createHyperty","stubURL","createStub","runtimeURL","createRuntimeDescriptor","dataSchemaURL","createDataSchema","idpProxyURL","createIdpProxy","rawHyperty","hyperty","createHypertyDescriptorObject","createSourcePackage","rawStub","stub","createProtoStubDescriptorObject","rawRuntime","runtime","createHypertyRuntimeDescriptorObject","rawSchema","dataSchema","createHypertyDataObjectSchema","createMessageDataObjectSchema","rawProxy","idpproxy","sp","_this4","typeURL","_this5","typeList","_runtimeURL","../catalogue-factory/CatalogueDataObjectFactory","babel-runtime/core-js/promise","babel-runtime/helpers/slicedToArray"],"mappings":"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","file":"RuntimeCatalogue.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.RuntimeCatalogue = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n},{\"core-js/library/fn/get-iterator\":17}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n},{\"core-js/library/fn/is-iterable\":18}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":19}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":20}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":21}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":22}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":23}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":24}],9:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":25}],10:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":26}],11:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":5}],13:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":4,\"../core-js/object/set-prototype-of\":7,\"../helpers/typeof\":16}],14:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":16}],15:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n},{\"../core-js/get-iterator\":1,\"../core-js/is-iterable\":2}],16:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":9,\"../core-js/symbol/iterator\":10}],17:[function(require,module,exports){\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n},{\"../modules/core.get-iterator\":98,\"../modules/es6.string.iterator\":107,\"../modules/web.dom.iterable\":111}],18:[function(require,module,exports){\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n},{\"../modules/core.is-iterable\":99,\"../modules/es6.string.iterator\":107,\"../modules/web.dom.iterable\":111}],19:[function(require,module,exports){\nvar core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":34}],20:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":34,\"../../modules/es6.object.create\":101}],21:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":34,\"../../modules/es6.object.define-property\":102}],22:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.get-prototype-of\":103}],23:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.set-prototype-of\":104}],24:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n},{\"../modules/_core\":34,\"../modules/es6.object.to-string\":105,\"../modules/es6.promise\":106,\"../modules/es6.string.iterator\":107,\"../modules/web.dom.iterable\":111}],25:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.to-string\":105,\"../../modules/es6.symbol\":108,\"../../modules/es7.symbol.async-iterator\":109,\"../../modules/es7.symbol.observable\":110}],26:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":95,\"../../modules/es6.string.iterator\":107,\"../../modules/web.dom.iterable\":111}],27:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],28:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],29:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n},{}],30:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":53}],31:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":87,\"./_to-iobject\":89,\"./_to-length\":90}],32:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./_cof\":33,\"./_wks\":96}],33:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],34:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],35:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":27}],36:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],37:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":42}],38:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":44,\"./_is-object\":53}],39:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],40:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":70,\"./_object-keys\":73,\"./_object-pie\":74}],41:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":34,\"./_ctx\":35,\"./_global\":44,\"./_hide\":46}],42:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],43:[function(require,module,exports){\nvar ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n},{\"./_an-object\":30,\"./_ctx\":35,\"./_is-array-iter\":51,\"./_iter-call\":54,\"./_to-length\":90,\"./core.get-iterator-method\":97}],44:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],45:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],46:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":37,\"./_object-dp\":65,\"./_property-desc\":76}],47:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":44}],48:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":37,\"./_dom-create\":38,\"./_fails\":42}],49:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],50:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":33}],51:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./_iterators\":59,\"./_wks\":96}],52:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":33}],53:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],54:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./_an-object\":30}],55:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":46,\"./_object-create\":64,\"./_property-desc\":76,\"./_set-to-string-tag\":81,\"./_wks\":96}],56:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":41,\"./_has\":45,\"./_hide\":46,\"./_iter-create\":55,\"./_iterators\":59,\"./_library\":61,\"./_object-gpo\":71,\"./_redefine\":78,\"./_set-to-string-tag\":81,\"./_wks\":96}],57:[function(require,module,exports){\nvar ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./_wks\":96}],58:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],59:[function(require,module,exports){\nmodule.exports = {};\n},{}],60:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":73,\"./_to-iobject\":89}],61:[function(require,module,exports){\nmodule.exports = true;\n},{}],62:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":42,\"./_has\":45,\"./_is-object\":53,\"./_object-dp\":65,\"./_uid\":93}],63:[function(require,module,exports){\nvar global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n},{\"./_cof\":33,\"./_global\":44,\"./_task\":86}],64:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":30,\"./_dom-create\":38,\"./_enum-bug-keys\":39,\"./_html\":47,\"./_object-dps\":66,\"./_shared-key\":82}],65:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":30,\"./_descriptors\":37,\"./_ie8-dom-define\":48,\"./_to-primitive\":92}],66:[function(require,module,exports){\nvar dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":30,\"./_descriptors\":37,\"./_object-dp\":65,\"./_object-keys\":73}],67:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":37,\"./_has\":45,\"./_ie8-dom-define\":48,\"./_object-pie\":74,\"./_property-desc\":76,\"./_to-iobject\":89,\"./_to-primitive\":92}],68:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":69,\"./_to-iobject\":89}],69:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":39,\"./_object-keys-internal\":72}],70:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],71:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":45,\"./_shared-key\":82,\"./_to-object\":91}],72:[function(require,module,exports){\nvar has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":31,\"./_has\":45,\"./_shared-key\":82,\"./_to-iobject\":89}],73:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":39,\"./_object-keys-internal\":72}],74:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],75:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":34,\"./_export\":41,\"./_fails\":42}],76:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],77:[function(require,module,exports){\nvar hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n},{\"./_hide\":46}],78:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":46}],79:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":30,\"./_ctx\":35,\"./_is-object\":53,\"./_object-gopd\":67}],80:[function(require,module,exports){\n'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_core\":34,\"./_descriptors\":37,\"./_global\":44,\"./_object-dp\":65,\"./_wks\":96}],81:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":45,\"./_object-dp\":65,\"./_wks\":96}],82:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":83,\"./_uid\":93}],83:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":44}],84:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./_a-function\":27,\"./_an-object\":30,\"./_wks\":96}],85:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":36,\"./_to-integer\":88}],86:[function(require,module,exports){\nvar ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./_cof\":33,\"./_ctx\":35,\"./_dom-create\":38,\"./_global\":44,\"./_html\":47,\"./_invoke\":49}],87:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":88}],88:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],89:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":36,\"./_iobject\":50}],90:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":88}],91:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":36}],92:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":53}],93:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],94:[function(require,module,exports){\nvar global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":34,\"./_global\":44,\"./_library\":61,\"./_object-dp\":65,\"./_wks-ext\":95}],95:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":96}],96:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":44,\"./_shared\":83,\"./_uid\":93}],97:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./_classof\":32,\"./_core\":34,\"./_iterators\":59,\"./_wks\":96}],98:[function(require,module,exports){\nvar anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n},{\"./_an-object\":30,\"./_core\":34,\"./core.get-iterator-method\":97}],99:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function(it){\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    || Iterators.hasOwnProperty(classof(O));\n};\n},{\"./_classof\":32,\"./_core\":34,\"./_iterators\":59,\"./_wks\":96}],100:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":28,\"./_iter-define\":56,\"./_iter-step\":58,\"./_iterators\":59,\"./_to-iobject\":89}],101:[function(require,module,exports){\nvar $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n},{\"./_export\":41,\"./_object-create\":64}],102:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":37,\"./_export\":41,\"./_object-dp\":65}],103:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":71,\"./_object-sap\":75,\"./_to-object\":91}],104:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n},{\"./_export\":41,\"./_set-proto\":79}],105:[function(require,module,exports){\n\n},{}],106:[function(require,module,exports){\n'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./_a-function\":27,\"./_an-instance\":29,\"./_classof\":32,\"./_core\":34,\"./_ctx\":35,\"./_export\":41,\"./_for-of\":43,\"./_global\":44,\"./_is-object\":53,\"./_iter-detect\":57,\"./_library\":61,\"./_microtask\":63,\"./_redefine-all\":77,\"./_set-species\":80,\"./_set-to-string-tag\":81,\"./_species-constructor\":84,\"./_task\":86,\"./_wks\":96}],107:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":56,\"./_string-at\":85}],108:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":30,\"./_descriptors\":37,\"./_enum-keys\":40,\"./_export\":41,\"./_fails\":42,\"./_global\":44,\"./_has\":45,\"./_hide\":46,\"./_is-array\":52,\"./_keyof\":60,\"./_library\":61,\"./_meta\":62,\"./_object-create\":64,\"./_object-dp\":65,\"./_object-gopd\":67,\"./_object-gopn\":69,\"./_object-gopn-ext\":68,\"./_object-gops\":70,\"./_object-keys\":73,\"./_object-pie\":74,\"./_property-desc\":76,\"./_redefine\":78,\"./_set-to-string-tag\":81,\"./_shared\":83,\"./_to-iobject\":89,\"./_to-primitive\":92,\"./_uid\":93,\"./_wks\":96,\"./_wks-define\":94,\"./_wks-ext\":95}],109:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":94}],110:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":94}],111:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":44,\"./_hide\":46,\"./_iterators\":59,\"./_wks\":96,\"./es6.array.iterator\":100}],112:[function(require,module,exports){\n/*\nAuthor: Geraint Luff and others\nYear: 2013\n\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\n\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\n*/\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof module !== 'undefined' && module.exports){\n    // CommonJS. Define export.\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.tv4 = factory();\n  }\n}(this, function () {\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\nif (!Object.keys) {\n\tObject.keys = (function () {\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n\t\t\tdontEnums = [\n\t\t\t\t'toString',\n\t\t\t\t'toLocaleString',\n\t\t\t\t'valueOf',\n\t\t\t\t'hasOwnProperty',\n\t\t\t\t'isPrototypeOf',\n\t\t\t\t'propertyIsEnumerable',\n\t\t\t\t'constructor'\n\t\t\t],\n\t\t\tdontEnumsLength = dontEnums.length;\n\n\t\treturn function (obj) {\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\n\t\t\t}\n\n\t\t\tvar result = [];\n\n\t\t\tfor (var prop in obj) {\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\n\t\t\t\t\tresult.push(prop);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasDontEnumBug) {\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\n\t\t\t\t\t\tresult.push(dontEnums[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\nif (!Object.create) {\n\tObject.create = (function(){\n\t\tfunction F(){}\n\n\t\treturn function(o){\n\t\t\tif (arguments.length !== 1) {\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\n\t\t\t}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\nif(!Array.isArray) {\n\tArray.isArray = function (vArg) {\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\n\t};\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\n\t\tif (this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\t\tvar t = Object(this);\n\t\tvar len = t.length >>> 0;\n\n\t\tif (len === 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar n = 0;\n\t\tif (arguments.length > 1) {\n\t\t\tn = Number(arguments[1]);\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\n\t\t\t\tn = 0;\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\n\t\t\t}\n\t\t}\n\t\tif (n >= len) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\t\tfor (; k < len; k++) {\n\t\t\tif (k in t && t[k] === searchElement) {\n\t\t\t\treturn k;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n}\n\n// Grungey Object.isFrozen hack\nif (!Object.isFrozen) {\n\tObject.isFrozen = function (obj) {\n\t\tvar key = \"tv4_test_frozen_key\";\n\t\twhile (obj.hasOwnProperty(key)) {\n\t\t\tkey += Math.random();\n\t\t}\n\t\ttry {\n\t\t\tobj[key] = true;\n\t\t\tdelete obj[key];\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t};\n}\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\n\nvar uriTemplateGlobalModifiers = {\n\t\"+\": true,\n\t\"#\": true,\n\t\".\": true,\n\t\"/\": true,\n\t\";\": true,\n\t\"?\": true,\n\t\"&\": true\n};\nvar uriTemplateSuffices = {\n\t\"*\": true\n};\n\nfunction notReallyPercentEncode(string) {\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\treturn \"%\" + doubleEncoded.substring(3);\n\t});\n}\n\nfunction uriTemplateSubstitution(spec) {\n\tvar modifier = \"\";\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\tmodifier = spec.charAt(0);\n\t\tspec = spec.substring(1);\n\t}\n\tvar separator = \"\";\n\tvar prefix = \"\";\n\tvar shouldEscape = true;\n\tvar showVariables = false;\n\tvar trimEmptyString = false;\n\tif (modifier === '+') {\n\t\tshouldEscape = false;\n\t} else if (modifier === \".\") {\n\t\tprefix = \".\";\n\t\tseparator = \".\";\n\t} else if (modifier === \"/\") {\n\t\tprefix = \"/\";\n\t\tseparator = \"/\";\n\t} else if (modifier === '#') {\n\t\tprefix = \"#\";\n\t\tshouldEscape = false;\n\t} else if (modifier === ';') {\n\t\tprefix = \";\";\n\t\tseparator = \";\";\n\t\tshowVariables = true;\n\t\ttrimEmptyString = true;\n\t} else if (modifier === '?') {\n\t\tprefix = \"?\";\n\t\tseparator = \"&\";\n\t\tshowVariables = true;\n\t} else if (modifier === '&') {\n\t\tprefix = \"&\";\n\t\tseparator = \"&\";\n\t\tshowVariables = true;\n\t}\n\n\tvar varNames = [];\n\tvar varList = spec.split(\",\");\n\tvar varSpecs = [];\n\tvar varSpecMap = {};\n\tfor (var i = 0; i < varList.length; i++) {\n\t\tvar varName = varList[i];\n\t\tvar truncate = null;\n\t\tif (varName.indexOf(\":\") !== -1) {\n\t\t\tvar parts = varName.split(\":\");\n\t\t\tvarName = parts[0];\n\t\t\ttruncate = parseInt(parts[1], 10);\n\t\t}\n\t\tvar suffices = {};\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t}\n\t\tvar varSpec = {\n\t\t\ttruncate: truncate,\n\t\t\tname: varName,\n\t\t\tsuffices: suffices\n\t\t};\n\t\tvarSpecs.push(varSpec);\n\t\tvarSpecMap[varName] = varSpec;\n\t\tvarNames.push(varName);\n\t}\n\tvar subFunction = function (valueFunction) {\n\t\tvar result = \"\";\n\t\tvar startIndex = 0;\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\tvar varSpec = varSpecs[i];\n\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\n\t\t\t\tstartIndex++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (i === startIndex) {\n\t\t\t\tresult += prefix;\n\t\t\t} else {\n\t\t\t\tresult += (separator || \",\");\n\t\t\t}\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\n\t\t\t\t}\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\n\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t}\n\t\t\t\tvar first = true;\n\t\t\t\tfor (var key in value) {\n\t\t\t\t\tif (!first) {\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t}\n\t\t\t\t\tfirst = false;\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\n\t\t\t\t\t\tresult += \"=\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t}\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tsubFunction.varNames = varNames;\n\treturn {\n\t\tprefix: prefix,\n\t\tsubstitution: subFunction\n\t};\n}\n\nfunction UriTemplate(template) {\n\tif (!(this instanceof UriTemplate)) {\n\t\treturn new UriTemplate(template);\n\t}\n\tvar parts = template.split(\"{\");\n\tvar textParts = [parts.shift()];\n\tvar prefixes = [];\n\tvar substitutions = [];\n\tvar varNames = [];\n\twhile (parts.length > 0) {\n\t\tvar part = parts.shift();\n\t\tvar spec = part.split(\"}\")[0];\n\t\tvar remainder = part.substring(spec.length + 1);\n\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\tsubstitutions.push(funcs.substitution);\n\t\tprefixes.push(funcs.prefix);\n\t\ttextParts.push(remainder);\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\n\t}\n\tthis.fill = function (valueFunction) {\n\t\tvar result = textParts[0];\n\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\tvar substitution = substitutions[i];\n\t\t\tresult += substitution(valueFunction);\n\t\t\tresult += textParts[i + 1];\n\t\t}\n\t\treturn result;\n\t};\n\tthis.varNames = varNames;\n\tthis.template = template;\n}\nUriTemplate.prototype = {\n\ttoString: function () {\n\t\treturn this.template;\n\t},\n\tfillFromObject: function (obj) {\n\t\treturn this.fill(function (varName) {\n\t\t\treturn obj[varName];\n\t\t});\n\t}\n};\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\n\tthis.collectMultiple = collectMultiple;\n\tthis.errors = [];\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\n\tif (checkRecursive) {\n\t\tthis.checkRecursive = true;\n\t\tthis.scanned = [];\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t\tthis.scannedFrozenValidationErrors = [];\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\n\t}\n\tif (trackUnknownProperties) {\n\t\tthis.trackUnknownProperties = true;\n\t\tthis.knownPropertyPaths = {};\n\t\tthis.unknownPropertyPaths = {};\n\t}\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\n\tif (typeof this.errorReporter === 'string') {\n\t\tthrow new Error('debug');\n\t}\n\tthis.definedKeywords = {};\n\tif (parent) {\n\t\tfor (var key in parent.definedKeywords) {\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\n\t\t}\n\t}\n};\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\n\tthis.definedKeywords[keyword].push(keywordFunction);\n};\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\n\terror.message = this.errorReporter(error, data, schema);\n\treturn error;\n};\nValidatorContext.prototype.returnError = function (error) {\n\treturn error;\n};\nValidatorContext.prototype.collectError = function (error) {\n\tif (error) {\n\t\tthis.errors.push(error);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\n\tfor (var i = startIndex; i < this.errors.length; i++) {\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\n\t}\n\treturn this;\n};\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\n\tfor (var unknownPath in this.unknownPropertyPaths) {\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\n\t\tvar result = this.handleError(error);\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.addFormat = function (format, validator) {\n\tif (typeof format === 'object') {\n\t\tfor (var key in format) {\n\t\t\tthis.addFormat(key, format[key]);\n\t\t}\n\t\treturn this;\n\t}\n\tthis.formatValidators[format] = validator;\n};\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\n\tif (schema['$ref'] !== undefined) {\n\t\turlHistory = urlHistory || {};\n\t\tif (urlHistory[schema['$ref']]) {\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\n\t\t}\n\t\turlHistory[schema['$ref']] = true;\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\n\t}\n\treturn schema;\n};\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\n\tvar schema;\n\tif (this.schemas[url] !== undefined) {\n\t\tschema = this.schemas[url];\n\t\treturn this.resolveRefs(schema, urlHistory);\n\t}\n\tvar baseUrl = url;\n\tvar fragment = \"\";\n\tif (url.indexOf('#') !== -1) {\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\n\t}\n\tif (typeof this.schemas[baseUrl] === 'object') {\n\t\tschema = this.schemas[baseUrl];\n\t\tvar pointerPath = decodeURIComponent(fragment);\n\t\tif (pointerPath === \"\") {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\n\t\t\treturn undefined;\n\t\t}\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\n\t\tfor (var i = 0; i < parts.length; i++) {\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n\t\t\tif (schema[component] === undefined) {\n\t\t\t\tschema = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tschema = schema[component];\n\t\t}\n\t\tif (schema !== undefined) {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t}\n\t}\n\tif (this.missing[baseUrl] === undefined) {\n\t\tthis.missing.push(baseUrl);\n\t\tthis.missing[baseUrl] = baseUrl;\n\t\tthis.missingMap[baseUrl] = baseUrl;\n\t}\n};\nValidatorContext.prototype.searchSchemas = function (schema, url) {\n\tif (Array.isArray(schema)) {\n\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\tthis.searchSchemas(schema[i], url);\n\t\t}\n\t} else if (schema && typeof schema === \"object\") {\n\t\tif (typeof schema.id === \"string\") {\n\t\t\tif (isTrustedUrl(url, schema.id)) {\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\n\t\t\t\t\tthis.schemas[schema.id] = schema;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var key in schema) {\n\t\t\tif (key !== \"enum\") {\n\t\t\t\tif (typeof schema[key] === \"object\") {\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\n\t\t\t\t} else if (key === \"$ref\") {\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\nValidatorContext.prototype.addSchema = function (url, schema) {\n\t//overload\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\n\t\t\tschema = url;\n\t\t\turl = schema.id;\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (url === getDocumentUri(url) + \"#\") {\n\t\t// Remove empty fragment\n\t\turl = getDocumentUri(url);\n\t}\n\tthis.schemas[url] = schema;\n\tdelete this.missingMap[url];\n\tnormSchema(schema, url);\n\tthis.searchSchemas(schema, url);\n};\n\nValidatorContext.prototype.getSchemaMap = function () {\n\tvar map = {};\n\tfor (var key in this.schemas) {\n\t\tmap[key] = this.schemas[key];\n\t}\n\treturn map;\n};\n\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.schemas) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.missingMap) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.dropSchemas = function () {\n\tthis.schemas = {};\n\tthis.reset();\n};\nValidatorContext.prototype.reset = function () {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.errors = [];\n};\n\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\n\tvar topLevel;\n\tschema = this.resolveRefs(schema);\n\tif (!schema) {\n\t\treturn null;\n\t} else if (schema instanceof ValidationError) {\n\t\tthis.errors.push(schema);\n\t\treturn schema;\n\t}\n\n\tvar startErrorCount = this.errors.length;\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\n\tif (this.checkRecursive && data && typeof data === 'object') {\n\t\ttopLevel = !this.scanned.length;\n\t\tif (data[this.validatedSchemasKey]) {\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\n\t\t\tif (schemaIndex !== -1) {\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif (Object.isFrozen(data)) {\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\n\t\t\tif (frozenIndex !== -1) {\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\n\t\t\t\tif (frozenSchemaIndex !== -1) {\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.scanned.push(data);\n\t\tif (Object.isFrozen(data)) {\n\t\t\tif (frozenIndex === -1) {\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\n\t\t\t\tthis.scannedFrozen.push(data);\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\n\t\t\t}\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\n\t\t} else {\n\t\t\tif (!data[this.validatedSchemasKey]) {\n\t\t\t\ttry {\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//IE 7/8 workaround\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\n\t\t}\n\t}\n\n\tvar errorCount = this.errors.length;\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\n\t\t|| this.validateString(data, schema, dataPointerPath)\n\t\t|| this.validateArray(data, schema, dataPointerPath)\n\t\t|| this.validateObject(data, schema, dataPointerPath)\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\n\t\t|| null;\n\n\tif (topLevel) {\n\t\twhile (this.scanned.length) {\n\t\t\tvar item = this.scanned.pop();\n\t\t\tdelete item[this.validatedSchemasKey];\n\t\t}\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t}\n\n\tif (error || errorCount !== this.errors.length) {\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\n\t\t\tif (error) {\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\n\t\t\t}\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\n\t\t}\n\t}\n\n\tif (scannedFrozenSchemaIndex !== null) {\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\n\t} else if (scannedSchemasIndex !== null) {\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\n\t}\n\n\treturn this.handleError(error);\n};\nValidatorContext.prototype.validateFormat = function (data, schema) {\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\n\t\treturn null;\n\t}\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\n\t} else if (errorMessage && typeof errorMessage === 'object') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\n\tfor (var key in this.definedKeywords) {\n\t\tif (typeof schema[key] === 'undefined') {\n\t\t\tcontinue;\n\t\t}\n\t\tvar validationFunctions = this.definedKeywords[key];\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\n\t\t\tvar func = validationFunctions[i];\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\n\t\t\t} else if (result && typeof result === 'object') {\n\t\t\t\tvar code = result.code;\n\t\t\t\tif (typeof code === 'string') {\n\t\t\t\t\tif (!ErrorCodes[code]) {\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\n\t\t\t\t\t}\n\t\t\t\t\tcode = ErrorCodes[code];\n\t\t\t\t} else if (typeof code !== 'number') {\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\n\t\t\t\t}\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nfunction recursiveCompare(A, B) {\n\tif (A === B) {\n\t\treturn true;\n\t}\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\n\t\t\treturn false;\n\t\t} else if (Array.isArray(A)) {\n\t\t\tif (A.length !== B.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < A.length; i++) {\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar key;\n\t\t\tfor (key in A) {\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in B) {\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in A) {\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\n\tvar error;\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, \"type\");\n\t}\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, \"type\");\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateType = function validateType(data, schema) {\n\tif (schema.type === undefined) {\n\t\treturn null;\n\t}\n\tvar dataType = typeof data;\n\tif (data === null) {\n\t\tdataType = \"null\";\n\t} else if (Array.isArray(data)) {\n\t\tdataType = \"array\";\n\t}\n\tvar allowedTypes = schema.type;\n\tif (!Array.isArray(allowedTypes)) {\n\t\tallowedTypes = [allowedTypes];\n\t}\n\n\tfor (var i = 0; i < allowedTypes.length; i++) {\n\t\tvar type = allowedTypes[i];\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\n};\n\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\n\tif (schema[\"enum\"] === undefined) {\n\t\treturn null;\n\t}\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\n\t\tvar enumVal = schema[\"enum\"][i];\n\t\tif (recursiveCompare(data, enumVal)) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\n};\n\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\n\tif (multipleOf === undefined) {\n\t\treturn null;\n\t}\n\tif (typeof data === \"number\") {\n\t\tvar remainder = (data/multipleOf)%1;\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\n\tif (typeof data !== \"number\") {\n\t\treturn null;\n\t}\n\tif (schema.minimum !== undefined) {\n\t\tif (data < schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maximum !== undefined) {\n\t\tif (data > schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\n\tif (typeof data !== \"number\") {\n\t\treturn null;\n\t}\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\n\treturn this.validateStringLength(data, schema, dataPointerPath)\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\n\tif (typeof data !== \"string\") {\n\t\treturn null;\n\t}\n\tif (schema.minLength !== undefined) {\n\t\tif (data.length < schema.minLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maxLength !== undefined) {\n\t\tif (data.length > schema.maxLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\n\t\treturn null;\n\t}\n\tvar regexp;\n\tif (schema.pattern instanceof RegExp) {\n\t  regexp = schema.pattern;\n\t}\n\telse {\n\t  var body, flags = '';\n\t  // Check for regular expression literals\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\n\t  if (literal) {\n\t    body = literal[1];\n\t    flags = literal[2];\n\t  }\n\t  else {\n\t    body = schema.pattern;\n\t  }\n\t  regexp = new RegExp(body, flags);\n\t}\n\tif (!regexp.test(data)) {\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\n\tif (!Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\n\tvar error;\n\tif (schema.minItems !== undefined) {\n\t\tif (data.length < schema.minItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxItems !== undefined) {\n\t\tif (data.length > schema.maxItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\n\tif (schema.uniqueItems) {\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\n\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\n\tif (schema.items === undefined) {\n\t\treturn null;\n\t}\n\tvar error, i;\n\tif (Array.isArray(schema.items)) {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (i < schema.items.length) {\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t} else if (schema.additionalItems !== undefined) {\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\n\t\t\t\t\tif (!schema.additionalItems) {\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\n\tvar keys = Object.keys(data);\n\tvar error;\n\tif (schema.minProperties !== undefined) {\n\t\tif (keys.length < schema.minProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxProperties !== undefined) {\n\t\tif (keys.length > schema.maxProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\n\tif (schema.required !== undefined) {\n\t\tfor (var i = 0; i < schema.required.length; i++) {\n\t\t\tvar key = schema.required[i];\n\t\t\tif (data[key] === undefined) {\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\n\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\n\tvar error;\n\tfor (var key in data) {\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\n\t\tvar foundMatch = false;\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\n\t\t\tfoundMatch = true;\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t\tif (schema.patternProperties !== undefined) {\n\t\t\tfor (var patternKey in schema.patternProperties) {\n\t\t\t\tvar regexp = new RegExp(patternKey);\n\t\t\t\tif (regexp.test(key)) {\n\t\t\t\t\tfoundMatch = true;\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!foundMatch) {\n\t\t\tif (schema.additionalProperties !== undefined) {\n\t\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t\t\t}\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\n\t\t\t\t\tif (!schema.additionalProperties) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\n\t\t\t}\n\t\t} else if (this.trackUnknownProperties) {\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\n\tvar error;\n\tif (schema.dependencies !== undefined) {\n\t\tfor (var depKey in schema.dependencies) {\n\t\t\tif (data[depKey] !== undefined) {\n\t\t\t\tvar dep = schema.dependencies[depKey];\n\t\t\t\tif (typeof dep === \"string\") {\n\t\t\t\t\tif (data[dep] === undefined) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (Array.isArray(dep)) {\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\t\tvar requiredKey = dep[i];\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n\t\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\n\treturn this.validateAllOf(data, schema, dataPointerPath)\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\n\t\t|| this.validateNot(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\n\tif (schema.allOf === undefined) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.allOf.length; i++) {\n\t\tvar subSchema = schema.allOf[i];\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\n\t\t\treturn error;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\n\tif (schema.anyOf === undefined) {\n\t\treturn null;\n\t}\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tvar errorAtEnd = true;\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.anyOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\n\t\t\t\terrorAtEnd = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t\tif (error) {\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (errorAtEnd) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\n\t}\n};\n\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\n\tif (schema.oneOf === undefined) {\n\t\treturn null;\n\t}\n\tvar validIndex = null;\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.oneOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tif (validIndex === null) {\n\t\t\t\tvalidIndex = i;\n\t\t\t} else {\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\n\t\t\t}\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (error) {\n\t\t\terrors.push(error);\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (validIndex === null) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\n\t} else {\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\n\tif (schema.not === undefined) {\n\t\treturn null;\n\t}\n\tvar oldErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t\tthis.unknownPropertyPaths = {};\n\t\tthis.knownPropertyPaths = {};\n\t}\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\n\tvar notErrors = this.errors.slice(oldErrorCount);\n\tthis.errors = this.errors.slice(0, oldErrorCount);\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (error === null && notErrors.length === 0) {\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\n\tif (!schema.links) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.links.length; i++) {\n\t\tvar ldo = schema.links[i];\n\t\tif (ldo.rel === \"describedby\") {\n\t\t\tvar template = new UriTemplate(ldo.href);\n\t\t\tvar allPresent = true;\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\n\t\t\t\tif (!(template.varNames[j] in data)) {\n\t\t\t\t\tallPresent = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (allPresent) {\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\n\nfunction parseURI(url) {\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\n\treturn (m ? {\n\t\thref     : m[0] || '',\n\t\tprotocol : m[1] || '',\n\t\tauthority: m[2] || '',\n\t\thost     : m[3] || '',\n\t\thostname : m[4] || '',\n\t\tport     : m[5] || '',\n\t\tpathname : m[6] || '',\n\t\tsearch   : m[7] || '',\n\t\thash     : m[8] || ''\n\t} : null);\n}\n\nfunction resolveUrl(base, href) {// RFC 3986\n\n\tfunction removeDotSegments(input) {\n\t\tvar output = [];\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\n\t\t\t\tif (p === '/..') {\n\t\t\t\t\toutput.pop();\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(p);\n\t\t\t\t}\n\t\t});\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\n\t}\n\n\thref = parseURI(href || '');\n\tbase = parseURI(base || '');\n\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\n\t\thref.hash;\n}\n\nfunction getDocumentUri(uri) {\n\treturn uri.split('#')[0];\n}\nfunction normSchema(schema, baseUri) {\n\tif (schema && typeof schema === \"object\") {\n\t\tif (baseUri === undefined) {\n\t\t\tbaseUri = schema.id;\n\t\t} else if (typeof schema.id === \"string\") {\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\n\t\t\tschema.id = baseUri;\n\t\t}\n\t\tif (Array.isArray(schema)) {\n\t\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\t\tnormSchema(schema[i], baseUri);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof schema['$ref'] === \"string\") {\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\n\t\t\t}\n\t\t\tfor (var key in schema) {\n\t\t\t\tif (key !== \"enum\") {\n\t\t\t\t\tnormSchema(schema[key], baseUri);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction defaultErrorReporter(language) {\n\tlanguage = language || 'en';\n\n\tvar errorMessages = languages[language];\n\n\treturn function (error) {\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\n\t\tif (typeof messageTemplate !== 'string') {\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\n\t\t}\n\t\tvar messageParams = error.params;\n\t\t// Adapted from Crockford's supplant()\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\n\t\t\tvar subValue = messageParams[varName];\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\n\t\t});\n\t};\n}\n\nvar ErrorCodes = {\n\tINVALID_TYPE: 0,\n\tENUM_MISMATCH: 1,\n\tANY_OF_MISSING: 10,\n\tONE_OF_MISSING: 11,\n\tONE_OF_MULTIPLE: 12,\n\tNOT_PASSED: 13,\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: 100,\n\tNUMBER_MINIMUM: 101,\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\n\tNUMBER_MAXIMUM: 103,\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\n\tNUMBER_NOT_A_NUMBER: 105,\n\t// String errors\n\tSTRING_LENGTH_SHORT: 200,\n\tSTRING_LENGTH_LONG: 201,\n\tSTRING_PATTERN: 202,\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: 300,\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\n\tOBJECT_REQUIRED: 302,\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\n\tOBJECT_DEPENDENCY_KEY: 304,\n\t// Array errors\n\tARRAY_LENGTH_SHORT: 400,\n\tARRAY_LENGTH_LONG: 401,\n\tARRAY_UNIQUE: 402,\n\tARRAY_ADDITIONAL_ITEMS: 403,\n\t// Custom/user-defined errors\n\tFORMAT_CUSTOM: 500,\n\tKEYWORD_CUSTOM: 501,\n\t// Schema structure\n\tCIRCULAR_REFERENCE: 600,\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: 1000\n};\nvar ErrorCodeLookup = {};\nfor (var key in ErrorCodes) {\n\tErrorCodeLookup[ErrorCodes[key]] = key;\n}\nvar ErrorMessagesDefault = {\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\n\tENUM_MISMATCH: \"No enum match for: {value}\",\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\n\t// String errors\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\n\t// Array errors\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\n\t// Format errors\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\n\t// Schema structure\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\n};\n\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\n\tError.call(this);\n\tif (code === undefined) {\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\n\t}\n\tthis.message = '';\n\tthis.params = params;\n\tthis.code = code;\n\tthis.dataPath = dataPath || \"\";\n\tthis.schemaPath = schemaPath || \"\";\n\tthis.subErrors = subErrors || null;\n\n\tvar err = new Error(this.message);\n\tthis.stack = err.stack || err.stacktrace;\n\tif (!this.stack) {\n\t\ttry {\n\t\t\tthrow err;\n\t\t}\n\t\tcatch(err) {\n\t\t\tthis.stack = err.stack || err.stacktrace;\n\t\t}\n\t}\n}\nValidationError.prototype = Object.create(Error.prototype);\nValidationError.prototype.constructor = ValidationError;\nValidationError.prototype.name = 'ValidationError';\n\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\n\tif (dataPrefix !== null) {\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\n\t}\n\tif (schemaPrefix !== null) {\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\n\t}\n\tif (this.subErrors !== null) {\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\n\t\t}\n\t}\n\treturn this;\n};\n\nfunction isTrustedUrl(baseUrl, testUrl) {\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\n\t\tvar remainder = testUrl.substring(baseUrl.length);\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\n\t\t\t|| remainder.charAt(0) === \"#\"\n\t\t\t|| remainder.charAt(0) === \"?\") {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvar languages = {};\nfunction createApi(language) {\n\tvar globalContext = new ValidatorContext();\n\tvar currentLanguage;\n\tvar customErrorReporter;\n\tvar api = {\n\t\tsetErrorReporter: function (reporter) {\n\t\t\tif (typeof reporter === 'string') {\n\t\t\t\treturn this.language(reporter);\n\t\t\t}\n\t\t\tcustomErrorReporter = reporter;\n\t\t\treturn true;\n\t\t},\n\t\taddFormat: function () {\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\n\t\t},\n\t\tlanguage: function (code) {\n\t\t\tif (!code) {\n\t\t\t\treturn currentLanguage;\n\t\t\t}\n\t\t\tif (!languages[code]) {\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\n\t\t\t}\n\t\t\tif (languages[code]) {\n\t\t\t\tcurrentLanguage = code;\n\t\t\t\treturn code; // so you can tell if fall-back has happened\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\taddLanguage: function (code, messageMap) {\n\t\t\tvar key;\n\t\t\tfor (key in ErrorCodes) {\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar rootCode = code.split('-')[0];\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\n\t\t\t\tlanguages[code] = messageMap;\n\t\t\t\tlanguages[rootCode] = messageMap;\n\t\t\t} else {\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\n\t\t\t\tfor (key in messageMap) {\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\n\t\t\t\t\t}\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tfreshApi: function (language) {\n\t\t\tvar result = createApi();\n\t\t\tif (language) {\n\t\t\t\tresult.language(language);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === \"string\") {\n\t\t\t\tschema = {\"$ref\": schema};\n\t\t\t}\n\t\t\tcontext.addSchema(\"\", schema);\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\n\t\t\tif (!error && banUnknownProperties) {\n\t\t\t\terror = context.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tthis.error = error;\n\t\t\tthis.missing = context.missing;\n\t\t\tthis.valid = (error === null);\n\t\t\treturn this.valid;\n\t\t},\n\t\tvalidateResult: function () {\n\t\t\tvar result = {};\n\t\t\tthis.validate.apply(result, arguments);\n\t\t\treturn result;\n\t\t},\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === \"string\") {\n\t\t\t\tschema = {\"$ref\": schema};\n\t\t\t}\n\t\t\tcontext.addSchema(\"\", schema);\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\n\t\t\tif (banUnknownProperties) {\n\t\t\t\tcontext.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tvar result = {};\n\t\t\tresult.errors = context.errors;\n\t\t\tresult.missing = context.missing;\n\t\t\tresult.valid = (result.errors.length === 0);\n\t\t\treturn result;\n\t\t},\n\t\taddSchema: function () {\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchema: function () {\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaMap: function () {\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaUris: function () {\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\n\t\t},\n\t\tgetMissingUris: function () {\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\n\t\t},\n\t\tdropSchemas: function () {\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\n\t\t},\n\t\tdefineKeyword: function () {\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\n\t\t},\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\n\t\t\t}\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\n\t\t\t}\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\n\t\t\t}\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\n\t\t\t}\n\t\t\tErrorCodes[codeName] = codeNumber;\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\n\t\t\tfor (var langCode in languages) {\n\t\t\t\tvar language = languages[langCode];\n\t\t\t\tif (language[codeName]) {\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\treset: function () {\n\t\t\tglobalContext.reset();\n\t\t\tthis.error = null;\n\t\t\tthis.missing = [];\n\t\t\tthis.valid = true;\n\t\t},\n\t\tmissing: [],\n\t\terror: null,\n\t\tvalid: true,\n\t\tnormSchema: normSchema,\n\t\tresolveUrl: resolveUrl,\n\t\tgetDocumentUri: getDocumentUri,\n\t\terrorCodes: ErrorCodes\n\t};\n\tapi.language(language || 'en');\n\treturn api;\n}\n\nvar tv4 = createApi();\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\n\n//legacy property\ntv4.tv4 = tv4;\n\nreturn tv4; // used by _header.js to globalise.\n\n}));\n},{}],113:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.RuntimeCatalogue=undefined;var _RuntimeCatalogue=require('./runtime-catalogue/RuntimeCatalogue');var _RuntimeCatalogue2=_interopRequireDefault(_RuntimeCatalogue);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.RuntimeCatalogue=_RuntimeCatalogue2.default;\n\n},{\"./runtime-catalogue/RuntimeCatalogue\":123}],114:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.DataObjectSourceLanguage=exports.CatalogueObjectType=undefined;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _RethinkObject2=require('../reTHINKObject/RethinkObject');var _RethinkObject3=_interopRequireDefault(_RethinkObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * @author alice.cheambe[at]fokus.fraunhofer.de\n * The CatalogueDataObject class is the representation of the reTHINK Catalogue Data Model\n */var CatalogueDataObject=function(_RethinkObject){(0,_inherits3.default)(CatalogueDataObject,_RethinkObject);/**\n     * Creates the Catalogue Data Object\n     * @param guid - Global Unique identifier of the Catalogue Object (e.g. Hyperty descriptor, ProtocolStub descriptor,\n     * etc) enabling the same object to be stored and discovered in different Catalogues. That means, guid corresponds to\n     * [resource-type-id] per BNF of Resource Path. Couldn't we have problems with too long URL paths?\n     * @param type - indicates the type of Catalogue Data Object e.g. Hyperty, ProtocolStub, etc\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param objectName - human-understandable name of the catalogue object e.g. \"My Awesome Hyperty\"\n     * @param description - description of the source package\n     * @param language - the programming language used in the SourcePackage.SourceCode\n     * @param sourcePackageURL - A string containing the URL from where the source code package of the corresponding\n     * catalogue object, e.g. deployable packages containing executable code for Hyperties or ProtoStubs, can be downloaded\n     */function CatalogueDataObject(guid,type,version,objectName,description,language,sourcePackageURL){(0,_classCallCheck3.default)(this,CatalogueDataObject);var _this=(0,_possibleConstructorReturn3.default)(this,(CatalogueDataObject.__proto__||(0,_getPrototypeOf2.default)(CatalogueDataObject)).call(this));_this._guid=guid;_this._type=type;_this._version=version;_this._objectName=objectName;_this._description=description;_this._language=language;_this._sourcePackageURL=sourcePackageURL;_this._signature=null;_this._sourcePackage=null;return _this;}// Getters\n(0,_createClass3.default)(CatalogueDataObject,[{key:'guid',get:function get(){return this._guid;},set:function set(guid){if(guid)this._guid=guid;}},{key:'type',get:function get(){return this._type;},set:function set(type){if(type)this._type=type;}},{key:'version',get:function get(){return this._version;},set:function set(version){if(version){this._version=version;}}},{key:'objectName',get:function get(){return this._objectName;},set:function set(objectName){if(objectName)this._objectName=objectName;}},{key:'description',get:function get(){return this._description;},set:function set(description){if(description)this._description=description;}},{key:'language',get:function get(){return this._language;},set:function set(language){if(language)this._language=language;}},{key:'signature',get:function get(){return this._signature;},// Setters\n/**\n     * Set the signature to enables integrity and authenticity verification\n     * @param signature\n     */set:function set(signature){if(signature)this._signature=signature;}},{key:'sourcePackage',get:function get(){return this._sourcePackage;},set:function set(sourcePackage){if(sourcePackage)this._sourcePackage=sourcePackage;}},{key:'sourcePackageURL',get:function get(){return this._sourcePackageURL;},set:function set(sourcePackageURL){if(sourcePackageURL)this._sourcePackageURL=sourcePackageURL;}}]);return CatalogueDataObject;}(_RethinkObject3.default);//Alice: removed POLICY_ENFORCER: 'policy_enforcer', DATA_SCHEMA: 'data_schema' from the list\n//wrt: https://github.com/reTHINK-project/dev-service-framework/blob/develop/docs/datamodel/core/hyperty-catalogue/readme.md#data-object-schema\n/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/var CatalogueObjectType=exports.CatalogueObjectType={HYPERTY:'hyperty',PROTOSTUB:'protostub',HYPERTY_RUNTIME:'hyperty_runtime',HYPERTY_INTERCEPTOR:'hyperty_inspector',HYPERTY_DATA_OBJECT:'hyperty_data_object'};var DataObjectSourceLanguage=exports.DataObjectSourceLanguage={JAVASCRIPT_ECMA6:'javascript_ecma6',JAVASCRIPT_ECMA5:'javascript_ecma5',JSON_SCHEMA_V4:'json_schema_v4',PYTHON:'python',TYPESCRIPT:'typescript'};exports.default=CatalogueDataObject;\n\n},{\"../reTHINKObject/RethinkObject\":122,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/inherits\":13,\"babel-runtime/helpers/possibleConstructorReturn\":14}],115:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);var _CatalogueDataObject=require(\"./CatalogueDataObject\");var _CatalogueDataObject2=_interopRequireDefault(_CatalogueDataObject);var _SourcePackage=require(\"./SourcePackage\");var _SourcePackage2=_interopRequireDefault(_SourcePackage);var _HypertyDescriptor=require(\"./HypertyDescriptor\");var _HypertyDescriptor2=_interopRequireDefault(_HypertyDescriptor);var _ProtocolStubDescriptor=require(\"./ProtocolStubDescriptor\");var _ProtocolStubDescriptor2=_interopRequireDefault(_ProtocolStubDescriptor);var _HypertyRuntimeDescriptor=require(\"./HypertyRuntimeDescriptor\");var _HypertyRuntimeDescriptor2=_interopRequireDefault(_HypertyRuntimeDescriptor);var _HypertyInterceptorDescriptor=require(\"./HypertyInterceptorDescriptor\");var _HypertyInterceptorDescriptor2=_interopRequireDefault(_HypertyInterceptorDescriptor);var _DataObjectSchema=require(\"./DataObjectSchema\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var CatalogueDataObjectFactory=function(){function CatalogueDataObjectFactory(){(0,_classCallCheck3.default)(this,CatalogueDataObjectFactory);}(0,_createClass3.default)(CatalogueDataObjectFactory,[{key:\"createCatalogueDataObject\",/**\n     * Create CatalogueDataObject\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {CatalogueObjectType} type - Indicates the type of Catalogue Data Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @returns {CatalogueDataObject}\n     */value:function createCatalogueDataObject(guid,type,version,objectName,description,language,sourcePackageURL){if(typeof guid===\"undefined\"||typeof type===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _CatalogueDataObject2.default(guid,type,version,objectName,description,language,sourcePackageURL);}/**\n     * Create HypertyDescriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object\n     * can be downloaded.\n     * @param {HypertyResourceType[]} hypertyType - An array of HypertyResourceType that identifies what type of hyperty\n     * resources are handled by the object.\n     * @param {URL.URLList} dataObjects - Defines the Data Object Schemas supported by the Hyperty through a list of Catalogue URLs from where these schemas can be reached.\n     * @returns {HypertyDescriptor}\n     */},{key:\"createHypertyDescriptorObject\",value:function createHypertyDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,hypertyType,dataObjects){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof hypertyType===\"undefined\"||typeof dataObjects===\"undefined\")throw new Error(\"Invalid parameters!\");return new _HypertyDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY,version,objectName,description,language,sourcePackageURL,hypertyType,dataObjects);}/**\n     * Create ProtocolStubDescriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param {URL.URL} messageSchemas - Defines the Schema describing the Message Data Model used by the Hyperty through the Catalogue URL from where the Message schema can be reached. If not defined, by default it is assumed the standard Message Model is used.\n     * @param configuration - Data required to configure the ProtocolStub\n     * @param constraints - Describes capabilities required from the Hyperty Runtime in order to be able to execute the ProtocolStub\n     * @param hypertyType\n     * @param dataObjects\n     * @param interworking\n     * @param idpProxy\n     * @param mutualAuthentication\n     * @returns {ProtocolStubDescriptor}\n     */},{key:\"createProtoStubDescriptorObject\",value:function createProtoStubDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,messageSchemas,configuration,constraints,hypertyType,dataObjects,interworking,idpProxy,mutualAuthentication){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof messageSchemas===\"undefined\"||typeof configuration===\"undefined\"||typeof constraints===\"undefined\")throw new Error(\"Invalid parameters!\");return new _ProtocolStubDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.PROTOSTUB,version,objectName,description,language,sourcePackageURL,messageSchemas,configuration,constraints,hypertyType,dataObjects,interworking,idpProxy,mutualAuthentication);}/**\n     * Create HypertyRuntimeDescriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param {RuntimeType}runtimeType\n     * @param {RuntimeHypertyCapabilities} hypertyCapabilities - Supported capabilities to execute Hyperties\n     * @param {RuntimeProtocolCapabilities} protocolCapabilities - Supported capabilities to execute Protocol Stubs\n     * @param p2pHandlerStub\n     * @param p2pRequesterStub\n     * @returns {HypertyRuntimeDescriptor} the data object of the Hyperty Runtime Descriptor\n     */},{key:\"createHypertyRuntimeDescriptorObject\",value:function createHypertyRuntimeDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,runtimeType,hypertyCapabilities,protocolCapabilities,p2pHandlerStub,p2pRequesterStub){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof runtimeType===\"undefined\")throw new Error(\"Invalid parameters!\");return new _HypertyRuntimeDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_RUNTIME,version,objectName,description,language,sourcePackageURL,runtimeType,hypertyCapabilities,protocolCapabilities,p2pHandlerStub,p2pRequesterStub);}/**\n     * Create Hyperty Interceptor Descriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param configuration\n     * @param policies\n     * @returns {PolicyEnforcerDescriptor}\n     */},{key:\"createHypertyInterceptorDescriptorObject\",value:function createHypertyInterceptorDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,configuration,policies){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _HypertyInterceptorDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_INTERCEPTOR,version,objectName,description,language,sourcePackageURL,configuration,policies);}/**\n     * Create DataObjectSchema which in effect is the MessageDataObjectSchema\n     * @deprecated Use either createMessageDataObjectSchema or createHypertyDataObjectSchema instead\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @returns {DataObjectSchema}\n     */},{key:\"createDataObjectSchema\",value:function createDataObjectSchema(guid,version,objectName,description,language,sourcePackageURL){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _DataObjectSchema.DataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL);}/**\n     * Create DataObjectSchema which in effect is the MessageDataObjectSchema\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @returns {DataObjectSchema}\n     */},{key:\"createMessageDataObjectSchema\",value:function createMessageDataObjectSchema(guid,version,objectName,description,language,sourcePackageURL){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _DataObjectSchema.DataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL);}/**\n     * Create HypertyDataObjectSchema\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param {string} accessControlPolicy - policy rule to access object (see Reporter-Observer Comm pattern)\n     * @param {DataUrlScheme} scheme - identifies the data scheme (COMM, CONNECTION, CTXT or IDENTITY)\n     * @returns {DataObjectSchema}\n     */},{key:\"createHypertyDataObjectSchema\",value:function createHypertyDataObjectSchema(guid,version,objectName,description,language,sourcePackageURL,accessControlPolicy,scheme){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof scheme===\"undefined\"||typeof accessControlPolicy===\"undefined\")throw new Error(\"Invalid parameters!\");if(scheme===_DataObjectSchema.DataUrlScheme.COMM)return new _DataObjectSchema.CommunicationDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);else if(scheme===_DataObjectSchema.DataUrlScheme.CONNECTION)return new _DataObjectSchema.ConnectionDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);else if(scheme===_DataObjectSchema.DataUrlScheme.CTXT)return new _DataObjectSchema.ContextDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);else if(scheme===_DataObjectSchema.DataUrlScheme.IDENTITY)return new _DataObjectSchema.IdentityDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);}/**\n     * Create SourcePackage\n     * @param sourceCodeClassname - The Class-name of the SourceCode\n     * @param sourceCode - The source code of the catalogue object\n     * @returns {SourcePackage}\n     */},{key:\"createSourcePackage\",value:function createSourcePackage(sourceCodeClassname,sourceCode){if(typeof sourceCode===\"undefined\"||typeof sourceCodeClassname===\"undefined\")throw new Error(\"Invalid parameters!\");return new _SourcePackage2.default(sourceCodeClassname,sourceCode);}}]);return CatalogueDataObjectFactory;}();/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/exports.default=CatalogueDataObjectFactory;module.exports=exports['default'];\n\n},{\"./CatalogueDataObject\":114,\"./DataObjectSchema\":116,\"./HypertyDescriptor\":117,\"./HypertyInterceptorDescriptor\":118,\"./HypertyRuntimeDescriptor\":119,\"./ProtocolStubDescriptor\":120,\"./SourcePackage\":121,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],116:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.DataUrlScheme=exports.ContextDataObjectSchema=exports.IdentityDataObjectSchema=exports.ConnectionDataObjectSchema=exports.CommunicationDataObjectSchema=exports.HypertyDataObjectSchema=exports.MessageDataObjectSchema=exports.DataObjectSchema=undefined;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var DataObjectSchema=exports.DataObjectSchema=function(_CatalogueDataObject){(0,_inherits3.default)(DataObjectSchema,_CatalogueDataObject);function DataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL){(0,_classCallCheck3.default)(this,DataObjectSchema);return(0,_possibleConstructorReturn3.default)(this,(DataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(DataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL));}return DataObjectSchema;}(_CatalogueDataObject3.default);//Children\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * Created by pzu on 19.11.15.\n */var MessageDataObjectSchema=exports.MessageDataObjectSchema=function(_DataObjectSchema){(0,_inherits3.default)(MessageDataObjectSchema,_DataObjectSchema);function MessageDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL){(0,_classCallCheck3.default)(this,MessageDataObjectSchema);return(0,_possibleConstructorReturn3.default)(this,(MessageDataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(MessageDataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL));}return MessageDataObjectSchema;}(DataObjectSchema);var HypertyDataObjectSchema=exports.HypertyDataObjectSchema=function(_DataObjectSchema2){(0,_inherits3.default)(HypertyDataObjectSchema,_DataObjectSchema2);function HypertyDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy,dataUrlScheme){(0,_classCallCheck3.default)(this,HypertyDataObjectSchema);var _this3=(0,_possibleConstructorReturn3.default)(this,(HypertyDataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(HypertyDataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL));_this3._accessControlPolicy=accessControlPolicy;_this3._scheme=dataUrlScheme;return _this3;}return HypertyDataObjectSchema;}(DataObjectSchema);//Children\nvar CommunicationDataObjectSchema=exports.CommunicationDataObjectSchema=function(_HypertyDataObjectSch){(0,_inherits3.default)(CommunicationDataObjectSchema,_HypertyDataObjectSch);function CommunicationDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,CommunicationDataObjectSchema);return(0,_possibleConstructorReturn3.default)(this,(CommunicationDataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(CommunicationDataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return CommunicationDataObjectSchema;}(HypertyDataObjectSchema);var ConnectionDataObjectSchema=exports.ConnectionDataObjectSchema=function(_HypertyDataObjectSch2){(0,_inherits3.default)(ConnectionDataObjectSchema,_HypertyDataObjectSch2);function ConnectionDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,ConnectionDataObjectSchema);return(0,_possibleConstructorReturn3.default)(this,(ConnectionDataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(ConnectionDataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return ConnectionDataObjectSchema;}(HypertyDataObjectSchema);var IdentityDataObjectSchema=exports.IdentityDataObjectSchema=function(_HypertyDataObjectSch3){(0,_inherits3.default)(IdentityDataObjectSchema,_HypertyDataObjectSch3);function IdentityDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,IdentityDataObjectSchema);return(0,_possibleConstructorReturn3.default)(this,(IdentityDataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(IdentityDataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return IdentityDataObjectSchema;}(HypertyDataObjectSchema);var ContextDataObjectSchema=exports.ContextDataObjectSchema=function(_HypertyDataObjectSch4){(0,_inherits3.default)(ContextDataObjectSchema,_HypertyDataObjectSch4);function ContextDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,ContextDataObjectSchema);return(0,_possibleConstructorReturn3.default)(this,(ContextDataObjectSchema.__proto__||(0,_getPrototypeOf2.default)(ContextDataObjectSchema)).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return ContextDataObjectSchema;}(HypertyDataObjectSchema);var DataUrlScheme=exports.DataUrlScheme={COMM:'COMM',CONNECTION:'CONNECTION',CTXT:'CTXT',IDENTITY:'IDENTITY'};exports.default=DataObjectSchema;\n\n},{\"./CatalogueDataObject\":114,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/inherits\":13,\"babel-runtime/helpers/possibleConstructorReturn\":14}],117:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.HypertyResourceType=exports.HypertyType=exports.RuntimeHypertyCapabilityType=undefined;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var HypertyDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(HypertyDescriptor,_CatalogueDataObject);/**\n     *\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object enabling the same object to be\n     * stored and discovered in different Catalogues. Guid corresponds to <resource-type-id> per BNF of Resource Path.\n     * @param {CatalogueObjectType} catalogueType - \tIndicates the type of Catalogue Data Object\n     * @param {string} version\n     * @param {string} objectName\n     * @param {string} description\n     * @param {string} language\n     * @param {string} sourcePackageURL\n     * @param {HypertyResourceType[]} hypertyType A tag that identifies what type of hyperty is described in the object.\n     * @param {URL.HypertyCatalogueURLList} dataObjectUrls - It defines the Data Object Schemas supported by the Hyperty\n     * through a list of Catalogue URLs from where these schemas can be reached\n     */function HypertyDescriptor(guid,catalogueType,version,objectName,description,language,sourcePackageURL,hypertyType,dataObjectUrls){(0,_classCallCheck3.default)(this,HypertyDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(HypertyDescriptor.__proto__||(0,_getPrototypeOf2.default)(HypertyDescriptor)).call(this,guid,catalogueType,version,objectName,description,language,sourcePackageURL));_this._configuration={};_this._constraints={};_this._policies={};_this._messageSchema=null;_this._hypertyType=hypertyType;_this._dataObjects=dataObjectUrls;return _this;}(0,_createClass3.default)(HypertyDescriptor,[{key:'hypertyType',get:function get(){return this._hypertyType;},set:function set(hType){if(hType)this._hypertyType=hType;}},{key:'dataObjects',get:function get(){return this._dataObjects;},set:function set(dataObjects){if(dataObjects)this._dataObjects=dataObjects;}},{key:'configuration',get:function get(){return this._configuration;},set:function set(configuration){if(configuration)this._configuration=configuration;}},{key:'constraints',get:function get(){return this._constraints;},set:function set(constraints){if(constraints)this._constraints=constraints;}},{key:'messageSchema',get:function get(){return this._messageSchema;},set:function set(messageSchema){if(messageSchema)this._messageSchema=messageSchema;}},{key:'policies',get:function get(){return this._policies;},set:function set(policies){if(policies)this._policies=policies;}}]);return HypertyDescriptor;}(_CatalogueDataObject3.default);/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * Created by amo on 14/11/2015.\n */var RuntimeHypertyCapabilityType=exports.RuntimeHypertyCapabilityType={};var HypertyType=exports.HypertyType={COMMUNICATOR:'communicator',IDENTITY:'identity',CONTEXT:'context'};var HypertyResourceType=exports.HypertyResourceType={chat:'CHAT',audio:'Audio',video:'Video',av:'AV',screen:'SCREEN',file:'FILe',midi:'MIDI'};exports.default=HypertyDescriptor;\n\n},{\"./CatalogueDataObject\":114,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/inherits\":13,\"babel-runtime/helpers/possibleConstructorReturn\":14}],118:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var PolicyEnforcerDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(PolicyEnforcerDescriptor,_CatalogueDataObject);function PolicyEnforcerDescriptor(guid,type,version,objectName,description,language,sourcePackageURL,configuration,policies){(0,_classCallCheck3.default)(this,PolicyEnforcerDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(PolicyEnforcerDescriptor.__proto__||(0,_getPrototypeOf2.default)(PolicyEnforcerDescriptor)).call(this,guid,type,version,objectName,description,language,sourcePackageURL));_this._configuration=configuration;_this._policies=policies;return _this;}(0,_createClass3.default)(PolicyEnforcerDescriptor,[{key:'configuration',get:function get(){return this._configuration;},set:function set(configuration){this._configuration=configuration;}},{key:'policies',get:function get(){return this._policies;},set:function set(policies){this._policies=policies;}}]);return PolicyEnforcerDescriptor;}(_CatalogueDataObject3.default);/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * Created by pzu on 19.11.15.\n */exports.default=PolicyEnforcerDescriptor;module.exports=exports['default'];\n\n},{\"./CatalogueDataObject\":114,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/inherits\":13,\"babel-runtime/helpers/possibleConstructorReturn\":14}],119:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.RuntimeType=exports.RuntimeProtocolCapability=exports.RuntimeHypertyCapability=undefined;var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var HypertyRuntimeDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(HypertyRuntimeDescriptor,_CatalogueDataObject);function HypertyRuntimeDescriptor(guid,catalogueType,version,objectName,description,language,sourcePackageURL,runtimeType,hypertyCapabilities,protocolCapabilities,p2pHandlerStub,p2pRequesterStub){(0,_classCallCheck3.default)(this,HypertyRuntimeDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(HypertyRuntimeDescriptor.__proto__||(0,_getPrototypeOf2.default)(HypertyRuntimeDescriptor)).call(this,guid,catalogueType,version,objectName,description,language,sourcePackageURL));_this._runtimeType=runtimeType;if(hypertyCapabilities)_this._hypertyCapabilities=hypertyCapabilities;else _this._hypertyCapabilities=new RuntimeHypertyCapability(true,false,false,false,false);if(protocolCapabilities)_this._protocolCapabilities=protocolCapabilities;else _this._protocolCapabilities=new RuntimeProtocolCapability(true,false,true,false,false,false);_this._p2pHandlerStub=p2pHandlerStub;_this._p2pRequesterStub=p2pRequesterStub;return _this;}(0,_createClass3.default)(HypertyRuntimeDescriptor,[{key:'runtimeType',get:function get(){return this._runtimeType;},set:function set(runtimeType){if(runtimeType)this._runtimeType=runtimeType;}},{key:'hypertyCapabilities',get:function get(){return this._hypertyCapabilities;},set:function set(hypertyCapabilities){if(hypertyCapabilities)this._hypertyCapabilities=hypertyCapabilities;}},{key:'protocolCapabilities',get:function get(){return this._hypertyCapabilities;},set:function set(protocolCapabilities){if(protocolCapabilities)this._protocolCapabilities=protocolCapabilities;}},{key:'p2pHandlerStub',get:function get(){return this._p2pHandlerStub;},set:function set(value){this._p2pHandlerStub=value;}},{key:'p2pRequesterStub',get:function get(){return this._p2pRequesterStub;},set:function set(value){this._p2pRequesterStub=value;}}]);return HypertyRuntimeDescriptor;}(_CatalogueDataObject3.default);/**\n * A class representation of the capability set of the Runtime Hyperty\n *//**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **//**\n * Created by amo on 14/11/2015.\n */var RuntimeHypertyCapability=exports.RuntimeHypertyCapability=function(){/**\n     * Creates an object of the Runtime Hyperty capability set\n     * @param {boolean} isWebRTCSupported\n     * @param {boolean} isMicSupported\n     * @param {boolean} isCameraSupported\n     * @param {boolean} isSensorSupported\n     * @param {boolean} isORTCSupported\n     */function RuntimeHypertyCapability(isWebRTCSupported,isMicSupported,isCameraSupported,isSensorSupported,isORTCSupported){(0,_classCallCheck3.default)(this,RuntimeHypertyCapability);this._isWebRTC=isWebRTCSupported;this._isMic=isMicSupported;this._isCamera=isCameraSupported;this._isSensor=isSensorSupported;this._isORTC=isORTCSupported;}(0,_createClass3.default)(RuntimeHypertyCapability,[{key:'getCapabilitySet',value:function getCapabilitySet(){return(0,_stringify2.default)(this);}},{key:'isMic',get:function get(){return this._isMic;}},{key:'isCamera',get:function get(){return this._isCamera;}},{key:'isSensor',get:function get(){return this._isSensor;}},{key:'isWebRTC',get:function get(){return this._isWebRTC;}},{key:'isORTCS',get:function get(){return this._isORTC;}}]);return RuntimeHypertyCapability;}();/**\n * A class representation of the protocol capability set of the Runtime Hyperty\n */var RuntimeProtocolCapability=exports.RuntimeProtocolCapability=function(){/**\n     * Creates an object of the runtime protocol capability\n     * @param {boolean} isHttp\n     * @param {boolean} isHttps\n     * @param {boolean} isWS\n     * @param {boolean} isWSS\n     * @param {boolean} isCoap\n     * @param {boolean} isDataChannel\n     */function RuntimeProtocolCapability(isHttp,isHttps,isWS,isWSS,isCoap,isDataChannel){(0,_classCallCheck3.default)(this,RuntimeProtocolCapability);this._isHttp=isHttp;this._isHttps=isHttps;this._isWS=isWS;this._isWSS=isWSS;this._isCoap=isCoap;this._isDataChannel=isDataChannel;}(0,_createClass3.default)(RuntimeProtocolCapability,[{key:'isHttp',value:function isHttp(){return this._isHttp;}},{key:'isHttps',value:function isHttps(){return this._isHttps;}},{key:'isWS',value:function isWS(){return this._isWS;}},{key:'isSensorSupported',value:function isSensorSupported(){return this._isSensor;}},{key:'isWSS',value:function isWSS(){return this._isWSS;}},{key:'isCoap',value:function isCoap(){return this._isCoap;}},{key:'isDataChannel',value:function isDataChannel(){return this._isDataChannel;}},{key:'getCapabilitySet',value:function getCapabilitySet(){return(0,_stringify2.default)(this);}}]);return RuntimeProtocolCapability;}();var RuntimeType=exports.RuntimeType={BROWSER:'browser',STANDALONE:'standalone',SERVER:'server',GATEWAY:'gateway'};exports.default=HypertyRuntimeDescriptor;\n\n},{\"./CatalogueDataObject\":114,\"babel-runtime/core-js/json/stringify\":3,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/inherits\":13,\"babel-runtime/helpers/possibleConstructorReturn\":14}],120:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require(\"babel-runtime/core-js/object/get-prototype-of\");var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require(\"babel-runtime/helpers/possibleConstructorReturn\");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require(\"babel-runtime/helpers/inherits\");var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require(\"./CatalogueDataObject\");var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ProtocolStubDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(ProtocolStubDescriptor,_CatalogueDataObject);function ProtocolStubDescriptor(guid,type,version,objectName,description,language,sourcePackageURL,messageSchemas,configuration,constraints,hypertyType,dataObjects,interworking,idpProxy,mutualAuthentication){(0,_classCallCheck3.default)(this,ProtocolStubDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(ProtocolStubDescriptor.__proto__||(0,_getPrototypeOf2.default)(ProtocolStubDescriptor)).call(this,guid,type,version,objectName,description,language,sourcePackageURL));_this._messageSchemas=messageSchemas;if(configuration)_this._configuration=configuration;else _this._configuration={};if(constraints)_this._constraints=constraints;else _this._constraints={};_this._hypertyType=hypertyType;if(dataObjects)_this._dataObjects=dataObjects;else _this._dataObjects=[];_this._interworking=interworking;_this._idpProxy=idpProxy;_this._mutualAuthentication=mutualAuthentication;return _this;}(0,_createClass3.default)(ProtocolStubDescriptor,[{key:\"messageSchemas\",get:function get(){return this._messageSchemas;},set:function set(messageSchemas){if(messageSchemas)this._messageSchemas=messageSchemas;}},{key:\"constraints\",get:function get(){return this._constraints;},set:function set(constraints){if(constraints)this._constraints=constraints;}},{key:\"configuration\",get:function get(){return this._configuration;},set:function set(configuration){if(configuration)this._configuration=configuration;}},{key:\"hypertyType\",get:function get(){return this._hypertyType;},set:function set(value){this._hypertyType=value;}},{key:\"dataObjects\",get:function get(){return this._dataObjects;},set:function set(value){this._dataObjects=value;}},{key:\"interworking\",get:function get(){return this._interworking;},set:function set(value){this._interworking=value;}},{key:\"idpProxy\",get:function get(){return this._idpProxy;},set:function set(value){this._idpProxy=value;}},{key:\"mutualAuthentication\",get:function get(){return this._mutualAuthentication;},set:function set(value){this._mutualAuthentication=value;}}]);return ProtocolStubDescriptor;}(_CatalogueDataObject3.default);/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **//**\n * Created by amo on 14/11/2015.\n */exports.default=ProtocolStubDescriptor;module.exports=exports['default'];\n\n},{\"./CatalogueDataObject\":114,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/inherits\":13,\"babel-runtime/helpers/possibleConstructorReturn\":14}],121:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * Created by amo on 14/11/2015.\n */var SourcePackage=function(){function SourcePackage(sourceCodeClassname,sourceCode){(0,_classCallCheck3.default)(this,SourcePackage);this._sourceCode=sourceCode;this._sourceCodeClassname=sourceCodeClassname;this._encoding=null;this._signature=null;}(0,_createClass3.default)(SourcePackage,[{key:\"sourceCode\",get:function get(){return this._sourceCode;},set:function set(sourceCode){if(sourceCode)this._sourceCode=sourceCode;}},{key:\"sourceCodeClassname\",get:function get(){return this._sourceCodeClassname;},set:function set(sourceCodeClassname){if(sourceCodeClassname)this._sourceCodeClassname=sourceCodeClassname;}},{key:\"encoding\",get:function get(){return this._encoding;},set:function set(encoding){if(encoding)this._encoding=encoding;}},{key:\"signature\",get:function get(){return this._signature;},set:function set(sign){if(sign)this._signature=sign;}}]);return SourcePackage;}();exports.default=SourcePackage;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],122:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.RethinkObject=undefined;var _stringify=require(\"babel-runtime/core-js/json/stringify\");var _stringify2=_interopRequireDefault(_stringify);var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);var _tv=require(\"tv4\");var _tv2=_interopRequireDefault(_tv);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RethinkObject=exports.RethinkObject=function(){function RethinkObject(){(0,_classCallCheck3.default)(this,RethinkObject);}(0,_createClass3.default)(RethinkObject,[{key:\"validate\",/**\n     * Validates this RethinkObject against the provided schema.\n     *\n     * LIMITATIONS: The provided schema cannot contain references to other schemas, since they can't be resolved.\n     * @param schema - schema to validate against\n     * @returns {boolean} true if valid, false otherwise\n     */value:function validate(schema){// add schema itself so local references work\n_tv2.default.addSchema(schema.id,schema);// JSON stringify -> parse needed to have proper validation\nvar result=_tv2.default.validateMultiple(JSON.parse((0,_stringify2.default)(this)),schema);// delete error stacks to improve logging\nresult.errors.forEach(function(error){delete error.stack;});// print more details about validation if it fails or schema contains $refs\nif(!result.valid||result.missing.length>0){console.warn(\"Object validation \"+(result.valid?\"succeeded, but schema contained references:\":\"failed:\"),(0,_stringify2.default)(result,null,2));console.log(\"Object:\",(0,_stringify2.default)(this,null,2));}return result.valid;}}]);return RethinkObject;}();/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/exports.default=RethinkObject;\n\n},{\"babel-runtime/core-js/json/stringify\":3,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"tv4\":112}],123:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _slicedToArray2=require(\"babel-runtime/helpers/slicedToArray\");var _slicedToArray3=_interopRequireDefault(_slicedToArray2);var _promise=require(\"babel-runtime/core-js/promise\");var _promise2=_interopRequireDefault(_promise);var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);var _CatalogueDataObjectFactory=require(\"../catalogue-factory/CatalogueDataObjectFactory\");var _CatalogueDataObjectFactory2=_interopRequireDefault(_CatalogueDataObjectFactory);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RuntimeCatalogue=function(){function RuntimeCatalogue(runtimeFactory){(0,_classCallCheck3.default)(this,RuntimeCatalogue);if(!runtimeFactory)throw Error('The catalogue needs the runtimeFactory');this._factory=new _CatalogueDataObjectFactory2.default();this.httpRequest=runtimeFactory.createHttpRequest();this.atob=runtimeFactory.atob?runtimeFactory.atob:atob;this.storageManager=runtimeFactory.storageManager();}/**\n     * Get a Catalogue Data Object (Descriptor) from a URL, and construct it using the provided function\n     * @param {String} descriptorURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty\n     * @param {function} createFunc - e.g. createHyperty\n     * @param {boolean} [getFull] - whether or not to get descriptor with sourcePackage, or only the descriptor part\n     * @returns {Promise}\n     */(0,_createClass3.default)(RuntimeCatalogue,[{key:\"getDescriptor\",value:function getDescriptor(descriptorURL,createFunc){var _this=this;var getFull=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;console.log(\"getting descriptor from:\",descriptorURL);// some flags for optimization\n// (later the descriptor will not be saved in case both of these booleans are true)\nvar isSavedDescriptor=false;var isCompleteDescriptor=false;// get raw descriptor\n// first checks if descriptor is already in localStorage (based on cguid and version)\nvar descriptorPromise=_promise2.default.all([this.httpRequest.get(descriptorURL+\"/version\"),this.httpRequest.get(descriptorURL+\"/cguid\")]).then(function(_ref){var _ref2=(0,_slicedToArray3.default)(_ref,2),version=_ref2[0],cguid=_ref2[1];console.log(\"got version (\"+version+\") and cguid (\"+cguid+\") for descriptor \"+descriptorURL);// check if same version is contained in localStorage\nreturn _this.storageManager.getVersion(cguid).then(function(dbVersion){if(dbVersion>=version){console.log(\"storageManager contains saved version that is the same or newer than requested\");isSavedDescriptor=true;return _this.storageManager.get(cguid);}else{console.log(\"storageManager does not contain saved version\");// no saved copy, proceed with retrieving descriptor\nreturn _this.httpRequest.get(descriptorURL).then(function(descriptor){descriptor=JSON.parse(descriptor);//console.log(\"got descriptor:\", JSON.stringify(descriptor, null, 2));\nif(descriptor[\"ERROR\"]){// TODO handle error properly\nthrow new Error(descriptor);}else{return descriptor;}});}});}).catch(function(error){var errorString=\"Unable to get descriptor for \"+descriptorURL+\": \"+error;console.error(errorString);throw new Error(errorString);});var returnPromise=descriptorPromise;// if getFull, attach sourcePackage\nif(getFull){console.log(\"adding promise to attach sourcePackage\");returnPromise=descriptorPromise.then(function(descriptor){if(descriptor.sourcePackage){isCompleteDescriptor=true;return descriptor;}else{isCompleteDescriptor=false;return _this.attachRawSourcePackage(descriptor);}});}// finally create object\nreturnPromise=returnPromise.then(function(descriptor){// store if not saved before, or if full descriptor was requested and only partial descriptor was stored.\nif(!isSavedDescriptor||isSavedDescriptor&&!isCompleteDescriptor&&getFull){_this.storageManager.set(descriptor.cguid,descriptor.version,descriptor);}return createFunc.apply(_this,[descriptor]);});return returnPromise;}/**\n     * Uses the sourcePackageURL from the descriptor, requests the sourcePackage and attaches it to the descriptor.\n     * @param {CatalogueDataObject} descriptor\n     * @returns {Promise} - fulfills with complete descriptor\n     */},{key:\"attachRawSourcePackage\",value:function attachRawSourcePackage(descriptor){var _this2=this;console.log(\"attaching raw sourcePackage from:\",descriptor.sourcePackageURL);return new _promise2.default(function(resolve){_this2.httpRequest.get(descriptor.sourcePackageURL).then(function(sourcePackage){sourcePackage=JSON.parse(sourcePackage);//delete descriptor.sourcePackageURL;\n//console.log(\"attaching sourcePackage:\", sourcePackage);\ndescriptor.sourcePackage=sourcePackage;resolve(descriptor);});});}/**\n     * Get HypertyDescriptor\n     * @param hypertyURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty\n     * @param {boolean} [getFull] - boolean to decide to get the descriptor with the sourcePackage or (potentially) without\n     * @returns {Promise}\n     */},{key:\"getHypertyDescriptor\",value:function getHypertyDescriptor(hypertyURL){var getFull=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return this.getDescriptor(hypertyURL,this.createHyperty,getFull);}/**\n     * Get StubDescriptor\n     * @param stubURL - e.g. mydomain.com/.well-known/protostub/MyProtostub\n     * @param {boolean} [getFull] - boolean to decide to get the descriptor with the sourcePackage or (potentially) without\n     * @returns {Promise}\n     */},{key:\"getStubDescriptor\",value:function getStubDescriptor(stubURL){var getFull=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return this.getDescriptor(stubURL,this.createStub,getFull);}/**\n     * Get RuntimeDescriptor\n     * @param runtimeURL - e.g. mydomain.com/.well-known/runtime/MyRuntime\n     * @param {boolean} [getFull] - boolean to decide to get the descriptor with the sourcePackage or (potentially) without\n     * @returns {Promise}\n     */},{key:\"getRuntimeDescriptor\",value:function getRuntimeDescriptor(runtimeURL){var getFull=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return this.getDescriptor(runtimeURL,this.createRuntimeDescriptor,getFull);}/**\n     * Get DataSchemaDescriptor\n     * @param dataSchemaURL - e.g. mydomain.com/.well-known/dataschema/MyDataSchema\n     * @param {boolean} [getFull] - boolean to decide to get the descriptor with the sourcePackage or (potentially) without\n     * @returns {Promise}\n     */},{key:\"getDataSchemaDescriptor\",value:function getDataSchemaDescriptor(dataSchemaURL){var getFull=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return this.getDescriptor(dataSchemaURL,this.createDataSchema,getFull);}/**\n     * Get IDPProxyDescriptor\n     * @param idpProxyURL - e.g. mydomain.com/.well-known/idp-proxy/MyProxy\n     * @param {boolean} [getFull] - boolean to decide to get the descriptor with the sourcePackage or (potentially) without\n     * @returns {Promise}\n     */},{key:\"getIdpProxyDescriptor\",value:function getIdpProxyDescriptor(idpProxyURL){var getFull=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return this.getDescriptor(idpProxyURL,this.createIdpProxy,getFull);}/**\n     * Create HypertyDescriptor based on raw object that contains its attributes\n     * @param {JSON} rawHyperty\n     * @returns {HypertyDescriptor}\n     */},{key:\"createHyperty\",value:function createHyperty(rawHyperty){//console.log(\"createHyperty:\", rawHyperty);\n// create the descriptor\nvar hyperty=this._factory.createHypertyDescriptorObject(rawHyperty[\"cguid\"],rawHyperty[\"version\"],rawHyperty[\"objectName\"],rawHyperty[\"description\"],rawHyperty[\"language\"],rawHyperty[\"sourcePackageURL\"],rawHyperty[\"type\"]||rawHyperty[\"hypertyType\"],rawHyperty[\"dataObjects\"]);//console.log(\"factory returned:\", hyperty);\n// optional fields\nhyperty.configuration=rawHyperty[\"configuration\"];hyperty.constraints=rawHyperty[\"constraints\"];hyperty.messageSchema=rawHyperty[\"messageSchema\"];hyperty.policies=rawHyperty[\"policies\"];hyperty.signature=rawHyperty[\"signature\"];// parse and attach sourcePackage\nvar sourcePackage=rawHyperty[\"sourcePackage\"];if(sourcePackage){hyperty.sourcePackage=this.createSourcePackage(sourcePackage);}return hyperty;}/**\n     * Create ProtocolStubDescriptor based on raw object that contains its attributes\n     * @param rawStub\n     * @returns {ProtocolStubDescriptor}\n     */},{key:\"createStub\",value:function createStub(rawStub){// console.log(\"creating stub descriptor based on: \", rawStub);\n// create the descriptor\nvar stub=this._factory.createProtoStubDescriptorObject(rawStub[\"cguid\"],rawStub[\"version\"],rawStub[\"objectName\"],rawStub[\"description\"],rawStub[\"language\"],rawStub[\"sourcePackageURL\"],rawStub[\"messageSchemas\"],rawStub[\"configuration\"],rawStub[\"constraints\"],rawStub[\"hypertyType\"],rawStub[\"dataObjects\"],rawStub[\"interworking\"],rawStub[\"idpProxy\"],rawStub[\"mutualAuthentication\"]);// optional fields\nstub.signature=rawStub[\"signature\"];// parse and attach the sourcePackage\nvar sourcePackage=rawStub[\"sourcePackage\"];if(sourcePackage){stub.sourcePackage=this.createSourcePackage(sourcePackage);}return stub;}/**\n     * Create HypertyRuntimeDescriptor based on raw object that contains its attributes\n     * @param rawRuntime\n     * @returns {HypertyRuntimeDescriptor}\n     */},{key:\"createRuntimeDescriptor\",value:function createRuntimeDescriptor(rawRuntime){// parse capabilities first\ntry{rawRuntime[\"hypertyCapabilities\"]=JSON.parse(rawRuntime[\"hypertyCapabilities\"]);rawRuntime[\"protocolCapabilities\"]=JSON.parse(rawRuntime[\"protocolCapabilities\"]);}catch(e){}// already json object\n//console.log(\"creating runtime descriptor based on: \", rawRuntime);\n// create the descriptor\nvar runtime=this._factory.createHypertyRuntimeDescriptorObject(rawRuntime[\"cguid\"],rawRuntime[\"version\"],rawRuntime[\"objectName\"],rawRuntime[\"description\"],rawRuntime[\"language\"],rawRuntime[\"sourcePackageURL\"],rawRuntime[\"type\"]||rawRuntime[\"runtimeType\"],rawRuntime[\"hypertyCapabilities\"],rawRuntime[\"protocolCapabilities\"],rawRuntime[\"p2pHandlerStub\"],rawRuntime[\"p2pRequesterStub\"]);// optional fields\nruntime.signature=rawRuntime[\"signature\"];// parse and attach sourcePackage\nvar sourcePackage=rawRuntime[\"sourcePackage\"];if(sourcePackage){// console.log(\"runtime has sourcePackage:\", sourcePackage);\nruntime.sourcePackage=this.createSourcePackage(sourcePackage);}return runtime;}/**\n     * Create DataObjectSchema based on raw object that contains its attributes\n     * @param rawSchema\n     * @returns {DataObjectSchema}\n     */},{key:\"createDataSchema\",value:function createDataSchema(rawSchema){//console.log(\"creating dataSchema based on: \", rawSchema);\nvar dataSchema=void 0;//console.log('1. createMessageDataObjectSchema: ', rawSchema[\"accessControlPolicy\"]);\n//console.log('2. createMessageDataObjectSchema: ', rawSchema[\"scheme\"]);\nif(rawSchema[\"accessControlPolicy\"]&&rawSchema[\"scheme\"]){dataSchema=this._factory.createHypertyDataObjectSchema(rawSchema[\"cguid\"],rawSchema[\"version\"],rawSchema[\"objectName\"],rawSchema[\"description\"],rawSchema[\"language\"],rawSchema[\"sourcePackageURL\"],rawSchema[\"accessControlPolicy\"],rawSchema[\"scheme\"]);}else{//console.log('3. createMessageDataObjectSchema: ', rawSchema);\ndataSchema=this._factory.createMessageDataObjectSchema(rawSchema[\"cguid\"],rawSchema[\"version\"],rawSchema[\"objectName\"],rawSchema[\"description\"],rawSchema[\"language\"],rawSchema[\"sourcePackageURL\"]);}// optional fields\ndataSchema.signature=rawSchema[\"signature\"];// parse and attach sourcePackage\nvar sourcePackage=rawSchema[\"sourcePackage\"];if(sourcePackage){//console.log(\"dataSchema has sourcePackage:\", sourcePackage);\ndataSchema.sourcePackage=this.createSourcePackage(sourcePackage);try{dataSchema.sourcePackage.sourceCode=JSON.parse(dataSchema.sourcePackage.sourceCode);}catch(e){console.log('DataSchema Source code is already parsed');}return dataSchema;}//console.log(\"created dataSchema descriptor object:\", dataSchema);\nreturn dataSchema;}/**\n     * Create ProtocolStubDescriptor based on raw object that contains its attributes\n     * @param rawProxy\n     * @returns {ProtocolStubDescriptor}\n     */},{key:\"createIdpProxy\",value:function createIdpProxy(rawProxy){// console.log(\"creating idpproxy descriptor based on: \", rawProxy);\n// create the descriptor\nvar idpproxy=this._factory.createProtoStubDescriptorObject(rawProxy[\"cguid\"],rawProxy[\"version\"],rawProxy[\"objectName\"],rawProxy[\"description\"],rawProxy[\"language\"],rawProxy[\"sourcePackageURL\"],rawProxy[\"messageSchemas\"],rawProxy[\"configuration\"],rawProxy[\"constraints\"],rawProxy[\"hypertyType\"],rawProxy[\"dataObjects\"],rawProxy[\"interworking\"],rawProxy[\"idpProxy\"],rawProxy[\"mutualAuthentication\"]);// optional fields\nidpproxy.signature=rawProxy[\"signature\"];// parse and attach the sourcePackage\nvar sourcePackage=rawProxy[\"sourcePackage\"];if(sourcePackage){sourcePackage=this.createSourcePackage(sourcePackage);idpproxy.sourcePackage=sourcePackage;}return idpproxy;}},{key:\"createSourcePackage\",value:function createSourcePackage(sp){//console.log(\"createSourcePackage:\", sp);\n// check encoding\nif(sp[\"encoding\"]===\"base64\"){sp[\"sourceCode\"]=this.atob(sp[\"sourceCode\"]);}var sourcePackage=this._factory.createSourcePackage(sp[\"sourceCodeClassname\"],sp[\"sourceCode\"]);if(sp[\"encoding\"])sourcePackage.encoding=sp[\"encoding\"];if(sp[\"signature\"])sourcePackage.signature=sp[\"signature\"];return sourcePackage;}/**\n     * Get source Package from a URL\n     * @param sourcePackageURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty/sourcePackage\n     * @returns {Promise}\n     */},{key:\"getSourcePackageFromURL\",value:function getSourcePackageFromURL(sourcePackageURL){var _this3=this;console.log(\"getting sourcePackage from:\",sourcePackageURL);return new _promise2.default(function(resolve,reject){_this3.httpRequest.get(sourcePackageURL).then(function(result){//console.log(\"got raw sourcePackage:\", result);\nif(result[\"ERROR\"]){// TODO handle error properly\nreject(result);}else{result=JSON.parse(result);var sourcePackage=_this3.createSourcePackage(result);resolve(sourcePackage);}}).catch(function(reason){reject(reason);});});}/**\n     * Returns the sourceCode of a given descriptor\n     * @param {CatalogueDataObject} descriptor - Catalogue Object that was retrieved using e.g. getHypertyDescriptor()\n     * @returns {Promise}\n     */},{key:\"getSourceCodeFromDescriptor\",value:function getSourceCodeFromDescriptor(descriptor){var _this4=this;return new _promise2.default(function(resolve,reject){if(descriptor.sourcePackage){//console.log(\"descriptor has sourcePackage\");\n//console.log(\"returning sourceCode:\", descriptor.sourcePackage.sourceCode);\nresolve(descriptor.sourcePackage.sourceCode);}else{_this4.storageManager.getVersion(descriptor.sourcePackageURL+\"/sourceCode\").then(function(dbVersion){if(dbVersion>=descriptor.version){console.log(\"returning cached version from storageManager\");_this4.storageManager.get(descriptor.sourcePackageURL+\"/sourceCode\").then(function(sourceCode){resolve(sourceCode);});}else{_this4.httpRequest.get(descriptor.sourcePackageURL+\"/sourceCode\").then(function(sourceCode){if(sourceCode[\"ERROR\"]){// TODO handle error properly\nreject(sourceCode);}else{_this4.storageManager.set(descriptor.sourcePackageURL+\"/sourceCode\",descriptor.version,sourceCode);resolve(sourceCode);}});}});}});}/**\n     * Returns the list of available catalogue objects for the given \"type URL\",\n     * i.e. a catalogue URL that specifies a type, but no catalogue object name.\n     * @param typeURL - URL pointing to the catalogue object type you want a list of available objects for,\n     * e.g. hyperty-catalogue://catalogue.fokus.fraunhofer.de/.well-known/idp-proxy\n     * @returns {Promise} typeListPromise - Promise that fulfills with the list of available catalogue object names for the requested type,\n     * rejects on HTTP error or if the HTTP response is not in JSON.\n     */},{key:\"getTypeList\",value:function getTypeList(typeURL){var _this5=this;return new _promise2.default(function(resolve,reject){_this5.httpRequest.get(typeURL).then(function(typeList){typeList=JSON.parse(typeList);resolve(typeList);}).catch(function(reason){reject(reason);});});}},{key:\"deleteFromPM\",value:function deleteFromPM(url){return this.storageManager.delete(url);}},{key:\"runtimeURL\",set:function set(runtimeURL){this._runtimeURL=runtimeURL;},get:function get(){return this._runtimeURL;}}]);return RuntimeCatalogue;}();exports.default=RuntimeCatalogue;module.exports=exports['default'];\n\n},{\"../catalogue-factory/CatalogueDataObjectFactory\":115,\"babel-runtime/core-js/promise\":8,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/slicedToArray\":15}]},{},[113])(113)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvaXMtaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZm9yLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvdHY0L3R2NC5qcyIsInNyYy9SdW50aW1lQ2F0YWxvZ3VlLmpzIiwic3JjL2NhdGFsb2d1ZS1mYWN0b3J5L0NhdGFsb2d1ZURhdGFPYmplY3QuanMiLCJzcmMvY2F0YWxvZ3VlLWZhY3RvcnkvQ2F0YWxvZ3VlRGF0YU9iamVjdEZhY3RvcnkuanMiLCJzcmMvY2F0YWxvZ3VlLWZhY3RvcnkvRGF0YU9iamVjdFNjaGVtYS5qcyIsInNyYy9jYXRhbG9ndWUtZmFjdG9yeS9IeXBlcnR5RGVzY3JpcHRvci5qcyIsInNyYy9jYXRhbG9ndWUtZmFjdG9yeS9IeXBlcnR5SW50ZXJjZXB0b3JEZXNjcmlwdG9yLmpzIiwic3JjL2NhdGFsb2d1ZS1mYWN0b3J5L0h5cGVydHlSdW50aW1lRGVzY3JpcHRvci5qcyIsInNyYy9jYXRhbG9ndWUtZmFjdG9yeS9Qcm90b2NvbFN0dWJEZXNjcmlwdG9yLmpzIiwic3JjL2NhdGFsb2d1ZS1mYWN0b3J5L1NvdXJjZVBhY2thZ2UuanMiLCJzcmMvcmVUSElOS09iamVjdC9SZXRoaW5rT2JqZWN0LmpzIiwic3JjL3J1bnRpbWUtY2F0YWxvZ3VlL1J1bnRpbWVDYXRhbG9ndWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFPQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Y3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2lzSXRlcmFibGUyID0gcmVxdWlyZShcIi4uL2NvcmUtanMvaXMtaXRlcmFibGVcIik7XG5cbnZhciBfaXNJdGVyYWJsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0l0ZXJhYmxlMik7XG5cbnZhciBfZ2V0SXRlcmF0b3IyID0gcmVxdWlyZShcIi4uL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpO1xuXG52YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG4gICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkoYXJyKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9IHRydWU7XG4gICAgICBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSBlbHNlIGlmICgoMCwgX2lzSXRlcmFibGUzLmRlZmF1bHQpKE9iamVjdChhcnIpKSkge1xuICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG4gICAgfVxuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59OyIsInJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3InKTsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUnKTsiLCJ2YXIgY29yZSAgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJylcbiAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlJyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mOyIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvX2NvcmUnKS5Qcm9taXNlOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuU3ltYm9sOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpe1xuICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSl7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59OyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTsiLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59OyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07IiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pOyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTsiLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTsiLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9IHBJRS5mXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJylcbiAgLCBCUkVBSyAgICAgICA9IHt9XG4gICwgUkVUVVJOICAgICAgPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKXtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKVxuICAgICwgZiAgICAgID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyAgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOOyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTsiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07IiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07IiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIElURVJBVE9SICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xufTsiLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTsiLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBkZXNjcmlwdG9yICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07IiwidmFyIElURVJBVE9SICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG59IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuICBpZighc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciAgPSBbN11cbiAgICAgICwgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge307IiwidmFyIGdldEtleXMgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9IGdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTsiLCJ2YXIgTUVUQSAgICAgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGhhcyAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBzZXREZXNjICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBpZCAgICAgICA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbigpe1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG4gIHNldERlc2MoaXQsIE1FVEEsIHt2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH19KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24oaXQpe1xuICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6ICAgICAgTUVUQSxcbiAgTkVFRDogICAgIGZhbHNlLFxuICBmYXN0S2V5OiAgZmFzdEtleSxcbiAgZ2V0V2VhazogIGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIFByb21pc2UgICA9IGdsb2JhbC5Qcm9taXNlXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSlwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlKGhlYWQpe1xuICAgICAgZm4gICA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGlmKGhlYWQpbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYoaXNOb2RlKXtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG4gIH0gZWxzZSBpZihPYnNlcnZlcil7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWVcbiAgICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZm4pe1xuICAgIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkfTtcbiAgICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYoIWhlYWQpe1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTsiLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcbiAgdmFyIHJlc3VsdDtcbiAgaWYoTyAhPT0gbnVsbCl7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpe1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59OyIsInZhciBkUCAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgICA9IGdldEtleXMoUHJvcGVydGllcylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpID0gMFxuICAgICwgUDtcbiAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07IiwidmFyIHBJRSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgZ09QRCAgICAgICAgICAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcbiAgTyA9IHRvSU9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG59OyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBnT1BOICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmZcbiAgLCB0b1N0cmluZyAgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG4iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pe1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59OyIsImV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7IiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTsiLCJ2YXIgaGFzICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b0lPYmplY3QgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKVxuICAsIElFX1BST1RPICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwga2V5O1xuICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07IiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07IiwiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7IiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY29yZSAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07IiwidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgc3JjLCBzYWZlKXtcbiAgZm9yKHZhciBrZXkgaW4gc3JjKXtcbiAgICBpZihzYWZlICYmIHRhcmdldFtrZXldKXRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7IiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuICBhbk9iamVjdChPKTtcbiAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KXtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBkUCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgU1BFQ0lFUyAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSl7XG4gIHZhciBDID0gdHlwZW9mIGNvcmVbS0VZXSA9PSAnZnVuY3Rpb24nID8gY29yZVtLRVldIDogZ2xvYmFsW0tFWV07XG4gIGlmKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pZFAuZihDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59OyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTsiLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTsiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59OyIsIi8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKVxudmFyIGFuT2JqZWN0ICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpXG4gICwgU1BFQ0lFUyAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywgRCl7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3IsIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07IiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07IiwidmFyIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaW52b2tlICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faW52b2tlJylcbiAgLCBodG1sICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19odG1sJylcbiAgLCBjZWwgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgc2V0VGFzayAgICAgICAgICAgID0gZ2xvYmFsLnNldEltbWVkaWF0ZVxuICAsIGNsZWFyVGFzayAgICAgICAgICA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZVxuICAsIE1lc3NhZ2VDaGFubmVsICAgICA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbFxuICAsIGNvdW50ZXIgICAgICAgICAgICA9IDBcbiAgLCBxdWV1ZSAgICAgICAgICAgICAgPSB7fVxuICAsIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnXG4gICwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24oKXtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIGlmKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSl7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYoIXNldFRhc2sgfHwgIWNsZWFyVGFzayl7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZihyZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcycpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmKE1lc3NhZ2VDaGFubmVsKXtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuICAgIHBvcnQgICAgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogICBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59OyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07IiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59OyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07IiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07IiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59OyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59OyIsInZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59OyIsInZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG59OyIsImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpOyIsInZhciBzdG9yZSAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpXG4gICwgdWlkICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgU3ltYm9sICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbFxuICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlOyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59OyIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZ2V0ICAgICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3IgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBpdGVyRm4gPSBnZXQoaXQpO1xuICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTsiLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmlzSXRlcmFibGUgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPID0gT2JqZWN0KGl0KTtcbiAgcmV0dXJuIE9bSVRFUkFUT1JdICE9PSB1bmRlZmluZWRcbiAgICB8fCAnQEBpdGVyYXRvcicgaW4gT1xuICAgIHx8IEl0ZXJhdG9ycy5oYXNPd25Qcm9wZXJ0eShjbGFzc29mKE8pKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKVxuICAsIHN0ZXAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGtpbmQgID0gdGhpcy5fa1xuICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge2NyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpfSk7IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mfSk7IiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldH0pOyIsIiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2xhc3NvZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgJGV4cG9ydCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBpc09iamVjdCAgICAgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIGFuSW5zdGFuY2UgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJylcbiAgLCBmb3JPZiAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19mb3Itb2YnKVxuICAsIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKVxuICAsIHRhc2sgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXRcbiAgLCBtaWNyb3Rhc2sgICAgICAgICAgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpXG4gICwgUFJPTUlTRSAgICAgICAgICAgID0gJ1Byb21pc2UnXG4gICwgVHlwZUVycm9yICAgICAgICAgID0gZ2xvYmFsLlR5cGVFcnJvclxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgJFByb21pc2UgICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBpc05vZGUgICAgICAgICAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuICAsIGVtcHR5ICAgICAgICAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBJbnRlcm5hbCwgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xuXG52YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24oKXtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSAgICAgPSAkUHJvbWlzZS5yZXNvbHZlKDEpXG4gICAgICAsIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbihleGVjKXsgZXhlYyhlbXB0eSwgZW1wdHkpOyB9O1xuICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpICYmIHByb21pc2UudGhlbihlbXB0eSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgc2FtZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24oYSwgYil7XG4gIC8vIHdpdGggbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuICByZXR1cm4gYSA9PT0gYiB8fCBhID09PSAkUHJvbWlzZSAmJiBiID09PSBXcmFwcGVyO1xufTtcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICByZXR1cm4gc2FtZUNvbnN0cnVjdG9yKCRQcm9taXNlLCBDKVxuICAgID8gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgOiBuZXcgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xufTtcbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbigkJHJlc29sdmUsICQkcmVqZWN0KXtcbiAgICBpZihyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ICA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCAgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn07XG52YXIgcGVyZm9ybSA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIGV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgfVxufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbihwcm9taXNlLCBpc1JlamVjdCl7XG4gIGlmKHByb21pc2UuX24pcmV0dXJuO1xuICBwcm9taXNlLl9uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYztcbiAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdlxuICAgICAgLCBvayAgICA9IHByb21pc2UuX3MgPT0gMVxuICAgICAgLCBpICAgICA9IDA7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKHJlYWN0aW9uKXtcbiAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWxcbiAgICAgICAgLCByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZVxuICAgICAgICAsIHJlamVjdCAgPSByZWFjdGlvbi5yZWplY3RcbiAgICAgICAgLCBkb21haW4gID0gcmVhY3Rpb24uZG9tYWluXG4gICAgICAgICwgcmVzdWx0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYoaGFuZGxlcil7XG4gICAgICAgICAgaWYoIW9rKXtcbiAgICAgICAgICAgIGlmKHByb21pc2UuX2ggPT0gMilvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihoYW5kbGVyID09PSB0cnVlKXJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7XG4gICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKXtcbiAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpe1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHByb21pc2UuX2MgPSBbXTtcbiAgICBwcm9taXNlLl9uID0gZmFsc2U7XG4gICAgaWYoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpb25VbmhhbmRsZWQocHJvbWlzZSk7XG4gIH0pO1xufTtcbnZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgYWJydXB0LCBoYW5kbGVyLCBjb25zb2xlO1xuICAgIGlmKGlzVW5oYW5kbGVkKHByb21pc2UpKXtcbiAgICAgIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoaXNOb2RlKXtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pe1xuICAgICAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWV9KTtcbiAgICAgICAgfSBlbHNlIGlmKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3Ipe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcbiAgICBpZihhYnJ1cHQpdGhyb3cgYWJydXB0LmVycm9yO1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgaWYocHJvbWlzZS5faCA9PSAxKXJldHVybiBmYWxzZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jXG4gICAgLCBpICAgICA9IDBcbiAgICAsIHJlYWN0aW9uO1xuICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcbiAgICByZWFjdGlvbiA9IGNoYWluW2krK107XG4gICAgaWYocmVhY3Rpb24uZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3Rpb24ucHJvbWlzZSkpcmV0dXJuIGZhbHNlO1xuICB9IHJldHVybiB0cnVlO1xufTtcbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmKGlzTm9kZSl7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpe1xuICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92fSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICBwcm9taXNlLl92ID0gdmFsdWU7XG4gIHByb21pc2UuX3MgPSAyO1xuICBpZighcHJvbWlzZS5fYSlwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcHJvbWlzZSA9IHRoaXNcbiAgICAsIHRoZW47XG4gIGlmKHByb21pc2UuX2QpcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYocHJvbWlzZSA9PT0gdmFsdWUpdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgaWYodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKXtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoKGUpe1xuICAgICRyZWplY3QuY2FsbCh7X3c6IHByb21pc2UsIF9kOiBmYWxzZX0sIGUpOyAvLyB3cmFwXG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZighVVNFX05BVElWRSl7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICBJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpO1xuICAgIH0gY2F0Y2goZXJyKXtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG4gICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSB2YWx1ZVxuICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcbiAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpe1xuICAgICAgdmFyIHJlYWN0aW9uICAgID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayAgICAgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgICA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX2EpdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX3Mpbm90aWZ5KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHByb21pc2UgID0gbmV3IEludGVybmFsO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCAgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiAkUHJvbWlzZX0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKXtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVqZWN0ICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpe1xuICAgIC8vIGluc3RhbmNlb2YgaW5zdGVhZCBvZiBpbnRlcm5hbCBzbG90IGNoZWNrIGJlY2F1c2Ugd2Ugc2hvdWxkIGZpeCBpdCB3aXRob3V0IHJlcGxhY2VtZW50IG5hdGl2ZSBQcm9taXNlIGNvcmVcbiAgICBpZih4IGluc3RhbmNlb2YgJFByb21pc2UgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKXJldHVybiB4O1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcylcbiAgICAgICwgJCRyZXNvbHZlICA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAkJHJlc29sdmUoeCk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpe1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZXNvbHZlICAgID0gY2FwYWJpbGl0eS5yZXNvbHZlXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgdmFyIHZhbHVlcyAgICA9IFtdXG4gICAgICAgICwgaW5kZXggICAgID0gMFxuICAgICAgICAsIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuICAgICAgICB2YXIgJGluZGV4ICAgICAgICA9IGluZGV4KytcbiAgICAgICAgICAsIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICBpZihhbHJlYWR5Q2FsbGVkKXJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkICA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZihhYnJ1cHQpcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcbiAgICAgICwgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgREVTQ1JJUFRPUlMgICAgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIE1FVEEgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWVxuICAsICRmYWlscyAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuL193a3MnKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgd2tzRGVmaW5lICAgICAgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2tleW9mJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpXG4gICwgaXNBcnJheSAgICAgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheScpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgX2NyZWF0ZSAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBnT1BORXh0ICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpXG4gICwgJEdPUEQgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICwgJERQICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsICRrZXlzICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuICAsIGRQICAgICAgICAgICAgID0gJERQLmZcbiAgLCBnT1BOICAgICAgICAgICA9IGdPUE5FeHQuZlxuICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cbiAgLCBfc3RyaW5naWZ5ICAgICA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeVxuICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcbiAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG4gICwgVE9fUFJJTUlUSVZFICAgPSB3a3MoJ3RvUHJpbWl0aXZlJylcbiAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcbiAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG4gICwgVVNFX05BVElWRSAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvKSRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIGl0ICA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cbiAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIVVTRV9OQVRJVkUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKXNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0fSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKXtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfVxufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbmZvcih2YXIgc3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzKHN5bWJvbHNbaSsrXSk7XG5cbmZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbigpe1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG4gICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgdmFyIGFyZ3MgPSBbaXRdXG4gICAgICAsIGkgICAgPSAxXG4gICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgaWYoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSlyZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufSIsIi8qXG5BdXRob3I6IEdlcmFpbnQgTHVmZiBhbmQgb3RoZXJzXG5ZZWFyOiAyMDEzXG5cblRoaXMgY29kZSBpcyByZWxlYXNlZCBpbnRvIHRoZSBcInB1YmxpYyBkb21haW5cIiBieSBpdHMgYXV0aG9yKHMpLiAgQW55Ym9keSBtYXkgdXNlLCBhbHRlciBhbmQgZGlzdHJpYnV0ZSB0aGUgY29kZSB3aXRob3V0IHJlc3RyaWN0aW9uLiAgVGhlIGF1dGhvciBtYWtlcyBubyBndWFyYW50ZWVzLCBhbmQgdGFrZXMgbm8gbGlhYmlsaXR5IG9mIGFueSBraW5kIGZvciB1c2Ugb2YgdGhpcyBjb2RlLlxuXG5JZiB5b3UgZmluZCBhIGJ1ZyBvciBtYWtlIGFuIGltcHJvdmVtZW50LCBpdCB3b3VsZCBiZSBjb3VydGVvdXMgdG8gbGV0IHRoZSBhdXRob3Iga25vdywgYnV0IGl0IGlzIG5vdCBjb21wdWxzb3J5LlxuKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyl7XG4gICAgLy8gQ29tbW9uSlMuIERlZmluZSBleHBvcnQuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZ2xvYmFsLnR2NCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZPYmplY3QlMkZrZXlzXG5pZiAoIU9iamVjdC5rZXlzKSB7XG5cdE9iamVjdC5rZXlzID0gKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuXHRcdFx0aGFzRG9udEVudW1CdWcgPSAhKHt0b1N0cmluZzogbnVsbH0pLnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpLFxuXHRcdFx0ZG9udEVudW1zID0gW1xuXHRcdFx0XHQndG9TdHJpbmcnLFxuXHRcdFx0XHQndG9Mb2NhbGVTdHJpbmcnLFxuXHRcdFx0XHQndmFsdWVPZicsXG5cdFx0XHRcdCdoYXNPd25Qcm9wZXJ0eScsXG5cdFx0XHRcdCdpc1Byb3RvdHlwZU9mJyxcblx0XHRcdFx0J3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcblx0XHRcdFx0J2NvbnN0cnVjdG9yJ1xuXHRcdFx0XSxcblx0XHRcdGRvbnRFbnVtc0xlbmd0aCA9IGRvbnRFbnVtcy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0aWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicgfHwgb2JqID09PSBudWxsKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXN1bHQgPSBbXTtcblxuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBvYmopIHtcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKHByb3ApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChoYXNEb250RW51bUJ1Zykge1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGkgPCBkb250RW51bXNMZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgZG9udEVudW1zW2ldKSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2goZG9udEVudW1zW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0fSkoKTtcbn1cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGVcbmlmICghT2JqZWN0LmNyZWF0ZSkge1xuXHRPYmplY3QuY3JlYXRlID0gKGZ1bmN0aW9uKCl7XG5cdFx0ZnVuY3Rpb24gRigpe31cblxuXHRcdHJldHVybiBmdW5jdGlvbihvKXtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignT2JqZWN0LmNyZWF0ZSBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgb25lIHBhcmFtZXRlci4nKTtcblx0XHRcdH1cblx0XHRcdEYucHJvdG90eXBlID0gbztcblx0XHRcdHJldHVybiBuZXcgRigpO1xuXHRcdH07XG5cdH0pKCk7XG59XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5P3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmlzQXJyYXlcbmlmKCFBcnJheS5pc0FycmF5KSB7XG5cdEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiAodkFyZykge1xuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodkFyZykgPT09IFwiW29iamVjdCBBcnJheV1cIjtcblx0fTtcbn1cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2Y/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkFycmF5JTJGaW5kZXhPZlxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuXHRBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50IC8qLCBmcm9tSW5kZXggKi8gKSB7XG5cdFx0aWYgKHRoaXMgPT09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblx0XHR9XG5cdFx0dmFyIHQgPSBPYmplY3QodGhpcyk7XG5cdFx0dmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuXG5cdFx0aWYgKGxlbiA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH1cblx0XHR2YXIgbiA9IDA7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRuID0gTnVtYmVyKGFyZ3VtZW50c1sxXSk7XG5cdFx0XHRpZiAobiAhPT0gbikgeyAvLyBzaG9ydGN1dCBmb3IgdmVyaWZ5aW5nIGlmIGl0J3MgTmFOXG5cdFx0XHRcdG4gPSAwO1xuXHRcdFx0fSBlbHNlIGlmIChuICE9PSAwICYmIG4gIT09IEluZmluaXR5ICYmIG4gIT09IC1JbmZpbml0eSkge1xuXHRcdFx0XHRuID0gKG4gPiAwIHx8IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobikpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobiA+PSBsZW4pIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9XG5cdFx0dmFyIGsgPSBuID49IDAgPyBuIDogTWF0aC5tYXgobGVuIC0gTWF0aC5hYnMobiksIDApO1xuXHRcdGZvciAoOyBrIDwgbGVuOyBrKyspIHtcblx0XHRcdGlmIChrIGluIHQgJiYgdFtrXSA9PT0gc2VhcmNoRWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm4gaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9O1xufVxuXG4vLyBHcnVuZ2V5IE9iamVjdC5pc0Zyb3plbiBoYWNrXG5pZiAoIU9iamVjdC5pc0Zyb3plbikge1xuXHRPYmplY3QuaXNGcm96ZW4gPSBmdW5jdGlvbiAob2JqKSB7XG5cdFx0dmFyIGtleSA9IFwidHY0X3Rlc3RfZnJvemVuX2tleVwiO1xuXHRcdHdoaWxlIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0a2V5ICs9IE1hdGgucmFuZG9tKCk7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRvYmpba2V5XSA9IHRydWU7XG5cdFx0XHRkZWxldGUgb2JqW2tleV07XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9O1xufVxuLy8gQmFzZWQgb246IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXJhaW50bHVmZi91cmktdGVtcGxhdGVzLCBidXQgd2l0aCBhbGwgdGhlIGRlLXN1YnN0aXR1dGlvbiBzdHVmZiByZW1vdmVkXG5cbnZhciB1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVycyA9IHtcblx0XCIrXCI6IHRydWUsXG5cdFwiI1wiOiB0cnVlLFxuXHRcIi5cIjogdHJ1ZSxcblx0XCIvXCI6IHRydWUsXG5cdFwiO1wiOiB0cnVlLFxuXHRcIj9cIjogdHJ1ZSxcblx0XCImXCI6IHRydWVcbn07XG52YXIgdXJpVGVtcGxhdGVTdWZmaWNlcyA9IHtcblx0XCIqXCI6IHRydWVcbn07XG5cbmZ1bmN0aW9uIG5vdFJlYWxseVBlcmNlbnRFbmNvZGUoc3RyaW5nKSB7XG5cdHJldHVybiBlbmNvZGVVUkkoc3RyaW5nKS5yZXBsYWNlKC8lMjVbMC05XVswLTldL2csIGZ1bmN0aW9uIChkb3VibGVFbmNvZGVkKSB7XG5cdFx0cmV0dXJuIFwiJVwiICsgZG91YmxlRW5jb2RlZC5zdWJzdHJpbmcoMyk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiB1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihzcGVjKSB7XG5cdHZhciBtb2RpZmllciA9IFwiXCI7XG5cdGlmICh1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVyc1tzcGVjLmNoYXJBdCgwKV0pIHtcblx0XHRtb2RpZmllciA9IHNwZWMuY2hhckF0KDApO1xuXHRcdHNwZWMgPSBzcGVjLnN1YnN0cmluZygxKTtcblx0fVxuXHR2YXIgc2VwYXJhdG9yID0gXCJcIjtcblx0dmFyIHByZWZpeCA9IFwiXCI7XG5cdHZhciBzaG91bGRFc2NhcGUgPSB0cnVlO1xuXHR2YXIgc2hvd1ZhcmlhYmxlcyA9IGZhbHNlO1xuXHR2YXIgdHJpbUVtcHR5U3RyaW5nID0gZmFsc2U7XG5cdGlmIChtb2RpZmllciA9PT0gJysnKSB7XG5cdFx0c2hvdWxkRXNjYXBlID0gZmFsc2U7XG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09IFwiLlwiKSB7XG5cdFx0cHJlZml4ID0gXCIuXCI7XG5cdFx0c2VwYXJhdG9yID0gXCIuXCI7XG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09IFwiL1wiKSB7XG5cdFx0cHJlZml4ID0gXCIvXCI7XG5cdFx0c2VwYXJhdG9yID0gXCIvXCI7XG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICcjJykge1xuXHRcdHByZWZpeCA9IFwiI1wiO1xuXHRcdHNob3VsZEVzY2FwZSA9IGZhbHNlO1xuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnOycpIHtcblx0XHRwcmVmaXggPSBcIjtcIjtcblx0XHRzZXBhcmF0b3IgPSBcIjtcIjtcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcblx0XHR0cmltRW1wdHlTdHJpbmcgPSB0cnVlO1xuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnPycpIHtcblx0XHRwcmVmaXggPSBcIj9cIjtcblx0XHRzZXBhcmF0b3IgPSBcIiZcIjtcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJyYnKSB7XG5cdFx0cHJlZml4ID0gXCImXCI7XG5cdFx0c2VwYXJhdG9yID0gXCImXCI7XG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XG5cdH1cblxuXHR2YXIgdmFyTmFtZXMgPSBbXTtcblx0dmFyIHZhckxpc3QgPSBzcGVjLnNwbGl0KFwiLFwiKTtcblx0dmFyIHZhclNwZWNzID0gW107XG5cdHZhciB2YXJTcGVjTWFwID0ge307XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdmFyTGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB2YXJOYW1lID0gdmFyTGlzdFtpXTtcblx0XHR2YXIgdHJ1bmNhdGUgPSBudWxsO1xuXHRcdGlmICh2YXJOYW1lLmluZGV4T2YoXCI6XCIpICE9PSAtMSkge1xuXHRcdFx0dmFyIHBhcnRzID0gdmFyTmFtZS5zcGxpdChcIjpcIik7XG5cdFx0XHR2YXJOYW1lID0gcGFydHNbMF07XG5cdFx0XHR0cnVuY2F0ZSA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7XG5cdFx0fVxuXHRcdHZhciBzdWZmaWNlcyA9IHt9O1xuXHRcdHdoaWxlICh1cmlUZW1wbGF0ZVN1ZmZpY2VzW3Zhck5hbWUuY2hhckF0KHZhck5hbWUubGVuZ3RoIC0gMSldKSB7XG5cdFx0XHRzdWZmaWNlc1t2YXJOYW1lLmNoYXJBdCh2YXJOYW1lLmxlbmd0aCAtIDEpXSA9IHRydWU7XG5cdFx0XHR2YXJOYW1lID0gdmFyTmFtZS5zdWJzdHJpbmcoMCwgdmFyTmFtZS5sZW5ndGggLSAxKTtcblx0XHR9XG5cdFx0dmFyIHZhclNwZWMgPSB7XG5cdFx0XHR0cnVuY2F0ZTogdHJ1bmNhdGUsXG5cdFx0XHRuYW1lOiB2YXJOYW1lLFxuXHRcdFx0c3VmZmljZXM6IHN1ZmZpY2VzXG5cdFx0fTtcblx0XHR2YXJTcGVjcy5wdXNoKHZhclNwZWMpO1xuXHRcdHZhclNwZWNNYXBbdmFyTmFtZV0gPSB2YXJTcGVjO1xuXHRcdHZhck5hbWVzLnB1c2godmFyTmFtZSk7XG5cdH1cblx0dmFyIHN1YkZ1bmN0aW9uID0gZnVuY3Rpb24gKHZhbHVlRnVuY3Rpb24pIHtcblx0XHR2YXIgcmVzdWx0ID0gXCJcIjtcblx0XHR2YXIgc3RhcnRJbmRleCA9IDA7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJTcGVjcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHZhclNwZWMgPSB2YXJTcGVjc1tpXTtcblx0XHRcdHZhciB2YWx1ZSA9IHZhbHVlRnVuY3Rpb24odmFyU3BlYy5uYW1lKTtcblx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHx8ICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApKSB7XG5cdFx0XHRcdHN0YXJ0SW5kZXgrKztcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaSA9PT0gc3RhcnRJbmRleCkge1xuXHRcdFx0XHRyZXN1bHQgKz0gcHJlZml4O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0ICs9IChzZXBhcmF0b3IgfHwgXCIsXCIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzKSB7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRpZiAoaiA+IDApIHtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyAoc2VwYXJhdG9yIHx8IFwiLFwiKSA6IFwiLFwiO1xuXHRcdFx0XHRcdFx0aWYgKHZhclNwZWMuc3VmZmljZXNbJyonXSAmJiBzaG93VmFyaWFibGVzKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtqXSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWVbal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcyAmJiAhdmFyU3BlYy5zdWZmaWNlc1snKiddKSB7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBmaXJzdCA9IHRydWU7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRcdGlmICghZmlyc3QpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyAoc2VwYXJhdG9yIHx8IFwiLFwiKSA6IFwiLFwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xuXHRcdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQoa2V5KS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZShrZXkpO1xuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyAnPScgOiBcIixcIjtcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2tleV0pLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWU7XG5cdFx0XHRcdFx0aWYgKCF0cmltRW1wdHlTdHJpbmcgfHwgdmFsdWUgIT09IFwiXCIpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBcIj1cIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHZhclNwZWMudHJ1bmNhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhclNwZWMudHJ1bmNhdGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoLyEvZywgXCIlMjFcIik6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRzdWJGdW5jdGlvbi52YXJOYW1lcyA9IHZhck5hbWVzO1xuXHRyZXR1cm4ge1xuXHRcdHByZWZpeDogcHJlZml4LFxuXHRcdHN1YnN0aXR1dGlvbjogc3ViRnVuY3Rpb25cblx0fTtcbn1cblxuZnVuY3Rpb24gVXJpVGVtcGxhdGUodGVtcGxhdGUpIHtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFVyaVRlbXBsYXRlKSkge1xuXHRcdHJldHVybiBuZXcgVXJpVGVtcGxhdGUodGVtcGxhdGUpO1xuXHR9XG5cdHZhciBwYXJ0cyA9IHRlbXBsYXRlLnNwbGl0KFwie1wiKTtcblx0dmFyIHRleHRQYXJ0cyA9IFtwYXJ0cy5zaGlmdCgpXTtcblx0dmFyIHByZWZpeGVzID0gW107XG5cdHZhciBzdWJzdGl0dXRpb25zID0gW107XG5cdHZhciB2YXJOYW1lcyA9IFtdO1xuXHR3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xuXHRcdHZhciBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcblx0XHR2YXIgc3BlYyA9IHBhcnQuc3BsaXQoXCJ9XCIpWzBdO1xuXHRcdHZhciByZW1haW5kZXIgPSBwYXJ0LnN1YnN0cmluZyhzcGVjLmxlbmd0aCArIDEpO1xuXHRcdHZhciBmdW5jcyA9IHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHNwZWMpO1xuXHRcdHN1YnN0aXR1dGlvbnMucHVzaChmdW5jcy5zdWJzdGl0dXRpb24pO1xuXHRcdHByZWZpeGVzLnB1c2goZnVuY3MucHJlZml4KTtcblx0XHR0ZXh0UGFydHMucHVzaChyZW1haW5kZXIpO1xuXHRcdHZhck5hbWVzID0gdmFyTmFtZXMuY29uY2F0KGZ1bmNzLnN1YnN0aXR1dGlvbi52YXJOYW1lcyk7XG5cdH1cblx0dGhpcy5maWxsID0gZnVuY3Rpb24gKHZhbHVlRnVuY3Rpb24pIHtcblx0XHR2YXIgcmVzdWx0ID0gdGV4dFBhcnRzWzBdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic3RpdHV0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHN1YnN0aXR1dGlvbiA9IHN1YnN0aXR1dGlvbnNbaV07XG5cdFx0XHRyZXN1bHQgKz0gc3Vic3RpdHV0aW9uKHZhbHVlRnVuY3Rpb24pO1xuXHRcdFx0cmVzdWx0ICs9IHRleHRQYXJ0c1tpICsgMV07XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cdHRoaXMudmFyTmFtZXMgPSB2YXJOYW1lcztcblx0dGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xufVxuVXJpVGVtcGxhdGUucHJvdG90eXBlID0ge1xuXHR0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLnRlbXBsYXRlO1xuXHR9LFxuXHRmaWxsRnJvbU9iamVjdDogZnVuY3Rpb24gKG9iaikge1xuXHRcdHJldHVybiB0aGlzLmZpbGwoZnVuY3Rpb24gKHZhck5hbWUpIHtcblx0XHRcdHJldHVybiBvYmpbdmFyTmFtZV07XG5cdFx0fSk7XG5cdH1cbn07XG52YXIgVmFsaWRhdG9yQ29udGV4dCA9IGZ1bmN0aW9uIFZhbGlkYXRvckNvbnRleHQocGFyZW50LCBjb2xsZWN0TXVsdGlwbGUsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCB0cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdHRoaXMubWlzc2luZyA9IFtdO1xuXHR0aGlzLm1pc3NpbmdNYXAgPSB7fTtcblx0dGhpcy5mb3JtYXRWYWxpZGF0b3JzID0gcGFyZW50ID8gT2JqZWN0LmNyZWF0ZShwYXJlbnQuZm9ybWF0VmFsaWRhdG9ycykgOiB7fTtcblx0dGhpcy5zY2hlbWFzID0gcGFyZW50ID8gT2JqZWN0LmNyZWF0ZShwYXJlbnQuc2NoZW1hcykgOiB7fTtcblx0dGhpcy5jb2xsZWN0TXVsdGlwbGUgPSBjb2xsZWN0TXVsdGlwbGU7XG5cdHRoaXMuZXJyb3JzID0gW107XG5cdHRoaXMuaGFuZGxlRXJyb3IgPSBjb2xsZWN0TXVsdGlwbGUgPyB0aGlzLmNvbGxlY3RFcnJvciA6IHRoaXMucmV0dXJuRXJyb3I7XG5cdGlmIChjaGVja1JlY3Vyc2l2ZSkge1xuXHRcdHRoaXMuY2hlY2tSZWN1cnNpdmUgPSB0cnVlO1xuXHRcdHRoaXMuc2Nhbm5lZCA9IFtdO1xuXHRcdHRoaXMuc2Nhbm5lZEZyb3plbiA9IFtdO1xuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMgPSBbXTtcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzID0gW107XG5cdFx0dGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5ID0gJ3R2NF92YWxpZGF0aW9uX2lkJztcblx0XHR0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXkgPSAndHY0X3ZhbGlkYXRpb25fZXJyb3JzX2lkJztcblx0fVxuXHRpZiAodHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyA9IHRydWU7XG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdH1cblx0dGhpcy5lcnJvclJlcG9ydGVyID0gZXJyb3JSZXBvcnRlciB8fCBkZWZhdWx0RXJyb3JSZXBvcnRlcignZW4nKTtcblx0aWYgKHR5cGVvZiB0aGlzLmVycm9yUmVwb3J0ZXIgPT09ICdzdHJpbmcnKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdkZWJ1ZycpO1xuXHR9XG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzID0ge307XG5cdGlmIChwYXJlbnQpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gcGFyZW50LmRlZmluZWRLZXl3b3Jkcykge1xuXHRcdFx0dGhpcy5kZWZpbmVkS2V5d29yZHNba2V5XSA9IHBhcmVudC5kZWZpbmVkS2V5d29yZHNba2V5XS5zbGljZSgwKTtcblx0XHR9XG5cdH1cbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5kZWZpbmVLZXl3b3JkID0gZnVuY3Rpb24gKGtleXdvcmQsIGtleXdvcmRGdW5jdGlvbikge1xuXHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXSA9IHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdIHx8IFtdO1xuXHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXS5wdXNoKGtleXdvcmRGdW5jdGlvbik7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRXJyb3IgPSBmdW5jdGlvbiAoY29kZSwgbWVzc2FnZVBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycywgZGF0YSwgc2NoZW1hKSB7XG5cdHZhciBlcnJvciA9IG5ldyBWYWxpZGF0aW9uRXJyb3IoY29kZSwgbWVzc2FnZVBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycyk7XG5cdGVycm9yLm1lc3NhZ2UgPSB0aGlzLmVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSk7XG5cdHJldHVybiBlcnJvcjtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5yZXR1cm5FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHRyZXR1cm4gZXJyb3I7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuY29sbGVjdEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdGlmIChlcnJvcikge1xuXHRcdHRoaXMuZXJyb3JzLnB1c2goZXJyb3IpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnByZWZpeEVycm9ycyA9IGZ1bmN0aW9uIChzdGFydEluZGV4LCBkYXRhUGF0aCwgc2NoZW1hUGF0aCkge1xuXHRmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHRoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5lcnJvcnNbaV0gPSB0aGlzLmVycm9yc1tpXS5wcmVmaXhXaXRoKGRhdGFQYXRoLCBzY2hlbWFQYXRoKTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5iYW5Vbmtub3duUHJvcGVydGllcyA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEpIHtcblx0Zm9yICh2YXIgdW5rbm93blBhdGggaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xuXHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5VTktOT1dOX1BST1BFUlRZLCB7cGF0aDogdW5rbm93blBhdGh9LCB1bmtub3duUGF0aCwgXCJcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR2YXIgcmVzdWx0ID0gdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG5cdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5hZGRGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0LCB2YWxpZGF0b3IpIHtcblx0aWYgKHR5cGVvZiBmb3JtYXQgPT09ICdvYmplY3QnKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIGZvcm1hdCkge1xuXHRcdFx0dGhpcy5hZGRGb3JtYXQoa2V5LCBmb3JtYXRba2V5XSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdHRoaXMuZm9ybWF0VmFsaWRhdG9yc1tmb3JtYXRdID0gdmFsaWRhdG9yO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJlc29sdmVSZWZzID0gZnVuY3Rpb24gKHNjaGVtYSwgdXJsSGlzdG9yeSkge1xuXHRpZiAoc2NoZW1hWyckcmVmJ10gIT09IHVuZGVmaW5lZCkge1xuXHRcdHVybEhpc3RvcnkgPSB1cmxIaXN0b3J5IHx8IHt9O1xuXHRcdGlmICh1cmxIaXN0b3J5W3NjaGVtYVsnJHJlZiddXSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5DSVJDVUxBUl9SRUZFUkVOQ0UsIHt1cmxzOiBPYmplY3Qua2V5cyh1cmxIaXN0b3J5KS5qb2luKCcsICcpfSwgJycsICcnLCBudWxsLCB1bmRlZmluZWQsIHNjaGVtYSk7XG5cdFx0fVxuXHRcdHVybEhpc3Rvcnlbc2NoZW1hWyckcmVmJ11dID0gdHJ1ZTtcblx0XHRzY2hlbWEgPSB0aGlzLmdldFNjaGVtYShzY2hlbWFbJyRyZWYnXSwgdXJsSGlzdG9yeSk7XG5cdH1cblx0cmV0dXJuIHNjaGVtYTtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWEgPSBmdW5jdGlvbiAodXJsLCB1cmxIaXN0b3J5KSB7XG5cdHZhciBzY2hlbWE7XG5cdGlmICh0aGlzLnNjaGVtYXNbdXJsXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2NoZW1hID0gdGhpcy5zY2hlbWFzW3VybF07XG5cdFx0cmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hLCB1cmxIaXN0b3J5KTtcblx0fVxuXHR2YXIgYmFzZVVybCA9IHVybDtcblx0dmFyIGZyYWdtZW50ID0gXCJcIjtcblx0aWYgKHVybC5pbmRleE9mKCcjJykgIT09IC0xKSB7XG5cdFx0ZnJhZ21lbnQgPSB1cmwuc3Vic3RyaW5nKHVybC5pbmRleE9mKFwiI1wiKSArIDEpO1xuXHRcdGJhc2VVcmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKFwiI1wiKSk7XG5cdH1cblx0aWYgKHR5cGVvZiB0aGlzLnNjaGVtYXNbYmFzZVVybF0gPT09ICdvYmplY3QnKSB7XG5cdFx0c2NoZW1hID0gdGhpcy5zY2hlbWFzW2Jhc2VVcmxdO1xuXHRcdHZhciBwb2ludGVyUGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChmcmFnbWVudCk7XG5cdFx0aWYgKHBvaW50ZXJQYXRoID09PSBcIlwiKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xuXHRcdH0gZWxzZSBpZiAocG9pbnRlclBhdGguY2hhckF0KDApICE9PSBcIi9cIikge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dmFyIHBhcnRzID0gcG9pbnRlclBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDEpO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBjb21wb25lbnQgPSBwYXJ0c1tpXS5yZXBsYWNlKC9+MS9nLCBcIi9cIikucmVwbGFjZSgvfjAvZywgXCJ+XCIpO1xuXHRcdFx0aWYgKHNjaGVtYVtjb21wb25lbnRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c2NoZW1hID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdHNjaGVtYSA9IHNjaGVtYVtjb21wb25lbnRdO1xuXHRcdH1cblx0XHRpZiAoc2NoZW1hICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XG5cdFx0fVxuXHR9XG5cdGlmICh0aGlzLm1pc3NpbmdbYmFzZVVybF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMubWlzc2luZy5wdXNoKGJhc2VVcmwpO1xuXHRcdHRoaXMubWlzc2luZ1tiYXNlVXJsXSA9IGJhc2VVcmw7XG5cdFx0dGhpcy5taXNzaW5nTWFwW2Jhc2VVcmxdID0gYmFzZVVybDtcblx0fVxufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnNlYXJjaFNjaGVtYXMgPSBmdW5jdGlvbiAoc2NoZW1hLCB1cmwpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hW2ldLCB1cmwpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYSA9PT0gXCJvYmplY3RcIikge1xuXHRcdGlmICh0eXBlb2Ygc2NoZW1hLmlkID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRpZiAoaXNUcnVzdGVkVXJsKHVybCwgc2NoZW1hLmlkKSkge1xuXHRcdFx0XHRpZiAodGhpcy5zY2hlbWFzW3NjaGVtYS5pZF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHRoaXMuc2NoZW1hc1tzY2hlbWEuaWRdID0gc2NoZW1hO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcblx0XHRcdGlmIChrZXkgIT09IFwiZW51bVwiKSB7XG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hW2tleV0gPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdFx0XHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hW2tleV0sIHVybCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoa2V5ID09PSBcIiRyZWZcIikge1xuXHRcdFx0XHRcdHZhciB1cmkgPSBnZXREb2N1bWVudFVyaShzY2hlbWFba2V5XSk7XG5cdFx0XHRcdFx0aWYgKHVyaSAmJiB0aGlzLnNjaGVtYXNbdXJpXSA9PT0gdW5kZWZpbmVkICYmIHRoaXMubWlzc2luZ01hcFt1cmldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdHRoaXMubWlzc2luZ01hcFt1cmldID0gdXJpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwsIHNjaGVtYSkge1xuXHQvL292ZXJsb2FkXG5cdGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc2NoZW1hID09PSAndW5kZWZpbmVkJykge1xuXHRcdGlmICh0eXBlb2YgdXJsID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdXJsLmlkID09PSAnc3RyaW5nJykge1xuXHRcdFx0c2NoZW1hID0gdXJsO1xuXHRcdFx0dXJsID0gc2NoZW1hLmlkO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKHVybCA9PT0gZ2V0RG9jdW1lbnRVcmkodXJsKSArIFwiI1wiKSB7XG5cdFx0Ly8gUmVtb3ZlIGVtcHR5IGZyYWdtZW50XG5cdFx0dXJsID0gZ2V0RG9jdW1lbnRVcmkodXJsKTtcblx0fVxuXHR0aGlzLnNjaGVtYXNbdXJsXSA9IHNjaGVtYTtcblx0ZGVsZXRlIHRoaXMubWlzc2luZ01hcFt1cmxdO1xuXHRub3JtU2NoZW1hKHNjaGVtYSwgdXJsKTtcblx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYSwgdXJsKTtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYU1hcCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIG1hcCA9IHt9O1xuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zY2hlbWFzKSB7XG5cdFx0bWFwW2tleV0gPSB0aGlzLnNjaGVtYXNba2V5XTtcblx0fVxuXHRyZXR1cm4gbWFwO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0U2NoZW1hVXJpcyA9IGZ1bmN0aW9uIChmaWx0ZXJSZWdFeHApIHtcblx0dmFyIGxpc3QgPSBbXTtcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuc2NoZW1hcykge1xuXHRcdGlmICghZmlsdGVyUmVnRXhwIHx8IGZpbHRlclJlZ0V4cC50ZXN0KGtleSkpIHtcblx0XHRcdGxpc3QucHVzaChrZXkpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbGlzdDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldE1pc3NpbmdVcmlzID0gZnVuY3Rpb24gKGZpbHRlclJlZ0V4cCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5taXNzaW5nTWFwKSB7XG5cdFx0aWYgKCFmaWx0ZXJSZWdFeHAgfHwgZmlsdGVyUmVnRXhwLnRlc3Qoa2V5KSkge1xuXHRcdFx0bGlzdC5wdXNoKGtleSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsaXN0O1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZHJvcFNjaGVtYXMgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMuc2NoZW1hcyA9IHt9O1xuXHR0aGlzLnJlc2V0KCk7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMubWlzc2luZyA9IFtdO1xuXHR0aGlzLm1pc3NpbmdNYXAgPSB7fTtcblx0dGhpcy5lcnJvcnMgPSBbXTtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQWxsID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgZGF0YVBhdGhQYXJ0cywgc2NoZW1hUGF0aFBhcnRzLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0dmFyIHRvcExldmVsO1xuXHRzY2hlbWEgPSB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSk7XG5cdGlmICghc2NoZW1hKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XG5cdFx0dGhpcy5lcnJvcnMucHVzaChzY2hlbWEpO1xuXHRcdHJldHVybiBzY2hlbWE7XG5cdH1cblxuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHR2YXIgZnJvemVuSW5kZXgsIHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCA9IG51bGwsIHNjYW5uZWRTY2hlbWFzSW5kZXggPSBudWxsO1xuXHRpZiAodGhpcy5jaGVja1JlY3Vyc2l2ZSAmJiBkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuXHRcdHRvcExldmVsID0gIXRoaXMuc2Nhbm5lZC5sZW5ndGg7XG5cdFx0aWYgKGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSkge1xuXHRcdFx0dmFyIHNjaGVtYUluZGV4ID0gZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2Yoc2NoZW1hKTtcblx0XHRcdGlmIChzY2hlbWFJbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5jb25jYXQoZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3NjaGVtYUluZGV4XSk7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoT2JqZWN0LmlzRnJvemVuKGRhdGEpKSB7XG5cdFx0XHRmcm96ZW5JbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plbi5pbmRleE9mKGRhdGEpO1xuXHRcdFx0aWYgKGZyb3plbkluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHR2YXIgZnJvemVuU2NoZW1hSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XS5pbmRleE9mKHNjaGVtYSk7XG5cdFx0XHRcdGlmIChmcm96ZW5TY2hlbWFJbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdCh0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtmcm96ZW5TY2hlbWFJbmRleF0pO1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuc2Nhbm5lZC5wdXNoKGRhdGEpO1xuXHRcdGlmIChPYmplY3QuaXNGcm96ZW4oZGF0YSkpIHtcblx0XHRcdGlmIChmcm96ZW5JbmRleCA9PT0gLTEpIHtcblx0XHRcdFx0ZnJvemVuSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW4ubGVuZ3RoO1xuXHRcdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW4ucHVzaChkYXRhKTtcblx0XHRcdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcy5wdXNoKFtdKTtcblx0XHRcdH1cblx0XHRcdHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbZnJvemVuSW5kZXhdLmxlbmd0aDtcblx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbZnJvemVuSW5kZXhdW3NjYW5uZWRGcm96ZW5TY2hlbWFJbmRleF0gPSBzY2hlbWE7XG5cdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gW107XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICghZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGEsIHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSwge1xuXHRcdFx0XHRcdFx0dmFsdWU6IFtdLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGEsIHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSwge1xuXHRcdFx0XHRcdFx0dmFsdWU6IFtdLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHQvL0lFIDcvOCB3b3JrYXJvdW5kXG5cdFx0XHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldID0gW107XG5cdFx0XHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldID0gW107XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNjYW5uZWRTY2hlbWFzSW5kZXggPSBkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0ubGVuZ3RoO1xuXHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldW3NjYW5uZWRTY2hlbWFzSW5kZXhdID0gc2NoZW1hO1xuXHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3NjYW5uZWRTY2hlbWFzSW5kZXhdID0gW107XG5cdFx0fVxuXHR9XG5cblx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVCYXNpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlTnVtZXJpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlU3RyaW5nKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUh5cGVybWVkaWEoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUZvcm1hdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IG51bGw7XG5cblx0aWYgKHRvcExldmVsKSB7XG5cdFx0d2hpbGUgKHRoaXMuc2Nhbm5lZC5sZW5ndGgpIHtcblx0XHRcdHZhciBpdGVtID0gdGhpcy5zY2FubmVkLnBvcCgpO1xuXHRcdFx0ZGVsZXRlIGl0ZW1bdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XTtcblx0XHR9XG5cdFx0dGhpcy5zY2FubmVkRnJvemVuID0gW107XG5cdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcyA9IFtdO1xuXHR9XG5cblx0aWYgKGVycm9yIHx8IGVycm9yQ291bnQgIT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xuXHRcdHdoaWxlICgoZGF0YVBhdGhQYXJ0cyAmJiBkYXRhUGF0aFBhcnRzLmxlbmd0aCkgfHwgKHNjaGVtYVBhdGhQYXJ0cyAmJiBzY2hlbWFQYXRoUGFydHMubGVuZ3RoKSkge1xuXHRcdFx0dmFyIGRhdGFQYXJ0ID0gKGRhdGFQYXRoUGFydHMgJiYgZGF0YVBhdGhQYXJ0cy5sZW5ndGgpID8gXCJcIiArIGRhdGFQYXRoUGFydHMucG9wKCkgOiBudWxsO1xuXHRcdFx0dmFyIHNjaGVtYVBhcnQgPSAoc2NoZW1hUGF0aFBhcnRzICYmIHNjaGVtYVBhdGhQYXJ0cy5sZW5ndGgpID8gXCJcIiArIHNjaGVtYVBhdGhQYXJ0cy5wb3AoKSA6IG51bGw7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0ZXJyb3IgPSBlcnJvci5wcmVmaXhXaXRoKGRhdGFQYXJ0LCBzY2hlbWFQYXJ0KTtcblx0XHRcdH1cblx0XHRcdHRoaXMucHJlZml4RXJyb3JzKGVycm9yQ291bnQsIGRhdGFQYXJ0LCBzY2hlbWFQYXJ0KTtcblx0XHR9XG5cdH1cblxuXHRpZiAoc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ICE9PSBudWxsKSB7XG5cdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCk7XG5cdH0gZWxzZSBpZiAoc2Nhbm5lZFNjaGVtYXNJbmRleCAhPT0gbnVsbCkge1xuXHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hKSB7XG5cdGlmICh0eXBlb2Ygc2NoZW1hLmZvcm1hdCAhPT0gJ3N0cmluZycgfHwgIXRoaXMuZm9ybWF0VmFsaWRhdG9yc1tzY2hlbWEuZm9ybWF0XSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBlcnJvck1lc3NhZ2UgPSB0aGlzLmZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF0uY2FsbChudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRpZiAodHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ251bWJlcicpIHtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkZPUk1BVF9DVVNUT00sIHttZXNzYWdlOiBlcnJvck1lc3NhZ2V9LCAnJywgJy9mb3JtYXQnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHR9IGVsc2UgaWYgKGVycm9yTWVzc2FnZSAmJiB0eXBlb2YgZXJyb3JNZXNzYWdlID09PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRk9STUFUX0NVU1RPTSwge21lc3NhZ2U6IGVycm9yTWVzc2FnZS5tZXNzYWdlIHx8IFwiP1wifSwgZXJyb3JNZXNzYWdlLmRhdGFQYXRoIHx8ICcnLCBlcnJvck1lc3NhZ2Uuc2NoZW1hUGF0aCB8fCBcIi9mb3JtYXRcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZURlZmluZWRLZXl3b3JkcyA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5kZWZpbmVkS2V5d29yZHMpIHtcblx0XHRpZiAodHlwZW9mIHNjaGVtYVtrZXldID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdHZhciB2YWxpZGF0aW9uRnVuY3Rpb25zID0gdGhpcy5kZWZpbmVkS2V5d29yZHNba2V5XTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHZhbGlkYXRpb25GdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBmdW5jID0gdmFsaWRhdGlvbkZ1bmN0aW9uc1tpXTtcblx0XHRcdHZhciByZXN1bHQgPSBmdW5jKGRhdGEsIHNjaGVtYVtrZXldLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCk7XG5cdFx0XHRpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5LRVlXT1JEX0NVU1RPTSwge2tleToga2V5LCBtZXNzYWdlOiByZXN1bHR9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBrZXkpO1xuXHRcdFx0fSBlbHNlIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0dmFyIGNvZGUgPSByZXN1bHQuY29kZTtcblx0XHRcdFx0aWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdGlmICghRXJyb3JDb2Rlc1tjb2RlXSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgZXJyb3IgY29kZSAodXNlIGRlZmluZUVycm9yKTogJyArIGNvZGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb2RlID0gRXJyb3JDb2Rlc1tjb2RlXTtcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgY29kZSAhPT0gJ251bWJlcicpIHtcblx0XHRcdFx0XHRjb2RlID0gRXJyb3JDb2Rlcy5LRVlXT1JEX0NVU1RPTTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgbWVzc2FnZVBhcmFtcyA9ICh0eXBlb2YgcmVzdWx0Lm1lc3NhZ2UgPT09ICdvYmplY3QnKSA/IHJlc3VsdC5tZXNzYWdlIDoge2tleToga2V5LCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB8fCBcIj9cIn07XG5cdFx0XHRcdHZhciBzY2hlbWFQYXRoID0gcmVzdWx0LnNjaGVtYVBhdGggfHwgKFwiL1wiICsga2V5LnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoY29kZSwgbWVzc2FnZVBhcmFtcywgcmVzdWx0LmRhdGFQYXRoIHx8IG51bGwsIHNjaGVtYVBhdGgsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gcmVjdXJzaXZlQ29tcGFyZShBLCBCKSB7XG5cdGlmIChBID09PSBCKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKEEgJiYgQiAmJiB0eXBlb2YgQSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgQiA9PT0gXCJvYmplY3RcIikge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KEEpICE9PSBBcnJheS5pc0FycmF5KEIpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KEEpKSB7XG5cdFx0XHRpZiAoQS5sZW5ndGggIT09IEIubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgQS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoIXJlY3Vyc2l2ZUNvbXBhcmUoQVtpXSwgQltpXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGtleTtcblx0XHRcdGZvciAoa2V5IGluIEEpIHtcblx0XHRcdFx0aWYgKEJba2V5XSA9PT0gdW5kZWZpbmVkICYmIEFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGtleSBpbiBCKSB7XG5cdFx0XHRcdGlmIChBW2tleV0gPT09IHVuZGVmaW5lZCAmJiBCW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Zm9yIChrZXkgaW4gQSkge1xuXHRcdFx0XHRpZiAoIXJlY3Vyc2l2ZUNvbXBhcmUoQVtrZXldLCBCW2tleV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVCYXNpYyA9IGZ1bmN0aW9uIHZhbGlkYXRlQmFzaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0dmFyIGVycm9yO1xuXHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlVHlwZShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkpIHtcblx0XHRyZXR1cm4gZXJyb3IucHJlZml4V2l0aChudWxsLCBcInR5cGVcIik7XG5cdH1cblx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUVudW0oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpKSB7XG5cdFx0cmV0dXJuIGVycm9yLnByZWZpeFdpdGgobnVsbCwgXCJ0eXBlXCIpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVUeXBlID0gZnVuY3Rpb24gdmFsaWRhdGVUeXBlKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAoc2NoZW1hLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBkYXRhVHlwZSA9IHR5cGVvZiBkYXRhO1xuXHRpZiAoZGF0YSA9PT0gbnVsbCkge1xuXHRcdGRhdGFUeXBlID0gXCJudWxsXCI7XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuXHRcdGRhdGFUeXBlID0gXCJhcnJheVwiO1xuXHR9XG5cdHZhciBhbGxvd2VkVHlwZXMgPSBzY2hlbWEudHlwZTtcblx0aWYgKCFBcnJheS5pc0FycmF5KGFsbG93ZWRUeXBlcykpIHtcblx0XHRhbGxvd2VkVHlwZXMgPSBbYWxsb3dlZFR5cGVzXTtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYWxsb3dlZFR5cGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHR5cGUgPSBhbGxvd2VkVHlwZXNbaV07XG5cdFx0aWYgKHR5cGUgPT09IGRhdGFUeXBlIHx8ICh0eXBlID09PSBcImludGVnZXJcIiAmJiBkYXRhVHlwZSA9PT0gXCJudW1iZXJcIiAmJiAoZGF0YSAlIDEgPT09IDApKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLCB7dHlwZTogZGF0YVR5cGUsIGV4cGVjdGVkOiBhbGxvd2VkVHlwZXMuam9pbihcIi9cIil9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUVudW0gPSBmdW5jdGlvbiB2YWxpZGF0ZUVudW0oZGF0YSwgc2NoZW1hKSB7XG5cdGlmIChzY2hlbWFbXCJlbnVtXCJdID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYVtcImVudW1cIl0ubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZW51bVZhbCA9IHNjaGVtYVtcImVudW1cIl1baV07XG5cdFx0aWYgKHJlY3Vyc2l2ZUNvbXBhcmUoZGF0YSwgZW51bVZhbCkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkVOVU1fTUlTTUFUQ0gsIHt2YWx1ZTogKHR5cGVvZiBKU09OICE9PSAndW5kZWZpbmVkJykgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGF9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU51bWVyaWMgPSBmdW5jdGlvbiB2YWxpZGF0ZU51bWVyaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVNdWx0aXBsZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVNaW5NYXgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU5hTihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCBudWxsO1xufTtcblxudmFyIENMT1NFX0VOT1VHSF9MT1cgPSBNYXRoLnBvdygyLCAtNTEpO1xudmFyIENMT1NFX0VOT1VHSF9ISUdIID0gMSAtIENMT1NFX0VOT1VHSF9MT1c7XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2YoZGF0YSwgc2NoZW1hKSB7XG5cdHZhciBtdWx0aXBsZU9mID0gc2NoZW1hLm11bHRpcGxlT2YgfHwgc2NoZW1hLmRpdmlzaWJsZUJ5O1xuXHRpZiAobXVsdGlwbGVPZiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0aWYgKHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiKSB7XG5cdFx0dmFyIHJlbWFpbmRlciA9IChkYXRhL211bHRpcGxlT2YpJTE7XG5cdFx0aWYgKHJlbWFpbmRlciA+PSBDTE9TRV9FTk9VR0hfTE9XICYmIHJlbWFpbmRlciA8IENMT1NFX0VOT1VHSF9ISUdIKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NVUxUSVBMRV9PRiwge3ZhbHVlOiBkYXRhLCBtdWx0aXBsZU9mOiBtdWx0aXBsZU9mfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTWluTWF4ID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5NYXgoZGF0YSwgc2NoZW1hKSB7XG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGlmIChzY2hlbWEubWluaW11bSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGRhdGEgPCBzY2hlbWEubWluaW11bSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUlOSU1VTSwge3ZhbHVlOiBkYXRhLCBtaW5pbXVtOiBzY2hlbWEubWluaW11bX0sICcnLCAnL21pbmltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0XHRpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gJiYgZGF0YSA9PT0gc2NoZW1hLm1pbmltdW0pIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFLCB7dmFsdWU6IGRhdGEsIG1pbmltdW06IHNjaGVtYS5taW5pbXVtfSwgJycsICcvZXhjbHVzaXZlTWluaW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHR9XG5cdGlmIChzY2hlbWEubWF4aW11bSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGRhdGEgPiBzY2hlbWEubWF4aW11bSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUFYSU1VTSwge3ZhbHVlOiBkYXRhLCBtYXhpbXVtOiBzY2hlbWEubWF4aW11bX0sICcnLCAnL21heGltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0XHRpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gJiYgZGF0YSA9PT0gc2NoZW1hLm1heGltdW0pIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLCB7dmFsdWU6IGRhdGEsIG1heGltdW06IHNjaGVtYS5tYXhpbXVtfSwgJycsICcvZXhjbHVzaXZlTWF4aW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVOYU4gPSBmdW5jdGlvbiB2YWxpZGF0ZU5hTihkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0aWYgKGlzTmFOKGRhdGEpID09PSB0cnVlIHx8IGRhdGEgPT09IEluZmluaXR5IHx8IGRhdGEgPT09IC1JbmZpbml0eSkge1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX05PVF9BX05VTUJFUiwge3ZhbHVlOiBkYXRhfSwgJycsICcvdHlwZScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZyA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHJldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nTGVuZ3RoKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVTdHJpbmdQYXR0ZXJuKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nTGVuZ3RoKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAoc2NoZW1hLm1pbkxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGRhdGEubGVuZ3RoIDwgc2NoZW1hLm1pbkxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfTEVOR1RIX1NIT1JULCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pbkxlbmd0aH0sICcnLCAnL21pbkxlbmd0aCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHR9XG5cdGlmIChzY2hlbWEubWF4TGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoZGF0YS5sZW5ndGggPiBzY2hlbWEubWF4TGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19MRU5HVEhfTE9ORywge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhMZW5ndGh9LCAnJywgJy9tYXhMZW5ndGgnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nUGF0dGVybiA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nUGF0dGVybihkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiIHx8ICh0eXBlb2Ygc2NoZW1hLnBhdHRlcm4gIT09IFwic3RyaW5nXCIgJiYgIShzY2hlbWEucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIHJlZ2V4cDtcblx0aWYgKHNjaGVtYS5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgcmVnZXhwID0gc2NoZW1hLnBhdHRlcm47XG5cdH1cblx0ZWxzZSB7XG5cdCAgdmFyIGJvZHksIGZsYWdzID0gJyc7XG5cdCAgLy8gQ2hlY2sgZm9yIHJlZ3VsYXIgZXhwcmVzc2lvbiBsaXRlcmFsc1xuXHQgIC8vIEBzZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTcuOC41XG5cdCAgdmFyIGxpdGVyYWwgPSBzY2hlbWEucGF0dGVybi5tYXRjaCgvXlxcLyguKylcXC8oW2ltZ10qKSQvKTtcblx0ICBpZiAobGl0ZXJhbCkge1xuXHQgICAgYm9keSA9IGxpdGVyYWxbMV07XG5cdCAgICBmbGFncyA9IGxpdGVyYWxbMl07XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgYm9keSA9IHNjaGVtYS5wYXR0ZXJuO1xuXHQgIH1cblx0ICByZWdleHAgPSBuZXcgUmVnRXhwKGJvZHksIGZsYWdzKTtcblx0fVxuXHRpZiAoIXJlZ2V4cC50ZXN0KGRhdGEpKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfUEFUVEVSTiwge3BhdHRlcm46IHNjaGVtYS5wYXR0ZXJufSwgJycsICcvcGF0dGVybicsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5ID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZUFycmF5TGVuZ3RoKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5TGVuZ3RoID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheUxlbmd0aChkYXRhLCBzY2hlbWEpIHtcblx0dmFyIGVycm9yO1xuXHRpZiAoc2NoZW1hLm1pbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoZGF0YS5sZW5ndGggPCBzY2hlbWEubWluSXRlbXMpIHtcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX0xFTkdUSF9TSE9SVCwge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1pbmltdW06IHNjaGVtYS5taW5JdGVtc30sICcnLCAnL21pbkl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGlmIChzY2hlbWEubWF4SXRlbXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5tYXhJdGVtcykge1xuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfTEVOR1RIX0xPTkcsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4SXRlbXN9LCAnJywgJy9tYXhJdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHNjaGVtYS51bmlxdWVJdGVtcykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZiAocmVjdXJzaXZlQ29tcGFyZShkYXRhW2ldLCBkYXRhW2pdKSkge1xuXHRcdFx0XHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9VTklRVUUsIHttYXRjaDE6IGksIG1hdGNoMjogan0sICcnLCAnL3VuaXF1ZUl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5SXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5SXRlbXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIGVycm9yLCBpO1xuXHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChpIDwgc2NoZW1hLml0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5pdGVtc1tpXSwgW2ldLCBbXCJpdGVtc1wiLCBpXSwgZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBpKSkge1xuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzY2hlbWEuYWRkaXRpb25hbEl0ZW1zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSBcImJvb2xlYW5cIikge1xuXHRcdFx0XHRcdGlmICghc2NoZW1hLmFkZGl0aW9uYWxJdGVtcykge1xuXHRcdFx0XHRcdFx0ZXJyb3IgPSAodGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX0FERElUSU9OQUxfSVRFTVMsIHt9LCAnLycgKyBpLCAnL2FkZGl0aW9uYWxJdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSkpO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMsIFtpXSwgW1wiYWRkaXRpb25hbEl0ZW1zXCJdLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5pdGVtcywgW2ldLCBbXCJpdGVtc1wiXSwgZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBpKSkge1xuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3QgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHwgZGF0YSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGRhdGEpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0cmV0dXJuIHRoaXMudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSkge1xuXHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuXHR2YXIgZXJyb3I7XG5cdGlmIChzY2hlbWEubWluUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGtleXMubGVuZ3RoIDwgc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0sIHtwcm9wZXJ0eUNvdW50OiBrZXlzLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pblByb3BlcnRpZXN9LCAnJywgJy9taW5Qcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGlmIChzY2hlbWEubWF4UHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGtleXMubGVuZ3RoID4gc2NoZW1hLm1heFByb3BlcnRpZXMpIHtcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU0sIHtwcm9wZXJ0eUNvdW50OiBrZXlzLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heFByb3BlcnRpZXN9LCAnJywgJy9tYXhQcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHNjaGVtYS5yZXF1aXJlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEucmVxdWlyZWQubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBrZXkgPSBzY2hlbWEucmVxdWlyZWRbaV07XG5cdFx0XHRpZiAoZGF0YVtrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9SRVFVSVJFRCwge2tleToga2V5fSwgJycsICcvcmVxdWlyZWQvJyArIGksIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHR2YXIgZXJyb3I7XG5cdGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG5cdFx0dmFyIGtleVBvaW50ZXJQYXRoID0gZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBrZXkucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJyk7XG5cdFx0dmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcblx0XHRpZiAoc2NoZW1hLnByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJiBzY2hlbWEucHJvcGVydGllc1trZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGZvdW5kTWF0Y2ggPSB0cnVlO1xuXHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIFtrZXldLCBbXCJwcm9wZXJ0aWVzXCIsIGtleV0sIGtleVBvaW50ZXJQYXRoKSkge1xuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm9yICh2YXIgcGF0dGVybktleSBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcblx0XHRcdFx0dmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAocGF0dGVybktleSk7XG5cdFx0XHRcdGlmIChyZWdleHAudGVzdChrZXkpKSB7XG5cdFx0XHRcdFx0Zm91bmRNYXRjaCA9IHRydWU7XG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuS2V5XSwgW2tleV0sIFtcInBhdHRlcm5Qcm9wZXJ0aWVzXCIsIHBhdHRlcm5LZXldLCBrZXlQb2ludGVyUGF0aCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFmb3VuZE1hdGNoKSB7XG5cdFx0XHRpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSA9IHRydWU7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBcImJvb2xlYW5cIikge1xuXHRcdFx0XHRcdGlmICghc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTLCB7a2V5OiBrZXl9LCAnJywgJy9hZGRpdGlvbmFsUHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChrZXksIG51bGwpO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgW2tleV0sIFtcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLCBrZXlQb2ludGVyUGF0aCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzICYmICF0aGlzLmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0pIHtcblx0XHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0gPSB0cnVlO1xuXHRcdFx0ZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0dmFyIGVycm9yO1xuXHRpZiAoc2NoZW1hLmRlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Zm9yICh2YXIgZGVwS2V5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcblx0XHRcdGlmIChkYXRhW2RlcEtleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR2YXIgZGVwID0gc2NoZW1hLmRlcGVuZGVuY2llc1tkZXBLZXldO1xuXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdGlmIChkYXRhW2RlcF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLCB7a2V5OiBkZXBLZXksIG1pc3Npbmc6IGRlcH0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKG51bGwsIGRlcEtleSkucHJlZml4V2l0aChudWxsLCBcImRlcGVuZGVuY2llc1wiKTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGVwKSkge1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgcmVxdWlyZWRLZXkgPSBkZXBbaV07XG5cdFx0XHRcdFx0XHRpZiAoZGF0YVtyZXF1aXJlZEtleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfREVQRU5ERU5DWV9LRVksIHtrZXk6IGRlcEtleSwgbWlzc2luZzogcmVxdWlyZWRLZXl9LCAnJywgJy8nICsgaSwgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKG51bGwsIGRlcEtleSkucHJlZml4V2l0aChudWxsLCBcImRlcGVuZGVuY2llc1wiKTtcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgZGVwLCBbXSwgW1wiZGVwZW5kZW5jaWVzXCIsIGRlcEtleV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUNvbWJpbmF0aW9ucyA9IGZ1bmN0aW9uIHZhbGlkYXRlQ29tYmluYXRpb25zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHJldHVybiB0aGlzLnZhbGlkYXRlQWxsT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFueU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVPbmVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlTm90KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoc2NoZW1hLmFsbE9mID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgZXJyb3I7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmFsbE9mLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5hbGxPZltpXTtcblx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcImFsbE9mXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpKSB7XG5cdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBbnlPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlQW55T2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKHNjaGVtYS5hbnlPZiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIGVycm9ycyA9IFtdO1xuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy51bmtub3duUHJvcGVydHlQYXRocztcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcblx0fVxuXHR2YXIgZXJyb3JBdEVuZCA9IHRydWU7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmFueU9mLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0XHR9XG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5hbnlPZltpXTtcblxuXHRcdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHRcdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wiYW55T2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCk7XG5cblx0XHRpZiAoZXJyb3IgPT09IG51bGwgJiYgZXJyb3JDb3VudCA9PT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XG5cblx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdFx0Zm9yICh2YXIga25vd25LZXkgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpIHtcblx0XHRcdFx0XHRvbGRLbm93blByb3BlcnR5UGF0aHNba25vd25LZXldID0gdHJ1ZTtcblx0XHRcdFx0XHRkZWxldGUgb2xkVW5rbm93blByb3BlcnR5UGF0aHNba25vd25LZXldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAodmFyIHVua25vd25LZXkgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xuXHRcdFx0XHRcdGlmICghb2xkS25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldKSB7XG5cdFx0XHRcdFx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gY29udGludWUgbG9vcGluZyBzbyB3ZSBjYXRjaCBhbGwgdGhlIHByb3BlcnR5IGRlZmluaXRpb25zLCBidXQgd2UgZG9uJ3Qgd2FudCB0byByZXR1cm4gYW4gZXJyb3Jcblx0XHRcdFx0ZXJyb3JBdEVuZCA9IGZhbHNlO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0ZXJyb3JzLnB1c2goZXJyb3IucHJlZml4V2l0aChudWxsLCBcIlwiICsgaSkucHJlZml4V2l0aChudWxsLCBcImFueU9mXCIpKTtcblx0XHR9XG5cdH1cblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRVbmtub3duUHJvcGVydHlQYXRocztcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IG9sZEtub3duUHJvcGVydHlQYXRocztcblx0fVxuXHRpZiAoZXJyb3JBdEVuZCkge1xuXHRcdGVycm9ycyA9IGVycm9ycy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KSk7XG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQU5ZX09GX01JU1NJTkcsIHt9LCBcIlwiLCBcIi9hbnlPZlwiLCBlcnJvcnMsIGRhdGEsIHNjaGVtYSk7XG5cdH1cbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT25lT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU9uZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmIChzY2hlbWEub25lT2YgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciB2YWxpZEluZGV4ID0gbnVsbDtcblx0dmFyIGVycm9ycyA9IFtdO1xuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy51bmtub3duUHJvcGVydHlQYXRocztcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcblx0fVxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5vbmVPZi5sZW5ndGg7IGkrKykge1xuXHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdFx0fVxuXHRcdHZhciBzdWJTY2hlbWEgPSBzY2hlbWEub25lT2ZbaV07XG5cblx0XHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0XHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcIm9uZU9mXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpO1xuXG5cdFx0aWYgKGVycm9yID09PSBudWxsICYmIGVycm9yQ291bnQgPT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xuXHRcdFx0aWYgKHZhbGlkSW5kZXggPT09IG51bGwpIHtcblx0XHRcdFx0dmFsaWRJbmRleCA9IGk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT05FX09GX01VTFRJUExFLCB7aW5kZXgxOiB2YWxpZEluZGV4LCBpbmRleDI6IGl9LCBcIlwiLCBcIi9vbmVPZlwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0XHRmb3IgKHZhciBrbm93bktleSBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocykge1xuXHRcdFx0XHRcdG9sZEtub3duUHJvcGVydHlQYXRoc1trbm93bktleV0gPSB0cnVlO1xuXHRcdFx0XHRcdGRlbGV0ZSBvbGRVbmtub3duUHJvcGVydHlQYXRoc1trbm93bktleV07XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yICh2YXIgdW5rbm93bktleSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRLbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0pIHtcblx0XHRcdFx0XHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGVycm9yKSB7XG5cdFx0XHRlcnJvcnMucHVzaChlcnJvcik7XG5cdFx0fVxuXHR9XG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkVW5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XG5cdH1cblx0aWYgKHZhbGlkSW5kZXggPT09IG51bGwpIHtcblx0XHRlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCkpO1xuXHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9ORV9PRl9NSVNTSU5HLCB7fSwgXCJcIiwgXCIvb25lT2ZcIiwgZXJyb3JzLCBkYXRhLCBzY2hlbWEpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTm90ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKHNjaGVtYS5ub3QgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBvbGRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy51bmtub3duUHJvcGVydHlQYXRocztcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0fVxuXHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYS5ub3QsIG51bGwsIG51bGwsIGRhdGFQb2ludGVyUGF0aCk7XG5cdHZhciBub3RFcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZShvbGRFcnJvckNvdW50KTtcblx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBvbGRFcnJvckNvdW50KTtcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRVbmtub3duUHJvcGVydHlQYXRocztcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IG9sZEtub3duUHJvcGVydHlQYXRocztcblx0fVxuXHRpZiAoZXJyb3IgPT09IG51bGwgJiYgbm90RXJyb3JzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTk9UX1BBU1NFRCwge30sIFwiXCIsIFwiL25vdFwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVIeXBlcm1lZGlhID0gZnVuY3Rpb24gdmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKCFzY2hlbWEubGlua3MpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgZXJyb3I7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxpbmtzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGxkbyA9IHNjaGVtYS5saW5rc1tpXTtcblx0XHRpZiAobGRvLnJlbCA9PT0gXCJkZXNjcmliZWRieVwiKSB7XG5cdFx0XHR2YXIgdGVtcGxhdGUgPSBuZXcgVXJpVGVtcGxhdGUobGRvLmhyZWYpO1xuXHRcdFx0dmFyIGFsbFByZXNlbnQgPSB0cnVlO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wbGF0ZS52YXJOYW1lcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZiAoISh0ZW1wbGF0ZS52YXJOYW1lc1tqXSBpbiBkYXRhKSkge1xuXHRcdFx0XHRcdGFsbFByZXNlbnQgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGFsbFByZXNlbnQpIHtcblx0XHRcdFx0dmFyIHNjaGVtYVVybCA9IHRlbXBsYXRlLmZpbGxGcm9tT2JqZWN0KGRhdGEpO1xuXHRcdFx0XHR2YXIgc3ViU2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWFVcmx9O1xuXHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcImxpbmtzXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBwYXJzZVVSSSgpIGFuZCByZXNvbHZlVXJsKCkgYXJlIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTA4ODg1MFxuLy8gICAtICByZWxlYXNlZCBhcyBwdWJsaWMgZG9tYWluIGJ5IGF1dGhvciAoXCJZYWZmbGVcIikgLSBzZWUgY29tbWVudHMgb24gZ2lzdFxuXG5mdW5jdGlvbiBwYXJzZVVSSSh1cmwpIHtcblx0dmFyIG0gPSBTdHJpbmcodXJsKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykubWF0Y2goL14oW146XFwvPyNdKzopPyhcXC9cXC8oPzpbXjpAXSooPzo6W146QF0qKT9AKT8oKFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KFtePyNdKikoXFw/W14jXSopPygjW1xcc1xcU10qKT8vKTtcblx0Ly8gYXV0aG9yaXR5ID0gJy8vJyArIHVzZXIgKyAnOicgKyBwYXNzICdAJyArIGhvc3RuYW1lICsgJzonIHBvcnRcblx0cmV0dXJuIChtID8ge1xuXHRcdGhyZWYgICAgIDogbVswXSB8fCAnJyxcblx0XHRwcm90b2NvbCA6IG1bMV0gfHwgJycsXG5cdFx0YXV0aG9yaXR5OiBtWzJdIHx8ICcnLFxuXHRcdGhvc3QgICAgIDogbVszXSB8fCAnJyxcblx0XHRob3N0bmFtZSA6IG1bNF0gfHwgJycsXG5cdFx0cG9ydCAgICAgOiBtWzVdIHx8ICcnLFxuXHRcdHBhdGhuYW1lIDogbVs2XSB8fCAnJyxcblx0XHRzZWFyY2ggICA6IG1bN10gfHwgJycsXG5cdFx0aGFzaCAgICAgOiBtWzhdIHx8ICcnXG5cdH0gOiBudWxsKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7Ly8gUkZDIDM5ODZcblxuXHRmdW5jdGlvbiByZW1vdmVEb3RTZWdtZW50cyhpbnB1dCkge1xuXHRcdHZhciBvdXRwdXQgPSBbXTtcblx0XHRpbnB1dC5yZXBsYWNlKC9eKFxcLlxcLj8oXFwvfCQpKSsvLCAnJylcblx0XHRcdC5yZXBsYWNlKC9cXC8oXFwuKFxcL3wkKSkrL2csICcvJylcblx0XHRcdC5yZXBsYWNlKC9cXC9cXC5cXC4kLywgJy8uLi8nKVxuXHRcdFx0LnJlcGxhY2UoL1xcLz9bXlxcL10qL2csIGZ1bmN0aW9uIChwKSB7XG5cdFx0XHRcdGlmIChwID09PSAnLy4uJykge1xuXHRcdFx0XHRcdG91dHB1dC5wb3AoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRvdXRwdXQucHVzaChwKTtcblx0XHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybiBvdXRwdXQuam9pbignJykucmVwbGFjZSgvXlxcLy8sIGlucHV0LmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJycpO1xuXHR9XG5cblx0aHJlZiA9IHBhcnNlVVJJKGhyZWYgfHwgJycpO1xuXHRiYXNlID0gcGFyc2VVUkkoYmFzZSB8fCAnJyk7XG5cblx0cmV0dXJuICFocmVmIHx8ICFiYXNlID8gbnVsbCA6IChocmVmLnByb3RvY29sIHx8IGJhc2UucHJvdG9jb2wpICtcblx0XHQoaHJlZi5wcm90b2NvbCB8fCBocmVmLmF1dGhvcml0eSA/IGhyZWYuYXV0aG9yaXR5IDogYmFzZS5hdXRob3JpdHkpICtcblx0XHRyZW1vdmVEb3RTZWdtZW50cyhocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5IHx8IGhyZWYucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgPyBocmVmLnBhdGhuYW1lIDogKGhyZWYucGF0aG5hbWUgPyAoKGJhc2UuYXV0aG9yaXR5ICYmICFiYXNlLnBhdGhuYW1lID8gJy8nIDogJycpICsgYmFzZS5wYXRobmFtZS5zbGljZSgwLCBiYXNlLnBhdGhuYW1lLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIGhyZWYucGF0aG5hbWUpIDogYmFzZS5wYXRobmFtZSkpICtcblx0XHQoaHJlZi5wcm90b2NvbCB8fCBocmVmLmF1dGhvcml0eSB8fCBocmVmLnBhdGhuYW1lID8gaHJlZi5zZWFyY2ggOiAoaHJlZi5zZWFyY2ggfHwgYmFzZS5zZWFyY2gpKSArXG5cdFx0aHJlZi5oYXNoO1xufVxuXG5mdW5jdGlvbiBnZXREb2N1bWVudFVyaSh1cmkpIHtcblx0cmV0dXJuIHVyaS5zcGxpdCgnIycpWzBdO1xufVxuZnVuY3Rpb24gbm9ybVNjaGVtYShzY2hlbWEsIGJhc2VVcmkpIHtcblx0aWYgKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYgKGJhc2VVcmkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YmFzZVVyaSA9IHNjaGVtYS5pZDtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBzY2hlbWEuaWQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdGJhc2VVcmkgPSByZXNvbHZlVXJsKGJhc2VVcmksIHNjaGVtYS5pZCk7XG5cdFx0XHRzY2hlbWEuaWQgPSBiYXNlVXJpO1xuXHRcdH1cblx0XHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEpKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRub3JtU2NoZW1hKHNjaGVtYVtpXSwgYmFzZVVyaSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hWyckcmVmJ10gPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0c2NoZW1hWyckcmVmJ10gPSByZXNvbHZlVXJsKGJhc2VVcmksIHNjaGVtYVsnJHJlZiddKTtcblx0XHRcdH1cblx0XHRcdGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcblx0XHRcdFx0aWYgKGtleSAhPT0gXCJlbnVtXCIpIHtcblx0XHRcdFx0XHRub3JtU2NoZW1hKHNjaGVtYVtrZXldLCBiYXNlVXJpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JSZXBvcnRlcihsYW5ndWFnZSkge1xuXHRsYW5ndWFnZSA9IGxhbmd1YWdlIHx8ICdlbic7XG5cblx0dmFyIGVycm9yTWVzc2FnZXMgPSBsYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHR2YXIgbWVzc2FnZVRlbXBsYXRlID0gZXJyb3JNZXNzYWdlc1tlcnJvci5jb2RlXSB8fCBFcnJvck1lc3NhZ2VzRGVmYXVsdFtlcnJvci5jb2RlXTtcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2VUZW1wbGF0ZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiBcIlVua25vd24gZXJyb3IgY29kZSBcIiArIGVycm9yLmNvZGUgKyBcIjogXCIgKyBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlUGFyYW1zKTtcblx0XHR9XG5cdFx0dmFyIG1lc3NhZ2VQYXJhbXMgPSBlcnJvci5wYXJhbXM7XG5cdFx0Ly8gQWRhcHRlZCBmcm9tIENyb2NrZm9yZCdzIHN1cHBsYW50KClcblx0XHRyZXR1cm4gbWVzc2FnZVRlbXBsYXRlLnJlcGxhY2UoL1xceyhbXnt9XSopXFx9L2csIGZ1bmN0aW9uICh3aG9sZSwgdmFyTmFtZSkge1xuXHRcdFx0dmFyIHN1YlZhbHVlID0gbWVzc2FnZVBhcmFtc1t2YXJOYW1lXTtcblx0XHRcdHJldHVybiB0eXBlb2Ygc3ViVmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBzdWJWYWx1ZSA9PT0gJ251bWJlcicgPyBzdWJWYWx1ZSA6IHdob2xlO1xuXHRcdH0pO1xuXHR9O1xufVxuXG52YXIgRXJyb3JDb2RlcyA9IHtcblx0SU5WQUxJRF9UWVBFOiAwLFxuXHRFTlVNX01JU01BVENIOiAxLFxuXHRBTllfT0ZfTUlTU0lORzogMTAsXG5cdE9ORV9PRl9NSVNTSU5HOiAxMSxcblx0T05FX09GX01VTFRJUExFOiAxMixcblx0Tk9UX1BBU1NFRDogMTMsXG5cdC8vIE51bWVyaWMgZXJyb3JzXG5cdE5VTUJFUl9NVUxUSVBMRV9PRjogMTAwLFxuXHROVU1CRVJfTUlOSU1VTTogMTAxLFxuXHROVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6IDEwMixcblx0TlVNQkVSX01BWElNVU06IDEwMyxcblx0TlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiAxMDQsXG5cdE5VTUJFUl9OT1RfQV9OVU1CRVI6IDEwNSxcblx0Ly8gU3RyaW5nIGVycm9yc1xuXHRTVFJJTkdfTEVOR1RIX1NIT1JUOiAyMDAsXG5cdFNUUklOR19MRU5HVEhfTE9ORzogMjAxLFxuXHRTVFJJTkdfUEFUVEVSTjogMjAyLFxuXHQvLyBPYmplY3QgZXJyb3JzXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06IDMwMCxcblx0T0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTogMzAxLFxuXHRPQkpFQ1RfUkVRVUlSRUQ6IDMwMixcblx0T0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzogMzAzLFxuXHRPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IDMwNCxcblx0Ly8gQXJyYXkgZXJyb3JzXG5cdEFSUkFZX0xFTkdUSF9TSE9SVDogNDAwLFxuXHRBUlJBWV9MRU5HVEhfTE9ORzogNDAxLFxuXHRBUlJBWV9VTklRVUU6IDQwMixcblx0QVJSQVlfQURESVRJT05BTF9JVEVNUzogNDAzLFxuXHQvLyBDdXN0b20vdXNlci1kZWZpbmVkIGVycm9yc1xuXHRGT1JNQVRfQ1VTVE9NOiA1MDAsXG5cdEtFWVdPUkRfQ1VTVE9NOiA1MDEsXG5cdC8vIFNjaGVtYSBzdHJ1Y3R1cmVcblx0Q0lSQ1VMQVJfUkVGRVJFTkNFOiA2MDAsXG5cdC8vIE5vbi1zdGFuZGFyZCB2YWxpZGF0aW9uIG9wdGlvbnNcblx0VU5LTk9XTl9QUk9QRVJUWTogMTAwMFxufTtcbnZhciBFcnJvckNvZGVMb29rdXAgPSB7fTtcbmZvciAodmFyIGtleSBpbiBFcnJvckNvZGVzKSB7XG5cdEVycm9yQ29kZUxvb2t1cFtFcnJvckNvZGVzW2tleV1dID0ga2V5O1xufVxudmFyIEVycm9yTWVzc2FnZXNEZWZhdWx0ID0ge1xuXHRJTlZBTElEX1RZUEU6IFwiSW52YWxpZCB0eXBlOiB7dHlwZX0gKGV4cGVjdGVkIHtleHBlY3RlZH0pXCIsXG5cdEVOVU1fTUlTTUFUQ0g6IFwiTm8gZW51bSBtYXRjaCBmb3I6IHt2YWx1ZX1cIixcblx0QU5ZX09GX01JU1NJTkc6IFwiRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tIFxcXCJhbnlPZlxcXCJcIixcblx0T05FX09GX01JU1NJTkc6IFwiRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tIFxcXCJvbmVPZlxcXCJcIixcblx0T05FX09GX01VTFRJUExFOiBcIkRhdGEgaXMgdmFsaWQgYWdhaW5zdCBtb3JlIHRoYW4gb25lIHNjaGVtYSBmcm9tIFxcXCJvbmVPZlxcXCI6IGluZGljZXMge2luZGV4MX0gYW5kIHtpbmRleDJ9XCIsXG5cdE5PVF9QQVNTRUQ6IFwiRGF0YSBtYXRjaGVzIHNjaGVtYSBmcm9tIFxcXCJub3RcXFwiXCIsXG5cdC8vIE51bWVyaWMgZXJyb3JzXG5cdE5VTUJFUl9NVUxUSVBMRV9PRjogXCJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHttdWx0aXBsZU9mfVwiLFxuXHROVU1CRVJfTUlOSU1VTTogXCJWYWx1ZSB7dmFsdWV9IGlzIGxlc3MgdGhhbiBtaW5pbXVtIHttaW5pbXVtfVwiLFxuXHROVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6IFwiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWluaW11bSB7bWluaW11bX1cIixcblx0TlVNQkVSX01BWElNVU06IFwiVmFsdWUge3ZhbHVlfSBpcyBncmVhdGVyIHRoYW4gbWF4aW11bSB7bWF4aW11bX1cIixcblx0TlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1heGltdW0ge21heGltdW19XCIsXG5cdE5VTUJFUl9OT1RfQV9OVU1CRVI6IFwiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSB2YWxpZCBudW1iZXJcIixcblx0Ly8gU3RyaW5nIGVycm9yc1xuXHRTVFJJTkdfTEVOR1RIX1NIT1JUOiBcIlN0cmluZyBpcyB0b28gc2hvcnQgKHtsZW5ndGh9IGNoYXJzKSwgbWluaW11bSB7bWluaW11bX1cIixcblx0U1RSSU5HX0xFTkdUSF9MT05HOiBcIlN0cmluZyBpcyB0b28gbG9uZyAoe2xlbmd0aH0gY2hhcnMpLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxuXHRTVFJJTkdfUEFUVEVSTjogXCJTdHJpbmcgZG9lcyBub3QgbWF0Y2ggcGF0dGVybjoge3BhdHRlcm59XCIsXG5cdC8vIE9iamVjdCBlcnJvcnNcblx0T0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTTogXCJUb28gZmV3IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWluaW11bSB7bWluaW11bX1cIixcblx0T0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTogXCJUb28gbWFueSBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1heGltdW0ge21heGltdW19XCIsXG5cdE9CSkVDVF9SRVFVSVJFRDogXCJNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5OiB7a2V5fVwiLFxuXHRPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiBcIkFkZGl0aW9uYWwgcHJvcGVydGllcyBub3QgYWxsb3dlZFwiLFxuXHRPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IFwiRGVwZW5kZW5jeSBmYWlsZWQgLSBrZXkgbXVzdCBleGlzdDoge21pc3Npbmd9IChkdWUgdG8ga2V5OiB7a2V5fSlcIixcblx0Ly8gQXJyYXkgZXJyb3JzXG5cdEFSUkFZX0xFTkdUSF9TSE9SVDogXCJBcnJheSBpcyB0b28gc2hvcnQgKHtsZW5ndGh9KSwgbWluaW11bSB7bWluaW11bX1cIixcblx0QVJSQVlfTEVOR1RIX0xPTkc6IFwiQXJyYXkgaXMgdG9vIGxvbmcgKHtsZW5ndGh9KSwgbWF4aW11bSB7bWF4aW11bX1cIixcblx0QVJSQVlfVU5JUVVFOiBcIkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSlcIixcblx0QVJSQVlfQURESVRJT05BTF9JVEVNUzogXCJBZGRpdGlvbmFsIGl0ZW1zIG5vdCBhbGxvd2VkXCIsXG5cdC8vIEZvcm1hdCBlcnJvcnNcblx0Rk9STUFUX0NVU1RPTTogXCJGb3JtYXQgdmFsaWRhdGlvbiBmYWlsZWQgKHttZXNzYWdlfSlcIixcblx0S0VZV09SRF9DVVNUT006IFwiS2V5d29yZCBmYWlsZWQ6IHtrZXl9ICh7bWVzc2FnZX0pXCIsXG5cdC8vIFNjaGVtYSBzdHJ1Y3R1cmVcblx0Q0lSQ1VMQVJfUkVGRVJFTkNFOiBcIkNpcmN1bGFyICRyZWZzOiB7dXJsc31cIixcblx0Ly8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9uc1xuXHRVTktOT1dOX1BST1BFUlRZOiBcIlVua25vd24gcHJvcGVydHkgKG5vdCBpbiBzY2hlbWEpXCJcbn07XG5cbmZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvcihjb2RlLCBwYXJhbXMsIGRhdGFQYXRoLCBzY2hlbWFQYXRoLCBzdWJFcnJvcnMpIHtcblx0RXJyb3IuY2FsbCh0aGlzKTtcblx0aWYgKGNvZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBFcnJvciAoXCJObyBlcnJvciBjb2RlIHN1cHBsaWVkOiBcIiArIHNjaGVtYVBhdGgpO1xuXHR9XG5cdHRoaXMubWVzc2FnZSA9ICcnO1xuXHR0aGlzLnBhcmFtcyA9IHBhcmFtcztcblx0dGhpcy5jb2RlID0gY29kZTtcblx0dGhpcy5kYXRhUGF0aCA9IGRhdGFQYXRoIHx8IFwiXCI7XG5cdHRoaXMuc2NoZW1hUGF0aCA9IHNjaGVtYVBhdGggfHwgXCJcIjtcblx0dGhpcy5zdWJFcnJvcnMgPSBzdWJFcnJvcnMgfHwgbnVsbDtcblxuXHR2YXIgZXJyID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSk7XG5cdHRoaXMuc3RhY2sgPSBlcnIuc3RhY2sgfHwgZXJyLnN0YWNrdHJhY2U7XG5cdGlmICghdGhpcy5zdGFjaykge1xuXHRcdHRyeSB7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHRcdGNhdGNoKGVycikge1xuXHRcdFx0dGhpcy5zdGFjayA9IGVyci5zdGFjayB8fCBlcnIuc3RhY2t0cmFjZTtcblx0XHR9XG5cdH1cbn1cblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmFsaWRhdGlvbkVycm9yO1xuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XG5cblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUucHJlZml4V2l0aCA9IGZ1bmN0aW9uIChkYXRhUHJlZml4LCBzY2hlbWFQcmVmaXgpIHtcblx0aWYgKGRhdGFQcmVmaXggIT09IG51bGwpIHtcblx0XHRkYXRhUHJlZml4ID0gZGF0YVByZWZpeC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG5cdFx0dGhpcy5kYXRhUGF0aCA9IFwiL1wiICsgZGF0YVByZWZpeCArIHRoaXMuZGF0YVBhdGg7XG5cdH1cblx0aWYgKHNjaGVtYVByZWZpeCAhPT0gbnVsbCkge1xuXHRcdHNjaGVtYVByZWZpeCA9IHNjaGVtYVByZWZpeC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG5cdFx0dGhpcy5zY2hlbWFQYXRoID0gXCIvXCIgKyBzY2hlbWFQcmVmaXggKyB0aGlzLnNjaGVtYVBhdGg7XG5cdH1cblx0aWYgKHRoaXMuc3ViRXJyb3JzICE9PSBudWxsKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YkVycm9ycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5zdWJFcnJvcnNbaV0ucHJlZml4V2l0aChkYXRhUHJlZml4LCBzY2hlbWFQcmVmaXgpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGlzVHJ1c3RlZFVybChiYXNlVXJsLCB0ZXN0VXJsKSB7XG5cdGlmKHRlc3RVcmwuc3Vic3RyaW5nKDAsIGJhc2VVcmwubGVuZ3RoKSA9PT0gYmFzZVVybCl7XG5cdFx0dmFyIHJlbWFpbmRlciA9IHRlc3RVcmwuc3Vic3RyaW5nKGJhc2VVcmwubGVuZ3RoKTtcblx0XHRpZiAoKHRlc3RVcmwubGVuZ3RoID4gMCAmJiB0ZXN0VXJsLmNoYXJBdChiYXNlVXJsLmxlbmd0aCAtIDEpID09PSBcIi9cIilcblx0XHRcdHx8IHJlbWFpbmRlci5jaGFyQXQoMCkgPT09IFwiI1wiXG5cdFx0XHR8fCByZW1haW5kZXIuY2hhckF0KDApID09PSBcIj9cIikge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxudmFyIGxhbmd1YWdlcyA9IHt9O1xuZnVuY3Rpb24gY3JlYXRlQXBpKGxhbmd1YWdlKSB7XG5cdHZhciBnbG9iYWxDb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoKTtcblx0dmFyIGN1cnJlbnRMYW5ndWFnZTtcblx0dmFyIGN1c3RvbUVycm9yUmVwb3J0ZXI7XG5cdHZhciBhcGkgPSB7XG5cdFx0c2V0RXJyb3JSZXBvcnRlcjogZnVuY3Rpb24gKHJlcG9ydGVyKSB7XG5cdFx0XHRpZiAodHlwZW9mIHJlcG9ydGVyID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5sYW5ndWFnZShyZXBvcnRlcik7XG5cdFx0XHR9XG5cdFx0XHRjdXN0b21FcnJvclJlcG9ydGVyID0gcmVwb3J0ZXI7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXHRcdGFkZEZvcm1hdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0Z2xvYmFsQ29udGV4dC5hZGRGb3JtYXQuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGxhbmd1YWdlOiBmdW5jdGlvbiAoY29kZSkge1xuXHRcdFx0aWYgKCFjb2RlKSB7XG5cdFx0XHRcdHJldHVybiBjdXJyZW50TGFuZ3VhZ2U7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWxhbmd1YWdlc1tjb2RlXSkge1xuXHRcdFx0XHRjb2RlID0gY29kZS5zcGxpdCgnLScpWzBdOyAvLyBmYWxsIGJhY2sgdG8gYmFzZSBsYW5ndWFnZVxuXHRcdFx0fVxuXHRcdFx0aWYgKGxhbmd1YWdlc1tjb2RlXSkge1xuXHRcdFx0XHRjdXJyZW50TGFuZ3VhZ2UgPSBjb2RlO1xuXHRcdFx0XHRyZXR1cm4gY29kZTsgLy8gc28geW91IGNhbiB0ZWxsIGlmIGZhbGwtYmFjayBoYXMgaGFwcGVuZWRcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdGFkZExhbmd1YWdlOiBmdW5jdGlvbiAoY29kZSwgbWVzc2FnZU1hcCkge1xuXHRcdFx0dmFyIGtleTtcblx0XHRcdGZvciAoa2V5IGluIEVycm9yQ29kZXMpIHtcblx0XHRcdFx0aWYgKG1lc3NhZ2VNYXBba2V5XSAmJiAhbWVzc2FnZU1hcFtFcnJvckNvZGVzW2tleV1dKSB7XG5cdFx0XHRcdFx0bWVzc2FnZU1hcFtFcnJvckNvZGVzW2tleV1dID0gbWVzc2FnZU1hcFtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR2YXIgcm9vdENvZGUgPSBjb2RlLnNwbGl0KCctJylbMF07XG5cdFx0XHRpZiAoIWxhbmd1YWdlc1tyb290Q29kZV0pIHsgLy8gdXNlIGZvciBiYXNlIGxhbmd1YWdlIGlmIG5vdCB5ZXQgZGVmaW5lZFxuXHRcdFx0XHRsYW5ndWFnZXNbY29kZV0gPSBtZXNzYWdlTWFwO1xuXHRcdFx0XHRsYW5ndWFnZXNbcm9vdENvZGVdID0gbWVzc2FnZU1hcDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxhbmd1YWdlc1tjb2RlXSA9IE9iamVjdC5jcmVhdGUobGFuZ3VhZ2VzW3Jvb3RDb2RlXSk7XG5cdFx0XHRcdGZvciAoa2V5IGluIG1lc3NhZ2VNYXApIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGxhbmd1YWdlc1tyb290Q29kZV1ba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdGxhbmd1YWdlc1tyb290Q29kZV1ba2V5XSA9IG1lc3NhZ2VNYXBba2V5XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGFuZ3VhZ2VzW2NvZGVdW2tleV0gPSBtZXNzYWdlTWFwW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZnJlc2hBcGk6IGZ1bmN0aW9uIChsYW5ndWFnZSkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IGNyZWF0ZUFwaSgpO1xuXHRcdFx0aWYgKGxhbmd1YWdlKSB7XG5cdFx0XHRcdHJlc3VsdC5sYW5ndWFnZShsYW5ndWFnZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0sXG5cdFx0dmFsaWRhdGU6IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0dmFyIGRlZiA9IGRlZmF1bHRFcnJvclJlcG9ydGVyKGN1cnJlbnRMYW5ndWFnZSk7XG5cdFx0XHR2YXIgZXJyb3JSZXBvcnRlciA9IGN1c3RvbUVycm9yUmVwb3J0ZXIgPyBmdW5jdGlvbiAoZXJyb3IsIGRhdGEsIHNjaGVtYSkge1xuXHRcdFx0XHRyZXR1cm4gY3VzdG9tRXJyb3JSZXBvcnRlcihlcnJvciwgZGF0YSwgc2NoZW1hKSB8fCBkZWYoZXJyb3IsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHR9IDogZGVmO1xuXHRcdFx0dmFyIGNvbnRleHQgPSBuZXcgVmFsaWRhdG9yQ29udGV4dChnbG9iYWxDb250ZXh0LCBmYWxzZSwgZXJyb3JSZXBvcnRlciwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKTtcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hfTtcblx0XHRcdH1cblx0XHRcdGNvbnRleHQuYWRkU2NoZW1hKFwiXCIsIHNjaGVtYSk7XG5cdFx0XHR2YXIgZXJyb3IgPSBjb250ZXh0LnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYSwgbnVsbCwgbnVsbCwgXCJcIik7XG5cdFx0XHRpZiAoIWVycm9yICYmIGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGVycm9yID0gY29udGV4dC5iYW5Vbmtub3duUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5lcnJvciA9IGVycm9yO1xuXHRcdFx0dGhpcy5taXNzaW5nID0gY29udGV4dC5taXNzaW5nO1xuXHRcdFx0dGhpcy52YWxpZCA9IChlcnJvciA9PT0gbnVsbCk7XG5cdFx0XHRyZXR1cm4gdGhpcy52YWxpZDtcblx0XHR9LFxuXHRcdHZhbGlkYXRlUmVzdWx0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0XHR0aGlzLnZhbGlkYXRlLmFwcGx5KHJlc3VsdCwgYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSxcblx0XHR2YWxpZGF0ZU11bHRpcGxlOiBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdHZhciBkZWYgPSBkZWZhdWx0RXJyb3JSZXBvcnRlcihjdXJyZW50TGFuZ3VhZ2UpO1xuXHRcdFx0dmFyIGVycm9yUmVwb3J0ZXIgPSBjdXN0b21FcnJvclJlcG9ydGVyID8gZnVuY3Rpb24gKGVycm9yLCBkYXRhLCBzY2hlbWEpIHtcblx0XHRcdFx0cmV0dXJuIGN1c3RvbUVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSkgfHwgZGVmKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0fSA6IGRlZjtcblx0XHRcdHZhciBjb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoZ2xvYmFsQ29udGV4dCwgdHJ1ZSwgZXJyb3JSZXBvcnRlciwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKTtcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hfTtcblx0XHRcdH1cblx0XHRcdGNvbnRleHQuYWRkU2NoZW1hKFwiXCIsIHNjaGVtYSk7XG5cdFx0XHRjb250ZXh0LnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYSwgbnVsbCwgbnVsbCwgXCJcIik7XG5cdFx0XHRpZiAoYmFuVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdFx0Y29udGV4dC5iYW5Vbmtub3duUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdFx0cmVzdWx0LmVycm9ycyA9IGNvbnRleHQuZXJyb3JzO1xuXHRcdFx0cmVzdWx0Lm1pc3NpbmcgPSBjb250ZXh0Lm1pc3Npbmc7XG5cdFx0XHRyZXN1bHQudmFsaWQgPSAocmVzdWx0LmVycm9ycy5sZW5ndGggPT09IDApO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcdGFkZFNjaGVtYTogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuYWRkU2NoZW1hLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRnZXRTY2hlbWE6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYS5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0Z2V0U2NoZW1hTWFwOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRTY2hlbWFNYXAuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGdldFNjaGVtYVVyaXM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYVVyaXMuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGdldE1pc3NpbmdVcmlzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRNaXNzaW5nVXJpcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0ZHJvcFNjaGVtYXM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGdsb2JhbENvbnRleHQuZHJvcFNjaGVtYXMuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGRlZmluZUtleXdvcmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGdsb2JhbENvbnRleHQuZGVmaW5lS2V5d29yZC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0ZGVmaW5lRXJyb3I6IGZ1bmN0aW9uIChjb2RlTmFtZSwgY29kZU51bWJlciwgZGVmYXVsdE1lc3NhZ2UpIHtcblx0XHRcdGlmICh0eXBlb2YgY29kZU5hbWUgIT09ICdzdHJpbmcnIHx8ICEvXltBLVpdKyhfW0EtWl0rKSokLy50ZXN0KGNvZGVOYW1lKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NvZGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nIGluIFVQUEVSX0NBU0VfV0lUSF9VTkRFUlNDT1JFUycpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBjb2RlTnVtYmVyICE9PSAnbnVtYmVyJyB8fCBjb2RlTnVtYmVyJTEgIT09IDAgfHwgY29kZU51bWJlciA8IDEwMDAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ29kZSBudW1iZXIgbXVzdCBiZSBhbiBpbnRlZ2VyID4gMTAwMDAnKTtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlb2YgRXJyb3JDb2Rlc1tjb2RlTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRXJyb3IgYWxyZWFkeSBkZWZpbmVkOiAnICsgY29kZU5hbWUgKyAnIGFzICcgKyBFcnJvckNvZGVzW2NvZGVOYW1lXSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFcnJvciBjb2RlIGFscmVhZHkgdXNlZDogJyArIEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSArICcgYXMgJyArIGNvZGVOdW1iZXIpO1xuXHRcdFx0fVxuXHRcdFx0RXJyb3JDb2Rlc1tjb2RlTmFtZV0gPSBjb2RlTnVtYmVyO1xuXHRcdFx0RXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdID0gY29kZU5hbWU7XG5cdFx0XHRFcnJvck1lc3NhZ2VzRGVmYXVsdFtjb2RlTmFtZV0gPSBFcnJvck1lc3NhZ2VzRGVmYXVsdFtjb2RlTnVtYmVyXSA9IGRlZmF1bHRNZXNzYWdlO1xuXHRcdFx0Zm9yICh2YXIgbGFuZ0NvZGUgaW4gbGFuZ3VhZ2VzKSB7XG5cdFx0XHRcdHZhciBsYW5ndWFnZSA9IGxhbmd1YWdlc1tsYW5nQ29kZV07XG5cdFx0XHRcdGlmIChsYW5ndWFnZVtjb2RlTmFtZV0pIHtcblx0XHRcdFx0XHRsYW5ndWFnZVtjb2RlTnVtYmVyXSA9IGxhbmd1YWdlW2NvZGVOdW1iZXJdIHx8IGxhbmd1YWdlW2NvZGVOYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGdsb2JhbENvbnRleHQucmVzZXQoKTtcblx0XHRcdHRoaXMuZXJyb3IgPSBudWxsO1xuXHRcdFx0dGhpcy5taXNzaW5nID0gW107XG5cdFx0XHR0aGlzLnZhbGlkID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG1pc3Npbmc6IFtdLFxuXHRcdGVycm9yOiBudWxsLFxuXHRcdHZhbGlkOiB0cnVlLFxuXHRcdG5vcm1TY2hlbWE6IG5vcm1TY2hlbWEsXG5cdFx0cmVzb2x2ZVVybDogcmVzb2x2ZVVybCxcblx0XHRnZXREb2N1bWVudFVyaTogZ2V0RG9jdW1lbnRVcmksXG5cdFx0ZXJyb3JDb2RlczogRXJyb3JDb2Rlc1xuXHR9O1xuXHRhcGkubGFuZ3VhZ2UobGFuZ3VhZ2UgfHwgJ2VuJyk7XG5cdHJldHVybiBhcGk7XG59XG5cbnZhciB0djQgPSBjcmVhdGVBcGkoKTtcbnR2NC5hZGRMYW5ndWFnZSgnZW4tZ2InLCBFcnJvck1lc3NhZ2VzRGVmYXVsdCk7XG5cbi8vbGVnYWN5IHByb3BlcnR5XG50djQudHY0ID0gdHY0O1xuXG5yZXR1cm4gdHY0OyAvLyB1c2VkIGJ5IF9oZWFkZXIuanMgdG8gZ2xvYmFsaXNlLlxuXG59KSk7IiwiaW1wb3J0IFJ1bnRpbWVDYXRhbG9ndWUgZnJvbSAnLi9ydW50aW1lLWNhdGFsb2d1ZS9SdW50aW1lQ2F0YWxvZ3VlJztcblxuZXhwb3J0IHtSdW50aW1lQ2F0YWxvZ3VlfTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4gKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4gKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4gKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4gKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqKi9cbmltcG9ydCBSZXRoaW5rT2JqZWN0IGZyb20gXCIuLi9yZVRISU5LT2JqZWN0L1JldGhpbmtPYmplY3RcIjtcblxuLyoqXG4gKiBAYXV0aG9yIGFsaWNlLmNoZWFtYmVbYXRdZm9rdXMuZnJhdW5ob2Zlci5kZVxuICogVGhlIENhdGFsb2d1ZURhdGFPYmplY3QgY2xhc3MgaXMgdGhlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZVRISU5LIENhdGFsb2d1ZSBEYXRhIE1vZGVsXG4gKi9cbmNsYXNzIENhdGFsb2d1ZURhdGFPYmplY3QgZXh0ZW5kcyBSZXRoaW5rT2JqZWN0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBDYXRhbG9ndWUgRGF0YSBPYmplY3RcbiAgICAgKiBAcGFyYW0gZ3VpZCAtIEdsb2JhbCBVbmlxdWUgaWRlbnRpZmllciBvZiB0aGUgQ2F0YWxvZ3VlIE9iamVjdCAoZS5nLiBIeXBlcnR5IGRlc2NyaXB0b3IsIFByb3RvY29sU3R1YiBkZXNjcmlwdG9yLFxuICAgICAqIGV0YykgZW5hYmxpbmcgdGhlIHNhbWUgb2JqZWN0IHRvIGJlIHN0b3JlZCBhbmQgZGlzY292ZXJlZCBpbiBkaWZmZXJlbnQgQ2F0YWxvZ3Vlcy4gVGhhdCBtZWFucywgZ3VpZCBjb3JyZXNwb25kcyB0b1xuICAgICAqIFtyZXNvdXJjZS10eXBlLWlkXSBwZXIgQk5GIG9mIFJlc291cmNlIFBhdGguIENvdWxkbid0IHdlIGhhdmUgcHJvYmxlbXMgd2l0aCB0b28gbG9uZyBVUkwgcGF0aHM/XG4gICAgICogQHBhcmFtIHR5cGUgLSBpbmRpY2F0ZXMgdGhlIHR5cGUgb2YgQ2F0YWxvZ3VlIERhdGEgT2JqZWN0IGUuZy4gSHlwZXJ0eSwgUHJvdG9jb2xTdHViLCBldGNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSBvYmplY3ROYW1lIC0gaHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdCBlLmcuIFwiTXkgQXdlc29tZSBIeXBlcnR5XCJcbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb24gLSBkZXNjcmlwdGlvbiBvZiB0aGUgc291cmNlIHBhY2thZ2VcbiAgICAgKiBAcGFyYW0gbGFuZ3VhZ2UgLSB0aGUgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgdXNlZCBpbiB0aGUgU291cmNlUGFja2FnZS5Tb3VyY2VDb2RlXG4gICAgICogQHBhcmFtIHNvdXJjZVBhY2thZ2VVUkwgLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAqIGNhdGFsb2d1ZSBvYmplY3QsIGUuZy4gZGVwbG95YWJsZSBwYWNrYWdlcyBjb250YWluaW5nIGV4ZWN1dGFibGUgY29kZSBmb3IgSHlwZXJ0aWVzIG9yIFByb3RvU3R1YnMsIGNhbiBiZSBkb3dubG9hZGVkXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2d1aWQgPSBndWlkO1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fdmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMuX29iamVjdE5hbWUgPSBvYmplY3ROYW1lO1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgICB0aGlzLl9zb3VyY2VQYWNrYWdlVVJMID0gc291cmNlUGFja2FnZVVSTDtcblxuICAgICAgICB0aGlzLl9zaWduYXR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zb3VyY2VQYWNrYWdlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBHZXR0ZXJzXG4gICAgZ2V0IGd1aWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ndWlkO1xuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgdmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgfVxuXG4gICAgZ2V0IG9iamVjdE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3ROYW1lO1xuICAgIH1cblxuICAgIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIGdldCBsYW5ndWFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlO1xuICAgIH1cblxuICAgIGdldCBzaWduYXR1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYXR1cmU7XG4gICAgfVxuXG4gICAgZ2V0IHNvdXJjZVBhY2thZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2VQYWNrYWdlO1xuICAgIH1cblxuICAgIGdldCBzb3VyY2VQYWNrYWdlVVJMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlUGFja2FnZVVSTDtcbiAgICB9XG5cblxuICAgIC8vIFNldHRlcnNcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNpZ25hdHVyZSB0byBlbmFibGVzIGludGVncml0eSBhbmQgYXV0aGVudGljaXR5IHZlcmlmaWNhdGlvblxuICAgICAqIEBwYXJhbSBzaWduYXR1cmVcbiAgICAgKi9cbiAgICBzZXQgc2lnbmF0dXJlKHNpZ25hdHVyZSkge1xuICAgICAgICBpZiAoc2lnbmF0dXJlKVxuICAgICAgICAgICAgdGhpcy5fc2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuICAgIH1cblxuICAgIHNldCBzb3VyY2VQYWNrYWdlKHNvdXJjZVBhY2thZ2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZVBhY2thZ2UpXG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VQYWNrYWdlID0gc291cmNlUGFja2FnZTtcbiAgICB9XG5cbiAgICBzZXQgZ3VpZChndWlkKSB7XG4gICAgICAgIGlmIChndWlkKVxuICAgICAgICAgICAgdGhpcy5fZ3VpZCA9IGd1aWQ7XG4gICAgfVxuXG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICBpZiAodHlwZSlcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgIH1cblxuICAgIHNldCB2ZXJzaW9uKHZlcnNpb24pIHtcbiAgICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0IG9iamVjdE5hbWUob2JqZWN0TmFtZSkge1xuICAgICAgICBpZiAob2JqZWN0TmFtZSlcbiAgICAgICAgICAgIHRoaXMuX29iamVjdE5hbWUgPSBvYmplY3ROYW1lO1xuICAgIH1cblxuICAgIHNldCBkZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24pXG4gICAgICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHNldCBsYW5ndWFnZShsYW5ndWFnZSkge1xuICAgICAgICBpZiAobGFuZ3VhZ2UpXG4gICAgICAgICAgICB0aGlzLl9sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgIH1cblxuICAgIHNldCBzb3VyY2VQYWNrYWdlVVJMKHNvdXJjZVBhY2thZ2VVUkwpIHtcbiAgICAgICAgaWYgKHNvdXJjZVBhY2thZ2VVUkwpXG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VQYWNrYWdlVVJMID0gc291cmNlUGFja2FnZVVSTDtcbiAgICB9XG59XG4vL0FsaWNlOiByZW1vdmVkIFBPTElDWV9FTkZPUkNFUjogJ3BvbGljeV9lbmZvcmNlcicsIERBVEFfU0NIRU1BOiAnZGF0YV9zY2hlbWEnIGZyb20gdGhlIGxpc3Rcbi8vd3J0OiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2Rldi1zZXJ2aWNlLWZyYW1ld29yay9ibG9iL2RldmVsb3AvZG9jcy9kYXRhbW9kZWwvY29yZS9oeXBlcnR5LWNhdGFsb2d1ZS9yZWFkbWUubWQjZGF0YS1vYmplY3Qtc2NoZW1hXG5leHBvcnQgY29uc3QgQ2F0YWxvZ3VlT2JqZWN0VHlwZSA9IHtcbiAgICBIWVBFUlRZOiAnaHlwZXJ0eScsIFBST1RPU1RVQjogJ3Byb3Rvc3R1YicsIEhZUEVSVFlfUlVOVElNRTogJ2h5cGVydHlfcnVudGltZScsXG4gICAgSFlQRVJUWV9JTlRFUkNFUFRPUjogJ2h5cGVydHlfaW5zcGVjdG9yJywgSFlQRVJUWV9EQVRBX09CSkVDVDogJ2h5cGVydHlfZGF0YV9vYmplY3QnXG59O1xuZXhwb3J0IGNvbnN0IERhdGFPYmplY3RTb3VyY2VMYW5ndWFnZSA9IHtcbiAgICBKQVZBU0NSSVBUX0VDTUE2OiAnamF2YXNjcmlwdF9lY21hNicsIEpBVkFTQ1JJUFRfRUNNQTU6ICdqYXZhc2NyaXB0X2VjbWE1JyxcbiAgICBKU09OX1NDSEVNQV9WNDogJ2pzb25fc2NoZW1hX3Y0JywgUFlUSE9OOiAncHl0aG9uJywgVFlQRVNDUklQVDogJ3R5cGVzY3JpcHQnXG59O1xuZXhwb3J0IGRlZmF1bHQgQ2F0YWxvZ3VlRGF0YU9iamVjdDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuICogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4gKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiovXG5cbmltcG9ydCBDYXRhbG9ndWVEYXRhT2JqZWN0LCB7Q2F0YWxvZ3VlT2JqZWN0VHlwZSwgRGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBmcm9tIFwiLi9DYXRhbG9ndWVEYXRhT2JqZWN0XCI7XG5pbXBvcnQgU291cmNlUGFja2FnZSBmcm9tIFwiLi9Tb3VyY2VQYWNrYWdlXCI7XG5pbXBvcnQgSHlwZXJ0eURlc2NyaXB0b3IgZnJvbSBcIi4vSHlwZXJ0eURlc2NyaXB0b3JcIjtcbmltcG9ydCBQcm90b2NvbFN0dWJEZXNjcmlwdG9yIGZyb20gXCIuL1Byb3RvY29sU3R1YkRlc2NyaXB0b3JcIjtcbmltcG9ydCBIeXBlcnR5UnVudGltZURlc2NyaXB0b3IsIHtSdW50aW1lVHlwZX0gZnJvbSBcIi4vSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yXCI7XG5pbXBvcnQgSHlwZXJ0eUludGVyY2VwdG9yRGVzY3JpcHRvciBmcm9tIFwiLi9IeXBlcnR5SW50ZXJjZXB0b3JEZXNjcmlwdG9yXCI7XG5pbXBvcnQge1xuICAgIERhdGFPYmplY3RTY2hlbWEsXG4gICAgRGF0YVVybFNjaGVtZSxcbiAgICBDb21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYSxcbiAgICBDb25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYSxcbiAgICBDb250ZXh0RGF0YU9iamVjdFNjaGVtYSxcbiAgICBJZGVudGl0eURhdGFPYmplY3RTY2hlbWFcbn0gZnJvbSBcIi4vRGF0YU9iamVjdFNjaGVtYVwiO1xuXG5jbGFzcyBDYXRhbG9ndWVEYXRhT2JqZWN0RmFjdG9yeSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgQ2F0YWxvZ3VlRGF0YU9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBndWlkIC0gQ2F0YWxvZ3VlIEdsb2JhbCBVbmlxdWUgaWRlbnRpZmllciBvZiB0aGUgQ2F0YWxvZ3VlIE9iamVjdFxuICAgICAqIEBwYXJhbSB7Q2F0YWxvZ3VlT2JqZWN0VHlwZX0gdHlwZSAtIEluZGljYXRlcyB0aGUgdHlwZSBvZiBDYXRhbG9ndWUgRGF0YSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lIC0gSHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBsYW5ndWFnZSAtIFByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTCAtIFVSTCBmcm9tIHdoZXJlIHRoZSBzb3VyY2UgY29kZSBwYWNrYWdlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhdGFsb2d1ZSBvYmplY3QgY2FuIGJlIGRvd25sb2FkZWQuXG4gICAgICogQHJldHVybnMge0NhdGFsb2d1ZURhdGFPYmplY3R9XG4gICAgICovXG4gICAgY3JlYXRlQ2F0YWxvZ3VlRGF0YU9iamVjdChndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGd1aWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiB0eXBlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlcnMhXCIpO1xuICAgICAgICByZXR1cm4gbmV3IENhdGFsb2d1ZURhdGFPYmplY3QoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgSHlwZXJ0eURlc2NyaXB0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lIC0gSHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBsYW5ndWFnZSAtIFByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTCAtIFVSTCBmcm9tIHdoZXJlIHRoZSBzb3VyY2UgY29kZSBwYWNrYWdlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBjYW4gYmUgZG93bmxvYWRlZC5cbiAgICAgKiBAcGFyYW0ge0h5cGVydHlSZXNvdXJjZVR5cGVbXX0gaHlwZXJ0eVR5cGUgLSBBbiBhcnJheSBvZiBIeXBlcnR5UmVzb3VyY2VUeXBlIHRoYXQgaWRlbnRpZmllcyB3aGF0IHR5cGUgb2YgaHlwZXJ0eVxuICAgICAqIHJlc291cmNlcyBhcmUgaGFuZGxlZCBieSB0aGUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7VVJMLlVSTExpc3R9IGRhdGFPYmplY3RzIC0gRGVmaW5lcyB0aGUgRGF0YSBPYmplY3QgU2NoZW1hcyBzdXBwb3J0ZWQgYnkgdGhlIEh5cGVydHkgdGhyb3VnaCBhIGxpc3Qgb2YgQ2F0YWxvZ3VlIFVSTHMgZnJvbSB3aGVyZSB0aGVzZSBzY2hlbWFzIGNhbiBiZSByZWFjaGVkLlxuICAgICAqIEByZXR1cm5zIHtIeXBlcnR5RGVzY3JpcHRvcn1cbiAgICAgKi9cbiAgICBjcmVhdGVIeXBlcnR5RGVzY3JpcHRvck9iamVjdChndWlkLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGh5cGVydHlUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3RzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGh5cGVydHlUeXBlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGF0YU9iamVjdHMgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIeXBlcnR5RGVzY3JpcHRvcihndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFksIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGh5cGVydHlUeXBlLCBkYXRhT2JqZWN0cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFByb3RvY29sU3R1YkRlc2NyaXB0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lIC0gSHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBsYW5ndWFnZSAtIFByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTCAtIFVSTCBmcm9tIHdoZXJlIHRoZSBzb3VyY2UgY29kZSBwYWNrYWdlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhdGFsb2d1ZSBvYmplY3QgY2FuIGJlIGRvd25sb2FkZWQuXG4gICAgICogQHBhcmFtIHtVUkwuVVJMfSBtZXNzYWdlU2NoZW1hcyAtIERlZmluZXMgdGhlIFNjaGVtYSBkZXNjcmliaW5nIHRoZSBNZXNzYWdlIERhdGEgTW9kZWwgdXNlZCBieSB0aGUgSHlwZXJ0eSB0aHJvdWdoIHRoZSBDYXRhbG9ndWUgVVJMIGZyb20gd2hlcmUgdGhlIE1lc3NhZ2Ugc2NoZW1hIGNhbiBiZSByZWFjaGVkLiBJZiBub3QgZGVmaW5lZCwgYnkgZGVmYXVsdCBpdCBpcyBhc3N1bWVkIHRoZSBzdGFuZGFyZCBNZXNzYWdlIE1vZGVsIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb24gLSBEYXRhIHJlcXVpcmVkIHRvIGNvbmZpZ3VyZSB0aGUgUHJvdG9jb2xTdHViXG4gICAgICogQHBhcmFtIGNvbnN0cmFpbnRzIC0gRGVzY3JpYmVzIGNhcGFiaWxpdGllcyByZXF1aXJlZCBmcm9tIHRoZSBIeXBlcnR5IFJ1bnRpbWUgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBleGVjdXRlIHRoZSBQcm90b2NvbFN0dWJcbiAgICAgKiBAcGFyYW0gaHlwZXJ0eVR5cGVcbiAgICAgKiBAcGFyYW0gZGF0YU9iamVjdHNcbiAgICAgKiBAcGFyYW0gaW50ZXJ3b3JraW5nXG4gICAgICogQHBhcmFtIGlkcFByb3h5XG4gICAgICogQHBhcmFtIG11dHVhbEF1dGhlbnRpY2F0aW9uXG4gICAgICogQHJldHVybnMge1Byb3RvY29sU3R1YkRlc2NyaXB0b3J9XG4gICAgICovXG4gICAgY3JlYXRlUHJvdG9TdHViRGVzY3JpcHRvck9iamVjdChndWlkLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIG1lc3NhZ2VTY2hlbWFzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbiwgY29uc3RyYWludHMsIGh5cGVydHlUeXBlLCBkYXRhT2JqZWN0cywgaW50ZXJ3b3JraW5nLCBpZHBQcm94eSwgbXV0dWFsQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGd1aWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiB2ZXJzaW9uID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygb2JqZWN0TmFtZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGRlc2NyaXB0aW9uID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgbGFuZ3VhZ2UgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBzb3VyY2VQYWNrYWdlVVJMID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgbWVzc2FnZVNjaGVtYXMgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBjb25maWd1cmF0aW9uID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgY29uc3RyYWludHMgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm90b2NvbFN0dWJEZXNjcmlwdG9yKGd1aWQsIENhdGFsb2d1ZU9iamVjdFR5cGUuUFJPVE9TVFVCLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBtZXNzYWdlU2NoZW1hcywgY29uZmlndXJhdGlvbiwgY29uc3RyYWludHMsIGh5cGVydHlUeXBlLCBkYXRhT2JqZWN0cywgaW50ZXJ3b3JraW5nLCBpZHBQcm94eSwgbXV0dWFsQXV0aGVudGljYXRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBIeXBlcnR5UnVudGltZURlc2NyaXB0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lIC0gSHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBsYW5ndWFnZSAtIFByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTCAtIFVSTCBmcm9tIHdoZXJlIHRoZSBzb3VyY2UgY29kZSBwYWNrYWdlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhdGFsb2d1ZSBvYmplY3QgY2FuIGJlIGRvd25sb2FkZWQuXG4gICAgICogQHBhcmFtIHtSdW50aW1lVHlwZX1ydW50aW1lVHlwZVxuICAgICAqIEBwYXJhbSB7UnVudGltZUh5cGVydHlDYXBhYmlsaXRpZXN9IGh5cGVydHlDYXBhYmlsaXRpZXMgLSBTdXBwb3J0ZWQgY2FwYWJpbGl0aWVzIHRvIGV4ZWN1dGUgSHlwZXJ0aWVzXG4gICAgICogQHBhcmFtIHtSdW50aW1lUHJvdG9jb2xDYXBhYmlsaXRpZXN9IHByb3RvY29sQ2FwYWJpbGl0aWVzIC0gU3VwcG9ydGVkIGNhcGFiaWxpdGllcyB0byBleGVjdXRlIFByb3RvY29sIFN0dWJzXG4gICAgICogQHBhcmFtIHAycEhhbmRsZXJTdHViXG4gICAgICogQHBhcmFtIHAycFJlcXVlc3RlclN0dWJcbiAgICAgKiBAcmV0dXJucyB7SHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yfSB0aGUgZGF0YSBvYmplY3Qgb2YgdGhlIEh5cGVydHkgUnVudGltZSBEZXNjcmlwdG9yXG4gICAgICovXG4gICAgY3JlYXRlSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yT2JqZWN0KGd1aWQsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVR5cGUsIGh5cGVydHlDYXBhYmlsaXRpZXMsIHByb3RvY29sQ2FwYWJpbGl0aWVzLCBwMnBIYW5kbGVyU3R1YiwgcDJwUmVxdWVzdGVyU3R1Yikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZ3VpZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBydW50aW1lVHlwZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlcnMhXCIpO1xuXG4gICAgICAgIHJldHVybiBuZXcgSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yKGd1aWQsIENhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9SVU5USU1FLCB2ZXJzaW9uLCBvYmplY3ROYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBydW50aW1lVHlwZSwgaHlwZXJ0eUNhcGFiaWxpdGllcywgcHJvdG9jb2xDYXBhYmlsaXRpZXMsIHAycEhhbmRsZXJTdHViLCBwMnBSZXF1ZXN0ZXJTdHViKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgSHlwZXJ0eSBJbnRlcmNlcHRvciBEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0IGNhbiBiZSBkb3dubG9hZGVkLlxuICAgICAqIEBwYXJhbSBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHBvbGljaWVzXG4gICAgICogQHJldHVybnMge1BvbGljeUVuZm9yY2VyRGVzY3JpcHRvcn1cbiAgICAgKi9cbiAgICBjcmVhdGVIeXBlcnR5SW50ZXJjZXB0b3JEZXNjcmlwdG9yT2JqZWN0KGd1aWQsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljaWVzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlcnMhXCIpO1xuXG4gICAgICAgIHJldHVybiBuZXcgSHlwZXJ0eUludGVyY2VwdG9yRGVzY3JpcHRvcihndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfSU5URVJDRVBUT1IsIHZlcnNpb24sIG9iamVjdE5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGNvbmZpZ3VyYXRpb24sIHBvbGljaWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgRGF0YU9iamVjdFNjaGVtYSB3aGljaCBpbiBlZmZlY3QgaXMgdGhlIE1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGVpdGhlciBjcmVhdGVNZXNzYWdlRGF0YU9iamVjdFNjaGVtYSBvciBjcmVhdGVIeXBlcnR5RGF0YU9iamVjdFNjaGVtYSBpbnN0ZWFkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0IGNhbiBiZSBkb3dubG9hZGVkLlxuICAgICAqIEByZXR1cm5zIHtEYXRhT2JqZWN0U2NoZW1hfVxuICAgICAqL1xuICAgIGNyZWF0ZURhdGFPYmplY3RTY2hlbWEoZ3VpZCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlcnMhXCIpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGF0YU9iamVjdFNjaGVtYShndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSxcbiAgICAgICAgICAgIHNvdXJjZVBhY2thZ2VVUkwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBEYXRhT2JqZWN0U2NoZW1hIHdoaWNoIGluIGVmZmVjdCBpcyB0aGUgTWVzc2FnZURhdGFPYmplY3RTY2hlbWFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lIC0gSHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBsYW5ndWFnZSAtIFByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTCAtIFVSTCBmcm9tIHdoZXJlIHRoZSBzb3VyY2UgY29kZSBwYWNrYWdlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhdGFsb2d1ZSBvYmplY3QgY2FuIGJlIGRvd25sb2FkZWQuXG4gICAgICogQHJldHVybnMge0RhdGFPYmplY3RTY2hlbWF9XG4gICAgICovXG4gICAgY3JlYXRlTWVzc2FnZURhdGFPYmplY3RTY2hlbWEoZ3VpZCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlcnMhXCIpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGF0YU9iamVjdFNjaGVtYShndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSxcbiAgICAgICAgICAgIHNvdXJjZVBhY2thZ2VVUkwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBIeXBlcnR5RGF0YU9iamVjdFNjaGVtYVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBndWlkIC0gQ2F0YWxvZ3VlIEdsb2JhbCBVbmlxdWUgaWRlbnRpZmllciBvZiB0aGUgQ2F0YWxvZ3VlIE9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gSW5kaWNhdGVzIHRoZSB2ZXJzaW9uIG9mIENhdGFsb2d1ZSBEYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdE5hbWUgLSBIdW1hbi11bmRlcnN0YW5kYWJsZSBuYW1lIG9mIHRoZSBjYXRhbG9ndWUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtEYXRhT2JqZWN0U291cmNlTGFuZ3VhZ2V9IGxhbmd1YWdlIC0gUHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgdXNlZCBpbiB0aGUgU291cmNlUGFja2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VQYWNrYWdlVVJMIC0gVVJMIGZyb20gd2hlcmUgdGhlIHNvdXJjZSBjb2RlIHBhY2thZ2Ugb2YgdGhlIGNvcnJlc3BvbmRpbmcgY2F0YWxvZ3VlIG9iamVjdCBjYW4gYmUgZG93bmxvYWRlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzQ29udHJvbFBvbGljeSAtIHBvbGljeSBydWxlIHRvIGFjY2VzcyBvYmplY3QgKHNlZSBSZXBvcnRlci1PYnNlcnZlciBDb21tIHBhdHRlcm4pXG4gICAgICogQHBhcmFtIHtEYXRhVXJsU2NoZW1lfSBzY2hlbWUgLSBpZGVudGlmaWVzIHRoZSBkYXRhIHNjaGVtZSAoQ09NTSwgQ09OTkVDVElPTiwgQ1RYVCBvciBJREVOVElUWSlcbiAgICAgKiBAcmV0dXJucyB7RGF0YU9iamVjdFNjaGVtYX1cbiAgICAgKi9cbiAgICBjcmVhdGVIeXBlcnR5RGF0YU9iamVjdFNjaGVtYShndWlkLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzQ29udHJvbFBvbGljeSwgc2NoZW1lKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNjaGVtZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGFjY2Vzc0NvbnRyb2xQb2xpY3kgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcblxuICAgICAgICBpZiAoc2NoZW1lID09PSBEYXRhVXJsU2NoZW1lLkNPTU0pXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hKGd1aWQsIENhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9EQVRBX09CSkVDVCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIHNjaGVtZSwgYWNjZXNzQ29udHJvbFBvbGljeSk7XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtZSA9PT0gRGF0YVVybFNjaGVtZS5DT05ORUNUSU9OKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYShndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBzY2hlbWUsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpO1xuICAgICAgICBlbHNlIGlmIChzY2hlbWUgPT09IERhdGFVcmxTY2hlbWUuQ1RYVClcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGV4dERhdGFPYmplY3RTY2hlbWEoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgc2NoZW1lLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICAgICAgZWxzZSBpZiAoc2NoZW1lID09PSBEYXRhVXJsU2NoZW1lLklERU5USVRZKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJZGVudGl0eURhdGFPYmplY3RTY2hlbWEoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgc2NoZW1lLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgU291cmNlUGFja2FnZVxuICAgICAqIEBwYXJhbSBzb3VyY2VDb2RlQ2xhc3NuYW1lIC0gVGhlIENsYXNzLW5hbWUgb2YgdGhlIFNvdXJjZUNvZGVcbiAgICAgKiBAcGFyYW0gc291cmNlQ29kZSAtIFRoZSBzb3VyY2UgY29kZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtTb3VyY2VQYWNrYWdlfVxuICAgICAqL1xuICAgIGNyZWF0ZVNvdXJjZVBhY2thZ2Uoc291cmNlQ29kZUNsYXNzbmFtZSwgc291cmNlQ29kZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2Ygc291cmNlQ29kZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZUNvZGVDbGFzc25hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNvdXJjZVBhY2thZ2Uoc291cmNlQ29kZUNsYXNzbmFtZSwgc291cmNlQ29kZSk7XG5cbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBDYXRhbG9ndWVEYXRhT2JqZWN0RmFjdG9yeTtcbiIsIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHB6dSBvbiAxOS4xMS4xNS5cbiAqL1xuXG5pbXBvcnQgQ2F0YWxvZ3VlRGF0YU9iamVjdCBmcm9tICcuL0NhdGFsb2d1ZURhdGFPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgRGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIENhdGFsb2d1ZURhdGFPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCkge1xuICAgICAgICBzdXBlcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpO1xuICAgIH1cblxufVxuXG5cbi8vQ2hpbGRyZW5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlRGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIERhdGFPYmplY3RTY2hlbWEge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCkge1xuICAgICAgICBzdXBlcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIGV4dGVuZHMgRGF0YU9iamVjdFNjaGVtYSB7XG4gICAgY29uc3RydWN0b3IoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5LCBkYXRhVXJsU2NoZW1lKSB7XG4gICAgICAgIHN1cGVyKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCk7XG4gICAgICAgIHRoaXMuX2FjY2Vzc0NvbnRyb2xQb2xpY3kgPSBhY2Nlc3NDb250cm9sUG9saWN5O1xuICAgICAgICB0aGlzLl9zY2hlbWUgPSBkYXRhVXJsU2NoZW1lO1xuICAgIH1cbn1cblxuLy9DaGlsZHJlblxuZXhwb3J0IGNsYXNzIENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hIGV4dGVuZHMgSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgYWNjZXNzQ29udHJvbFBvbGljeSkge1xuICAgICAgICBzdXBlcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hIGV4dGVuZHMgSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgYWNjZXNzQ29udHJvbFBvbGljeSkge1xuICAgICAgICBzdXBlcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIElkZW50aXR5RGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0RGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBEYXRhVXJsU2NoZW1lID0ge1xuICAgIENPTU06ICdDT01NJywgQ09OTkVDVElPTjogJ0NPTk5FQ1RJT04nLCBDVFhUOiAnQ1RYVCcsIElERU5USVRZOiAnSURFTlRJVFknXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0U2NoZW1hOyIsIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuLyoqXG4gKiBDcmVhdGVkIGJ5IGFtbyBvbiAxNC8xMS8yMDE1LlxuICovXG5pbXBvcnQgQ2F0YWxvZ3VlRGF0YU9iamVjdCBmcm9tICcuL0NhdGFsb2d1ZURhdGFPYmplY3QnO1xuXG5jbGFzcyBIeXBlcnR5RGVzY3JpcHRvciBleHRlbmRzIENhdGFsb2d1ZURhdGFPYmplY3Qge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3QgZW5hYmxpbmcgdGhlIHNhbWUgb2JqZWN0IHRvIGJlXG4gICAgICogc3RvcmVkIGFuZCBkaXNjb3ZlcmVkIGluIGRpZmZlcmVudCBDYXRhbG9ndWVzLiBHdWlkIGNvcnJlc3BvbmRzIHRvIDxyZXNvdXJjZS10eXBlLWlkPiBwZXIgQk5GIG9mIFJlc291cmNlIFBhdGguXG4gICAgICogQHBhcmFtIHtDYXRhbG9ndWVPYmplY3RUeXBlfSBjYXRhbG9ndWVUeXBlIC0gXHRJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgQ2F0YWxvZ3VlIERhdGEgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VQYWNrYWdlVVJMXG4gICAgICogQHBhcmFtIHtIeXBlcnR5UmVzb3VyY2VUeXBlW119IGh5cGVydHlUeXBlIEEgdGFnIHRoYXQgaWRlbnRpZmllcyB3aGF0IHR5cGUgb2YgaHlwZXJ0eSBpcyBkZXNjcmliZWQgaW4gdGhlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1VSTC5IeXBlcnR5Q2F0YWxvZ3VlVVJMTGlzdH0gZGF0YU9iamVjdFVybHMgLSBJdCBkZWZpbmVzIHRoZSBEYXRhIE9iamVjdCBTY2hlbWFzIHN1cHBvcnRlZCBieSB0aGUgSHlwZXJ0eVxuICAgICAqIHRocm91Z2ggYSBsaXN0IG9mIENhdGFsb2d1ZSBVUkxzIGZyb20gd2hlcmUgdGhlc2Ugc2NoZW1hcyBjYW4gYmUgcmVhY2hlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIGNhdGFsb2d1ZVR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgaHlwZXJ0eVR5cGUsIGRhdGFPYmplY3RVcmxzKSB7XG4gICAgICAgIHN1cGVyKGd1aWQsIGNhdGFsb2d1ZVR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IHt9O1xuICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IHt9O1xuICAgICAgICB0aGlzLl9wb2xpY2llcyA9IHt9O1xuICAgICAgICB0aGlzLl9tZXNzYWdlU2NoZW1hID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9oeXBlcnR5VHlwZSA9IGh5cGVydHlUeXBlO1xuICAgICAgICB0aGlzLl9kYXRhT2JqZWN0cyA9IGRhdGFPYmplY3RVcmxzO1xuICAgIH1cblxuICAgIGdldCBoeXBlcnR5VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h5cGVydHlUeXBlO1xuICAgIH1cblxuICAgIGdldCBkYXRhT2JqZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFPYmplY3RzO1xuICAgIH1cblxuICAgIGdldCBjb25maWd1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgY29uc3RyYWludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25zdHJhaW50cztcbiAgICB9XG5cbiAgICBnZXQgbWVzc2FnZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VTY2hlbWE7XG4gICAgfVxuXG4gICAgZ2V0IHBvbGljaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9saWNpZXM7XG4gICAgfVxuXG4gICAgc2V0IGh5cGVydHlUeXBlKGhUeXBlKSB7XG4gICAgICAgIGlmIChoVHlwZSlcbiAgICAgICAgICAgIHRoaXMuX2h5cGVydHlUeXBlID0gaFR5cGU7XG4gICAgfVxuXG4gICAgc2V0IGRhdGFPYmplY3RzKGRhdGFPYmplY3RzKSB7XG4gICAgICAgIGlmIChkYXRhT2JqZWN0cylcbiAgICAgICAgICAgIHRoaXMuX2RhdGFPYmplY3RzID0gZGF0YU9iamVjdHM7XG4gICAgfVxuXG4gICAgc2V0IGNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbilcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgIH1cblxuICAgIHNldCBjb25zdHJhaW50cyhjb25zdHJhaW50cykge1xuICAgICAgICBpZiAoY29uc3RyYWludHMpXG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xuICAgIH1cblxuICAgIHNldCBtZXNzYWdlU2NoZW1hKG1lc3NhZ2VTY2hlbWEpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2VTY2hlbWEpXG4gICAgICAgICAgICB0aGlzLl9tZXNzYWdlU2NoZW1hID0gbWVzc2FnZVNjaGVtYTtcbiAgICB9XG5cbiAgICBzZXQgcG9saWNpZXMocG9saWNpZXMpIHtcbiAgICAgICAgaWYgKHBvbGljaWVzKVxuICAgICAgICAgICAgdGhpcy5fcG9saWNpZXMgPSBwb2xpY2llcztcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgY29uc3QgUnVudGltZUh5cGVydHlDYXBhYmlsaXR5VHlwZSA9IHt9O1xuZXhwb3J0IGNvbnN0IEh5cGVydHlUeXBlID0ge0NPTU1VTklDQVRPUjogJ2NvbW11bmljYXRvcicsIElERU5USVRZOiAnaWRlbnRpdHknLCBDT05URVhUOiAnY29udGV4dCd9O1xuZXhwb3J0IGNvbnN0IEh5cGVydHlSZXNvdXJjZVR5cGUgPSB7Y2hhdDogJ0NIQVQnLCBhdWRpbzogJ0F1ZGlvJywgdmlkZW86ICdWaWRlbycsIGF2OiAnQVYnLCBzY3JlZW46J1NDUkVFTicsXG4gICAgZmlsZTogJ0ZJTGUnLCBtaWRpOidNSURJJ307XG5leHBvcnQgZGVmYXVsdCBIeXBlcnR5RGVzY3JpcHRvcjsiLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbi8qKlxuICogQ3JlYXRlZCBieSBwenUgb24gMTkuMTEuMTUuXG4gKi9cbmltcG9ydCBDYXRhbG9ndWVEYXRhT2JqZWN0IGZyb20gJy4vQ2F0YWxvZ3VlRGF0YU9iamVjdCc7XG5cbmNsYXNzIFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvciBleHRlbmRzIENhdGFsb2d1ZURhdGFPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgY29uZmlndXJhdGlvbiwgcG9saWNpZXMpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKTtcblxuICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgdGhpcy5fcG9saWNpZXMgPSBwb2xpY2llcztcbiAgICB9XG5cbiAgICBnZXQgY29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb247XG4gICAgfVxuXG4gICAgZ2V0IHBvbGljaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9saWNpZXM7XG4gICAgfVxuXG4gICAgc2V0IHBvbGljaWVzKHBvbGljaWVzKSB7XG4gICAgICAgIHRoaXMuX3BvbGljaWVzID0gcG9saWNpZXM7XG4gICAgfVxuXG4gICAgc2V0IGNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuICogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4gKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiovXG5cbi8qKlxuICogQ3JlYXRlZCBieSBhbW8gb24gMTQvMTEvMjAxNS5cbiAqL1xuXG5pbXBvcnQgQ2F0YWxvZ3VlRGF0YU9iamVjdCBmcm9tIFwiLi9DYXRhbG9ndWVEYXRhT2JqZWN0XCI7XG5cbmNsYXNzIEh5cGVydHlSdW50aW1lRGVzY3JpcHRvciBleHRlbmRzIENhdGFsb2d1ZURhdGFPYmplY3Qge1xuXG4gICAgY29uc3RydWN0b3IoZ3VpZCwgY2F0YWxvZ3VlVHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBydW50aW1lVHlwZSxcbiAgICAgICAgICAgICAgICBoeXBlcnR5Q2FwYWJpbGl0aWVzLCBwcm90b2NvbENhcGFiaWxpdGllcywgcDJwSGFuZGxlclN0dWIsIHAycFJlcXVlc3RlclN0dWIpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgY2F0YWxvZ3VlVHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKTtcblxuICAgICAgICB0aGlzLl9ydW50aW1lVHlwZSA9IHJ1bnRpbWVUeXBlO1xuXG4gICAgICAgIGlmIChoeXBlcnR5Q2FwYWJpbGl0aWVzKVxuICAgICAgICAgICAgdGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllcyA9IGh5cGVydHlDYXBhYmlsaXRpZXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXMgPSBuZXcgUnVudGltZUh5cGVydHlDYXBhYmlsaXR5KHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKHByb3RvY29sQ2FwYWJpbGl0aWVzKVxuICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2xDYXBhYmlsaXRpZXMgPSBwcm90b2NvbENhcGFiaWxpdGllcztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2xDYXBhYmlsaXRpZXMgPSBuZXcgUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eSh0cnVlLCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fcDJwSGFuZGxlclN0dWIgPSBwMnBIYW5kbGVyU3R1YjtcbiAgICAgICAgdGhpcy5fcDJwUmVxdWVzdGVyU3R1YiA9IHAycFJlcXVlc3RlclN0dWI7XG4gICAgfVxuXG4gICAgZ2V0IHJ1bnRpbWVUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnVudGltZVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGh5cGVydHlDYXBhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oeXBlcnR5Q2FwYWJpbGl0aWVzO1xuICAgIH1cblxuICAgIGdldCBwcm90b2NvbENhcGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXM7XG4gICAgfVxuXG4gICAgc2V0IHJ1bnRpbWVUeXBlKHJ1bnRpbWVUeXBlKSB7XG4gICAgICAgIGlmIChydW50aW1lVHlwZSlcbiAgICAgICAgICAgIHRoaXMuX3J1bnRpbWVUeXBlID0gcnVudGltZVR5cGU7XG4gICAgfVxuXG4gICAgc2V0IGh5cGVydHlDYXBhYmlsaXRpZXMoaHlwZXJ0eUNhcGFiaWxpdGllcykge1xuICAgICAgICBpZiAoaHlwZXJ0eUNhcGFiaWxpdGllcylcbiAgICAgICAgICAgIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXMgPSBoeXBlcnR5Q2FwYWJpbGl0aWVzO1xuICAgIH1cblxuICAgIHNldCBwcm90b2NvbENhcGFiaWxpdGllcyhwcm90b2NvbENhcGFiaWxpdGllcykge1xuICAgICAgICBpZiAocHJvdG9jb2xDYXBhYmlsaXRpZXMpXG4gICAgICAgICAgICB0aGlzLl9wcm90b2NvbENhcGFiaWxpdGllcyA9IHByb3RvY29sQ2FwYWJpbGl0aWVzO1xuICAgIH1cblxuICAgIGdldCBwMnBIYW5kbGVyU3R1YigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3AycEhhbmRsZXJTdHViO1xuICAgIH1cblxuICAgIHNldCBwMnBIYW5kbGVyU3R1Yih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wMnBIYW5kbGVyU3R1YiA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBwMnBSZXF1ZXN0ZXJTdHViKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcDJwUmVxdWVzdGVyU3R1YjtcbiAgICB9XG5cbiAgICBzZXQgcDJwUmVxdWVzdGVyU3R1Yih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wMnBSZXF1ZXN0ZXJTdHViID0gdmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNhcGFiaWxpdHkgc2V0IG9mIHRoZSBSdW50aW1lIEh5cGVydHlcbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgb2YgdGhlIFJ1bnRpbWUgSHlwZXJ0eSBjYXBhYmlsaXR5IHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNXZWJSVENTdXBwb3J0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTWljU3VwcG9ydGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc0NhbWVyYVN1cHBvcnRlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTZW5zb3JTdXBwb3J0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzT1JUQ1N1cHBvcnRlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlzV2ViUlRDU3VwcG9ydGVkLCBpc01pY1N1cHBvcnRlZCwgaXNDYW1lcmFTdXBwb3J0ZWQsIGlzU2Vuc29yU3VwcG9ydGVkLCBpc09SVENTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhpcy5faXNXZWJSVEMgPSBpc1dlYlJUQ1N1cHBvcnRlZDtcbiAgICAgICAgdGhpcy5faXNNaWMgPSBpc01pY1N1cHBvcnRlZDtcbiAgICAgICAgdGhpcy5faXNDYW1lcmEgPSBpc0NhbWVyYVN1cHBvcnRlZDtcbiAgICAgICAgdGhpcy5faXNTZW5zb3IgPSBpc1NlbnNvclN1cHBvcnRlZDtcbiAgICAgICAgdGhpcy5faXNPUlRDID0gaXNPUlRDU3VwcG9ydGVkO1xuICAgIH1cblxuICAgIGdldCBpc01pYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzTWljO1xuICAgIH1cblxuICAgIGdldCBpc0NhbWVyYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ2FtZXJhO1xuICAgIH1cblxuICAgIGdldCBpc1NlbnNvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2Vuc29yO1xuICAgIH1cblxuICAgIGdldCBpc1dlYlJUQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzV2ViUlRDO1xuICAgIH1cblxuICAgIGdldCBpc09SVENTKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNPUlRDO1xuICAgIH1cblxuICAgIGdldENhcGFiaWxpdHlTZXQoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcm90b2NvbCBjYXBhYmlsaXR5IHNldCBvZiB0aGUgUnVudGltZSBIeXBlcnR5XG4gKi9cbmV4cG9ydCBjbGFzcyBSdW50aW1lUHJvdG9jb2xDYXBhYmlsaXR5IHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IG9mIHRoZSBydW50aW1lIHByb3RvY29sIGNhcGFiaWxpdHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHR0cFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIdHRwc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNXU1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNXU1NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ29hcFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEYXRhQ2hhbm5lbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlzSHR0cCwgaXNIdHRwcywgaXNXUywgaXNXU1MsIGlzQ29hcCwgaXNEYXRhQ2hhbm5lbCkge1xuICAgICAgICB0aGlzLl9pc0h0dHAgPSBpc0h0dHA7XG4gICAgICAgIHRoaXMuX2lzSHR0cHMgPSBpc0h0dHBzO1xuICAgICAgICB0aGlzLl9pc1dTID0gaXNXUztcbiAgICAgICAgdGhpcy5faXNXU1MgPSBpc1dTUztcbiAgICAgICAgdGhpcy5faXNDb2FwID0gaXNDb2FwO1xuICAgICAgICB0aGlzLl9pc0RhdGFDaGFubmVsID0gaXNEYXRhQ2hhbm5lbDtcbiAgICB9XG5cbiAgICBpc0h0dHAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0h0dHA7XG4gICAgfVxuXG4gICAgaXNIdHRwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSHR0cHM7XG4gICAgfVxuXG4gICAgaXNXUygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzV1M7XG4gICAgfVxuXG4gICAgaXNTZW5zb3JTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NlbnNvcjtcbiAgICB9XG5cbiAgICBpc1dTUygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzV1NTO1xuICAgIH1cblxuICAgIGlzQ29hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ29hcDtcbiAgICB9XG5cbiAgICBpc0RhdGFDaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEYXRhQ2hhbm5lbDtcbiAgICB9XG5cblxuICAgIGdldENhcGFiaWxpdHlTZXQoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSdW50aW1lVHlwZSA9IHtCUk9XU0VSOiAnYnJvd3NlcicsIFNUQU5EQUxPTkU6ICdzdGFuZGFsb25lJywgU0VSVkVSOiAnc2VydmVyJywgR0FURVdBWTogJ2dhdGV3YXknfTtcblxuZXhwb3J0IGRlZmF1bHQgSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4gKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4gKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiAqIENvcHlyaWdodCAyMDE2IEFwaXplZVxuICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICoqL1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgYW1vIG9uIDE0LzExLzIwMTUuXG4gKi9cblxuaW1wb3J0IENhdGFsb2d1ZURhdGFPYmplY3QgZnJvbSBcIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdFwiO1xuXG5jbGFzcyBQcm90b2NvbFN0dWJEZXNjcmlwdG9yIGV4dGVuZHMgQ2F0YWxvZ3VlRGF0YU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBtZXNzYWdlU2NoZW1hcywgY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICBjb25zdHJhaW50cywgaHlwZXJ0eVR5cGUsIGRhdGFPYmplY3RzLCBpbnRlcndvcmtpbmcsIGlkcFByb3h5LCBtdXR1YWxBdXRoZW50aWNhdGlvbikge1xuICAgICAgICBzdXBlcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpO1xuXG4gICAgICAgIHRoaXMuX21lc3NhZ2VTY2hlbWFzID0gbWVzc2FnZVNjaGVtYXM7XG5cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pXG4gICAgICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IHt9O1xuXG4gICAgICAgIGlmIChjb25zdHJhaW50cylcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0cmFpbnRzID0gY29uc3RyYWludHM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0cmFpbnRzID0ge307XG5cbiAgICAgICAgdGhpcy5faHlwZXJ0eVR5cGUgPSBoeXBlcnR5VHlwZTtcblxuICAgICAgICBpZiAoZGF0YU9iamVjdHMpXG4gICAgICAgICAgICB0aGlzLl9kYXRhT2JqZWN0cyA9IGRhdGFPYmplY3RzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9kYXRhT2JqZWN0cyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5faW50ZXJ3b3JraW5nID0gaW50ZXJ3b3JraW5nO1xuICAgICAgICB0aGlzLl9pZHBQcm94eSA9IGlkcFByb3h5O1xuICAgICAgICB0aGlzLl9tdXR1YWxBdXRoZW50aWNhdGlvbiA9IG11dHVhbEF1dGhlbnRpY2F0aW9uO1xuXG4gICAgfVxuXG4gICAgZ2V0IG1lc3NhZ2VTY2hlbWFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZVNjaGVtYXM7XG4gICAgfVxuXG4gICAgZ2V0IGNvbnN0cmFpbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3RyYWludHM7XG4gICAgfVxuXG4gICAgZ2V0IGNvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWd1cmF0aW9uO1xuICAgIH1cblxuICAgIHNldCBtZXNzYWdlU2NoZW1hcyhtZXNzYWdlU2NoZW1hcykge1xuICAgICAgICBpZiAobWVzc2FnZVNjaGVtYXMpXG4gICAgICAgICAgICB0aGlzLl9tZXNzYWdlU2NoZW1hcyA9IG1lc3NhZ2VTY2hlbWFzO1xuICAgIH1cblxuICAgIHNldCBjb25zdHJhaW50cyhjb25zdHJhaW50cykge1xuICAgICAgICBpZiAoY29uc3RyYWludHMpXG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xuICAgIH1cblxuICAgIHNldCBjb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pXG4gICAgICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgaHlwZXJ0eVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oeXBlcnR5VHlwZTtcbiAgICB9XG5cbiAgICBzZXQgaHlwZXJ0eVR5cGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faHlwZXJ0eVR5cGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgZGF0YU9iamVjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhT2JqZWN0cztcbiAgICB9XG5cbiAgICBzZXQgZGF0YU9iamVjdHModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZGF0YU9iamVjdHMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgaW50ZXJ3b3JraW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJ3b3JraW5nO1xuICAgIH1cblxuICAgIHNldCBpbnRlcndvcmtpbmcodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faW50ZXJ3b3JraW5nID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGlkcFByb3h5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRwUHJveHk7XG4gICAgfVxuXG4gICAgc2V0IGlkcFByb3h5KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2lkcFByb3h5ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IG11dHVhbEF1dGhlbnRpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbXV0dWFsQXV0aGVudGljYXRpb247XG4gICAgfVxuXG4gICAgc2V0IG11dHVhbEF1dGhlbnRpY2F0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX211dHVhbEF1dGhlbnRpY2F0aW9uID0gdmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm90b2NvbFN0dWJEZXNjcmlwdG9yOyIsIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuLyoqXG4gKiBDcmVhdGVkIGJ5IGFtbyBvbiAxNC8xMS8yMDE1LlxuICovXG5jbGFzcyBTb3VyY2VQYWNrYWdlIHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VDb2RlQ2xhc3NuYW1lLCBzb3VyY2VDb2RlKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZUNvZGUgPSBzb3VyY2VDb2RlO1xuICAgICAgICB0aGlzLl9zb3VyY2VDb2RlQ2xhc3NuYW1lID0gc291cmNlQ29kZUNsYXNzbmFtZTtcblxuICAgICAgICB0aGlzLl9lbmNvZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NpZ25hdHVyZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0IHNvdXJjZUNvZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2VDb2RlO1xuICAgIH1cblxuICAgIGdldCBzb3VyY2VDb2RlQ2xhc3NuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZTtcbiAgICB9XG5cbiAgICBnZXQgZW5jb2RpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmNvZGluZztcbiAgICB9XG5cbiAgICBnZXQgc2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlO1xuICAgIH1cblxuICAgIHNldCBlbmNvZGluZyhlbmNvZGluZykge1xuICAgICAgICBpZiAoZW5jb2RpbmcpXG4gICAgICAgICAgICB0aGlzLl9lbmNvZGluZyA9IGVuY29kaW5nO1xuICAgIH1cblxuICAgIHNldCBzaWduYXR1cmUoc2lnbikge1xuICAgICAgICBpZiAoc2lnbilcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hdHVyZSA9IHNpZ247XG4gICAgfVxuXG4gICAgc2V0IHNvdXJjZUNvZGUoc291cmNlQ29kZSkge1xuICAgICAgICBpZiAoc291cmNlQ29kZSlcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZUNvZGUgPSBzb3VyY2VDb2RlO1xuICAgIH1cblxuICAgIHNldCBzb3VyY2VDb2RlQ2xhc3NuYW1lKHNvdXJjZUNvZGVDbGFzc25hbWUpIHtcbiAgICAgICAgaWYgKHNvdXJjZUNvZGVDbGFzc25hbWUpXG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VDb2RlQ2xhc3NuYW1lID0gc291cmNlQ29kZUNsYXNzbmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZVBhY2thZ2U7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuICogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4gKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiovXG5pbXBvcnQgdHY0IGZyb20gXCJ0djRcIjtcblxuZXhwb3J0IGNsYXNzIFJldGhpbmtPYmplY3Qge1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoaXMgUmV0aGlua09iamVjdCBhZ2FpbnN0IHRoZSBwcm92aWRlZCBzY2hlbWEuXG4gICAgICpcbiAgICAgKiBMSU1JVEFUSU9OUzogVGhlIHByb3ZpZGVkIHNjaGVtYSBjYW5ub3QgY29udGFpbiByZWZlcmVuY2VzIHRvIG90aGVyIHNjaGVtYXMsIHNpbmNlIHRoZXkgY2FuJ3QgYmUgcmVzb2x2ZWQuXG4gICAgICogQHBhcmFtIHNjaGVtYSAtIHNjaGVtYSB0byB2YWxpZGF0ZSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHZhbGlkYXRlKHNjaGVtYSkge1xuICAgICAgICAvLyBhZGQgc2NoZW1hIGl0c2VsZiBzbyBsb2NhbCByZWZlcmVuY2VzIHdvcmtcbiAgICAgICAgdHY0LmFkZFNjaGVtYShzY2hlbWEuaWQsIHNjaGVtYSk7XG5cbiAgICAgICAgLy8gSlNPTiBzdHJpbmdpZnkgLT4gcGFyc2UgbmVlZGVkIHRvIGhhdmUgcHJvcGVyIHZhbGlkYXRpb25cbiAgICAgICAgbGV0IHJlc3VsdCA9IHR2NC52YWxpZGF0ZU11bHRpcGxlKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpLCBzY2hlbWEpO1xuXG4gICAgICAgIC8vIGRlbGV0ZSBlcnJvciBzdGFja3MgdG8gaW1wcm92ZSBsb2dnaW5nXG4gICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSBlcnJvci5zdGFjaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcHJpbnQgbW9yZSBkZXRhaWxzIGFib3V0IHZhbGlkYXRpb24gaWYgaXQgZmFpbHMgb3Igc2NoZW1hIGNvbnRhaW5zICRyZWZzXG4gICAgICAgIGlmICghcmVzdWx0LnZhbGlkIHx8IChyZXN1bHQubWlzc2luZy5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiT2JqZWN0IHZhbGlkYXRpb24gXCIgKyAocmVzdWx0LnZhbGlkID8gXCJzdWNjZWVkZWQsIGJ1dCBzY2hlbWEgY29udGFpbmVkIHJlZmVyZW5jZXM6XCIgOiBcImZhaWxlZDpcIiksIEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgMikpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPYmplY3Q6XCIsIEpTT04uc3RyaW5naWZ5KHRoaXMsIG51bGwsIDIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnZhbGlkO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBSZXRoaW5rT2JqZWN0O1xuXG4iLCJpbXBvcnQgQ2F0YWxvZ3VlRmFjdG9yeSBmcm9tIFwiLi4vY2F0YWxvZ3VlLWZhY3RvcnkvQ2F0YWxvZ3VlRGF0YU9iamVjdEZhY3RvcnlcIjtcblxuY2xhc3MgUnVudGltZUNhdGFsb2d1ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihydW50aW1lRmFjdG9yeSkge1xuICAgICAgICBpZiAoIXJ1bnRpbWVGYWN0b3J5KSB0aHJvdyBFcnJvcignVGhlIGNhdGFsb2d1ZSBuZWVkcyB0aGUgcnVudGltZUZhY3RvcnknKTtcblxuICAgICAgICB0aGlzLl9mYWN0b3J5ID0gbmV3IENhdGFsb2d1ZUZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5odHRwUmVxdWVzdCA9IHJ1bnRpbWVGYWN0b3J5LmNyZWF0ZUh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMuYXRvYiA9IHJ1bnRpbWVGYWN0b3J5LmF0b2IgPyBydW50aW1lRmFjdG9yeS5hdG9iIDogYXRvYjtcbiAgICAgICAgdGhpcy5zdG9yYWdlTWFuYWdlciA9IHJ1bnRpbWVGYWN0b3J5LnN0b3JhZ2VNYW5hZ2VyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgQ2F0YWxvZ3VlIERhdGEgT2JqZWN0IChEZXNjcmlwdG9yKSBmcm9tIGEgVVJMLCBhbmQgY29uc3RydWN0IGl0IHVzaW5nIHRoZSBwcm92aWRlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZXNjcmlwdG9yVVJMIC0gZS5nLiBteWRvbWFpbi5jb20vLndlbGwta25vd24vaHlwZXJ0eS9NeUh5cGVydHlcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVGdW5jIC0gZS5nLiBjcmVhdGVIeXBlcnR5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZ2V0RnVsbF0gLSB3aGV0aGVyIG9yIG5vdCB0byBnZXQgZGVzY3JpcHRvciB3aXRoIHNvdXJjZVBhY2thZ2UsIG9yIG9ubHkgdGhlIGRlc2NyaXB0b3IgcGFydFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGdldERlc2NyaXB0b3IoZGVzY3JpcHRvclVSTCwgY3JlYXRlRnVuYywgZ2V0RnVsbCA9IHRydWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJnZXR0aW5nIGRlc2NyaXB0b3IgZnJvbTpcIiwgZGVzY3JpcHRvclVSTCk7XG5cbiAgICAgICAgLy8gc29tZSBmbGFncyBmb3Igb3B0aW1pemF0aW9uXG4gICAgICAgIC8vIChsYXRlciB0aGUgZGVzY3JpcHRvciB3aWxsIG5vdCBiZSBzYXZlZCBpbiBjYXNlIGJvdGggb2YgdGhlc2UgYm9vbGVhbnMgYXJlIHRydWUpXG4gICAgICAgIGxldCBpc1NhdmVkRGVzY3JpcHRvciA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNDb21wbGV0ZURlc2NyaXB0b3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBnZXQgcmF3IGRlc2NyaXB0b3JcbiAgICAgICAgLy8gZmlyc3QgY2hlY2tzIGlmIGRlc2NyaXB0b3IgaXMgYWxyZWFkeSBpbiBsb2NhbFN0b3JhZ2UgKGJhc2VkIG9uIGNndWlkIGFuZCB2ZXJzaW9uKVxuICAgICAgICBsZXQgZGVzY3JpcHRvclByb21pc2UgPSBQcm9taXNlLmFsbChbdGhpcy5odHRwUmVxdWVzdC5nZXQoZGVzY3JpcHRvclVSTCArIFwiL3ZlcnNpb25cIiksIHRoaXMuaHR0cFJlcXVlc3QuZ2V0KGRlc2NyaXB0b3JVUkwgKyBcIi9jZ3VpZFwiKV0pLnRoZW4oKFt2ZXJzaW9uLCBjZ3VpZF0pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ290IHZlcnNpb24gKFwiICsgdmVyc2lvbiArIFwiKSBhbmQgY2d1aWQgKFwiICsgY2d1aWQgKyBcIikgZm9yIGRlc2NyaXB0b3IgXCIgKyBkZXNjcmlwdG9yVVJMKTtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgc2FtZSB2ZXJzaW9uIGlzIGNvbnRhaW5lZCBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2VNYW5hZ2VyLmdldFZlcnNpb24oY2d1aWQpLnRoZW4oKGRiVmVyc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYlZlcnNpb24gPj0gdmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0b3JhZ2VNYW5hZ2VyIGNvbnRhaW5zIHNhdmVkIHZlcnNpb24gdGhhdCBpcyB0aGUgc2FtZSBvciBuZXdlciB0aGFuIHJlcXVlc3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaXNTYXZlZERlc2NyaXB0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlTWFuYWdlci5nZXQoY2d1aWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RvcmFnZU1hbmFnZXIgZG9lcyBub3QgY29udGFpbiBzYXZlZCB2ZXJzaW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBzYXZlZCBjb3B5LCBwcm9jZWVkIHdpdGggcmV0cmlldmluZyBkZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh0dHBSZXF1ZXN0LmdldChkZXNjcmlwdG9yVVJMKS50aGVuKChkZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yID0gSlNPTi5wYXJzZShkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJnb3QgZGVzY3JpcHRvcjpcIiwgSlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRvciwgbnVsbCwgMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3JbXCJFUlJPUlwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIGVycm9yIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGxldCBlcnJvclN0cmluZyA9IFwiVW5hYmxlIHRvIGdldCBkZXNjcmlwdG9yIGZvciBcIiArIGRlc2NyaXB0b3JVUkwgKyBcIjogXCIgKyBlcnJvcjtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JTdHJpbmcpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yU3RyaW5nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHJldHVyblByb21pc2UgPSBkZXNjcmlwdG9yUHJvbWlzZTtcblxuICAgICAgICAvLyBpZiBnZXRGdWxsLCBhdHRhY2ggc291cmNlUGFja2FnZVxuICAgICAgICBpZiAoZ2V0RnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRpbmcgcHJvbWlzZSB0byBhdHRhY2ggc291cmNlUGFja2FnZVwiKTtcbiAgICAgICAgICAgIHJldHVyblByb21pc2UgPSBkZXNjcmlwdG9yUHJvbWlzZS50aGVuKChkZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3Iuc291cmNlUGFja2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlRGVzY3JpcHRvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGVEZXNjcmlwdG9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGFjaFJhd1NvdXJjZVBhY2thZ2UoZGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsbHkgY3JlYXRlIG9iamVjdFxuICAgICAgICByZXR1cm5Qcm9taXNlID0gcmV0dXJuUHJvbWlzZS50aGVuKChkZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICAvLyBzdG9yZSBpZiBub3Qgc2F2ZWQgYmVmb3JlLCBvciBpZiBmdWxsIGRlc2NyaXB0b3Igd2FzIHJlcXVlc3RlZCBhbmQgb25seSBwYXJ0aWFsIGRlc2NyaXB0b3Igd2FzIHN0b3JlZC5cbiAgICAgICAgICAgIGlmICghaXNTYXZlZERlc2NyaXB0b3IgfHwgKGlzU2F2ZWREZXNjcmlwdG9yICYmICFpc0NvbXBsZXRlRGVzY3JpcHRvciAmJiBnZXRGdWxsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZU1hbmFnZXIuc2V0KGRlc2NyaXB0b3IuY2d1aWQsIGRlc2NyaXB0b3IudmVyc2lvbiwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRnVuYy5hcHBseSh0aGlzLCBbZGVzY3JpcHRvcl0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIHRoZSBzb3VyY2VQYWNrYWdlVVJMIGZyb20gdGhlIGRlc2NyaXB0b3IsIHJlcXVlc3RzIHRoZSBzb3VyY2VQYWNrYWdlIGFuZCBhdHRhY2hlcyBpdCB0byB0aGUgZGVzY3JpcHRvci5cbiAgICAgKiBAcGFyYW0ge0NhdGFsb2d1ZURhdGFPYmplY3R9IGRlc2NyaXB0b3JcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBmdWxmaWxscyB3aXRoIGNvbXBsZXRlIGRlc2NyaXB0b3JcbiAgICAgKi9cbiAgICBhdHRhY2hSYXdTb3VyY2VQYWNrYWdlKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJhdHRhY2hpbmcgcmF3IHNvdXJjZVBhY2thZ2UgZnJvbTpcIiwgZGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlVVJMKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmh0dHBSZXF1ZXN0LmdldChkZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2VVUkwpLnRoZW4oKHNvdXJjZVBhY2thZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBzb3VyY2VQYWNrYWdlID0gSlNPTi5wYXJzZShzb3VyY2VQYWNrYWdlKTtcbiAgICAgICAgICAgICAgICAvL2RlbGV0ZSBkZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2VVUkw7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImF0dGFjaGluZyBzb3VyY2VQYWNrYWdlOlwiLCBzb3VyY2VQYWNrYWdlKTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2UgPSBzb3VyY2VQYWNrYWdlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEh5cGVydHlEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIGh5cGVydHlVUkwgLSBlLmcuIG15ZG9tYWluLmNvbS8ud2VsbC1rbm93bi9oeXBlcnR5L015SHlwZXJ0eVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2dldEZ1bGxdIC0gYm9vbGVhbiB0byBkZWNpZGUgdG8gZ2V0IHRoZSBkZXNjcmlwdG9yIHdpdGggdGhlIHNvdXJjZVBhY2thZ2Ugb3IgKHBvdGVudGlhbGx5KSB3aXRob3V0XG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgZ2V0SHlwZXJ0eURlc2NyaXB0b3IoaHlwZXJ0eVVSTCwgZ2V0RnVsbCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvcihoeXBlcnR5VVJMLCB0aGlzLmNyZWF0ZUh5cGVydHksIGdldEZ1bGwpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IFN0dWJEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIHN0dWJVUkwgLSBlLmcuIG15ZG9tYWluLmNvbS8ud2VsbC1rbm93bi9wcm90b3N0dWIvTXlQcm90b3N0dWJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtnZXRGdWxsXSAtIGJvb2xlYW4gdG8gZGVjaWRlIHRvIGdldCB0aGUgZGVzY3JpcHRvciB3aXRoIHRoZSBzb3VyY2VQYWNrYWdlIG9yIChwb3RlbnRpYWxseSkgd2l0aG91dFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGdldFN0dWJEZXNjcmlwdG9yKHN0dWJVUkwsIGdldEZ1bGwgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERlc2NyaXB0b3Ioc3R1YlVSTCwgdGhpcy5jcmVhdGVTdHViLCBnZXRGdWxsKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBSdW50aW1lRGVzY3JpcHRvclxuICAgICAqIEBwYXJhbSBydW50aW1lVVJMIC0gZS5nLiBteWRvbWFpbi5jb20vLndlbGwta25vd24vcnVudGltZS9NeVJ1bnRpbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtnZXRGdWxsXSAtIGJvb2xlYW4gdG8gZGVjaWRlIHRvIGdldCB0aGUgZGVzY3JpcHRvciB3aXRoIHRoZSBzb3VyY2VQYWNrYWdlIG9yIChwb3RlbnRpYWxseSkgd2l0aG91dFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGdldFJ1bnRpbWVEZXNjcmlwdG9yKHJ1bnRpbWVVUkwsIGdldEZ1bGwgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERlc2NyaXB0b3IocnVudGltZVVSTCwgdGhpcy5jcmVhdGVSdW50aW1lRGVzY3JpcHRvciwgZ2V0RnVsbClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgRGF0YVNjaGVtYURlc2NyaXB0b3JcbiAgICAgKiBAcGFyYW0gZGF0YVNjaGVtYVVSTCAtIGUuZy4gbXlkb21haW4uY29tLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvTXlEYXRhU2NoZW1hXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZ2V0RnVsbF0gLSBib29sZWFuIHRvIGRlY2lkZSB0byBnZXQgdGhlIGRlc2NyaXB0b3Igd2l0aCB0aGUgc291cmNlUGFja2FnZSBvciAocG90ZW50aWFsbHkpIHdpdGhvdXRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcihkYXRhU2NoZW1hVVJMLCBnZXRGdWxsID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREZXNjcmlwdG9yKGRhdGFTY2hlbWFVUkwsIHRoaXMuY3JlYXRlRGF0YVNjaGVtYSwgZ2V0RnVsbClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSURQUHJveHlEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIGlkcFByb3h5VVJMIC0gZS5nLiBteWRvbWFpbi5jb20vLndlbGwta25vd24vaWRwLXByb3h5L015UHJveHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtnZXRGdWxsXSAtIGJvb2xlYW4gdG8gZGVjaWRlIHRvIGdldCB0aGUgZGVzY3JpcHRvciB3aXRoIHRoZSBzb3VyY2VQYWNrYWdlIG9yIChwb3RlbnRpYWxseSkgd2l0aG91dFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGdldElkcFByb3h5RGVzY3JpcHRvcihpZHBQcm94eVVSTCwgZ2V0RnVsbCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvcihpZHBQcm94eVVSTCwgdGhpcy5jcmVhdGVJZHBQcm94eSwgZ2V0RnVsbClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgSHlwZXJ0eURlc2NyaXB0b3IgYmFzZWQgb24gcmF3IG9iamVjdCB0aGF0IGNvbnRhaW5zIGl0cyBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIHtKU09OfSByYXdIeXBlcnR5XG4gICAgICogQHJldHVybnMge0h5cGVydHlEZXNjcmlwdG9yfVxuICAgICAqL1xuICAgIGNyZWF0ZUh5cGVydHkocmF3SHlwZXJ0eSkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRlSHlwZXJ0eTpcIiwgcmF3SHlwZXJ0eSk7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZGVzY3JpcHRvclxuICAgICAgICBsZXQgaHlwZXJ0eSA9IHRoaXMuX2ZhY3RvcnkuY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QoXG4gICAgICAgICAgICByYXdIeXBlcnR5W1wiY2d1aWRcIl0sXG4gICAgICAgICAgICByYXdIeXBlcnR5W1widmVyc2lvblwiXSxcbiAgICAgICAgICAgIHJhd0h5cGVydHlbXCJvYmplY3ROYW1lXCJdLFxuICAgICAgICAgICAgcmF3SHlwZXJ0eVtcImRlc2NyaXB0aW9uXCJdLFxuICAgICAgICAgICAgcmF3SHlwZXJ0eVtcImxhbmd1YWdlXCJdLFxuICAgICAgICAgICAgcmF3SHlwZXJ0eVtcInNvdXJjZVBhY2thZ2VVUkxcIl0sXG4gICAgICAgICAgICByYXdIeXBlcnR5W1widHlwZVwiXSB8fCByYXdIeXBlcnR5W1wiaHlwZXJ0eVR5cGVcIl0sXG4gICAgICAgICAgICByYXdIeXBlcnR5W1wiZGF0YU9iamVjdHNcIl1cbiAgICAgICAgKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImZhY3RvcnkgcmV0dXJuZWQ6XCIsIGh5cGVydHkpO1xuXG4gICAgICAgIC8vIG9wdGlvbmFsIGZpZWxkc1xuICAgICAgICBoeXBlcnR5LmNvbmZpZ3VyYXRpb24gPSByYXdIeXBlcnR5W1wiY29uZmlndXJhdGlvblwiXTtcbiAgICAgICAgaHlwZXJ0eS5jb25zdHJhaW50cyA9IHJhd0h5cGVydHlbXCJjb25zdHJhaW50c1wiXTtcbiAgICAgICAgaHlwZXJ0eS5tZXNzYWdlU2NoZW1hID0gcmF3SHlwZXJ0eVtcIm1lc3NhZ2VTY2hlbWFcIl07XG4gICAgICAgIGh5cGVydHkucG9saWNpZXMgPSByYXdIeXBlcnR5W1wicG9saWNpZXNcIl07XG4gICAgICAgIGh5cGVydHkuc2lnbmF0dXJlID0gcmF3SHlwZXJ0eVtcInNpZ25hdHVyZVwiXTtcblxuICAgICAgICAvLyBwYXJzZSBhbmQgYXR0YWNoIHNvdXJjZVBhY2thZ2VcbiAgICAgICAgbGV0IHNvdXJjZVBhY2thZ2UgPSByYXdIeXBlcnR5W1wic291cmNlUGFja2FnZVwiXTtcbiAgICAgICAgaWYgKHNvdXJjZVBhY2thZ2UpIHtcbiAgICAgICAgICAgIGh5cGVydHkuc291cmNlUGFja2FnZSA9IHRoaXMuY3JlYXRlU291cmNlUGFja2FnZShzb3VyY2VQYWNrYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoeXBlcnR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBQcm90b2NvbFN0dWJEZXNjcmlwdG9yIGJhc2VkIG9uIHJhdyBvYmplY3QgdGhhdCBjb250YWlucyBpdHMgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSByYXdTdHViXG4gICAgICogQHJldHVybnMge1Byb3RvY29sU3R1YkRlc2NyaXB0b3J9XG4gICAgICovXG4gICAgY3JlYXRlU3R1YihyYXdTdHViKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY3JlYXRpbmcgc3R1YiBkZXNjcmlwdG9yIGJhc2VkIG9uOiBcIiwgcmF3U3R1Yik7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBkZXNjcmlwdG9yXG4gICAgICAgIGxldCBzdHViID0gdGhpcy5fZmFjdG9yeS5jcmVhdGVQcm90b1N0dWJEZXNjcmlwdG9yT2JqZWN0KFxuICAgICAgICAgICAgcmF3U3R1YltcImNndWlkXCJdLFxuICAgICAgICAgICAgcmF3U3R1YltcInZlcnNpb25cIl0sXG4gICAgICAgICAgICByYXdTdHViW1wib2JqZWN0TmFtZVwiXSxcbiAgICAgICAgICAgIHJhd1N0dWJbXCJkZXNjcmlwdGlvblwiXSxcbiAgICAgICAgICAgIHJhd1N0dWJbXCJsYW5ndWFnZVwiXSxcbiAgICAgICAgICAgIHJhd1N0dWJbXCJzb3VyY2VQYWNrYWdlVVJMXCJdLFxuICAgICAgICAgICAgcmF3U3R1YltcIm1lc3NhZ2VTY2hlbWFzXCJdLFxuICAgICAgICAgICAgcmF3U3R1YltcImNvbmZpZ3VyYXRpb25cIl0sXG4gICAgICAgICAgICByYXdTdHViW1wiY29uc3RyYWludHNcIl0sXG4gICAgICAgICAgICByYXdTdHViW1wiaHlwZXJ0eVR5cGVcIl0sXG4gICAgICAgICAgICByYXdTdHViW1wiZGF0YU9iamVjdHNcIl0sXG4gICAgICAgICAgICByYXdTdHViW1wiaW50ZXJ3b3JraW5nXCJdLFxuICAgICAgICAgICAgcmF3U3R1YltcImlkcFByb3h5XCJdLFxuICAgICAgICAgICAgcmF3U3R1YltcIm11dHVhbEF1dGhlbnRpY2F0aW9uXCJdXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gb3B0aW9uYWwgZmllbGRzXG4gICAgICAgIHN0dWIuc2lnbmF0dXJlID0gcmF3U3R1YltcInNpZ25hdHVyZVwiXTtcblxuICAgICAgICAvLyBwYXJzZSBhbmQgYXR0YWNoIHRoZSBzb3VyY2VQYWNrYWdlXG4gICAgICAgIGxldCBzb3VyY2VQYWNrYWdlID0gcmF3U3R1YltcInNvdXJjZVBhY2thZ2VcIl07XG4gICAgICAgIGlmIChzb3VyY2VQYWNrYWdlKSB7XG4gICAgICAgICAgICBzdHViLnNvdXJjZVBhY2thZ2UgPSB0aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2Uoc291cmNlUGFja2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R1YjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yIGJhc2VkIG9uIHJhdyBvYmplY3QgdGhhdCBjb250YWlucyBpdHMgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSByYXdSdW50aW1lXG4gICAgICogQHJldHVybnMge0h5cGVydHlSdW50aW1lRGVzY3JpcHRvcn1cbiAgICAgKi9cbiAgICBjcmVhdGVSdW50aW1lRGVzY3JpcHRvcihyYXdSdW50aW1lKSB7XG4gICAgICAgIC8vIHBhcnNlIGNhcGFiaWxpdGllcyBmaXJzdFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmF3UnVudGltZVtcImh5cGVydHlDYXBhYmlsaXRpZXNcIl0gPSBKU09OLnBhcnNlKHJhd1J1bnRpbWVbXCJoeXBlcnR5Q2FwYWJpbGl0aWVzXCJdKTtcbiAgICAgICAgICAgIHJhd1J1bnRpbWVbXCJwcm90b2NvbENhcGFiaWxpdGllc1wiXSA9IEpTT04ucGFyc2UocmF3UnVudGltZVtcInByb3RvY29sQ2FwYWJpbGl0aWVzXCJdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBqc29uIG9iamVjdFxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJjcmVhdGluZyBydW50aW1lIGRlc2NyaXB0b3IgYmFzZWQgb246IFwiLCByYXdSdW50aW1lKTtcblxuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZGVzY3JpcHRvclxuICAgICAgICBsZXQgcnVudGltZSA9IHRoaXMuX2ZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yT2JqZWN0KFxuICAgICAgICAgICAgcmF3UnVudGltZVtcImNndWlkXCJdLFxuICAgICAgICAgICAgcmF3UnVudGltZVtcInZlcnNpb25cIl0sXG4gICAgICAgICAgICByYXdSdW50aW1lW1wib2JqZWN0TmFtZVwiXSxcbiAgICAgICAgICAgIHJhd1J1bnRpbWVbXCJkZXNjcmlwdGlvblwiXSxcbiAgICAgICAgICAgIHJhd1J1bnRpbWVbXCJsYW5ndWFnZVwiXSxcbiAgICAgICAgICAgIHJhd1J1bnRpbWVbXCJzb3VyY2VQYWNrYWdlVVJMXCJdLFxuICAgICAgICAgICAgcmF3UnVudGltZVtcInR5cGVcIl0gfHwgcmF3UnVudGltZVtcInJ1bnRpbWVUeXBlXCJdLFxuICAgICAgICAgICAgcmF3UnVudGltZVtcImh5cGVydHlDYXBhYmlsaXRpZXNcIl0sXG4gICAgICAgICAgICByYXdSdW50aW1lW1wicHJvdG9jb2xDYXBhYmlsaXRpZXNcIl0sXG4gICAgICAgICAgICByYXdSdW50aW1lW1wicDJwSGFuZGxlclN0dWJcIl0sXG4gICAgICAgICAgICByYXdSdW50aW1lW1wicDJwUmVxdWVzdGVyU3R1YlwiXVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIG9wdGlvbmFsIGZpZWxkc1xuICAgICAgICBydW50aW1lLnNpZ25hdHVyZSA9IHJhd1J1bnRpbWVbXCJzaWduYXR1cmVcIl07XG5cbiAgICAgICAgLy8gcGFyc2UgYW5kIGF0dGFjaCBzb3VyY2VQYWNrYWdlXG4gICAgICAgIGxldCBzb3VyY2VQYWNrYWdlID0gcmF3UnVudGltZVtcInNvdXJjZVBhY2thZ2VcIl07XG4gICAgICAgIGlmIChzb3VyY2VQYWNrYWdlKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJ1bnRpbWUgaGFzIHNvdXJjZVBhY2thZ2U6XCIsIHNvdXJjZVBhY2thZ2UpO1xuICAgICAgICAgICAgcnVudGltZS5zb3VyY2VQYWNrYWdlID0gdGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHNvdXJjZVBhY2thZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW50aW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBEYXRhT2JqZWN0U2NoZW1hIGJhc2VkIG9uIHJhdyBvYmplY3QgdGhhdCBjb250YWlucyBpdHMgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSByYXdTY2hlbWFcbiAgICAgKiBAcmV0dXJucyB7RGF0YU9iamVjdFNjaGVtYX1cbiAgICAgKi9cbiAgICBjcmVhdGVEYXRhU2NoZW1hKHJhd1NjaGVtYSkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRpbmcgZGF0YVNjaGVtYSBiYXNlZCBvbjogXCIsIHJhd1NjaGVtYSk7XG5cbiAgICAgICAgbGV0IGRhdGFTY2hlbWE7XG4gICAgICAgIC8vY29uc29sZS5sb2coJzEuIGNyZWF0ZU1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hOiAnLCByYXdTY2hlbWFbXCJhY2Nlc3NDb250cm9sUG9saWN5XCJdKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnMi4gY3JlYXRlTWVzc2FnZURhdGFPYmplY3RTY2hlbWE6ICcsIHJhd1NjaGVtYVtcInNjaGVtZVwiXSk7XG4gICAgICAgIGlmIChyYXdTY2hlbWFbXCJhY2Nlc3NDb250cm9sUG9saWN5XCJdICYmIHJhd1NjaGVtYVtcInNjaGVtZVwiXSkge1xuICAgICAgICAgICAgZGF0YVNjaGVtYSA9IHRoaXMuX2ZhY3RvcnkuY3JlYXRlSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEoXG4gICAgICAgICAgICAgICAgcmF3U2NoZW1hW1wiY2d1aWRcIl0sXG4gICAgICAgICAgICAgICAgcmF3U2NoZW1hW1widmVyc2lvblwiXSxcbiAgICAgICAgICAgICAgICByYXdTY2hlbWFbXCJvYmplY3ROYW1lXCJdLFxuICAgICAgICAgICAgICAgIHJhd1NjaGVtYVtcImRlc2NyaXB0aW9uXCJdLFxuICAgICAgICAgICAgICAgIHJhd1NjaGVtYVtcImxhbmd1YWdlXCJdLFxuICAgICAgICAgICAgICAgIHJhd1NjaGVtYVtcInNvdXJjZVBhY2thZ2VVUkxcIl0sXG4gICAgICAgICAgICAgICAgcmF3U2NoZW1hW1wiYWNjZXNzQ29udHJvbFBvbGljeVwiXSxcbiAgICAgICAgICAgICAgICByYXdTY2hlbWFbXCJzY2hlbWVcIl1cbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzMuIGNyZWF0ZU1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hOiAnLCByYXdTY2hlbWEpO1xuICAgICAgICAgICAgZGF0YVNjaGVtYSA9IHRoaXMuX2ZhY3RvcnkuY3JlYXRlTWVzc2FnZURhdGFPYmplY3RTY2hlbWEoXG4gICAgICAgICAgICAgICAgcmF3U2NoZW1hW1wiY2d1aWRcIl0sXG4gICAgICAgICAgICAgICAgcmF3U2NoZW1hW1widmVyc2lvblwiXSxcbiAgICAgICAgICAgICAgICByYXdTY2hlbWFbXCJvYmplY3ROYW1lXCJdLFxuICAgICAgICAgICAgICAgIHJhd1NjaGVtYVtcImRlc2NyaXB0aW9uXCJdLFxuICAgICAgICAgICAgICAgIHJhd1NjaGVtYVtcImxhbmd1YWdlXCJdLFxuICAgICAgICAgICAgICAgIHJhd1NjaGVtYVtcInNvdXJjZVBhY2thZ2VVUkxcIl1cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9wdGlvbmFsIGZpZWxkc1xuICAgICAgICBkYXRhU2NoZW1hLnNpZ25hdHVyZSA9IHJhd1NjaGVtYVtcInNpZ25hdHVyZVwiXTtcblxuICAgICAgICAvLyBwYXJzZSBhbmQgYXR0YWNoIHNvdXJjZVBhY2thZ2VcbiAgICAgICAgbGV0IHNvdXJjZVBhY2thZ2UgPSByYXdTY2hlbWFbXCJzb3VyY2VQYWNrYWdlXCJdO1xuICAgICAgICBpZiAoc291cmNlUGFja2FnZSkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImRhdGFTY2hlbWEgaGFzIHNvdXJjZVBhY2thZ2U6XCIsIHNvdXJjZVBhY2thZ2UpO1xuICAgICAgICAgICAgZGF0YVNjaGVtYS5zb3VyY2VQYWNrYWdlID0gdGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHNvdXJjZVBhY2thZ2UpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRhdGFTY2hlbWEuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlID0gSlNPTi5wYXJzZShkYXRhU2NoZW1hLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFTY2hlbWEgU291cmNlIGNvZGUgaXMgYWxyZWFkeSBwYXJzZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGFTY2hlbWE7XG5cbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRlZCBkYXRhU2NoZW1hIGRlc2NyaXB0b3Igb2JqZWN0OlwiLCBkYXRhU2NoZW1hKTtcbiAgICAgICAgcmV0dXJuIGRhdGFTY2hlbWE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFByb3RvY29sU3R1YkRlc2NyaXB0b3IgYmFzZWQgb24gcmF3IG9iamVjdCB0aGF0IGNvbnRhaW5zIGl0cyBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIHJhd1Byb3h5XG4gICAgICogQHJldHVybnMge1Byb3RvY29sU3R1YkRlc2NyaXB0b3J9XG4gICAgICovXG4gICAgY3JlYXRlSWRwUHJveHkocmF3UHJveHkpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJjcmVhdGluZyBpZHBwcm94eSBkZXNjcmlwdG9yIGJhc2VkIG9uOiBcIiwgcmF3UHJveHkpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZGVzY3JpcHRvclxuICAgICAgICBsZXQgaWRwcHJveHkgPSB0aGlzLl9mYWN0b3J5LmNyZWF0ZVByb3RvU3R1YkRlc2NyaXB0b3JPYmplY3QoXG4gICAgICAgICAgcmF3UHJveHlbXCJjZ3VpZFwiXSxcbiAgICAgICAgICByYXdQcm94eVtcInZlcnNpb25cIl0sXG4gICAgICAgICAgcmF3UHJveHlbXCJvYmplY3ROYW1lXCJdLFxuICAgICAgICAgIHJhd1Byb3h5W1wiZGVzY3JpcHRpb25cIl0sXG4gICAgICAgICAgcmF3UHJveHlbXCJsYW5ndWFnZVwiXSxcbiAgICAgICAgICByYXdQcm94eVtcInNvdXJjZVBhY2thZ2VVUkxcIl0sXG4gICAgICAgICAgcmF3UHJveHlbXCJtZXNzYWdlU2NoZW1hc1wiXSxcbiAgICAgICAgICByYXdQcm94eVtcImNvbmZpZ3VyYXRpb25cIl0sXG4gICAgICAgICAgcmF3UHJveHlbXCJjb25zdHJhaW50c1wiXSxcbiAgICAgICAgICByYXdQcm94eVtcImh5cGVydHlUeXBlXCJdLFxuICAgICAgICAgIHJhd1Byb3h5W1wiZGF0YU9iamVjdHNcIl0sXG4gICAgICAgICAgcmF3UHJveHlbXCJpbnRlcndvcmtpbmdcIl0sXG4gICAgICAgICAgcmF3UHJveHlbXCJpZHBQcm94eVwiXSxcbiAgICAgICAgICByYXdQcm94eVtcIm11dHVhbEF1dGhlbnRpY2F0aW9uXCJdXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gb3B0aW9uYWwgZmllbGRzXG4gICAgICAgIGlkcHByb3h5LnNpZ25hdHVyZSA9IHJhd1Byb3h5W1wic2lnbmF0dXJlXCJdO1xuXG4gICAgICAgIC8vIHBhcnNlIGFuZCBhdHRhY2ggdGhlIHNvdXJjZVBhY2thZ2VcbiAgICAgICAgbGV0IHNvdXJjZVBhY2thZ2UgPSByYXdQcm94eVtcInNvdXJjZVBhY2thZ2VcIl07XG4gICAgICAgIGlmIChzb3VyY2VQYWNrYWdlKSB7XG4gICAgICAgICAgICBzb3VyY2VQYWNrYWdlID0gdGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHNvdXJjZVBhY2thZ2UpO1xuICAgICAgICAgICAgaWRwcHJveHkuc291cmNlUGFja2FnZSA9IHNvdXJjZVBhY2thZ2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRwcHJveHk7XG4gICAgfVxuXG4gICAgY3JlYXRlU291cmNlUGFja2FnZShzcCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY3JlYXRlU291cmNlUGFja2FnZTpcIiwgc3ApO1xuXG4gICAgICAgIC8vIGNoZWNrIGVuY29kaW5nXG4gICAgICAgIGlmIChzcFtcImVuY29kaW5nXCJdID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICBzcFtcInNvdXJjZUNvZGVcIl0gPSB0aGlzLmF0b2Ioc3BbXCJzb3VyY2VDb2RlXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzb3VyY2VQYWNrYWdlID0gdGhpcy5fZmFjdG9yeS5jcmVhdGVTb3VyY2VQYWNrYWdlKHNwW1wic291cmNlQ29kZUNsYXNzbmFtZVwiXSwgc3BbXCJzb3VyY2VDb2RlXCJdKTtcbiAgICAgICAgaWYgKHNwW1wiZW5jb2RpbmdcIl0pXG4gICAgICAgICAgICBzb3VyY2VQYWNrYWdlLmVuY29kaW5nID0gc3BbXCJlbmNvZGluZ1wiXTtcblxuICAgICAgICBpZiAoc3BbXCJzaWduYXR1cmVcIl0pXG4gICAgICAgICAgICBzb3VyY2VQYWNrYWdlLnNpZ25hdHVyZSA9IHNwW1wic2lnbmF0dXJlXCJdO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2VQYWNrYWdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBzb3VyY2UgUGFja2FnZSBmcm9tIGEgVVJMXG4gICAgICogQHBhcmFtIHNvdXJjZVBhY2thZ2VVUkwgLSBlLmcuIG15ZG9tYWluLmNvbS8ud2VsbC1rbm93bi9oeXBlcnR5L015SHlwZXJ0eS9zb3VyY2VQYWNrYWdlXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgZ2V0U291cmNlUGFja2FnZUZyb21VUkwoc291cmNlUGFja2FnZVVSTCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImdldHRpbmcgc291cmNlUGFja2FnZSBmcm9tOlwiLCBzb3VyY2VQYWNrYWdlVVJMKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5odHRwUmVxdWVzdC5nZXQoc291cmNlUGFja2FnZVVSTCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImdvdCByYXcgc291cmNlUGFja2FnZTpcIiwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W1wiRVJST1JcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgZXJyb3IgcHJvcGVybHlcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc291cmNlUGFja2FnZSA9IHRoaXMuY3JlYXRlU291cmNlUGFja2FnZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNvdXJjZVBhY2thZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc291cmNlQ29kZSBvZiBhIGdpdmVuIGRlc2NyaXB0b3JcbiAgICAgKiBAcGFyYW0ge0NhdGFsb2d1ZURhdGFPYmplY3R9IGRlc2NyaXB0b3IgLSBDYXRhbG9ndWUgT2JqZWN0IHRoYXQgd2FzIHJldHJpZXZlZCB1c2luZyBlLmcuIGdldEh5cGVydHlEZXNjcmlwdG9yKClcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBnZXRTb3VyY2VDb2RlRnJvbURlc2NyaXB0b3IoZGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3Iuc291cmNlUGFja2FnZSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJkZXNjcmlwdG9yIGhhcyBzb3VyY2VQYWNrYWdlXCIpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJyZXR1cm5pbmcgc291cmNlQ29kZTpcIiwgZGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VNYW5hZ2VyLmdldFZlcnNpb24oZGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlVVJMICsgXCIvc291cmNlQ29kZVwiKS50aGVuKChkYlZlcnNpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRiVmVyc2lvbiA+PSBkZXNjcmlwdG9yLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV0dXJuaW5nIGNhY2hlZCB2ZXJzaW9uIGZyb20gc3RvcmFnZU1hbmFnZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VNYW5hZ2VyLmdldChkZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2VVUkwgKyBcIi9zb3VyY2VDb2RlXCIpLnRoZW4oKHNvdXJjZUNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNvdXJjZUNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmh0dHBSZXF1ZXN0LmdldChkZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2VVUkwgKyBcIi9zb3VyY2VDb2RlXCIpLnRoZW4oKHNvdXJjZUNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlQ29kZVtcIkVSUk9SXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIGVycm9yIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChzb3VyY2VDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VNYW5hZ2VyLnNldChkZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2VVUkwgKyBcIi9zb3VyY2VDb2RlXCIsIGRlc2NyaXB0b3IudmVyc2lvbiwgc291cmNlQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc291cmNlQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjYXRhbG9ndWUgb2JqZWN0cyBmb3IgdGhlIGdpdmVuIFwidHlwZSBVUkxcIixcbiAgICAgKiBpLmUuIGEgY2F0YWxvZ3VlIFVSTCB0aGF0IHNwZWNpZmllcyBhIHR5cGUsIGJ1dCBubyBjYXRhbG9ndWUgb2JqZWN0IG5hbWUuXG4gICAgICogQHBhcmFtIHR5cGVVUkwgLSBVUkwgcG9pbnRpbmcgdG8gdGhlIGNhdGFsb2d1ZSBvYmplY3QgdHlwZSB5b3Ugd2FudCBhIGxpc3Qgb2YgYXZhaWxhYmxlIG9iamVjdHMgZm9yLFxuICAgICAqIGUuZy4gaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuZm9rdXMuZnJhdW5ob2Zlci5kZS8ud2VsbC1rbm93bi9pZHAtcHJveHlcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gdHlwZUxpc3RQcm9taXNlIC0gUHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpdGggdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGNhdGFsb2d1ZSBvYmplY3QgbmFtZXMgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSxcbiAgICAgKiByZWplY3RzIG9uIEhUVFAgZXJyb3Igb3IgaWYgdGhlIEhUVFAgcmVzcG9uc2UgaXMgbm90IGluIEpTT04uXG4gICAgICovXG4gICAgZ2V0VHlwZUxpc3QodHlwZVVSTCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5odHRwUmVxdWVzdC5nZXQodHlwZVVSTCkudGhlbigodHlwZUxpc3QpID0+IHtcbiAgICAgICAgICAgICAgICB0eXBlTGlzdCA9IEpTT04ucGFyc2UodHlwZUxpc3QpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHlwZUxpc3QpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldCBydW50aW1lVVJMKHJ1bnRpbWVVUkwpIHtcbiAgICAgICAgdGhpcy5fcnVudGltZVVSTCA9IHJ1bnRpbWVVUkw7XG4gICAgfVxuXG4gICAgZ2V0IHJ1bnRpbWVVUkwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydW50aW1lVVJMO1xuICAgIH1cblxuICAgIGRlbGV0ZUZyb21QTSh1cmwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZU1hbmFnZXIuZGVsZXRlKHVybCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1bnRpbWVDYXRhbG9ndWU7XG4iXX0=\n"]}
// version: 0.5.1
// date: Tue Jan 31 2017 12:07:47 GMT+0000 (GMT Standard Time)
// licence: 
/**
* Copyright 2016 PT Inovação e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/


// version: 0.5.1
// date: Tue Jan 31 2017 11:57:02 GMT+0000 (GMT Standard Time)
// licence: 
/**
* Copyright 2016 PT Inovação e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/


{"version":3,"sources":["/Syncher.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Syncher","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","Object","observe","Array","O","A","notifier","getNotifier","perform","original","type","wrappers","push","item","args","arguments","ret","apply","index","addedCount","removed","unshift","pop","len","shift","splice","start","deleteCount","wrapper","prototype","object","handler","unobserve","2","default","__esModule","core-js/library/fn/json/stringify","3","core-js/library/fn/object/create","4","core-js/library/fn/object/define-property","5","core-js/library/fn/object/get-own-property-descriptor","6","core-js/library/fn/object/get-prototype-of","7","core-js/library/fn/object/keys","8","core-js/library/fn/object/set-prototype-of","9","core-js/library/fn/promise","10","core-js/library/fn/symbol","11","core-js/library/fn/symbol/iterator","12","instance","Constructor","TypeError","13","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","../core-js/object/define-property","14","_getPrototypeOf","_getPrototypeOf2","_getOwnPropertyDescriptor","_getOwnPropertyDescriptor2","get","property","receiver","Function","desc","undefined","parent","value","getter","../core-js/object/get-own-property-descriptor","../core-js/object/get-prototype-of","15","_setPrototypeOf","_setPrototypeOf2","_create","_create2","_typeof2","_typeof3","subClass","superClass","constructor","__proto__","../core-js/object/create","../core-js/object/set-prototype-of","../helpers/typeof","16","ReferenceError","17","_iterator","_iterator2","_symbol","_symbol2","_typeof","../core-js/symbol","../core-js/symbol/iterator","18","core","$JSON","JSON","stringify","it","../../modules/_core","19","$Object","P","D","create","../../modules/es6.object.create","20","defineProperty","../../modules/es6.object.define-property","21","getOwnPropertyDescriptor","../../modules/es6.object.get-own-property-descriptor","22","getPrototypeOf","../../modules/es6.object.get-prototype-of","23","keys","../../modules/es6.object.keys","24","setPrototypeOf","../../modules/es6.object.set-prototype-of","25","Promise","../modules/_core","../modules/es6.object.to-string","../modules/es6.promise","../modules/es6.string.iterator","../modules/web.dom.iterable","26","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","27","../../modules/_wks-ext","../../modules/es6.string.iterator","../../modules/web.dom.iterable","28","29","30","name","forbiddenField","31","isObject","./_is-object","32","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","./_to-index","./_to-iobject","./_to-length","33","cof","TAG","ARG","tryGet","T","B","callee","./_cof","./_wks","34","toString","slice","35","version","__e","36","aFunction","fn","that","b","c","./_a-function","37","38","./_fails","39","document","is","createElement","./_global","40","split","41","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","./_object-gops","./_object-keys","./_object-pie","42","ctx","hide","PROTOTYPE","$export","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","expProto","C","virtual","R","U","./_core","./_ctx","./_hide","43","exec","44","isArrayIter","anObject","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","step","iterator","iterFn","next","done","./_an-object","./_is-array-iter","./_iter-call","./core.get-iterator-method","45","Math","__g","46","hasOwnProperty","47","dP","createDesc","./_descriptors","./_object-dp","./_property-desc","48","documentElement","49","./_dom-create","50","un","51","propertyIsEnumerable","52","Iterators","ArrayProto","./_iterators","53","isArray","arg","54","55","56","setToStringTag","IteratorPrototype","NAME","./_object-create","./_set-to-string-tag","57","LIBRARY","redefine","has","$iterCreate","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","./_export","./_has","./_iter-create","./_library","./_object-gpo","./_redefine","58","SAFE_CLOSING","riter","from","skipClosing","safe","arr","iter","59","60","61","62","63","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","./_uid","64","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","head","last","notify","flush","domain","exit","enter","nextTick","toggle","node","createTextNode","characterData","data","resolve","promise","then","task","./_task","65","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","appendChild","src","contentWindow","open","write","close","Properties","./_enum-bug-keys","./_html","./_object-dps","./_shared-key","66","IE8_DOM_DEFINE","toPrimitive","Attributes","./_ie8-dom-define","./_to-primitive","67","68","gOPD","69","gOPN","windowNames","getOwnPropertyNames","getWindowNames","./_object-gopn","70","$keys","hiddenKeys","concat","./_object-keys-internal","71","getOwnPropertySymbols","72","toObject","ObjectProto","./_to-object","73","arrayIndexOf","names","./_array-includes","74","75","76","fails","exp","77","bitmap","78","79","80","check","test","buggy","./_object-gopd","81","DESCRIPTORS","SPECIES","82","def","tag","stat","83","shared","uid","./_shared","84","SHARED","store","85","86","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./_defined","./_to-integer","87","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","listener","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","clear","./_invoke","88","max","min","89","ceil","floor","isNaN","90","IObject","./_iobject","91","92","93","val","valueOf","94","px","random","95","wksExt","$Symbol","./_wks-ext","96","97","USE_SYMBOL","$exports","98","classof","getIteratorMethod","./_classof","99","addToUnscopables","iterated","_t","_i","_k","Arguments","./_add-to-unscopables","./_iter-define","./_iter-step","100","101","102","$getOwnPropertyDescriptor","./_object-sap","103","$getPrototypeOf","104","105","./_set-proto","106","107","Internal","GenericPromiseCapability","Wrapper","anInstance","forOf","speciesConstructor","microtask","PROMISE","$Promise","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","reject","$$resolve","$$reject","error","isReject","_n","chain","_c","_v","ok","_s","reaction","fail","_h","onHandleUnhandled","onUnhandled","abrupt","console","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","executor","err","onFulfilled","onRejected","catch","capability","x","all","remaining","$index","alreadyCalled","race","./_an-instance","./_for-of","./_iter-detect","./_microtask","./_redefine-all","./_set-species","./_species-constructor","108","$at","point","./_string-at","109","$fails","wks","wksDefine","keyOf","enumKeys","gOPNExt","$GOPD","$DP","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","for","keyFor","useSetter","useSimple","replacer","$replacer","./_enum-keys","./_is-array","./_keyof","./_meta","./_object-gopn-ext","./_wks-define","110","111","112","TO_STRING_TAG","collections","Collection","./es6.array.iterator","113","root","_undefined","observed","handlers","defaultAcceptList","inArray","indexOf","array","pivot","createMap","Map","forEach","size","delete","callback","getProps","func","avoid","join","replace","j","prop","hop","getPrototype","getDescriptor","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","initial","Date","doObserve","acceptList","performPropertyChecks","setHandler","createObjectData","runGlobalLoop","descs","frozen","isFrozen","extensible","properties","retrieveNotifier","descriptors","updateCheck","idx","except","descr","ovalue","odesc","addChangeRecord","oldValue","deletionCheck","proplen","deliverHandlerRecords","hdata","records","changeRecords","changeRecord","recordCopy","performChange","changeType","thisObj","odata","deliverChangeRecords","114","DataObjectObserver","DataObjectReporter","_Syncher","_Syncher2","_DataObjectReporter","_DataObjectReporter2","_DataObjectObserver","_DataObjectObserver2","./syncher/DataObjectObserver","./syncher/DataObjectReporter","./syncher/Syncher","array.observe","object.observe","115","_promise","_promise2","_keys","_keys2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_SyncObject","_SyncObject2","_DataObjectChild","_DataObjectChild2","_utils","DataObject","syncher","url","schema","initialStatus","initialData","childrens","_this","_syncher","_url","_schema","_status","_syncObj","_childrens","_version","_childId","_childrenObjects","_childrenListeners","_owner","_bus","_this2","childBaseURL","child","childURL","addListener","msg","log","_onChildCreate","_changeChildren","remove","_releaseListeners","children","msgChildId","msgChildPath","requestMsg","to","body","resource","msgId","newChild","onChange","_onChange","path","childId","_onAddChildrenHandler","identity","childInfo","changeMsg","attribute","field","oType","ObjectType","OBJECT","cType","ChangeType","REMOVE","attributeType","UPDATE","operation","syncObj","deepClone","findResult","findBefore","ARRAY","ADD","_arr","_index","_changeObject","../utils/utils.js","./DataObjectChild","./SyncObject","babel-runtime/core-js/object/keys","babel-runtime/core-js/promise","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","116","DataObjectChild","owner","_parent","_msgId","_allocateListeners","_listener","_onResponse","_children","_onResponseHandler","117","_possibleConstructorReturn2","_possibleConstructorReturn3","_get2","_get3","_inherits2","_inherits3","_DataObject2","_DataObject3","FilterType","ANY","START","EXACT","_DataObject","initialVersion","_filters","_onFilter","childData","_changeListener","_observers","unSubscribeMsg","_subURL","reply","filter","filterObj","substr","./DataObject","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/get","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","118","_subscriptions","_objectListener","_onRead","observers","inviteMsg","authorise","deleteMsg","_reporters","_onSubscriptionHandler","_onReadHandler","_onSubscribe","_onUnSubscribe","hypertyUrl","accept","sub","status","childrenValues","119","DataProvisional","bus","_changes","observer","change","120","SyncObject","_data","_internalObserve","Path","list","_findWithSplit","_isObservable","changes","_onChanges","_prop","np","ArrayIndex","objType","fieldString","removeSize","removeValues","removeIndex","_fireEvent","addSize","addValues","reIndexFrom","newValue","_path","_observables","_this3","arrayIndex","nPath","clone","str","121","_DataProvisional","_DataProvisional2","config","runtimeURL","_provisionals","info","_onForward","_onRemoteCreate","_onRemoteDelete","objectURL","reporter","objURL","newObj","childrenResources","subscribeMsg","newProvisional","readMsg","_onNotificationHandler","ack","lType","./DataObjectObserver","./DataObjectReporter","./DataProvisional","122","divideURL","recurse","regex","subst","parts","includes","_result","scheme","divideEmail","email","indexOfAt","username","substring","emptyObject","parse","_stringify2","getUserURLFromEmail","userEmail","getUserEmailFromURL","userURL","convertToUserURL","identifier","dividedURL","babel-runtime/core-js/json/stringify"],"mappings":"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","file":"Syncher.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Syncher = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nObject.observe && !Array.observe && (function(O, A) {\r\n\"use strict\";\r\n\r\nvar notifier = O.getNotifier,\r\n    perform = \"performChange\",\r\n    original = \"_original\",\r\n    type = \"splice\";\r\n\r\nvar wrappers = {\r\n    push: function push(item) {\r\n        var args = arguments,\r\n            ret = push[original].apply(this, args);\r\n\r\n        notifier(this)[perform](type, function() {\r\n            return {\r\n                index: ret - args.length,\r\n                addedCount: args.length,\r\n                removed: []\r\n            };\r\n        });\r\n\r\n        return ret;\r\n    },\r\n    unshift: function unshift(item) {\r\n        var args = arguments,\r\n            ret = unshift[original].apply(this, args);\r\n\r\n        notifier(this)[perform](type, function() {\r\n            return {\r\n                index: 0,\r\n                addedCount: args.length,\r\n                removed: []\r\n            };\r\n        });\r\n\r\n        return ret;\r\n    },\r\n    pop: function pop() {\r\n        var len = this.length,\r\n            item = pop[original].call(this);\r\n\r\n        if (this.length !== len)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: this.length,\r\n                    addedCount: 0,\r\n                    removed: [ item ]\r\n                };\r\n            }, this);\r\n\r\n        return item;\r\n    },\r\n    shift: function shift() {\r\n        var len = this.length,\r\n            item = shift[original].call(this);\r\n\r\n        if (this.length !== len)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: 0,\r\n                    addedCount: 0,\r\n                    removed: [ item ]\r\n                };\r\n            }, this);\r\n\r\n        return item;\r\n    },\r\n    splice: function splice(start, deleteCount) {\r\n        var args = arguments,\r\n            removed = splice[original].apply(this, args);\r\n\r\n        if (removed.length || args.length > 2)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: start,\r\n                    addedCount: args.length - 2,\r\n                    removed: removed\r\n                };\r\n            }, this);\r\n\r\n        return removed;\r\n    }\r\n};\r\n\r\nfor (var wrapper in wrappers) {\r\n    wrappers[wrapper][original] = A.prototype[wrapper];\r\n    A.prototype[wrapper] = wrappers[wrapper];\r\n}\r\n\r\nA.observe = function(object, handler) {\r\n    return O.observe(object, handler, [ \"add\", \"update\", \"delete\", type ]);\r\n};\r\nA.unobserve = O.unobserve;\r\n\r\n})(Object, Array);\r\n\n},{}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":18}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":19}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":20}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n},{\"core-js/library/fn/object/get-own-property-descriptor\":21}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":22}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":23}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":24}],9:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":25}],10:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":26}],11:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":27}],12:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],13:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":4}],14:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n},{\"../core-js/object/get-own-property-descriptor\":5,\"../core-js/object/get-prototype-of\":6}],15:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":3,\"../core-js/object/set-prototype-of\":8,\"../helpers/typeof\":17}],16:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":17}],17:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":10,\"../core-js/symbol/iterator\":11}],18:[function(require,module,exports){\nvar core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":35}],19:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":35,\"../../modules/es6.object.create\":100}],20:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":35,\"../../modules/es6.object.define-property\":101}],21:[function(require,module,exports){\nrequire('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n},{\"../../modules/_core\":35,\"../../modules/es6.object.get-own-property-descriptor\":102}],22:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":35,\"../../modules/es6.object.get-prototype-of\":103}],23:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n},{\"../../modules/_core\":35,\"../../modules/es6.object.keys\":104}],24:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":35,\"../../modules/es6.object.set-prototype-of\":105}],25:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n},{\"../modules/_core\":35,\"../modules/es6.object.to-string\":106,\"../modules/es6.promise\":107,\"../modules/es6.string.iterator\":108,\"../modules/web.dom.iterable\":112}],26:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":35,\"../../modules/es6.object.to-string\":106,\"../../modules/es6.symbol\":109,\"../../modules/es7.symbol.async-iterator\":110,\"../../modules/es7.symbol.observable\":111}],27:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":96,\"../../modules/es6.string.iterator\":108,\"../../modules/web.dom.iterable\":112}],28:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],29:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],30:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n},{}],31:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":54}],32:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":88,\"./_to-iobject\":90,\"./_to-length\":91}],33:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./_cof\":34,\"./_wks\":97}],34:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],35:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],36:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":28}],37:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],38:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":43}],39:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":45,\"./_is-object\":54}],40:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],41:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":71,\"./_object-keys\":74,\"./_object-pie\":75}],42:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":35,\"./_ctx\":36,\"./_global\":45,\"./_hide\":47}],43:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],44:[function(require,module,exports){\nvar ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n},{\"./_an-object\":31,\"./_ctx\":36,\"./_is-array-iter\":52,\"./_iter-call\":55,\"./_to-length\":91,\"./core.get-iterator-method\":98}],45:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],46:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],47:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":38,\"./_object-dp\":66,\"./_property-desc\":77}],48:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":45}],49:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":38,\"./_dom-create\":39,\"./_fails\":43}],50:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],51:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":34}],52:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./_iterators\":60,\"./_wks\":97}],53:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":34}],54:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],55:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./_an-object\":31}],56:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":47,\"./_object-create\":65,\"./_property-desc\":77,\"./_set-to-string-tag\":82,\"./_wks\":97}],57:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":42,\"./_has\":46,\"./_hide\":47,\"./_iter-create\":56,\"./_iterators\":60,\"./_library\":62,\"./_object-gpo\":72,\"./_redefine\":79,\"./_set-to-string-tag\":82,\"./_wks\":97}],58:[function(require,module,exports){\nvar ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./_wks\":97}],59:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],60:[function(require,module,exports){\nmodule.exports = {};\n},{}],61:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":74,\"./_to-iobject\":90}],62:[function(require,module,exports){\nmodule.exports = true;\n},{}],63:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":43,\"./_has\":46,\"./_is-object\":54,\"./_object-dp\":66,\"./_uid\":94}],64:[function(require,module,exports){\nvar global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n},{\"./_cof\":34,\"./_global\":45,\"./_task\":87}],65:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":31,\"./_dom-create\":39,\"./_enum-bug-keys\":40,\"./_html\":48,\"./_object-dps\":67,\"./_shared-key\":83}],66:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":31,\"./_descriptors\":38,\"./_ie8-dom-define\":49,\"./_to-primitive\":93}],67:[function(require,module,exports){\nvar dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":31,\"./_descriptors\":38,\"./_object-dp\":66,\"./_object-keys\":74}],68:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":38,\"./_has\":46,\"./_ie8-dom-define\":49,\"./_object-pie\":75,\"./_property-desc\":77,\"./_to-iobject\":90,\"./_to-primitive\":93}],69:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":70,\"./_to-iobject\":90}],70:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":40,\"./_object-keys-internal\":73}],71:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],72:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":46,\"./_shared-key\":83,\"./_to-object\":92}],73:[function(require,module,exports){\nvar has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":32,\"./_has\":46,\"./_shared-key\":83,\"./_to-iobject\":90}],74:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":40,\"./_object-keys-internal\":73}],75:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],76:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":35,\"./_export\":42,\"./_fails\":43}],77:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],78:[function(require,module,exports){\nvar hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n},{\"./_hide\":47}],79:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":47}],80:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":31,\"./_ctx\":36,\"./_is-object\":54,\"./_object-gopd\":68}],81:[function(require,module,exports){\n'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_core\":35,\"./_descriptors\":38,\"./_global\":45,\"./_object-dp\":66,\"./_wks\":97}],82:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":46,\"./_object-dp\":66,\"./_wks\":97}],83:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":84,\"./_uid\":94}],84:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":45}],85:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./_a-function\":28,\"./_an-object\":31,\"./_wks\":97}],86:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":37,\"./_to-integer\":89}],87:[function(require,module,exports){\nvar ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./_cof\":34,\"./_ctx\":36,\"./_dom-create\":39,\"./_global\":45,\"./_html\":48,\"./_invoke\":50}],88:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":89}],89:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],90:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":37,\"./_iobject\":51}],91:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":89}],92:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":37}],93:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":54}],94:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],95:[function(require,module,exports){\nvar global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":35,\"./_global\":45,\"./_library\":62,\"./_object-dp\":66,\"./_wks-ext\":96}],96:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":97}],97:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":45,\"./_shared\":84,\"./_uid\":94}],98:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./_classof\":33,\"./_core\":35,\"./_iterators\":60,\"./_wks\":97}],99:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":29,\"./_iter-define\":57,\"./_iter-step\":59,\"./_iterators\":60,\"./_to-iobject\":90}],100:[function(require,module,exports){\nvar $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n},{\"./_export\":42,\"./_object-create\":65}],101:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":38,\"./_export\":42,\"./_object-dp\":66}],102:[function(require,module,exports){\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n},{\"./_object-gopd\":68,\"./_object-sap\":76,\"./_to-iobject\":90}],103:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":72,\"./_object-sap\":76,\"./_to-object\":92}],104:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./_object-keys\":74,\"./_object-sap\":76,\"./_to-object\":92}],105:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n},{\"./_export\":42,\"./_set-proto\":80}],106:[function(require,module,exports){\n\n},{}],107:[function(require,module,exports){\n'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./_a-function\":28,\"./_an-instance\":30,\"./_classof\":33,\"./_core\":35,\"./_ctx\":36,\"./_export\":42,\"./_for-of\":44,\"./_global\":45,\"./_is-object\":54,\"./_iter-detect\":58,\"./_library\":62,\"./_microtask\":64,\"./_redefine-all\":78,\"./_set-species\":81,\"./_set-to-string-tag\":82,\"./_species-constructor\":85,\"./_task\":87,\"./_wks\":97}],108:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":57,\"./_string-at\":86}],109:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":31,\"./_descriptors\":38,\"./_enum-keys\":41,\"./_export\":42,\"./_fails\":43,\"./_global\":45,\"./_has\":46,\"./_hide\":47,\"./_is-array\":53,\"./_keyof\":61,\"./_library\":62,\"./_meta\":63,\"./_object-create\":65,\"./_object-dp\":66,\"./_object-gopd\":68,\"./_object-gopn\":70,\"./_object-gopn-ext\":69,\"./_object-gops\":71,\"./_object-keys\":74,\"./_object-pie\":75,\"./_property-desc\":77,\"./_redefine\":79,\"./_set-to-string-tag\":82,\"./_shared\":84,\"./_to-iobject\":90,\"./_to-primitive\":93,\"./_uid\":94,\"./_wks\":97,\"./_wks-define\":95,\"./_wks-ext\":96}],110:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":95}],111:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":95}],112:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":45,\"./_hide\":47,\"./_iterators\":60,\"./_wks\":97,\"./es6.array.iterator\":99}],113:[function(require,module,exports){\n/*!\r\n * Object.observe polyfill - v0.2.4\r\n * by Massimo Artizzu (MaxArt2501)\r\n *\r\n * https://github.com/MaxArt2501/object-observe\r\n *\r\n * Licensed under the MIT License\r\n * See LICENSE for details\r\n */\r\n\r\n// Some type definitions\r\n/**\r\n * This represents the data relative to an observed object\r\n * @typedef  {Object}                     ObjectData\r\n * @property {Map<Handler, HandlerData>}  handlers\r\n * @property {String[]}                   properties\r\n * @property {*[]}                        values\r\n * @property {Descriptor[]}               descriptors\r\n * @property {Notifier}                   notifier\r\n * @property {Boolean}                    frozen\r\n * @property {Boolean}                    extensible\r\n * @property {Object}                     proto\r\n */\r\n/**\r\n * Function definition of a handler\r\n * @callback Handler\r\n * @param {ChangeRecord[]}                changes\r\n*/\r\n/**\r\n * This represents the data relative to an observed object and one of its\r\n * handlers\r\n * @typedef  {Object}                     HandlerData\r\n * @property {Map<Object, ObservedData>}  observed\r\n * @property {ChangeRecord[]}             changeRecords\r\n */\r\n/**\r\n * @typedef  {Object}                     ObservedData\r\n * @property {String[]}                   acceptList\r\n * @property {ObjectData}                 data\r\n*/\r\n/**\r\n * Type definition for a change. Any other property can be added using\r\n * the notify() or performChange() methods of the notifier.\r\n * @typedef  {Object}                     ChangeRecord\r\n * @property {String}                     type\r\n * @property {Object}                     object\r\n * @property {String}                     [name]\r\n * @property {*}                          [oldValue]\r\n * @property {Number}                     [index]\r\n */\r\n/**\r\n * Type definition for a notifier (what Object.getNotifier returns)\r\n * @typedef  {Object}                     Notifier\r\n * @property {Function}                   notify\r\n * @property {Function}                   performChange\r\n */\r\n/**\r\n * Function called with Notifier.performChange. It may optionally return a\r\n * ChangeRecord that gets automatically notified, but `type` and `object`\r\n * properties are overridden.\r\n * @callback Performer\r\n * @returns {ChangeRecord|undefined}\r\n */\r\n\r\nObject.observe || (function(O, A, root, _undefined) {\r\n    \"use strict\";\r\n\r\n        /**\r\n         * Relates observed objects and their data\r\n         * @type {Map<Object, ObjectData}\r\n         */\r\n    var observed,\r\n        /**\r\n         * List of handlers and their data\r\n         * @type {Map<Handler, Map<Object, HandlerData>>}\r\n         */\r\n        handlers,\r\n\r\n        defaultAcceptList = [ \"add\", \"update\", \"delete\", \"reconfigure\", \"setPrototype\", \"preventExtensions\" ];\r\n\r\n    // Functions for internal usage\r\n\r\n        /**\r\n         * Checks if the argument is an Array object. Polyfills Array.isArray.\r\n         * @function isArray\r\n         * @param {?*} object\r\n         * @returns {Boolean}\r\n         */\r\n    var isArray = A.isArray || (function(toString) {\r\n            return function (object) { return toString.call(object) === \"[object Array]\"; };\r\n        })(O.prototype.toString),\r\n\r\n        /**\r\n         * Returns the index of an item in a collection, or -1 if not found.\r\n         * Uses the generic Array.indexOf or Array.prototype.indexOf if available.\r\n         * @function inArray\r\n         * @param {Array} array\r\n         * @param {*} pivot           Item to look for\r\n         * @param {Number} [start=0]  Index to start from\r\n         * @returns {Number}\r\n         */\r\n        inArray = A.prototype.indexOf ? A.indexOf || function(array, pivot, start) {\r\n            return A.prototype.indexOf.call(array, pivot, start);\r\n        } : function(array, pivot, start) {\r\n            for (var i = start || 0; i < array.length; i++)\r\n                if (array[i] === pivot)\r\n                    return i;\r\n            return -1;\r\n        },\r\n\r\n        /**\r\n         * Returns an instance of Map, or a Map-like object is Map is not\r\n         * supported or doesn't support forEach()\r\n         * @function createMap\r\n         * @returns {Map}\r\n         */\r\n        createMap = root.Map === _undefined || !Map.prototype.forEach ? function() {\r\n            // Lightweight shim of Map. Lacks clear(), entries(), keys() and\r\n            // values() (the last 3 not supported by IE11, so can't use them),\r\n            // it doesn't handle the constructor's argument (like IE11) and of\r\n            // course it doesn't support for...of.\r\n            // Chrome 31-35 and Firefox 13-24 have a basic support of Map, but\r\n            // they lack forEach(), so their native implementation is bad for\r\n            // this polyfill. (Chrome 36+ supports Object.observe.)\r\n            var keys = [], values = [];\r\n\r\n            return {\r\n                size: 0,\r\n                has: function(key) { return inArray(keys, key) > -1; },\r\n                get: function(key) { return values[inArray(keys, key)]; },\r\n                set: function(key, value) {\r\n                    var i = inArray(keys, key);\r\n                    if (i === -1) {\r\n                        keys.push(key);\r\n                        values.push(value);\r\n                        this.size++;\r\n                    } else values[i] = value;\r\n                },\r\n                \"delete\": function(key) {\r\n                    var i = inArray(keys, key);\r\n                    if (i > -1) {\r\n                        keys.splice(i, 1);\r\n                        values.splice(i, 1);\r\n                        this.size--;\r\n                    }\r\n                },\r\n                forEach: function(callback/*, thisObj*/) {\r\n                    for (var i = 0; i < keys.length; i++)\r\n                        callback.call(arguments[1], values[i], keys[i], this);\r\n                }\r\n            };\r\n        } : function() { return new Map(); },\r\n\r\n        /**\r\n         * Simple shim for Object.getOwnPropertyNames when is not available\r\n         * Misses checks on object, don't use as a replacement of Object.keys/getOwnPropertyNames\r\n         * @function getProps\r\n         * @param {Object} object\r\n         * @returns {String[]}\r\n         */\r\n        getProps = O.getOwnPropertyNames ? (function() {\r\n            var func = O.getOwnPropertyNames;\r\n            try {\r\n                arguments.callee;\r\n            } catch (e) {\r\n                // Strict mode is supported\r\n\r\n                // In strict mode, we can't access to \"arguments\", \"caller\" and\r\n                // \"callee\" properties of functions. Object.getOwnPropertyNames\r\n                // returns [ \"prototype\", \"length\", \"name\" ] in Firefox; it returns\r\n                // \"caller\" and \"arguments\" too in Chrome and in Internet\r\n                // Explorer, so those values must be filtered.\r\n                var avoid = (func(inArray).join(\" \") + \" \").replace(/prototype |length |name /g, \"\").slice(0, -1).split(\" \");\r\n                if (avoid.length) func = function(object) {\r\n                    var props = O.getOwnPropertyNames(object);\r\n                    if (typeof object === \"function\")\r\n                        for (var i = 0, j; i < avoid.length;)\r\n                            if ((j = inArray(props, avoid[i++])) > -1)\r\n                                props.splice(j, 1);\r\n\r\n                    return props;\r\n                };\r\n            }\r\n            return func;\r\n        })() : function(object) {\r\n            // Poor-mouth version with for...in (IE8-)\r\n            var props = [], prop, hop;\r\n            if (\"hasOwnProperty\" in object) {\r\n                for (prop in object)\r\n                    if (object.hasOwnProperty(prop))\r\n                        props.push(prop);\r\n            } else {\r\n                hop = O.hasOwnProperty;\r\n                for (prop in object)\r\n                    if (hop.call(object, prop))\r\n                        props.push(prop);\r\n            }\r\n\r\n            // Inserting a common non-enumerable property of arrays\r\n            if (isArray(object))\r\n                props.push(\"length\");\r\n\r\n            return props;\r\n        },\r\n\r\n        /**\r\n         * Return the prototype of the object... if defined.\r\n         * @function getPrototype\r\n         * @param {Object} object\r\n         * @returns {Object}\r\n         */\r\n        getPrototype = O.getPrototypeOf,\r\n\r\n        /**\r\n         * Return the descriptor of the object... if defined.\r\n         * IE8 supports a (useless) Object.getOwnPropertyDescriptor for DOM\r\n         * nodes only, so defineProperties is checked instead.\r\n         * @function getDescriptor\r\n         * @param {Object} object\r\n         * @param {String} property\r\n         * @returns {Descriptor}\r\n         */\r\n        getDescriptor = O.defineProperties && O.getOwnPropertyDescriptor,\r\n\r\n        /**\r\n         * Sets up the next check and delivering iteration, using\r\n         * requestAnimationFrame or a (close) polyfill.\r\n         * @function nextFrame\r\n         * @param {function} func\r\n         * @returns {number}\r\n         */\r\n        nextFrame = root.requestAnimationFrame || root.webkitRequestAnimationFrame || (function() {\r\n            var initial = +new Date,\r\n                last = initial;\r\n            return function(func) {\r\n                return setTimeout(function() {\r\n                    func((last = +new Date) - initial);\r\n                }, 17);\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the observation of an object\r\n         * @function doObserve\r\n         * @param {Object} object\r\n         * @param {Handler} handler\r\n         * @param {String[]} [acceptList]\r\n         */\r\n        doObserve = function(object, handler, acceptList) {\r\n            var data = observed.get(object);\r\n\r\n            if (data) {\r\n                performPropertyChecks(data, object);\r\n                setHandler(object, data, handler, acceptList);\r\n            } else {\r\n                data = createObjectData(object);\r\n                setHandler(object, data, handler, acceptList);\r\n\r\n                if (observed.size === 1)\r\n                    // Let the observation begin!\r\n                    nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates the initial data for an observed object\r\n         * @function createObjectData\r\n         * @param {Object} object\r\n         */\r\n        createObjectData = function(object, data) {\r\n            var props = getProps(object),\r\n                values = [], descs, i = 0,\r\n                data = {\r\n                    handlers: createMap(),\r\n                    frozen: O.isFrozen ? O.isFrozen(object) : false,\r\n                    extensible: O.isExtensible ? O.isExtensible(object) : true,\r\n                    proto: getPrototype && getPrototype(object),\r\n                    properties: props,\r\n                    values: values,\r\n                    notifier: retrieveNotifier(object, data)\r\n                };\r\n\r\n            if (getDescriptor) {\r\n                descs = data.descriptors = [];\r\n                while (i < props.length) {\r\n                    descs[i] = getDescriptor(object, props[i]);\r\n                    values[i] = object[props[i++]];\r\n                }\r\n            } else while (i < props.length)\r\n                values[i] = object[props[i++]];\r\n\r\n            observed.set(object, data);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Performs basic property value change checks on an observed object\r\n         * @function performPropertyChecks\r\n         * @param {ObjectData} data\r\n         * @param {Object} object\r\n         * @param {String} [except]  Doesn't deliver the changes to the\r\n         *                           handlers that accept this type\r\n         */\r\n        performPropertyChecks = (function() {\r\n            var updateCheck = getDescriptor ? function(object, data, idx, except, descr) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx],\r\n                    odesc = data.descriptors[idx];\r\n\r\n                if (\"value\" in descr && (ovalue === value\r\n                        ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n                if (odesc.configurable && (!descr.configurable\r\n                        || descr.writable !== odesc.writable\r\n                        || descr.enumerable !== odesc.enumerable\r\n                        || descr.get !== odesc.get\r\n                        || descr.set !== odesc.set)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"reconfigure\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.descriptors[idx] = descr;\r\n                }\r\n            } : function(object, data, idx, except) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx];\r\n\r\n                if (ovalue === value ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n            };\r\n\r\n            // Checks if some property has been deleted\r\n            var deletionCheck = getDescriptor ? function(object, props, proplen, data, except) {\r\n                var i = props.length, descr;\r\n                while (proplen && i--) {\r\n                    if (props[i] !== null) {\r\n                        descr = getDescriptor(object, props[i]);\r\n                        proplen--;\r\n\r\n                        // If there's no descriptor, the property has really\r\n                        // been deleted; otherwise, it's been reconfigured so\r\n                        // that's not enumerable anymore\r\n                        if (descr) updateCheck(object, data, i, except, descr);\r\n                        else {\r\n                            addChangeRecord(object, data, {\r\n                                name: props[i],\r\n                                type: \"delete\",\r\n                                object: object,\r\n                                oldValue: data.values[i]\r\n                            }, except);\r\n                            data.properties.splice(i, 1);\r\n                            data.values.splice(i, 1);\r\n                            data.descriptors.splice(i, 1);\r\n                        }\r\n                    }\r\n                }\r\n            } : function(object, props, proplen, data, except) {\r\n                var i = props.length;\r\n                while (proplen && i--)\r\n                    if (props[i] !== null) {\r\n                        addChangeRecord(object, data, {\r\n                            name: props[i],\r\n                            type: \"delete\",\r\n                            object: object,\r\n                            oldValue: data.values[i]\r\n                        }, except);\r\n                        data.properties.splice(i, 1);\r\n                        data.values.splice(i, 1);\r\n                        proplen--;\r\n                    }\r\n            };\r\n\r\n            return function(data, object, except) {\r\n                if (!data.handlers.size || data.frozen) return;\r\n\r\n                var props, proplen, keys,\r\n                    values = data.values,\r\n                    descs = data.descriptors,\r\n                    i = 0, idx,\r\n                    key, value,\r\n                    proto, descr;\r\n\r\n                // If the object isn't extensible, we don't need to check for new\r\n                // or deleted properties\r\n                if (data.extensible) {\r\n\r\n                    props = data.properties.slice();\r\n                    proplen = props.length;\r\n                    keys = getProps(object);\r\n\r\n                    if (descs) {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            descr = getDescriptor(object, key);\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(object[key]);\r\n                                descs.push(descr);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except, descr);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n\r\n                        if (!O.isExtensible(object)) {\r\n                            data.extensible = false;\r\n                            addChangeRecord(object, data, {\r\n                                type: \"preventExtensions\",\r\n                                object: object\r\n                            }, except);\r\n\r\n                            data.frozen = O.isFrozen(object);\r\n                        }\r\n                    } else {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            value = object[key];\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(value);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n                    }\r\n\r\n                } else if (!data.frozen) {\r\n\r\n                    // If the object is not extensible, but not frozen, we just have\r\n                    // to check for value changes\r\n                    for (; i < props.length; i++) {\r\n                        key = props[i];\r\n                        updateCheck(object, data, i, except, getDescriptor(object, key));\r\n                    }\r\n\r\n                    if (O.isFrozen(object))\r\n                        data.frozen = true;\r\n                }\r\n\r\n                if (getPrototype) {\r\n                    proto = getPrototype(object);\r\n                    if (proto !== data.proto) {\r\n                        addChangeRecord(object, data, {\r\n                            type: \"setPrototype\",\r\n                            name: \"__proto__\",\r\n                            object: object,\r\n                            oldValue: data.proto\r\n                        });\r\n                        data.proto = proto;\r\n                    }\r\n                }\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the main loop for object observation and change notification\r\n         * It stops if no object is observed.\r\n         * @function runGlobalLoop\r\n         */\r\n        runGlobalLoop = function() {\r\n            if (observed.size) {\r\n                observed.forEach(performPropertyChecks);\r\n                handlers.forEach(deliverHandlerRecords);\r\n                nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Deliver the change records relative to a certain handler, and resets\r\n         * the record list.\r\n         * @param {HandlerData} hdata\r\n         * @param {Handler} handler\r\n         */\r\n        deliverHandlerRecords = function(hdata, handler) {\r\n            var records = hdata.changeRecords;\r\n            if (records.length) {\r\n                hdata.changeRecords = [];\r\n                handler(records);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the notifier for an object - whether it's observed or not\r\n         * @function retrieveNotifier\r\n         * @param {Object} object\r\n         * @param {ObjectData} [data]\r\n         * @returns {Notifier}\r\n         */\r\n        retrieveNotifier = function(object, data) {\r\n            if (arguments.length < 2)\r\n                data = observed.get(object);\r\n\r\n            /** @type {Notifier} */\r\n            return data && data.notifier || {\r\n                /**\r\n                 * @method notify\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype._notify\r\n                 * @memberof Notifier\r\n                 * @param {ChangeRecord} changeRecord\r\n                 */\r\n                notify: function(changeRecord) {\r\n                    changeRecord.type; // Just to check the property is there...\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object);\r\n                    if (data) {\r\n                        var recordCopy = { object: object }, prop;\r\n                        for (prop in changeRecord)\r\n                            if (prop !== \"object\")\r\n                                recordCopy[prop] = changeRecord[prop];\r\n                        addChangeRecord(object, data, recordCopy);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @method performChange\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype_.performchange\r\n                 * @memberof Notifier\r\n                 * @param {String} changeType\r\n                 * @param {Performer} func     The task performer\r\n                 * @param {*} [thisObj]        Used to set `this` when calling func\r\n                 */\r\n                performChange: function(changeType, func/*, thisObj*/) {\r\n                    if (typeof changeType !== \"string\")\r\n                        throw new TypeError(\"Invalid non-string changeType\");\r\n\r\n                    if (typeof func !== \"function\")\r\n                        throw new TypeError(\"Cannot perform non-function\");\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object),\r\n                        prop, changeRecord,\r\n                        thisObj = arguments[2],\r\n                        result = thisObj === _undefined ? func() : func.call(thisObj);\r\n\r\n                    data && performPropertyChecks(data, object, changeType);\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    if (data && result && typeof result === \"object\") {\r\n                        changeRecord = { object: object, type: changeType };\r\n                        for (prop in result)\r\n                            if (prop !== \"object\" && prop !== \"type\")\r\n                                changeRecord[prop] = result[prop];\r\n                        addChangeRecord(object, data, changeRecord);\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Register (or redefines) an handler in the collection for a given\r\n         * object and a given type accept list.\r\n         * @function setHandler\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {Handler} handler\r\n         * @param {String[]} acceptList\r\n         */\r\n        setHandler = function(object, data, handler, acceptList) {\r\n            var hdata = handlers.get(handler);\r\n            if (!hdata)\r\n                handlers.set(handler, hdata = {\r\n                    observed: createMap(),\r\n                    changeRecords: []\r\n                });\r\n            hdata.observed.set(object, {\r\n                acceptList: acceptList.slice(),\r\n                data: data\r\n            });\r\n            data.handlers.set(handler, hdata);\r\n        },\r\n\r\n        /**\r\n         * Adds a change record in a given ObjectData\r\n         * @function addChangeRecord\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {ChangeRecord} changeRecord\r\n         * @param {String} [except]\r\n         */\r\n        addChangeRecord = function(object, data, changeRecord, except) {\r\n            data.handlers.forEach(function(hdata) {\r\n                var acceptList = hdata.observed.get(object).acceptList;\r\n                // If except is defined, Notifier.performChange has been\r\n                // called, with except as the type.\r\n                // All the handlers that accepts that type are skipped.\r\n                if ((typeof except !== \"string\"\r\n                        || inArray(acceptList, except) === -1)\r\n                        && inArray(acceptList, changeRecord.type) > -1)\r\n                    hdata.changeRecords.push(changeRecord);\r\n            });\r\n        };\r\n\r\n    observed = createMap();\r\n    handlers = createMap();\r\n\r\n    /**\r\n     * @function Object.observe\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.observe\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @param {String[]} [acceptList]\r\n     * @throws {TypeError}\r\n     * @returns {Object}               The observed object\r\n     */\r\n    O.observe = function observe(object, handler, acceptList) {\r\n        if (!object || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot observe non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot deliver to non-function\");\r\n\r\n        if (O.isFrozen && O.isFrozen(handler))\r\n            throw new TypeError(\"Object.observe cannot deliver to a frozen function object\");\r\n\r\n        if (acceptList === _undefined)\r\n            acceptList = defaultAcceptList;\r\n        else if (!acceptList || typeof acceptList !== \"object\")\r\n            throw new TypeError(\"Third argument to Object.observe must be an array of strings.\");\r\n\r\n        doObserve(object, handler, acceptList);\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.unobserve\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.unobserve\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     * @returns {Object}         The given object\r\n     */\r\n    O.unobserve = function unobserve(object, handler) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot unobserve non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler), odata;\r\n\r\n        if (hdata && (odata = hdata.observed.get(object))) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            nextFrame(function() {\r\n                deliverHandlerRecords(hdata, handler);\r\n            });\r\n\r\n            // In Firefox 13-18, size is a function, but createMap should fall\r\n            // back to the shim for those versions\r\n            if (hdata.observed.size === 1 && hdata.observed.has(object))\r\n                handlers[\"delete\"](handler);\r\n            else hdata.observed[\"delete\"](object);\r\n\r\n            if (odata.data.handlers.size === 1)\r\n                observed[\"delete\"](object);\r\n            else odata.data.handlers[\"delete\"](handler);\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.getNotifier\r\n     * @see http://arv.github.io/ecmascript-object-observe/#GetNotifier\r\n     * @param {Object} object\r\n     * @throws {TypeError}\r\n     * @returns {Notifier}\r\n     */\r\n    O.getNotifier = function getNotifier(object) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.getNotifier cannot getNotifier non-object\");\r\n\r\n        if (O.isFrozen && O.isFrozen(object)) return null;\r\n\r\n        return retrieveNotifier(object);\r\n    };\r\n\r\n    /**\r\n     * @function Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#DeliverChangeRecords\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     */\r\n    O.deliverChangeRecords = function deliverChangeRecords(handler) {\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.deliverChangeRecords cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler);\r\n        if (hdata) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            deliverHandlerRecords(hdata, handler);\r\n        }\r\n    };\r\n\r\n})(Object, Array, this);\r\n\n},{}],114:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataObjectObserver = exports.DataObjectReporter = exports.Syncher = undefined;\n\nrequire('object.observe');\n\nrequire('array.observe');\n\nvar _Syncher = require('./syncher/Syncher');\n\nvar _Syncher2 = _interopRequireDefault(_Syncher);\n\nvar _DataObjectReporter = require('./syncher/DataObjectReporter');\n\nvar _DataObjectReporter2 = _interopRequireDefault(_DataObjectReporter);\n\nvar _DataObjectObserver = require('./syncher/DataObjectObserver');\n\nvar _DataObjectObserver2 = _interopRequireDefault(_DataObjectObserver);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Syncher = _Syncher2.default;\nexports.DataObjectReporter = _DataObjectReporter2.default;\nexports.DataObjectObserver = _DataObjectObserver2.default; // polyfills\n// Removed because the compatibility of runtime-nodejs\n// import 'mutationobserver-shim';\n\n},{\"./syncher/DataObjectObserver\":117,\"./syncher/DataObjectReporter\":118,\"./syncher/Syncher\":121,\"array.observe\":1,\"object.observe\":113}],115:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _SyncObject = require('./SyncObject');\n\nvar _SyncObject2 = _interopRequireDefault(_SyncObject);\n\nvar _DataObjectChild = require('./DataObjectChild');\n\nvar _DataObjectChild2 = _interopRequireDefault(_DataObjectChild);\n\nvar _utils = require('../utils/utils.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Main extension class for observers and reporters, with common properties and methods.\r\n * Children management is common for observers and reporters.\r\n */\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\nvar DataObject = function () {\n  /* private\r\n  _version: number\r\n    _owner: HypertyURL\r\n  _url: ObjectURL\r\n  _schema: Schema\r\n  _bus: MiniBus\r\n  _status: on | paused\r\n  _syncObj: SyncData\r\n    _children: { id: DataObjectChild }\r\n  _childrenListeners: [MsgListener]\r\n    ----event handlers----\r\n  _onAddChildHandler: (event) => void\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the Syncher create or subscribe method's\r\n   */\n  function DataObject(syncher, url, schema, initialStatus, initialData, childrens) {\n    (0, _classCallCheck3.default)(this, DataObject);\n\n    var _this = this;\n\n    _this._syncher = syncher;\n    _this._url = url;\n    _this._schema = schema;\n    _this._status = initialStatus;\n    _this._syncObj = new _SyncObject2.default(initialData);\n    _this._childrens = childrens;\n\n    _this._version = 0;\n    _this._childId = 0;\n    _this._childrenObjects = {};\n    _this._childrenListeners = [];\n\n    _this._owner = syncher._owner;\n    _this._bus = syncher._bus;\n  }\n\n  (0, _createClass3.default)(DataObject, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this2 = this;\n\n      var _this = this;\n\n      var childBaseURL = _this._url + '/children/';\n      if (_this._childrens) {\n        _this._childrens.forEach(function (child) {\n          var childURL = childBaseURL + child;\n          var listener = _this._bus.addListener(childURL, function (msg) {\n            //ignore msg sent by himself\n            if (msg.from !== _this2._owner) {\n              console.log('DataObject-Children-RCV: ', msg);\n              switch (msg.type) {\n                case 'create':\n                  _this._onChildCreate(msg);break;\n                case 'delete':\n                  console.log(msg);break;\n                default:\n                  _this._changeChildren(msg);break;\n              }\n            }\n          });\n\n          _this._childrenListeners.push(listener);\n        });\n      }\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      _this._childrenListeners.forEach(function (listener) {\n        listener.remove();\n      });\n\n      (0, _keys2.default)(_this._childrenObjects).forEach(function (key) {\n        _this._childrenObjects[key]._releaseListeners();\n      });\n    }\n\n    /**\r\n     * Object URL of reporter or observer\r\n     * @type {ObjectURL}\r\n     */\n\n  }, {\n    key: 'pause',\n\n\n    /**\r\n     * @ignore\r\n     */\n    value: function pause() {\n      //TODO: this feature needs more analise\n      throw 'Not implemented';\n    }\n\n    /**\r\n     * @ignore\r\n     */\n\n  }, {\n    key: 'resume',\n    value: function resume() {\n      //TODO: this feature needs more analise\n      throw 'Not implemented';\n    }\n\n    /**\r\n     * @ignore\r\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      //TODO: should remove the subscription and send message unsubscribe?\n      throw 'Not implemented';\n    }\n\n    /**\r\n     * Create and add a DataObjectChild to a children collection.\r\n     * @param {String} children - Children name where the child is added.\r\n     * @param {JSON} initialData - Initial data of the child\r\n     * @return {Promise<DataObjectChild>} - Return Promise to a new DataObjectChild.\r\n     */\n\n  }, {\n    key: 'addChild',\n    value: function addChild(children, initialData) {\n      var _this = this;\n\n      //create new child unique ID, based on hypertyURL\n      _this._childId++;\n      var msgChildId = _this._owner + '#' + _this._childId;\n      var msgChildPath = _this._url + '/children/' + children;\n\n      //FLOW-OUT: this message will be sent directly to a resource child address: MessageBus\n      var requestMsg = {\n        type: 'create', from: _this._owner, to: msgChildPath,\n        body: { resource: msgChildId, value: initialData }\n      };\n\n      //returns promise, in the future, the API may change to asynchronous call\n      return new _promise2.default(function (resolve) {\n        var msgId = _this._bus.postMessage(requestMsg);\n\n        console.log('create-reporter-child( ' + _this._owner + ' ): ', requestMsg);\n        var newChild = new _DataObjectChild2.default(_this, msgChildId, initialData, _this._owner, msgId);\n        newChild.onChange(function (event) {\n          _this._onChange(event, { path: msgChildPath, childId: msgChildId });\n        });\n\n        _this._childrenObjects[msgChildId] = newChild;\n\n        resolve(newChild);\n      });\n    }\n\n    /**\r\n     * Setup the callback to process create and delete of childrens.\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onAddChild',\n    value: function onAddChild(callback) {\n      this._onAddChildrenHandler = callback;\n    }\n\n    //FLOW-IN: message received from a remote DataObject -> addChild\n\n  }, {\n    key: '_onChildCreate',\n    value: function _onChildCreate(msg) {\n      var _this = this;\n      var msgChildId = msg.body.resource;\n\n      console.log('create-observer-child( ' + _this._owner + ' ): ', msg);\n      var newChild = new _DataObjectChild2.default(_this, msgChildId, msg.body.value);\n      _this._childrenObjects[msgChildId] = newChild;\n\n      setTimeout(function () {\n        //FLOW-OUT: will flow to DataObjectChild -> _onResponse\n        _this._bus.postMessage({\n          id: msg.id, type: 'response', from: msg.to, to: msg.from,\n          body: { code: 200, source: _this._owner }\n        });\n      });\n\n      var event = {\n        type: msg.type,\n        from: msg.from,\n        url: msg.to,\n        value: msg.body.value,\n        childId: msgChildId,\n        identity: msg.body.identity\n      };\n\n      if (_this._onAddChildrenHandler) {\n        console.log('ADD-CHILDREN-EVENT: ', event);\n        _this._onAddChildrenHandler(event);\n      }\n    }\n\n    //send delta messages to subscriptions\n\n  }, {\n    key: '_onChange',\n    value: function _onChange(event, childInfo) {\n      var _this = this;\n\n      _this._version++;\n\n      if (_this._status === 'on') {\n        //FLOW-OUT: this message will be sent directly to a resource changes address: MessageBus\n        var changeMsg = {\n          type: 'update', from: _this._url, to: _this._url + '/changes',\n          body: { version: _this._version, source: _this._owner, attribute: event.field }\n        };\n\n        if (event.oType === _SyncObject.ObjectType.OBJECT) {\n          if (event.cType !== _SyncObject.ChangeType.REMOVE) {\n            changeMsg.body.value = event.data;\n          }\n        } else {\n          changeMsg.body.attributeType = event.oType;\n          changeMsg.body.value = event.data;\n          if (event.cType !== _SyncObject.ChangeType.UPDATE) {\n            changeMsg.body.operation = event.cType;\n          }\n        }\n\n        //childInfo must have (path, childId)\n        if (childInfo) {\n          changeMsg.to = childInfo.path;\n          changeMsg.body.resource = childInfo.childId;\n        }\n\n        _this._bus.postMessage(changeMsg);\n      }\n    }\n\n    //FLOW-IN: delta message received from a remote DataObjectReporter or DataObjectChild when changing data\n\n  }, {\n    key: '_changeObject',\n    value: function _changeObject(syncObj, msg) {\n      var _this = this;\n\n      //TODO: update version ?\n      //how to handle an incorrect version ? Example: receive a version 3 when the observer is in version 1, where is the version 2 ?\n      //will we need to confirm the reception ?\n      if (_this._version + 1 === msg.body.version) {\n        _this._version++;\n        var path = msg.body.attribute;\n        var value = (0, _utils.deepClone)(msg.body.value);\n        var findResult = syncObj.findBefore(path);\n\n        if (msg.body.attributeType === _SyncObject.ObjectType.ARRAY) {\n          if (msg.body.operation === _SyncObject.ChangeType.ADD) {\n            var arr = findResult.obj;\n            var index = findResult.last;\n            Array.prototype.splice.apply(arr, [index, 0].concat(value));\n          } else if (msg.body.operation === _SyncObject.ChangeType.REMOVE) {\n            var _arr = findResult.obj;\n            var _index = findResult.last;\n            _arr.splice(_index, value);\n          } else {\n            findResult.obj[findResult.last] = value; // UPDATE\n          }\n        } else {\n          if (msg.body.value) {\n            findResult.obj[findResult.last] = value; // UPDATE or ADD\n          } else {\n            delete findResult.obj[findResult.last]; // REMOVE\n          }\n        }\n      } else {\n        //TODO: how to handle unsynchronized versions?\n        console.log('UNSYNCHRONIZED VERSION: (data => ' + _this._version + ', msg => ' + msg.body.version + ')');\n      }\n    }\n\n    //FLOW-IN: message received from a remote DataObjectChild when changing data\n\n  }, {\n    key: '_changeChildren',\n    value: function _changeChildren(msg) {\n      var _this = this;\n      console.log('Change children: ', _this._owner, msg);\n\n      var childId = msg.body.resource;\n      var children = _this._childrenObjects[childId];\n\n      if (children) {\n        _this._changeObject(children._syncObj, msg);\n      } else {\n        console.log('No children found for: ', childId);\n      }\n    }\n  }, {\n    key: 'url',\n    get: function get() {\n      return this._url;\n    }\n\n    /**\r\n     * Object schema URL (this field is not yet stable, and is subsject to change)\r\n     * @type {SchemaURL}\r\n     */\n\n  }, {\n    key: 'schema',\n    get: function get() {\n      return this._schema;\n    }\n\n    /**\r\n     * Status of the reporter or observer connection (this field is not yet stable, and is subsject to change)\r\n     * @type {Status} - Enum of: on | paused\r\n     */\n\n  }, {\n    key: 'status',\n    get: function get() {\n      return this._status;\n    }\n\n    /**\r\n     * Data structure to be synchronized.\r\n     * @type {JSON} - JSON structure that should follow the defined schema, if any.\r\n     */\n\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._syncObj.data;\n    }\n\n    /**\r\n     * All created children's since the subscription, doesn't contain all children's since reporter creation.\r\n     * @type {Object<ChildId, DataObjectChild>}\r\n     */\n\n  }, {\n    key: 'childrens',\n    get: function get() {\n      return this._childrenObjects;\n    }\n  }]);\n  return DataObject;\n}();\n\nexports.default = DataObject;\nmodule.exports = exports['default'];\n\n},{\"../utils/utils.js\":122,\"./DataObjectChild\":116,\"./SyncObject\":120,\"babel-runtime/core-js/object/keys\":7,\"babel-runtime/core-js/promise\":9,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13}],116:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _SyncObject = require('./SyncObject');\n\nvar _SyncObject2 = _interopRequireDefault(_SyncObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * The class returned from the DataObject addChildren call or from onAddChildren if remotely created.\r\n * Children object synchronization is a a fast forward mechanism, no need for direct subscriptions, it uses the already authorized subscription from the parent DataObject.\r\n */\nvar DataObjectChild /* implements SyncStatus */ = function () {\n  /* private\r\n    ----event handlers----\r\n  _onResponseHandler: (event) => void\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the DataObject.addChildren\r\n   */\n  function DataObjectChild(parent, childId, initialData, owner, msgId) {\n    (0, _classCallCheck3.default)(this, DataObjectChild);\n\n    var _this = this;\n\n    _this._parent = parent;\n    _this._childId = childId;\n    _this._owner = owner;\n    _this._msgId = msgId;\n\n    _this._syncObj = new _SyncObject2.default(initialData);\n\n    _this._bus = parent._bus;\n    _this._allocateListeners();\n  }\n\n  (0, _createClass3.default)(DataObjectChild, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this = this;\n\n      //this is only needed for children reporters\n      if (_this._owner) {\n        _this._listener = _this._bus.addListener(_this._owner, function (msg) {\n          if (msg.type === 'response' && msg.id === _this._msgId) {\n            console.log('DataObjectChild.onResponse:', msg);\n            _this._onResponse(msg);\n          }\n        });\n      }\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      if (_this._listener) {\n        _this._listener.remove();\n      }\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      delete _this._parent._children[_this._childId];\n\n      _this._releaseListeners();\n\n      //TODO: send delete message ?\n    }\n\n    /**\r\n     * Children ID generated on addChildren. Unique identifier\r\n     * @type {URL} - URL of the format <HypertyURL>#<numeric-sequence>\r\n     */\n\n  }, {\n    key: 'onChange',\n\n\n    /**\r\n     * Register the change listeners sent by the reporter child\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n    value: function onChange(callback) {\n      this._syncObj.observe(function (event) {\n        callback(event);\n      });\n    }\n\n    /**\r\n     * Setup the callback to process response notifications of the creates\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      this._onResponseHandler = callback;\n    }\n\n    //FLOW-IN: message received from a remote DataObject -> _onChildCreate\n\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.body.source,\n        code: msg.body.code\n      };\n\n      if (_this._onResponseHandler) {\n        _this._onResponseHandler(event);\n      }\n    }\n  }, {\n    key: 'childId',\n    get: function get() {\n      return this._childId;\n    }\n\n    /**\r\n     * Data Structure to be synchronized.\r\n     * @type {JSON} - JSON structure that should follow the defined schema, if any.\r\n     */\n\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._syncObj.data;\n    }\n  }]);\n  return DataObjectChild;\n}(); /**\r\n     * Copyright 2016 PT Inovação e Sistemas SA\r\n     * Copyright 2016 INESC-ID\r\n     * Copyright 2016 QUOBIS NETWORKS SL\r\n     * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n     * Copyright 2016 ORANGE SA\r\n     * Copyright 2016 Deutsche Telekom AG\r\n     * Copyright 2016 Apizee\r\n     * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     **/\n\nexports.default = DataObjectChild;\nmodule.exports = exports['default'];\n\n},{\"./SyncObject\":120,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13}],117:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DataObject2 = require('./DataObject');\n\nvar _DataObject3 = _interopRequireDefault(_DataObject2);\n\nvar _DataObjectChild = require('./DataObjectChild');\n\nvar _DataObjectChild2 = _interopRequireDefault(_DataObjectChild);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\nvar FilterType = { ANY: 'any', START: 'start', EXACT: 'exact' };\n\n/**\r\n * The class returned from the Syncher subscribe call.\r\n * To be used as an observation point from a DataObjectReporter change.\r\n */\n\nvar DataObjectObserver = function (_DataObject) {\n  (0, _inherits3.default)(DataObjectObserver, _DataObject);\n\n  /* private\r\n  _changeListener: MsgListener\r\n    ----event handlers----\r\n  _filters: {<filter>: {type: <start, exact>, callback: <function>} }\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the Syncher.subscribe method\r\n   */\n  function DataObjectObserver(syncher, url, schema, initialStatus, initialData, childrens, initialVersion) {\n    (0, _classCallCheck3.default)(this, DataObjectObserver);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DataObjectObserver.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver)).call(this, syncher, url, schema, initialStatus, initialData.data, childrens));\n\n    var _this = _this2;\n\n    _this._version = initialVersion;\n    _this._filters = {};\n\n    _this._syncObj.observe(function (event) {\n      _this._onFilter(event);\n    });\n\n    //setup childrens data from subscription\n    (0, _keys2.default)(initialData.childrens).forEach(function (childId) {\n      var childData = initialData.childrens[childId];\n      _this._childrenObjects[childId] = new _DataObjectChild2.default(_this, childId, childData);\n    });\n\n    _this._allocateListeners();\n    return _this2;\n  }\n\n  (0, _createClass3.default)(DataObjectObserver, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      (0, _get3.default)(DataObjectObserver.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver.prototype), '_allocateListeners', this).call(this);\n      var _this = this;\n\n      _this._changeListener = _this._bus.addListener(_this._url + '/changes', function (msg) {\n        if (msg.type === 'update') {\n          console.log('DataObjectObserver-' + _this._url + '-RCV: ', msg);\n          _this._changeObject(_this._syncObj, msg);\n        }\n      });\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      (0, _get3.default)(DataObjectObserver.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver.prototype), '_releaseListeners', this).call(this);\n      var _this = this;\n\n      _this._changeListener.remove();\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._releaseListeners();\n      delete _this._syncher._observers[_this._url];\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe() {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalUnSubscribe\n      var unSubscribeMsg = {\n        type: 'unsubscribe', from: _this._owner, to: _this._syncher._subURL,\n        body: { resource: _this._url }\n      };\n\n      _this._bus.postMessage(unSubscribeMsg, function (reply) {\n        console.log('DataObjectObserver-UNSUBSCRIBE: ', reply);\n        if (reply.body.code === 200) {\n          _this._releaseListeners();\n          delete _this._syncher._observers[_this._url];\n        }\n      });\n    }\n\n    /**\r\n     * Register the change listeners sent by the reporter\r\n     * @param {string} filter - Filter that identifies the field (separated dot path). Accepts * at the end for a more unrestricted filtering.\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onChange',\n    value: function onChange(filter, callback) {\n      var key = filter;\n      var filterObj = {\n        type: FilterType.EXACT,\n        callback: callback\n      };\n\n      var idx = filter.indexOf('*');\n      if (idx === filter.length - 1) {\n        if (idx === 0) {\n          filterObj.type = FilterType.ANY;\n        } else {\n          filterObj.type = FilterType.START;\n          key = filter.substr(0, filter.length - 1);\n        }\n      }\n\n      this._filters[key] = filterObj;\n    }\n  }, {\n    key: '_onFilter',\n    value: function _onFilter(event) {\n      var _this = this;\n\n      (0, _keys2.default)(_this._filters).forEach(function (key) {\n        var filter = _this._filters[key];\n        if (filter.type === FilterType.ANY) {\n          //match anything\n          filter.callback(event);\n        } else if (filter.type === FilterType.START) {\n          //if starts with filter...\n          if (event.field.indexOf(key) === 0) {\n            filter.callback(event);\n          }\n        } else if (filter.type === FilterType.EXACT) {\n          //exact match\n          if (event.field === key) {\n            filter.callback(event);\n          }\n        }\n      });\n    }\n  }]);\n  return DataObjectObserver;\n}(_DataObject3.default /* implements SyncStatus */);\n\nexports.default = DataObjectObserver;\nmodule.exports = exports['default'];\n\n},{\"./DataObject\":115,\"./DataObjectChild\":116,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/core-js/object/keys\":7,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13,\"babel-runtime/helpers/get\":14,\"babel-runtime/helpers/inherits\":15,\"babel-runtime/helpers/possibleConstructorReturn\":16}],118:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DataObject2 = require('./DataObject');\n\nvar _DataObject3 = _interopRequireDefault(_DataObject2);\n\nvar _utils = require('../utils/utils.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * The class returned from the Syncher create call.\r\n * To be used as a reporter point, changes will be submited to DataObjectObserver instances.\r\n */\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\nvar DataObjectReporter = function (_DataObject) {\n  (0, _inherits3.default)(DataObjectReporter, _DataObject);\n\n  /* private\r\n  _subscriptions: <hypertyUrl: { status: string } }>\r\n    ----event handlers----\r\n  _onSubscriptionHandler: (event) => void\r\n  _onResponseHandler: (event) => void\r\n  _onReadHandler: (event) => void\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the Syncher.create method\r\n   */\n  function DataObjectReporter(syncher, url, schema, initialStatus, initialData, childrens) {\n    (0, _classCallCheck3.default)(this, DataObjectReporter);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DataObjectReporter.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter)).call(this, syncher, url, schema, initialStatus, initialData, childrens));\n\n    var _this = _this2;\n\n    _this._subscriptions = {};\n\n    _this._syncObj.observe(function (event) {\n      console.log('DataObjectReporter-' + url + '-SEND: ', event);\n      _this._onChange(event);\n    });\n\n    _this._allocateListeners();\n    return _this2;\n  }\n\n  (0, _createClass3.default)(DataObjectReporter, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      (0, _get3.default)(DataObjectReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter.prototype), '_allocateListeners', this).call(this);\n      var _this = this;\n\n      _this._objectListener = _this._bus.addListener(_this._url, function (msg) {\n        console.log('DataObject-' + _this._url + '-RCV: ', msg);\n        switch (msg.type) {\n          case 'response':\n            _this._onResponse(msg);break;\n          case 'read':\n            _this._onRead(msg);break;\n        }\n      });\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      (0, _get3.default)(DataObjectReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter.prototype), '_releaseListeners', this).call(this);\n      var _this = this;\n\n      _this._objectListener.remove();\n    }\n\n    /**\r\n     * Send invitations (create messages) to hyperties, observers list.\r\n     * @param  {HypertyURL[]} observers List of Hyperty URL's\r\n     */\n\n  }, {\n    key: 'inviteObservers',\n    value: function inviteObservers(observers) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n      var inviteMsg = {\n        type: 'create', from: _this._syncher._owner, to: _this._syncher._subURL,\n        body: { resource: _this._url, schema: _this._schema, value: _this._syncObj.data, authorise: observers }\n      };\n\n      _this._bus.postMessage(inviteMsg);\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onDelete\n      var deleteMsg = {\n        type: 'delete', from: _this._owner, to: _this._syncher._subURL,\n        body: { resource: _this._url }\n      };\n\n      _this._bus.postMessage(deleteMsg, function (reply) {\n        console.log('DataObjectReporter-DELETE: ', reply);\n        if (reply.body.code === 200) {\n          _this._releaseListeners();\n          delete _this._syncher._reporters[_this._url];\n        }\n      });\n    }\n\n    /**\r\n     * Subscriptions requested and accepted to this reporter\r\n     * @type {Object<HypertyURL, SyncSubscription>}\r\n     */\n\n  }, {\n    key: 'onSubscription',\n\n\n    /**\r\n     * Setup the callback to process subscribe and unsubscribe notifications\r\n     * @param {function(event: MsgEvent)} callback function to receive events\r\n     */\n    value: function onSubscription(callback) {\n      this._onSubscriptionHandler = callback;\n    }\n\n    /**\r\n     * Setup the callback to process response notifications of the create's\r\n     * @param {function(event: MsgEvent)} callback function to receive events\r\n     */\n\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      this._onResponseHandler = callback;\n    }\n\n    /**\r\n     * Setup the callback to process read notifications\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onRead',\n    value: function onRead(callback) {\n      this._onReadHandler = callback;\n    }\n\n    //FLOW-IN: message received from parent Syncher -> _onForward\n\n  }, {\n    key: '_onForward',\n    value: function _onForward(msg) {\n      var _this = this;\n\n      console.log('DataObjectReporter-RCV: ', msg);\n      switch (msg.body.type) {\n        case 'subscribe':\n          _this._onSubscribe(msg);break;\n        case 'unsubscribe':\n          _this._onUnSubscribe(msg);break;\n      }\n    }\n\n    //FLOW-IN: message received from this -> _onForward: emitted by a remote Syncher -> subscribe\n\n  }, {\n    key: '_onSubscribe',\n    value: function _onSubscribe(msg) {\n      var _this = this;\n      var hypertyUrl = msg.body.from;\n\n      var event = {\n        type: msg.body.type,\n        url: hypertyUrl,\n\n        identity: msg.body.identity,\n\n        accept: function accept() {\n          //create new subscription\n          var sub = { url: hypertyUrl, status: 'on' };\n          _this._subscriptions[hypertyUrl] = sub;\n\n          //process and send childrens data\n          var childrenValues = {};\n          (0, _keys2.default)(_this._childrenObjects).forEach(function (childId) {\n            var childData = _this._childrenObjects[childId].data;\n            childrenValues[childId] = (0, _utils.deepClone)(childData);\n          });\n\n          //send ok response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 200, schema: _this._schema, version: _this._version, value: { data: (0, _utils.deepClone)(_this.data), childrens: childrenValues } }\n          });\n\n          return sub;\n        },\n\n        reject: function reject(reason) {\n          //send reject response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 403, desc: reason }\n          });\n        }\n      };\n\n      if (_this._onSubscriptionHandler) {\n        console.log('SUBSCRIPTION-EVENT: ', event);\n        _this._onSubscriptionHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from this -> _onForward: emitted by a remote DataObjectObserver -> unsubscribe\n\n  }, {\n    key: '_onUnSubscribe',\n    value: function _onUnSubscribe(msg) {\n      var _this = this;\n      var hypertyUrl = msg.body.from;\n\n      var sub = _this._subscriptions[hypertyUrl];\n      delete _this._subscriptions[hypertyUrl];\n\n      var event = {\n        type: msg.body.type,\n        url: hypertyUrl,\n        object: sub\n      };\n\n      if (_this._onSubscriptionHandler) {\n        console.log('UN-SUBSCRIPTION-EVENT: ', event);\n        _this._onSubscriptionHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> _onRemoteCreate -> event.ack\n\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n        code: msg.body.code\n      };\n\n      if (_this._onResponseHandler) {\n        console.log('RESPONSE-EVENT: ', event);\n        _this._onResponseHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> read\n\n  }, {\n    key: '_onRead',\n    value: function _onRead(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n\n        accept: function accept() {\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 200, value: (0, _utils.deepClone)(_this.data) }\n          });\n        },\n\n        reject: function reject(reason) {\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 401, desc: reason }\n          });\n        }\n      };\n\n      if (_this._onReadHandler) {\n        console.log('READ-EVENT: ', event);\n        _this._onReadHandler(event);\n      }\n    }\n  }, {\n    key: 'subscriptions',\n    get: function get() {\n      return this._subscriptions;\n    }\n  }]);\n  return DataObjectReporter;\n}(_DataObject3.default /* implements SyncStatus */);\n\nexports.default = DataObjectReporter;\nmodule.exports = exports['default'];\n\n},{\"../utils/utils.js\":122,\"./DataObject\":115,\"babel-runtime/core-js/object/get-prototype-of\":6,\"babel-runtime/core-js/object/keys\":7,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13,\"babel-runtime/helpers/get\":14,\"babel-runtime/helpers/inherits\":15,\"babel-runtime/helpers/possibleConstructorReturn\":16}],119:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\n/**\r\n * @access private\r\n * This class is responsible for collecting delta changes in remote objects, before the response of subscription reach the observer.\r\n * It's used in Syncher -> subscribe. The flow is defined as:\r\n * 1. (observer) --subscribe--> (reporter)\r\n * 2. (observer) <--delta updates-- (reporter)\r\n * 3. (observer) <--subscribe response-- (reporter)\r\n * This means that there could be delta updates transferred before the subscription confirmation.\r\n * Since there is no DataObjectObserver before the ubscription confirmation, there should be some other object collecting the updates.\r\n * Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\r\n */\nvar DataProvisional = function () {\n  /* private\r\n  _childrenListeners: [MsgListener]\r\n  _listener: MsgListener\r\n    _changes: []\r\n  */\n\n  function DataProvisional(owner, url, bus, children) {\n    (0, _classCallCheck3.default)(this, DataProvisional);\n\n    var _this = this;\n\n    _this._owner = owner;\n    _this._url = url;\n    _this._bus = bus;\n    _this._children = children;\n\n    _this._changes = [];\n    _this._allocateListeners();\n  }\n\n  (0, _createClass3.default)(DataProvisional, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this = this;\n\n      _this._listener = _this._bus.addListener(_this._url, function (msg) {\n        console.log('DataProvisional-' + _this._url + '-RCV: ', msg);\n        _this._changes.push(msg);\n      });\n\n      /*\r\n      _this._childrenListeners = [];\r\n      if (_this._children) {\r\n        let childBaseURL = url + '/children/';\r\n        _this._children.forEach((child) => {\r\n          let childURL = childBaseURL + child;\r\n          let listener = _this._bus.addListener(childURL, (msg) => {\r\n            //ignore msg sent by himself\r\n            if (msg.from !== owner) {\r\n              console.log(msg);\r\n            }\r\n          });\r\n            _this._childrenListeners.push(listener);\r\n        });\r\n      }*/\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      _this._listener.remove();\n\n      /*_this._childrenListeners.forEach((listener) => {\r\n        listener.remove();\r\n      });*/\n    }\n  }, {\n    key: 'apply',\n    value: function apply(observer) {\n      var _this = this;\n      _this._changes.forEach(function (change) {\n        observer._changeObject(observer._syncObj, change);\n      });\n    }\n  }, {\n    key: 'children',\n    get: function get() {\n      return this._children;\n    }\n  }]);\n  return DataProvisional;\n}();\n\nexports.default = DataProvisional;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13}],120:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ObjectType = exports.ChangeType = undefined;\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _utils = require('../utils/utils.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * @access private\r\n * Main class that maintains a JSON object, and observes changes in this object, recursively.\r\n * Internal objects and arrays are also observed.\r\n */\nvar SyncObject = function () {\n  /* private\r\n    _data: any;\r\n    _observers: ((event: ChangeEvent) => void)[]\r\n  */\n\n  function SyncObject(initialData) {\n    (0, _classCallCheck3.default)(this, SyncObject);\n\n    var _this = this;\n\n    _this._observers = [];\n    _this._filters = {};\n\n    if (initialData) {\n      _this._data = (0, _utils.deepClone)(initialData);\n    } else {\n      _this._data = {};\n    }\n\n    _this._internalObserve(new Path(), _this._data);\n  }\n\n  (0, _createClass3.default)(SyncObject, [{\n    key: 'observe',\n    value: function observe(callback) {\n      this._observers.push(callback);\n    }\n  }, {\n    key: 'find',\n    value: function find(path) {\n      var list = path.split('.');\n\n      return this._findWithSplit(list);\n    }\n  }, {\n    key: 'findBefore',\n    value: function findBefore(path) {\n      var result = {};\n      var list = path.split('.');\n      result.last = list.pop();\n      result.obj = this._findWithSplit(list);\n\n      return result;\n    }\n  }, {\n    key: '_findWithSplit',\n    value: function _findWithSplit(list) {\n      var obj = this._data;\n      list.forEach(function (value) {\n        obj = obj[value];\n      });\n\n      return obj;\n    }\n  }, {\n    key: '_fireEvent',\n    value: function _fireEvent(event) {\n      this._observers.forEach(function (callback) {\n        callback(event);\n      });\n    }\n  }, {\n    key: '_isObservable',\n    value: function _isObservable(obj) {\n      if (obj.constructor === Object || obj.constructor === Array) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: '_internalObserve',\n    value: function _internalObserve(path, obj) {\n      var _this = this;\n\n      if (_this._isObservable(obj)) {\n        var handler = function handler(changes) {\n          _this._onChanges(path, changes);\n        };\n\n        if (obj.constructor === Object) {\n          Object.observe(obj, handler);\n          for (var prop in obj) {\n            if (_this._isObservable(obj[prop])) {\n              _this._internalObserve(path.new(prop), obj[prop]);\n            }\n          }\n        } else if (obj.constructor === Array) {\n          Array.observe(obj, handler);\n          for (var _prop in obj) {\n            if (_this._isObservable(obj[_prop])) {\n              var np = path.new(new ArrayIndex(obj[_prop], _prop));\n              _this._internalObserve(np, obj[_prop]);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: '_onChanges',\n    value: function _onChanges(path, changes) {\n      var _this2 = this;\n\n      for (var i in changes) {\n        var obj = changes[i].object;\n        var objType = void 0;\n\n        if (obj.constructor === Object) {\n          objType = ObjectType.OBJECT;\n        }\n\n        if (obj.constructor === Array) {\n          objType = ObjectType.ARRAY;\n        }\n\n        if (changes[i].type === 'splice') {\n          (function () {\n            var idx = changes[i].index;\n            var field = path.new('' + idx);\n            var fieldString = field.toString();\n\n            var removeSize = changes[i].removed.length;\n            if (removeSize !== 0) {\n              var removeValues = changes[i].removed;\n              removeValues.forEach(function (value, index) {\n                if (_this2._isObservable(value)) {\n                  path.removeIndex(idx + index);\n                }\n              });\n\n              _this2._fireEvent({\n                cType: ChangeType.REMOVE,\n                oType: objType,\n                field: fieldString,\n                data: removeSize\n              });\n            }\n\n            var addSize = changes[i].addedCount;\n            if (addSize !== 0) {\n              var addValues = obj.slice(idx, idx + addSize);\n              addValues.forEach(function (value, index) {\n                if (_this2._isObservable(value)) {\n                  var np = path.new(new ArrayIndex(value, idx + index));\n                  _this2._internalObserve(np, value);\n                }\n              });\n\n              _this2._fireEvent({\n                cType: ChangeType.ADD,\n                oType: objType,\n                field: fieldString,\n                data: (0, _utils.deepClone)(addValues)\n              });\n            }\n\n            //re-define paths...\n            if (idx !== obj.length - 1) {\n              path.reIndexFrom(obj);\n            }\n          })();\n        } else {\n          var field = path.new(changes[i].name);\n          var fieldString = field.toString();\n\n          if (fieldString.indexOf('Symbol') !== -1) {\n            //hack for PhantomJS2\n            //console.log('SYMBOL: ', changes[i]);\n            continue;\n          }\n\n          //let oldValue = changes[i].oldValue;\n          var newValue = obj[changes[i].name];\n          if (changes[i].type === 'update') {\n            this._fireEvent({\n              cType: ChangeType.UPDATE,\n              oType: objType,\n              field: fieldString,\n              data: (0, _utils.deepClone)(newValue)\n            });\n          }\n\n          if (changes[i].type === 'add') {\n            this._internalObserve(field, newValue);\n            this._fireEvent({\n              cType: ChangeType.ADD,\n              oType: objType,\n              field: fieldString,\n              data: (0, _utils.deepClone)(newValue)\n            });\n          }\n\n          if (changes[i].type === 'delete') {\n            this._fireEvent({\n              cType: ChangeType.REMOVE,\n              oType: objType,\n              field: fieldString\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._data;\n    }\n  }]);\n  return SyncObject;\n}();\n\n//dynamic path for Array index...\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\nvar Path = function () {\n  function Path() {\n    (0, _classCallCheck3.default)(this, Path);\n\n    this._path = [];\n    this._observables = {}; //<index:ArrayIndex>\n  }\n\n  (0, _createClass3.default)(Path, [{\n    key: 'removeIndex',\n    value: function removeIndex(idx) {\n      //console.log('REMOVE-PATH ' + idx);\n      delete this._observables[idx];\n    }\n  }, {\n    key: 'reIndexFrom',\n    value: function reIndexFrom(array) {\n      var _this3 = this;\n\n      (0, _keys2.default)(this._observables).forEach(function (key) {\n        var arrayIndex = _this3._observables[key];\n        var idx = array.indexOf(arrayIndex.obj);\n        if (arrayIndex.idx != idx) {\n          //console.log('RE-INDEX: ' + key + '->' + idx);\n          arrayIndex.idx = idx;\n          delete _this3._observables[key];\n          _this3._observables[idx] = arrayIndex;\n        }\n      });\n    }\n  }, {\n    key: 'new',\n    value: function _new(idx) {\n      if (idx.constructor == ArrayIndex) {\n        //console.log('PATH-OBSERV: ', idx);\n        this._observables[idx.idx] = idx;\n      }\n\n      var nPath = this.clone();\n      nPath._path.push(idx);\n\n      return nPath;\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var nPath = new Path();\n      this._path.forEach(function (value) {\n        nPath._path.push(value);\n      });\n\n      return nPath;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      //TODO: optimize!!\n      var str = '';\n      this._path.forEach(function (value, index) {\n        if (index === 0) {\n          str = value.toString();\n        } else {\n          str += '.' + value.toString();\n        }\n      });\n\n      return str;\n    }\n  }]);\n  return Path;\n}();\n\nvar ArrayIndex = function () {\n  function ArrayIndex(obj, idx) {\n    (0, _classCallCheck3.default)(this, ArrayIndex);\n\n    this.obj = obj;\n    this.idx = idx;\n  }\n\n  (0, _createClass3.default)(ArrayIndex, [{\n    key: 'toString',\n    value: function toString() {\n      return this.idx.toString();\n    }\n  }]);\n  return ArrayIndex;\n}();\n\nvar ChangeType = exports.ChangeType = { UPDATE: 'update', ADD: 'add', REMOVE: 'remove' };\nvar ObjectType = exports.ObjectType = { OBJECT: 'object', ARRAY: 'array' };\nexports.default = SyncObject;\n\n},{\"../utils/utils.js\":122,\"babel-runtime/core-js/object/keys\":7,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13}],121:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _DataObjectReporter = require('./DataObjectReporter');\n\nvar _DataObjectReporter2 = _interopRequireDefault(_DataObjectReporter);\n\nvar _DataObjectObserver = require('./DataObjectObserver');\n\nvar _DataObjectObserver2 = _interopRequireDefault(_DataObjectObserver);\n\nvar _DataProvisional = require('./DataProvisional');\n\nvar _DataProvisional2 = _interopRequireDefault(_DataProvisional);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* The main class for the syncher package.\r\n* The Syncher is a singleton class per Hyperty/URL and it is the owner of all created Data Sync Objects according to the Reporter - Observer pattern.\r\n* Main functionality is to create reporters and to subscribe to existing ones.\r\n*/\nvar Syncher = function () {\n  /* private\r\n  _owner: URL\r\n  _bus: MiniBus\r\n    _subURL: URL\r\n    _reporters: <url: DataObjectReporter>\r\n  _observers: <url: DataObjectObserver>\r\n  _provisionals: <url: DataProvisional>\r\n    ----event handlers----\r\n  _onNotificationHandler: (event) => void\r\n  */\n\n  /**\r\n  * Constructor that should be used by the Hyperty owner\r\n  * @param {HypertyURL} owner - Hyperty URL owner. An URL allocated by the runtime that uniquely identifies the Hyperty.\r\n  * @param {MiniBus} bus - An instance of the MiniBus provided in the sandbox. When an object (Reporter or Observed) is created, the SyncherManager will add a listener in the MiniBus to receive/send Messages of that object.\r\n  * @param {JSON} config - Configuration data. The only required field for now is the runtimeURL.\r\n  */\n  function Syncher(owner, bus, config) {\n    (0, _classCallCheck3.default)(this, Syncher);\n\n    var _this = this;\n\n    _this._owner = owner;\n    _this._bus = bus;\n\n    _this._subURL = config.runtimeURL + '/sm';\n\n    _this._reporters = {};\n    _this._observers = {};\n    _this._provisionals = {};\n\n    bus.addListener(owner, function (msg) {\n      //ignore msg sent by himself\n      if (msg.from !== owner) {\n        console.info('[Syncher] Syncher-RCV: ', msg);\n        switch (msg.type) {\n          case 'forward':\n            _this._onForward(msg);break;\n          case 'create':\n            _this._onRemoteCreate(msg);break;\n          case 'delete':\n            _this._onRemoteDelete(msg);break;\n        }\n      }\n    });\n  }\n\n  /**\r\n  * The owner of the Syncher and all created reporters.\r\n  * @type {HypertyURL}\r\n  */\n\n\n  (0, _createClass3.default)(Syncher, [{\n    key: 'create',\n\n\n    /**\r\n    * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\r\n    * @param  {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\r\n    * @param  {HypertyURL[]} observers - List of hyperties that are pre-authorized for subscription\r\n    * @param  {JSON} initialData - Initial data of the reporter\r\n    * @param  {string} objectURL - reusable dataObject URL\r\n    * @return {Promise<DataObjectReporter>} Return Promise to a new Reporter. The reporter can be accepted or rejected by the PEP\r\n    */\n    value: function create(schema, observers, initialData, objectURL) {\n      var _this = this;\n\n      initialData.reporter = _this._owner;\n      initialData.schema = schema;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n      var requestMsg = {\n        type: 'create', from: _this._owner, to: _this._subURL,\n        body: { authorise: observers, value: initialData, schema: schema }\n      };\n\n      // If an objectURL will be passed, then reus\n      if (objectURL) {\n        requestMsg.body.resource = objectURL;\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n        //request create to the allocation system. Can be rejected by the PolicyEngine.\n        _this._bus.postMessage(requestMsg, function (reply) {\n          console.info('[Syncher] create-response: ', reply);\n          if (reply.body.code === 200) {\n            //reporter creation accepted\n            var objURL = reply.body.resource;\n            var newObj = new _DataObjectReporter2.default(_this, objURL, schema, 'on', initialData, reply.body.childrenResources);\n            _this._reporters[objURL] = newObj;\n\n            resolve(newObj);\n          } else {\n            //reporter creation rejected\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * Request a subscription to an existent reporter object.\r\n    * @param {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\r\n    * @param {ObjectURL} objURL - Address of the existent reporter object to be observed\r\n    * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\r\n    */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(schema, objURL) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\n      var subscribeMsg = {\n        type: 'subscribe', from: _this._owner, to: _this._subURL,\n        body: { schema: schema, resource: objURL }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n        //request subscription\n        //Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n        //for more info see the DataProvisional class documentation.\n        _this._bus.postMessage(subscribeMsg, function (reply) {\n          console.info('[Syncher] subscribe-response: ', reply);\n          var newProvisional = _this._provisionals[objURL];\n          delete _this._provisionals[objURL];\n          if (newProvisional) newProvisional._releaseListeners();\n\n          if (reply.body.code < 200) {\n            newProvisional = new _DataProvisional2.default(_this._owner, objURL, _this._bus, reply.body.childrenResources);\n            _this._provisionals[objURL] = newProvisional;\n          } else if (reply.body.code === 200) {\n            var newObj = new _DataObjectObserver2.default(_this, objURL, schema, 'on', reply.body.value, newProvisional.children, reply.body.version);\n            console.info('[Syncher - subscribe] Observer created ', newObj);\n            _this._observers[objURL] = newObj;\n\n            resolve(newObj);\n            newProvisional.apply(newObj);\n          } else {\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * Request a read action on the reporter object\r\n    * @param {ObjectURL} objURL - URL of the reporter object to be read\r\n    * @return {Promise<Object>} Return Promise to last available data of the reporter\r\n    */\n\n  }, {\n    key: 'read',\n    value: function read(objURL) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent directly to reporter object (maybe there is no listener available, so it will be resolved with MessageBus -> resolve)\n      //will reach the remote object in DataObjectReporter -> _onRead\n      var readMsg = {\n        type: 'read', from: _this._owner, to: objURL\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n        _this._bus.postMessage(readMsg, function (reply) {\n          console.info('[Syncher] read-response: ', reply);\n          if (reply.body.code === 200) {\n            resolve(reply.body.value);\n          } else {\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * Setup the callback to process create and delete events of remove Reporter objects.\r\n    * This is releated to the messagens sent by create to the observers Hyperty array.\r\n    * @param {function(event: MsgEvent)} callback\r\n    */\n\n  }, {\n    key: 'onNotification',\n    value: function onNotification(callback) {\n      this._onNotificationHandler = callback;\n    }\n\n    //FLOW-IN: message received from a local runtime ReporterObject -> _onRemoteSubscribe\n\n  }, {\n    key: '_onForward',\n    value: function _onForward(msg) {\n      var _this = this;\n\n      var reporter = _this._reporters[msg.body.to];\n      reporter._onForward(msg);\n    }\n\n    //FLOW-IN: message received from a remote Syncher -> create (this is actually an invitation to subscribe)\n\n  }, {\n    key: '_onRemoteCreate',\n    value: function _onRemoteCreate(msg) {\n      var _this = this;\n\n      //remove \"/subscription\" from the URL\n      var resource = msg.from.slice(0, -13);\n\n      var event = {\n        type: msg.type,\n        from: msg.body.source,\n        url: resource,\n        schema: msg.body.schema,\n        value: msg.body.value,\n        identity: msg.body.identity,\n\n        ack: function ack(type) {\n          var lType = 200;\n          if (type) {\n            lType = type;\n          }\n\n          //send ack response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: lType }\n          });\n        }\n      };\n\n      if (_this._onNotificationHandler) {\n        console.info('[Syncher] NOTIFICATION-EVENT: ', event);\n        _this._onNotificationHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from a remote DataObjectReporter -> delete\n\n  }, {\n    key: '_onRemoteDelete',\n    value: function _onRemoteDelete(msg) {\n      var _this = this;\n\n      //remove \"/subscription\" from the URL\n      var resource = msg.body.resource;\n\n      var object = _this._observers[resource];\n      if (object) {\n        var event = {\n          type: msg.type,\n          url: resource,\n          identity: msg.body.identity,\n\n          ack: function ack(type) {\n            var lType = 200;\n            if (type) {\n              lType = type;\n            }\n\n            //TODO: any other different options for the release process, like accept but nor release local?\n            if (lType === 200) {\n              object.delete();\n            }\n\n            //send ack response message\n            _this._bus.postMessage({\n              id: msg.id, type: 'response', from: msg.to, to: msg.from,\n              body: { code: lType, source: _this._owner }\n            });\n          }\n        };\n\n        if (_this._onNotificationHandler) {\n          console.info('[Syncher] NOTIFICATION-EVENT: ', event);\n          _this._onNotificationHandler(event);\n        }\n      } else {\n        _this._bus.postMessage({\n          id: msg.id, type: 'response', from: msg.to, to: msg.from,\n          body: { code: 404, source: _this._owner }\n        });\n      }\n    }\n  }, {\n    key: 'owner',\n    get: function get() {\n      return this._owner;\n    }\n\n    /**\r\n    * All owned reporters, the ones that were created by a create\r\n    * @type {Object<URL, DataObjectReporter>}\r\n    */\n\n  }, {\n    key: 'reporters',\n    get: function get() {\n      return this._reporters;\n    }\n\n    /**\r\n    * All owned observers, the ones that were created by a local subscription\r\n    * @type {Object<URL, DataObjectObserver>}\r\n    */\n\n  }, {\n    key: 'observers',\n    get: function get() {\n      return this._observers;\n    }\n  }]);\n  return Syncher;\n}(); /**\r\n     * Copyright 2016 PT Inovação e Sistemas SA\r\n     * Copyright 2016 INESC-ID\r\n     * Copyright 2016 QUOBIS NETWORKS SL\r\n     * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n     * Copyright 2016 ORANGE SA\r\n     * Copyright 2016 Deutsche Telekom AG\r\n     * Copyright 2016 Apizee\r\n     * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     **/\n\nexports.default = Syncher;\nmodule.exports = exports['default'];\n\n},{\"./DataObjectObserver\":117,\"./DataObjectReporter\":118,\"./DataProvisional\":119,\"babel-runtime/core-js/promise\":9,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13}],122:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.divideURL = divideURL;\nexports.divideEmail = divideEmail;\nexports.emptyObject = emptyObject;\nexports.deepClone = deepClone;\nexports.getUserURLFromEmail = getUserURLFromEmail;\nexports.getUserEmailFromURL = getUserEmailFromURL;\nexports.convertToUserURL = convertToUserURL;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n/**\r\n * Support module with some functions will be useful\r\n * @module utils\r\n */\n\n/**\r\n * @typedef divideURL\r\n * @type Object\r\n * @property {string} type The type of URL\r\n * @property {string} domain The domain of URL\r\n * @property {string} identity The identity of URL\r\n */\n\n/**\r\n * Divide an url in type, domain and identity\r\n * @param  {URL.URL} url - url address\r\n * @return {divideURL} the result of divideURL\r\n */\nfunction divideURL(url) {\n\n  if (!url) throw Error('URL is needed to split');\n\n  function recurse(value) {\n    var regex = /([a-zA-Z-]*)(:\\/\\/(?:\\.)?|:)([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;\n    var subst = '$1,$3,$4';\n    var parts = value.replace(regex, subst).split(',');\n    return parts;\n  }\n\n  var parts = recurse(url);\n\n  // If the url has no scheme\n  if (parts[0] === url && !parts[0].includes('@')) {\n\n    var _result = {\n      type: \"\",\n      domain: url,\n      identity: \"\"\n    };\n\n    console.error('[DivideURL] DivideURL don\\'t support url without scheme. Please review your url address', url);\n\n    return _result;\n  }\n\n  // check if the url has the scheme and includes an @\n  if (parts[0] === url && parts[0].includes('@')) {\n    var scheme = parts[0] === url ? 'smtp' : parts[0];\n    parts = recurse(scheme + '://' + parts[0]);\n  }\n\n  // if the domain includes an @, divide it to domain and identity respectively\n  if (parts[1].includes('@')) {\n    parts[2] = parts[0] + '://' + parts[1];\n    parts[1] = parts[1].substr(parts[1].indexOf('@') + 1);\n  } /*else if (parts[2].includes('/')) {\r\n    parts[2] = parts[2].substr(parts[2].lastIndexOf('/')+1);\r\n    }*/\n\n  var result = {\n    type: parts[0],\n    domain: parts[1],\n    identity: parts[2]\n  };\n\n  return result;\n}\n\nfunction divideEmail(email) {\n  var indexOfAt = email.indexOf('@');\n\n  var result = {\n    username: email.substring(0, indexOfAt),\n    domain: email.substring(indexOfAt + 1, email.length)\n  };\n\n  return result;\n}\n\n/**\r\n * Check if an Object is empty\r\n * @param  {Object} object Object to be checked\r\n * @return {Boolean}       status of Object, empty or not (true|false);\r\n */\nfunction emptyObject(object) {\n  return (0, _keys2.default)(object).length > 0 ? false : true;\n}\n\n/**\r\n * Make a COPY of the original data\r\n * @param  {Object}  obj - object to be cloned\r\n * @return {Object}\r\n */\nfunction deepClone(obj) {\n  //TODO: simple but inefficient JSON deep clone...\n  if (obj) return JSON.parse((0, _stringify2.default)(obj));\n}\n\n/**\r\n * Obtains the user URL that corresponds to a given email\r\n * @param  {string} userEmail The user email\r\n * @return {URL.URL} userURL The user URL\r\n */\nfunction getUserURLFromEmail(userEmail) {\n  var indexOfAt = userEmail.indexOf('@');\n  return 'user://' + userEmail.substring(indexOfAt + 1, userEmail.length) + '/' + userEmail.substring(0, indexOfAt);\n}\n\n/**\r\n * Obtains the user email that corresponds to a given URL\r\n * @param  {URL.URL} userURL The user URL\r\n * @return {string} userEmail The user email\r\n */\nfunction getUserEmailFromURL(userURL) {\n  var url = divideURL(userURL);\n  return url.identity.replace('/', '') + '@' + url.domain; // identity field has '/exampleID' instead of 'exampleID'\n}\n\n/**\r\n * Check if the user identifier is already in the URL format, if not, convert to URL format\r\n * @param  {string}   identifier  user identifier\r\n * @return {string}   userURL    the user URL\r\n */\nfunction convertToUserURL(identifier) {\n\n  // check if the identifier is already in the url format\n  if (identifier.substring(0, 7) === 'user://') {\n    var dividedURL = divideURL(identifier);\n\n    //check if the url is well formated\n    if (dividedURL.domain && dividedURL.identity) {\n      return identifier;\n    } else {\n      throw 'userURL with wrong format';\n    }\n\n    //if not, convert the user email to URL format\n  } else {\n    return getUserURLFromEmail(identifier);\n  }\n}\n\n},{\"babel-runtime/core-js/json/stringify\":2,\"babel-runtime/core-js/object/keys\":7}]},{},[114])(114)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYXJyYXkub2JzZXJ2ZS9hcnJheS1vYnNlcnZlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4taW5zdGFuY2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mb3Itb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19rZXlvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL29iamVjdC5vYnNlcnZlL2Rpc3Qvb2JqZWN0LW9ic2VydmUuanMiLCJzcmNcXFN5bmNoZXIuanMiLCJzcmNcXHN5bmNoZXJcXERhdGFPYmplY3QuanMiLCJzcmNcXHN5bmNoZXJcXERhdGFPYmplY3RDaGlsZC5qcyIsInNyY1xcc3luY2hlclxcRGF0YU9iamVjdE9ic2VydmVyLmpzIiwic3JjXFxzeW5jaGVyXFxEYXRhT2JqZWN0UmVwb3J0ZXIuanMiLCJzcmNcXHN5bmNoZXJcXERhdGFQcm92aXNpb25hbC5qcyIsInNyY1xcc3luY2hlclxcU3luY09iamVjdC5qcyIsInNyY1xcc3luY2hlclxcU3luY2hlci5qcyIsInNyY1xcdXRpbHNcXHV0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9GQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxT0E7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQ2x1QkE7O0FBQ0E7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7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MkMsQ0FFYztBQUMxRDs7QUFHRDs7Ozs7QUFLTyxTQUFTLGdCQUFULENBQTBCLFVBQTFCLEVBQXNDOztBQUUzQztBQUNBLE1BQUksV0FBVyxTQUFYLENBQXFCLENBQXJCLEVBQXdCLENBQXhCLE1BQStCLFNBQW5DLEVBQThDO0FBQzVDLFFBQUksYUFBYSxVQUFVLFVBQVYsQ0FBakI7O0FBRUE7QUFDQSxRQUFJLFdBQVcsTUFBWCxJQUFxQixXQUFXLFFBQXBDLEVBQThDO0FBQzVDLGFBQU8sVUFBUDtBQUNELEtBRkQsTUFFTztBQUNMLFlBQU0sMkJBQU47QUFDRDs7QUFFSDtBQUNDLEdBWEQsTUFXTztBQUNMLFdBQU8sb0JBQW9CLFVBQXBCLENBQVA7QUFDRDtBQUNGIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIk9iamVjdC5vYnNlcnZlICYmICFBcnJheS5vYnNlcnZlICYmIChmdW5jdGlvbihPLCBBKSB7XHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG5vdGlmaWVyID0gTy5nZXROb3RpZmllcixcclxuICAgIHBlcmZvcm0gPSBcInBlcmZvcm1DaGFuZ2VcIixcclxuICAgIG9yaWdpbmFsID0gXCJfb3JpZ2luYWxcIixcclxuICAgIHR5cGUgPSBcInNwbGljZVwiO1xyXG5cclxudmFyIHdyYXBwZXJzID0ge1xyXG4gICAgcHVzaDogZnVuY3Rpb24gcHVzaChpdGVtKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXHJcbiAgICAgICAgICAgIHJldCA9IHB1c2hbb3JpZ2luYWxdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cclxuICAgICAgICBub3RpZmllcih0aGlzKVtwZXJmb3JtXSh0eXBlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiByZXQgLSBhcmdzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGFkZGVkQ291bnQ6IGFyZ3MubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZDogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sXHJcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGl0ZW0pIHtcclxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgICAgICAgcmV0ID0gdW5zaGlmdFtvcmlnaW5hbF0uYXBwbHkodGhpcywgYXJncyk7XHJcblxyXG4gICAgICAgIG5vdGlmaWVyKHRoaXMpW3BlcmZvcm1dKHR5cGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICBhZGRlZENvdW50OiBhcmdzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHJlbW92ZWQ6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9LFxyXG4gICAgcG9wOiBmdW5jdGlvbiBwb3AoKSB7XHJcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpdGVtID0gcG9wW29yaWdpbmFsXS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbilcclxuICAgICAgICAgICAgbm90aWZpZXIodGhpcylbcGVyZm9ybV0odHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBhZGRlZENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQ6IFsgaXRlbSBdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9LFxyXG4gICAgc2hpZnQ6IGZ1bmN0aW9uIHNoaWZ0KCkge1xyXG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcclxuICAgICAgICAgICAgaXRlbSA9IHNoaWZ0W29yaWdpbmFsXS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbilcclxuICAgICAgICAgICAgbm90aWZpZXIodGhpcylbcGVyZm9ybV0odHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZGVkQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZDogWyBpdGVtIF1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH0sXHJcbiAgICBzcGxpY2U6IGZ1bmN0aW9uIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQpIHtcclxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgICAgICAgcmVtb3ZlZCA9IHNwbGljZVtvcmlnaW5hbF0uYXBwbHkodGhpcywgYXJncyk7XHJcblxyXG4gICAgICAgIGlmIChyZW1vdmVkLmxlbmd0aCB8fCBhcmdzLmxlbmd0aCA+IDIpXHJcbiAgICAgICAgICAgIG5vdGlmaWVyKHRoaXMpW3BlcmZvcm1dKHR5cGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogc3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkZWRDb3VudDogYXJncy5sZW5ndGggLSAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcclxuICAgIH1cclxufTtcclxuXHJcbmZvciAodmFyIHdyYXBwZXIgaW4gd3JhcHBlcnMpIHtcclxuICAgIHdyYXBwZXJzW3dyYXBwZXJdW29yaWdpbmFsXSA9IEEucHJvdG90eXBlW3dyYXBwZXJdO1xyXG4gICAgQS5wcm90b3R5cGVbd3JhcHBlcl0gPSB3cmFwcGVyc1t3cmFwcGVyXTtcclxufVxyXG5cclxuQS5vYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LCBoYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gTy5vYnNlcnZlKG9iamVjdCwgaGFuZGxlciwgWyBcImFkZFwiLCBcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLCB0eXBlIF0pO1xyXG59O1xyXG5BLnVub2JzZXJ2ZSA9IE8udW5vYnNlcnZlO1xyXG5cclxufSkoT2JqZWN0LCBBcnJheSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5c1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gIGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgdmFyIGRlc2MgPSAoMCwgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIuZGVmYXVsdCkob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBwYXJlbnQgPSAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShvYmplY3QpO1xuXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuXG4gICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY3JlYXRlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfc3ltYm9sID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTsiLCJ2YXIgY29yZSAgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJylcbiAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlJyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIHJldHVybiAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmtleXM7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL193a3MtZXh0JykuZignaXRlcmF0b3InKTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKXtcbiAgaWYoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSB8fCAoZm9yYmlkZGVuRmllbGQgIT09IHVuZGVmaW5lZCAmJiBmb3JiaWRkZW5GaWVsZCBpbiBpdCkpe1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvTGVuZ3RoICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgdG9JbmRleCAgID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QoJHRoaXMpXG4gICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuICAgICAgLCB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKWlmKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pe1xuICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07IiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTsiLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59OyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59OyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07IiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7IiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSBwSUUuZlxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuICAgICwgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuU1xuICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuICAgICwgSVNfV1JBUCAgID0gdHlwZSAmICRleHBvcnQuV1xuICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcbiAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZihJU19QUk9UTyl7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTsiLCJ2YXIgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGNhbGwgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKVxuICAsIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgZ2V0SXRlckZuICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpXG4gICwgQlJFQUsgICAgICAgPSB7fVxuICAsIFJFVFVSTiAgICAgID0ge307XG52YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUil7XG4gIHZhciBpdGVyRm4gPSBJVEVSQVRPUiA/IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSlcbiAgICAsIGYgICAgICA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKVxuICAgICwgaW5kZXggID0gMFxuICAgICwgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZihpc0FycmF5SXRlcihpdGVyRm4pKWZvcihsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyApe1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmV4cG9ydHMuQlJFQUsgID0gQlJFQUs7XG5leHBvcnRzLlJFVFVSTiA9IFJFVFVSTjsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07IiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7IiwiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCBhcmdzLCB0aGF0KXtcbiAgdmFyIHVuID0gdGhhdCA9PT0gdW5kZWZpbmVkO1xuICBzd2l0Y2goYXJncy5sZW5ndGgpe1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgYXJncyk7XG59OyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59OyIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBJVEVSQVRPUiAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07IiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07IiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIEl0ZXJhdG9ycyAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCAkaXRlckNyZWF0ZSAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIElURVJBVE9SICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG4gICAgLCBWQUxVRVNfQlVHID0gZmFsc2VcbiAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG4gICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuICAgICwgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmVcbiAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoJGFueU5hdGl2ZSl7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcbiAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59OyIsInZhciBJVEVSQVRPUiAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcbiAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHt9OyIsInZhciBnZXRLZXlzICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSBnZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHRydWU7IiwidmFyIE1FVEEgICAgID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKVxuICAsIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBoYXMgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgc2V0RGVzYyAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaWQgICAgICAgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbnZhciBzZXRNZXRhID0gZnVuY3Rpb24oaXQpe1xuICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcbiAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcbiAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9fSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiAgICAgIE1FVEEsXG4gIE5FRUQ6ICAgICBmYWxzZSxcbiAgZmFzdEtleTogIGZhc3RLZXksXG4gIGdldFdlYWs6ICBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgbWFjcm90YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldFxuICAsIE9ic2VydmVyICA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyXG4gICwgcHJvY2VzcyAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBQcm9taXNlICAgPSBnbG9iYWwuUHJvbWlzZVxuICAsIGlzTm9kZSAgICA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpe1xuICB2YXIgaGVhZCwgbGFzdCwgbm90aWZ5O1xuXG4gIHZhciBmbHVzaCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZShoZWFkKXtcbiAgICAgIGZuICAgPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICBpZihoZWFkKW5vdGlmeSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgIGlmKHBhcmVudClwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBOb2RlLmpzXG4gIGlmKGlzTm9kZSl7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlclxuICB9IGVsc2UgaWYoT2JzZXJ2ZXIpe1xuICAgIHZhciB0b2dnbGUgPSB0cnVlXG4gICAgICAsIG5vZGUgICA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICB9O1xuICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuICB9IGVsc2UgaWYoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpe1xuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGZuKXtcbiAgICB2YXIgdGFzayA9IHtmbjogZm4sIG5leHQ6IHVuZGVmaW5lZH07XG4gICAgaWYobGFzdClsYXN0Lm5leHQgPSB0YXNrO1xuICAgIGlmKCFoZWFkKXtcbiAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgbm90aWZ5KCk7XG4gICAgfSBsYXN0ID0gdGFzaztcbiAgfTtcbn07IiwiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGRQcyAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJylcbiAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuICAgICwgbHQgICAgID0gJzwnXG4gICAgLCBndCAgICAgPSAnPidcbiAgICAsIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XG4gIHZhciByZXN1bHQ7XG4gIGlmKE8gIT09IG51bGwpe1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTsiLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59OyIsInZhciBwSUUgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTsiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuIiwiLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxudmFyICRrZXlzICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTsiLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzOyIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07IiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9JT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59OyIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlOyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsInZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgaWYoc2FmZSAmJiB0YXJnZXRba2V5XSl0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgIGVsc2UgaGlkZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9IHJldHVybiB0YXJnZXQ7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpOyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgZFAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKVxuICAsIFNQRUNJRVMgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVkpe1xuICB2YXIgQyA9IHR5cGVvZiBjb3JlW0tFWV0gPT0gJ2Z1bmN0aW9uJyA/IGNvcmVbS0VZXSA6IGdsb2JhbFtLRVldO1xuICBpZihERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKWRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9XG4gIH0pO1xufTsiLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcbn07IiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07IiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTsiLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIFNQRUNJRVMgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59OyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59OyIsInZhciBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2ludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faHRtbCcpXG4gICwgY2VsICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTsiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59OyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59OyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59OyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTsiLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTsiLCJ2YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xufTsiLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTsiLCJ2YXIgc3RvcmUgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFN5bWJvbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2xcbiAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTsiLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpOyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jylcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyl9KTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTsiLCIvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG52YXIgdG9JT2JqZWN0ICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmY7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAka2V5cyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldH0pOyIsIiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2xhc3NvZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgJGV4cG9ydCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBpc09iamVjdCAgICAgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIGFuSW5zdGFuY2UgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJylcbiAgLCBmb3JPZiAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19mb3Itb2YnKVxuICAsIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKVxuICAsIHRhc2sgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXRcbiAgLCBtaWNyb3Rhc2sgICAgICAgICAgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpXG4gICwgUFJPTUlTRSAgICAgICAgICAgID0gJ1Byb21pc2UnXG4gICwgVHlwZUVycm9yICAgICAgICAgID0gZ2xvYmFsLlR5cGVFcnJvclxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgJFByb21pc2UgICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBpc05vZGUgICAgICAgICAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuICAsIGVtcHR5ICAgICAgICAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBJbnRlcm5hbCwgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xuXG52YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24oKXtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSAgICAgPSAkUHJvbWlzZS5yZXNvbHZlKDEpXG4gICAgICAsIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbihleGVjKXsgZXhlYyhlbXB0eSwgZW1wdHkpOyB9O1xuICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpICYmIHByb21pc2UudGhlbihlbXB0eSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgc2FtZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24oYSwgYil7XG4gIC8vIHdpdGggbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuICByZXR1cm4gYSA9PT0gYiB8fCBhID09PSAkUHJvbWlzZSAmJiBiID09PSBXcmFwcGVyO1xufTtcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICByZXR1cm4gc2FtZUNvbnN0cnVjdG9yKCRQcm9taXNlLCBDKVxuICAgID8gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgOiBuZXcgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xufTtcbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbigkJHJlc29sdmUsICQkcmVqZWN0KXtcbiAgICBpZihyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ICA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCAgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn07XG52YXIgcGVyZm9ybSA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIGV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgfVxufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbihwcm9taXNlLCBpc1JlamVjdCl7XG4gIGlmKHByb21pc2UuX24pcmV0dXJuO1xuICBwcm9taXNlLl9uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYztcbiAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdlxuICAgICAgLCBvayAgICA9IHByb21pc2UuX3MgPT0gMVxuICAgICAgLCBpICAgICA9IDA7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKHJlYWN0aW9uKXtcbiAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWxcbiAgICAgICAgLCByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZVxuICAgICAgICAsIHJlamVjdCAgPSByZWFjdGlvbi5yZWplY3RcbiAgICAgICAgLCBkb21haW4gID0gcmVhY3Rpb24uZG9tYWluXG4gICAgICAgICwgcmVzdWx0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYoaGFuZGxlcil7XG4gICAgICAgICAgaWYoIW9rKXtcbiAgICAgICAgICAgIGlmKHByb21pc2UuX2ggPT0gMilvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihoYW5kbGVyID09PSB0cnVlKXJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7XG4gICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKXtcbiAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpe1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHByb21pc2UuX2MgPSBbXTtcbiAgICBwcm9taXNlLl9uID0gZmFsc2U7XG4gICAgaWYoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpb25VbmhhbmRsZWQocHJvbWlzZSk7XG4gIH0pO1xufTtcbnZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgYWJydXB0LCBoYW5kbGVyLCBjb25zb2xlO1xuICAgIGlmKGlzVW5oYW5kbGVkKHByb21pc2UpKXtcbiAgICAgIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoaXNOb2RlKXtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pe1xuICAgICAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWV9KTtcbiAgICAgICAgfSBlbHNlIGlmKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3Ipe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcbiAgICBpZihhYnJ1cHQpdGhyb3cgYWJydXB0LmVycm9yO1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgaWYocHJvbWlzZS5faCA9PSAxKXJldHVybiBmYWxzZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jXG4gICAgLCBpICAgICA9IDBcbiAgICAsIHJlYWN0aW9uO1xuICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcbiAgICByZWFjdGlvbiA9IGNoYWluW2krK107XG4gICAgaWYocmVhY3Rpb24uZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3Rpb24ucHJvbWlzZSkpcmV0dXJuIGZhbHNlO1xuICB9IHJldHVybiB0cnVlO1xufTtcbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmKGlzTm9kZSl7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpe1xuICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92fSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICBwcm9taXNlLl92ID0gdmFsdWU7XG4gIHByb21pc2UuX3MgPSAyO1xuICBpZighcHJvbWlzZS5fYSlwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcHJvbWlzZSA9IHRoaXNcbiAgICAsIHRoZW47XG4gIGlmKHByb21pc2UuX2QpcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYocHJvbWlzZSA9PT0gdmFsdWUpdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgaWYodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKXtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoKGUpe1xuICAgICRyZWplY3QuY2FsbCh7X3c6IHByb21pc2UsIF9kOiBmYWxzZX0sIGUpOyAvLyB3cmFwXG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZighVVNFX05BVElWRSl7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICBJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpO1xuICAgIH0gY2F0Y2goZXJyKXtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG4gICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSB2YWx1ZVxuICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcbiAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpe1xuICAgICAgdmFyIHJlYWN0aW9uICAgID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayAgICAgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgICA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX2EpdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX3Mpbm90aWZ5KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHByb21pc2UgID0gbmV3IEludGVybmFsO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCAgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiAkUHJvbWlzZX0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKXtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVqZWN0ICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpe1xuICAgIC8vIGluc3RhbmNlb2YgaW5zdGVhZCBvZiBpbnRlcm5hbCBzbG90IGNoZWNrIGJlY2F1c2Ugd2Ugc2hvdWxkIGZpeCBpdCB3aXRob3V0IHJlcGxhY2VtZW50IG5hdGl2ZSBQcm9taXNlIGNvcmVcbiAgICBpZih4IGluc3RhbmNlb2YgJFByb21pc2UgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKXJldHVybiB4O1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcylcbiAgICAgICwgJCRyZXNvbHZlICA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAkJHJlc29sdmUoeCk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpe1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZXNvbHZlICAgID0gY2FwYWJpbGl0eS5yZXNvbHZlXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgdmFyIHZhbHVlcyAgICA9IFtdXG4gICAgICAgICwgaW5kZXggICAgID0gMFxuICAgICAgICAsIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuICAgICAgICB2YXIgJGluZGV4ICAgICAgICA9IGluZGV4KytcbiAgICAgICAgICAsIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICBpZihhbHJlYWR5Q2FsbGVkKXJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkICA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZihhYnJ1cHQpcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcbiAgICAgICwgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgREVTQ1JJUFRPUlMgICAgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIE1FVEEgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWVxuICAsICRmYWlscyAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuL193a3MnKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgd2tzRGVmaW5lICAgICAgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2tleW9mJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpXG4gICwgaXNBcnJheSAgICAgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheScpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgX2NyZWF0ZSAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBnT1BORXh0ICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpXG4gICwgJEdPUEQgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICwgJERQICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsICRrZXlzICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuICAsIGRQICAgICAgICAgICAgID0gJERQLmZcbiAgLCBnT1BOICAgICAgICAgICA9IGdPUE5FeHQuZlxuICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cbiAgLCBfc3RyaW5naWZ5ICAgICA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeVxuICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcbiAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG4gICwgVE9fUFJJTUlUSVZFICAgPSB3a3MoJ3RvUHJpbWl0aXZlJylcbiAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcbiAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG4gICwgVVNFX05BVElWRSAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvKSRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIGl0ICA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cbiAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIVVTRV9OQVRJVkUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKXNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0fSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKXtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfVxufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbmZvcih2YXIgc3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzKHN5bWJvbHNbaSsrXSk7XG5cbmZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbigpe1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG4gICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgdmFyIGFyZ3MgPSBbaXRdXG4gICAgICAsIGkgICAgPSAxXG4gICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgaWYoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSlyZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufSIsIi8qIVxyXG4gKiBPYmplY3Qub2JzZXJ2ZSBwb2x5ZmlsbCAtIHYwLjIuNFxyXG4gKiBieSBNYXNzaW1vIEFydGl6enUgKE1heEFydDI1MDEpXHJcbiAqXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9NYXhBcnQyNTAxL29iamVjdC1vYnNlcnZlXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxyXG4gKiBTZWUgTElDRU5TRSBmb3IgZGV0YWlsc1xyXG4gKi9cclxuXHJcbi8vIFNvbWUgdHlwZSBkZWZpbml0aW9uc1xyXG4vKipcclxuICogVGhpcyByZXByZXNlbnRzIHRoZSBkYXRhIHJlbGF0aXZlIHRvIGFuIG9ic2VydmVkIG9iamVjdFxyXG4gKiBAdHlwZWRlZiAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBPYmplY3REYXRhXHJcbiAqIEBwcm9wZXJ0eSB7TWFwPEhhbmRsZXIsIEhhbmRsZXJEYXRhPn0gIGhhbmRsZXJzXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nW119ICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNcclxuICogQHByb3BlcnR5IHsqW119ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzXHJcbiAqIEBwcm9wZXJ0eSB7RGVzY3JpcHRvcltdfSAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzXHJcbiAqIEBwcm9wZXJ0eSB7Tm90aWZpZXJ9ICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gICAgICAgICAgICAgICAgICAgIGZyb3plblxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59ICAgICAgICAgICAgICAgICAgICBleHRlbnNpYmxlXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAgICAgICAgICAgICAgICAgICAgIHByb3RvXHJcbiAqL1xyXG4vKipcclxuICogRnVuY3Rpb24gZGVmaW5pdGlvbiBvZiBhIGhhbmRsZXJcclxuICogQGNhbGxiYWNrIEhhbmRsZXJcclxuICogQHBhcmFtIHtDaGFuZ2VSZWNvcmRbXX0gICAgICAgICAgICAgICAgY2hhbmdlc1xyXG4qL1xyXG4vKipcclxuICogVGhpcyByZXByZXNlbnRzIHRoZSBkYXRhIHJlbGF0aXZlIHRvIGFuIG9ic2VydmVkIG9iamVjdCBhbmQgb25lIG9mIGl0c1xyXG4gKiBoYW5kbGVyc1xyXG4gKiBAdHlwZWRlZiAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBIYW5kbGVyRGF0YVxyXG4gKiBAcHJvcGVydHkge01hcDxPYmplY3QsIE9ic2VydmVkRGF0YT59ICBvYnNlcnZlZFxyXG4gKiBAcHJvcGVydHkge0NoYW5nZVJlY29yZFtdfSAgICAgICAgICAgICBjaGFuZ2VSZWNvcmRzXHJcbiAqL1xyXG4vKipcclxuICogQHR5cGVkZWYgIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgT2JzZXJ2ZWREYXRhXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nW119ICAgICAgICAgICAgICAgICAgIGFjY2VwdExpc3RcclxuICogQHByb3BlcnR5IHtPYmplY3REYXRhfSAgICAgICAgICAgICAgICAgZGF0YVxyXG4qL1xyXG4vKipcclxuICogVHlwZSBkZWZpbml0aW9uIGZvciBhIGNoYW5nZS4gQW55IG90aGVyIHByb3BlcnR5IGNhbiBiZSBhZGRlZCB1c2luZ1xyXG4gKiB0aGUgbm90aWZ5KCkgb3IgcGVyZm9ybUNoYW5nZSgpIG1ldGhvZHMgb2YgdGhlIG5vdGlmaWVyLlxyXG4gKiBAdHlwZWRlZiAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBDaGFuZ2VSZWNvcmRcclxuICogQHByb3BlcnR5IHtTdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgdHlwZVxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBvYmplY3RcclxuICogQHByb3BlcnR5IHtTdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgW25hbWVdXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gICAgICAgICAgICAgICAgICAgICAgICAgIFtvbGRWYWx1ZV1cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9ICAgICAgICAgICAgICAgICAgICAgW2luZGV4XVxyXG4gKi9cclxuLyoqXHJcbiAqIFR5cGUgZGVmaW5pdGlvbiBmb3IgYSBub3RpZmllciAod2hhdCBPYmplY3QuZ2V0Tm90aWZpZXIgcmV0dXJucylcclxuICogQHR5cGVkZWYgIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgTm90aWZpZXJcclxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gICAgICAgICAgICAgICAgICAgbm90aWZ5XHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259ICAgICAgICAgICAgICAgICAgIHBlcmZvcm1DaGFuZ2VcclxuICovXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBjYWxsZWQgd2l0aCBOb3RpZmllci5wZXJmb3JtQ2hhbmdlLiBJdCBtYXkgb3B0aW9uYWxseSByZXR1cm4gYVxyXG4gKiBDaGFuZ2VSZWNvcmQgdGhhdCBnZXRzIGF1dG9tYXRpY2FsbHkgbm90aWZpZWQsIGJ1dCBgdHlwZWAgYW5kIGBvYmplY3RgXHJcbiAqIHByb3BlcnRpZXMgYXJlIG92ZXJyaWRkZW4uXHJcbiAqIEBjYWxsYmFjayBQZXJmb3JtZXJcclxuICogQHJldHVybnMge0NoYW5nZVJlY29yZHx1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuT2JqZWN0Lm9ic2VydmUgfHwgKGZ1bmN0aW9uKE8sIEEsIHJvb3QsIF91bmRlZmluZWQpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWxhdGVzIG9ic2VydmVkIG9iamVjdHMgYW5kIHRoZWlyIGRhdGFcclxuICAgICAgICAgKiBAdHlwZSB7TWFwPE9iamVjdCwgT2JqZWN0RGF0YX1cclxuICAgICAgICAgKi9cclxuICAgIHZhciBvYnNlcnZlZCxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0IG9mIGhhbmRsZXJzIGFuZCB0aGVpciBkYXRhXHJcbiAgICAgICAgICogQHR5cGUge01hcDxIYW5kbGVyLCBNYXA8T2JqZWN0LCBIYW5kbGVyRGF0YT4+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGhhbmRsZXJzLFxyXG5cclxuICAgICAgICBkZWZhdWx0QWNjZXB0TGlzdCA9IFsgXCJhZGRcIiwgXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJyZWNvbmZpZ3VyZVwiLCBcInNldFByb3RvdHlwZVwiLCBcInByZXZlbnRFeHRlbnNpb25zXCIgXTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbnMgZm9yIGludGVybmFsIHVzYWdlXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENoZWNrcyBpZiB0aGUgYXJndW1lbnQgaXMgYW4gQXJyYXkgb2JqZWN0LiBQb2x5ZmlsbHMgQXJyYXkuaXNBcnJheS5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gaXNBcnJheVxyXG4gICAgICAgICAqIEBwYXJhbSB7Pyp9IG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgdmFyIGlzQXJyYXkgPSBBLmlzQXJyYXkgfHwgKGZ1bmN0aW9uKHRvU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiB0b1N0cmluZy5jYWxsKG9iamVjdCkgPT09IFwiW29iamVjdCBBcnJheV1cIjsgfTtcclxuICAgICAgICB9KShPLnByb3RvdHlwZS50b1N0cmluZyksXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGl0ZW0gaW4gYSBjb2xsZWN0aW9uLCBvciAtMSBpZiBub3QgZm91bmQuXHJcbiAgICAgICAgICogVXNlcyB0aGUgZ2VuZXJpYyBBcnJheS5pbmRleE9mIG9yIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIGlmIGF2YWlsYWJsZS5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gaW5BcnJheVxyXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBwaXZvdCAgICAgICAgICAgSXRlbSB0byBsb29rIGZvclxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gIEluZGV4IHRvIHN0YXJ0IGZyb21cclxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluQXJyYXkgPSBBLnByb3RvdHlwZS5pbmRleE9mID8gQS5pbmRleE9mIHx8IGZ1bmN0aW9uKGFycmF5LCBwaXZvdCwgc3RhcnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEEucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgcGl2b3QsIHN0YXJ0KTtcclxuICAgICAgICB9IDogZnVuY3Rpb24oYXJyYXksIHBpdm90LCBzdGFydCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgfHwgMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSBwaXZvdClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgTWFwLCBvciBhIE1hcC1saWtlIG9iamVjdCBpcyBNYXAgaXMgbm90XHJcbiAgICAgICAgICogc3VwcG9ydGVkIG9yIGRvZXNuJ3Qgc3VwcG9ydCBmb3JFYWNoKClcclxuICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlTWFwXHJcbiAgICAgICAgICogQHJldHVybnMge01hcH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjcmVhdGVNYXAgPSByb290Lk1hcCA9PT0gX3VuZGVmaW5lZCB8fCAhTWFwLnByb3RvdHlwZS5mb3JFYWNoID8gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIExpZ2h0d2VpZ2h0IHNoaW0gb2YgTWFwLiBMYWNrcyBjbGVhcigpLCBlbnRyaWVzKCksIGtleXMoKSBhbmRcclxuICAgICAgICAgICAgLy8gdmFsdWVzKCkgKHRoZSBsYXN0IDMgbm90IHN1cHBvcnRlZCBieSBJRTExLCBzbyBjYW4ndCB1c2UgdGhlbSksXHJcbiAgICAgICAgICAgIC8vIGl0IGRvZXNuJ3QgaGFuZGxlIHRoZSBjb25zdHJ1Y3RvcidzIGFyZ3VtZW50IChsaWtlIElFMTEpIGFuZCBvZlxyXG4gICAgICAgICAgICAvLyBjb3Vyc2UgaXQgZG9lc24ndCBzdXBwb3J0IGZvci4uLm9mLlxyXG4gICAgICAgICAgICAvLyBDaHJvbWUgMzEtMzUgYW5kIEZpcmVmb3ggMTMtMjQgaGF2ZSBhIGJhc2ljIHN1cHBvcnQgb2YgTWFwLCBidXRcclxuICAgICAgICAgICAgLy8gdGhleSBsYWNrIGZvckVhY2goKSwgc28gdGhlaXIgbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIGJhZCBmb3JcclxuICAgICAgICAgICAgLy8gdGhpcyBwb2x5ZmlsbC4gKENocm9tZSAzNisgc3VwcG9ydHMgT2JqZWN0Lm9ic2VydmUuKVxyXG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdLCB2YWx1ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzaXplOiAwLFxyXG4gICAgICAgICAgICAgICAgaGFzOiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGluQXJyYXkoa2V5cywga2V5KSA+IC0xOyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlc1tpbkFycmF5KGtleXMsIGtleSldOyB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBpbkFycmF5KGtleXMsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB2YWx1ZXNbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZVwiOiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGluQXJyYXkoa2V5cywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZm9yRWFjaDogZnVuY3Rpb24oY2FsbGJhY2svKiwgdGhpc09iaiovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGFyZ3VtZW50c1sxXSwgdmFsdWVzW2ldLCBrZXlzW2ldLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IDogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgTWFwKCk7IH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNpbXBsZSBzaGltIGZvciBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aGVuIGlzIG5vdCBhdmFpbGFibGVcclxuICAgICAgICAgKiBNaXNzZXMgY2hlY2tzIG9uIG9iamVjdCwgZG9uJ3QgdXNlIGFzIGEgcmVwbGFjZW1lbnQgb2YgT2JqZWN0LmtleXMvZ2V0T3duUHJvcGVydHlOYW1lc1xyXG4gICAgICAgICAqIEBmdW5jdGlvbiBnZXRQcm9wc1xyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nW119XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0UHJvcHMgPSBPLmdldE93blByb3BlcnR5TmFtZXMgPyAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBmdW5jID0gTy5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzLmNhbGxlZTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3RyaWN0IG1vZGUgaXMgc3VwcG9ydGVkXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSW4gc3RyaWN0IG1vZGUsIHdlIGNhbid0IGFjY2VzcyB0byBcImFyZ3VtZW50c1wiLCBcImNhbGxlclwiIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gXCJjYWxsZWVcIiBwcm9wZXJ0aWVzIG9mIGZ1bmN0aW9ucy4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybnMgWyBcInByb3RvdHlwZVwiLCBcImxlbmd0aFwiLCBcIm5hbWVcIiBdIGluIEZpcmVmb3g7IGl0IHJldHVybnNcclxuICAgICAgICAgICAgICAgIC8vIFwiY2FsbGVyXCIgYW5kIFwiYXJndW1lbnRzXCIgdG9vIGluIENocm9tZSBhbmQgaW4gSW50ZXJuZXRcclxuICAgICAgICAgICAgICAgIC8vIEV4cGxvcmVyLCBzbyB0aG9zZSB2YWx1ZXMgbXVzdCBiZSBmaWx0ZXJlZC5cclxuICAgICAgICAgICAgICAgIHZhciBhdm9pZCA9IChmdW5jKGluQXJyYXkpLmpvaW4oXCIgXCIpICsgXCIgXCIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCBcIlwiKS5zbGljZSgwLCAtMSkuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF2b2lkLmxlbmd0aCkgZnVuYyA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IE8uZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqOyBpIDwgYXZvaWQubGVuZ3RoOylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaiA9IGluQXJyYXkocHJvcHMsIGF2b2lkW2krK10pKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNwbGljZShqLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZnVuYztcclxuICAgICAgICB9KSgpIDogZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIC8vIFBvb3ItbW91dGggdmVyc2lvbiB3aXRoIGZvci4uLmluIChJRTgtKVxyXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBbXSwgcHJvcCwgaG9wO1xyXG4gICAgICAgICAgICBpZiAoXCJoYXNPd25Qcm9wZXJ0eVwiIGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIG9iamVjdClcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3ApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5wdXNoKHByb3ApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG9wID0gTy5oYXNPd25Qcm9wZXJ0eTtcclxuICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBvYmplY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvcC5jYWxsKG9iamVjdCwgcHJvcCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEluc2VydGluZyBhIGNvbW1vbiBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvZiBhcnJheXNcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkob2JqZWN0KSlcclxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2goXCJsZW5ndGhcIik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJvcHM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJuIHRoZSBwcm90b3R5cGUgb2YgdGhlIG9iamVjdC4uLiBpZiBkZWZpbmVkLlxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBnZXRQcm90b3R5cGVcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRQcm90b3R5cGUgPSBPLmdldFByb3RvdHlwZU9mLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm4gdGhlIGRlc2NyaXB0b3Igb2YgdGhlIG9iamVjdC4uLiBpZiBkZWZpbmVkLlxyXG4gICAgICAgICAqIElFOCBzdXBwb3J0cyBhICh1c2VsZXNzKSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGZvciBET01cclxuICAgICAgICAgKiBub2RlcyBvbmx5LCBzbyBkZWZpbmVQcm9wZXJ0aWVzIGlzIGNoZWNrZWQgaW5zdGVhZC5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gZ2V0RGVzY3JpcHRvclxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcclxuICAgICAgICAgKiBAcmV0dXJucyB7RGVzY3JpcHRvcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXREZXNjcmlwdG9yID0gTy5kZWZpbmVQcm9wZXJ0aWVzICYmIE8uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHVwIHRoZSBuZXh0IGNoZWNrIGFuZCBkZWxpdmVyaW5nIGl0ZXJhdGlvbiwgdXNpbmdcclxuICAgICAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgb3IgYSAoY2xvc2UpIHBvbHlmaWxsLlxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBuZXh0RnJhbWVcclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jXHJcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBuZXh0RnJhbWUgPSByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByb290LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBpbml0aWFsID0gK25ldyBEYXRlLFxyXG4gICAgICAgICAgICAgICAgbGFzdCA9IGluaXRpYWw7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jKChsYXN0ID0gK25ldyBEYXRlKSAtIGluaXRpYWwpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKCksXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgdXAgdGhlIG9ic2VydmF0aW9uIG9mIGFuIG9iamVjdFxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBkb09ic2VydmVcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0gW2FjY2VwdExpc3RdXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZG9PYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LCBoYW5kbGVyLCBhY2NlcHRMaXN0KSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gb2JzZXJ2ZWQuZ2V0KG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybVByb3BlcnR5Q2hlY2tzKGRhdGEsIG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBzZXRIYW5kbGVyKG9iamVjdCwgZGF0YSwgaGFuZGxlciwgYWNjZXB0TGlzdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gY3JlYXRlT2JqZWN0RGF0YShvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgc2V0SGFuZGxlcihvYmplY3QsIGRhdGEsIGhhbmRsZXIsIGFjY2VwdExpc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlZC5zaXplID09PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExldCB0aGUgb2JzZXJ2YXRpb24gYmVnaW4hXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEZyYW1lKHJ1bkdsb2JhbExvb3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyB0aGUgaW5pdGlhbCBkYXRhIGZvciBhbiBvYnNlcnZlZCBvYmplY3RcclxuICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlT2JqZWN0RGF0YVxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBjcmVhdGVPYmplY3REYXRhID0gZnVuY3Rpb24ob2JqZWN0LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IGdldFByb3BzKG9iamVjdCksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXSwgZGVzY3MsIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyczogY3JlYXRlTWFwKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvemVuOiBPLmlzRnJvemVuID8gTy5pc0Zyb3plbihvYmplY3QpIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaWJsZTogTy5pc0V4dGVuc2libGUgPyBPLmlzRXh0ZW5zaWJsZShvYmplY3QpIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm90bzogZ2V0UHJvdG90eXBlICYmIGdldFByb3RvdHlwZShvYmplY3QpLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHByb3BzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyOiByZXRyaWV2ZU5vdGlmaWVyKG9iamVjdCwgZGF0YSlcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoZ2V0RGVzY3JpcHRvcikge1xyXG4gICAgICAgICAgICAgICAgZGVzY3MgPSBkYXRhLmRlc2NyaXB0b3JzID0gW107XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IHByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NzW2ldID0gZ2V0RGVzY3JpcHRvcihvYmplY3QsIHByb3BzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBvYmplY3RbcHJvcHNbaSsrXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB3aGlsZSAoaSA8IHByb3BzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IG9iamVjdFtwcm9wc1tpKytdXTtcclxuXHJcbiAgICAgICAgICAgIG9ic2VydmVkLnNldChvYmplY3QsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGVyZm9ybXMgYmFzaWMgcHJvcGVydHkgdmFsdWUgY2hhbmdlIGNoZWNrcyBvbiBhbiBvYnNlcnZlZCBvYmplY3RcclxuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybVByb3BlcnR5Q2hlY2tzXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3REYXRhfSBkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZXhjZXB0XSAgRG9lc24ndCBkZWxpdmVyIHRoZSBjaGFuZ2VzIHRvIHRoZVxyXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgdGhhdCBhY2NlcHQgdGhpcyB0eXBlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGVyZm9ybVByb3BlcnR5Q2hlY2tzID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlQ2hlY2sgPSBnZXREZXNjcmlwdG9yID8gZnVuY3Rpb24ob2JqZWN0LCBkYXRhLCBpZHgsIGV4Y2VwdCwgZGVzY3IpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBkYXRhLnByb3BlcnRpZXNbaWR4XSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgIG92YWx1ZSA9IGRhdGEudmFsdWVzW2lkeF0sXHJcbiAgICAgICAgICAgICAgICAgICAgb2Rlc2MgPSBkYXRhLmRlc2NyaXB0b3JzW2lkeF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjciAmJiAob3ZhbHVlID09PSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG92YWx1ZSA9PT0gMCAmJiAxL292YWx1ZSAhPT0gMS92YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG92YWx1ZSA9PT0gb3ZhbHVlIHx8IHZhbHVlID09PSB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDaGFuZ2VSZWNvcmQob2JqZWN0LCBkYXRhLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LCBleGNlcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVzW2lkeF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvZGVzYy5jb25maWd1cmFibGUgJiYgKCFkZXNjci5jb25maWd1cmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGVzY3Iud3JpdGFibGUgIT09IG9kZXNjLndyaXRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGRlc2NyLmVudW1lcmFibGUgIT09IG9kZXNjLmVudW1lcmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGVzY3IuZ2V0ICE9PSBvZGVzYy5nZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGVzY3Iuc2V0ICE9PSBvZGVzYy5zZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhbmdlUmVjb3JkKG9iamVjdCwgZGF0YSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb25maWd1cmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LCBleGNlcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRvcnNbaWR4XSA9IGRlc2NyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IDogZnVuY3Rpb24ob2JqZWN0LCBkYXRhLCBpZHgsIGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGRhdGEucHJvcGVydGllc1tpZHhdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZhbHVlID0gZGF0YS52YWx1ZXNbaWR4XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3ZhbHVlID09PSB2YWx1ZSA/IG92YWx1ZSA9PT0gMCAmJiAxL292YWx1ZSAhPT0gMS92YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG92YWx1ZSA9PT0gb3ZhbHVlIHx8IHZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IG92YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52YWx1ZXNbaWR4XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGlmIHNvbWUgcHJvcGVydHkgaGFzIGJlZW4gZGVsZXRlZFxyXG4gICAgICAgICAgICB2YXIgZGVsZXRpb25DaGVjayA9IGdldERlc2NyaXB0b3IgPyBmdW5jdGlvbihvYmplY3QsIHByb3BzLCBwcm9wbGVuLCBkYXRhLCBleGNlcHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gcHJvcHMubGVuZ3RoLCBkZXNjcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChwcm9wbGVuICYmIGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc1tpXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjciA9IGdldERlc2NyaXB0b3Iob2JqZWN0LCBwcm9wc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BsZW4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZGVzY3JpcHRvciwgdGhlIHByb3BlcnR5IGhhcyByZWFsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVlbiBkZWxldGVkOyBvdGhlcndpc2UsIGl0J3MgYmVlbiByZWNvbmZpZ3VyZWQgc29cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCdzIG5vdCBlbnVtZXJhYmxlIGFueW1vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyKSB1cGRhdGVDaGVjayhvYmplY3QsIGRhdGEsIGksIGV4Y2VwdCwgZGVzY3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9wc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRlbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBkYXRhLnZhbHVlc1tpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXhjZXB0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcGVydGllcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnZhbHVlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2NyaXB0b3JzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcHMsIHByb3BsZW4sIGRhdGEsIGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBwcm9wcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocHJvcGxlbiAmJiBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkZWxldGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IGRhdGEudmFsdWVzW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcGVydGllcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGxlbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihkYXRhLCBvYmplY3QsIGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmhhbmRsZXJzLnNpemUgfHwgZGF0YS5mcm96ZW4pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMsIHByb3BsZW4sIGtleXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gZGF0YS52YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3MgPSBkYXRhLmRlc2NyaXB0b3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIGkgPSAwLCBpZHgsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LCB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm90bywgZGVzY3I7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpc24ndCBleHRlbnNpYmxlLCB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIGZvciBuZXdcclxuICAgICAgICAgICAgICAgIC8vIG9yIGRlbGV0ZWQgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXh0ZW5zaWJsZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IGRhdGEucHJvcGVydGllcy5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BsZW4gPSBwcm9wcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5cyA9IGdldFByb3BzKG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXNjcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXlzW2krK107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpbkFycmF5KHByb3BzLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3IgPSBnZXREZXNjcmlwdG9yKG9iamVjdCwga2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wZXJ0aWVzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChvYmplY3Rba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3MucHVzaChkZXNjcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2lkeF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BsZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDaGVjayhvYmplY3QsIGRhdGEsIGlkeCwgZXhjZXB0LCBkZXNjcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRpb25DaGVjayhvYmplY3QsIHByb3BzLCBwcm9wbGVuLCBkYXRhLCBleGNlcHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFPLmlzRXh0ZW5zaWJsZShvYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmV4dGVuc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInByZXZlbnRFeHRlbnNpb25zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5mcm96ZW4gPSBPLmlzRnJvemVuKG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXlzW2krK107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpbkFycmF5KHByb3BzLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wZXJ0aWVzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2lkeF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BsZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDaGVjayhvYmplY3QsIGRhdGEsIGlkeCwgZXhjZXB0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGlvbkNoZWNrKG9iamVjdCwgcHJvcHMsIHByb3BsZW4sIGRhdGEsIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRhdGEuZnJvemVuKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgbm90IGV4dGVuc2libGUsIGJ1dCBub3QgZnJvemVuLCB3ZSBqdXN0IGhhdmVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGVjayBmb3IgdmFsdWUgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNoZWNrKG9iamVjdCwgZGF0YSwgaSwgZXhjZXB0LCBnZXREZXNjcmlwdG9yKG9iamVjdCwga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTy5pc0Zyb3plbihvYmplY3QpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZyb3plbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGdldFByb3RvdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3RvID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvICE9PSBkYXRhLnByb3RvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0UHJvdG90eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIl9fcHJvdG9fX1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogZGF0YS5wcm90b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm90byA9IHByb3RvO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KSgpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHVwIHRoZSBtYWluIGxvb3AgZm9yIG9iamVjdCBvYnNlcnZhdGlvbiBhbmQgY2hhbmdlIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAqIEl0IHN0b3BzIGlmIG5vIG9iamVjdCBpcyBvYnNlcnZlZC5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gcnVuR2xvYmFsTG9vcFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJ1bkdsb2JhbExvb3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG9ic2VydmVkLnNpemUpIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVkLmZvckVhY2gocGVyZm9ybVByb3BlcnR5Q2hlY2tzKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXJzLmZvckVhY2goZGVsaXZlckhhbmRsZXJSZWNvcmRzKTtcclxuICAgICAgICAgICAgICAgIG5leHRGcmFtZShydW5HbG9iYWxMb29wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlbGl2ZXIgdGhlIGNoYW5nZSByZWNvcmRzIHJlbGF0aXZlIHRvIGEgY2VydGFpbiBoYW5kbGVyLCBhbmQgcmVzZXRzXHJcbiAgICAgICAgICogdGhlIHJlY29yZCBsaXN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7SGFuZGxlckRhdGF9IGhkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGVsaXZlckhhbmRsZXJSZWNvcmRzID0gZnVuY3Rpb24oaGRhdGEsIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIHJlY29yZHMgPSBoZGF0YS5jaGFuZ2VSZWNvcmRzO1xyXG4gICAgICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGhkYXRhLmNoYW5nZVJlY29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIocmVjb3Jkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBub3RpZmllciBmb3IgYW4gb2JqZWN0IC0gd2hldGhlciBpdCdzIG9ic2VydmVkIG9yIG5vdFxyXG4gICAgICAgICAqIEBmdW5jdGlvbiByZXRyaWV2ZU5vdGlmaWVyXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0RGF0YX0gW2RhdGFdXHJcbiAgICAgICAgICogQHJldHVybnMge05vdGlmaWVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHJpZXZlTm90aWZpZXIgPSBmdW5jdGlvbihvYmplY3QsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKVxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IG9ic2VydmVkLmdldChvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgLyoqIEB0eXBlIHtOb3RpZmllcn0gKi9cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5ub3RpZmllciB8fCB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEBtZXRob2Qgbm90aWZ5XHJcbiAgICAgICAgICAgICAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI25vdGlmaWVycHJvdG90eXBlLl9ub3RpZnlcclxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBOb3RpZmllclxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtDaGFuZ2VSZWNvcmR9IGNoYW5nZVJlY29yZFxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBub3RpZnk6IGZ1bmN0aW9uKGNoYW5nZVJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVJlY29yZC50eXBlOyAvLyBKdXN0IHRvIGNoZWNrIHRoZSBwcm9wZXJ0eSBpcyB0aGVyZS4uLlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRhdGEsIHRoZSBvYmplY3QgaGFzIGJlZW4gdW5vYnNlcnZlZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JzZXJ2ZWQuZ2V0KG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZENvcHkgPSB7IG9iamVjdDogb2JqZWN0IH0sIHByb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBjaGFuZ2VSZWNvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRDb3B5W3Byb3BdID0gY2hhbmdlUmVjb3JkW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDaGFuZ2VSZWNvcmQob2JqZWN0LCBkYXRhLCByZWNvcmRDb3B5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBwZXJmb3JtQ2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI25vdGlmaWVycHJvdG90eXBlXy5wZXJmb3JtY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgTm90aWZpZXJcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFuZ2VUeXBlXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1BlcmZvcm1lcn0gZnVuYyAgICAgVGhlIHRhc2sgcGVyZm9ybWVyXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyp9IFt0aGlzT2JqXSAgICAgICAgVXNlZCB0byBzZXQgYHRoaXNgIHdoZW4gY2FsbGluZyBmdW5jXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHBlcmZvcm1DaGFuZ2U6IGZ1bmN0aW9uKGNoYW5nZVR5cGUsIGZ1bmMvKiwgdGhpc09iaiovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VUeXBlICE9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRhdGEsIHRoZSBvYmplY3QgaGFzIGJlZW4gdW5vYnNlcnZlZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JzZXJ2ZWQuZ2V0KG9iamVjdCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AsIGNoYW5nZVJlY29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09iaiA9IGFyZ3VtZW50c1syXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpc09iaiA9PT0gX3VuZGVmaW5lZCA/IGZ1bmMoKSA6IGZ1bmMuY2FsbCh0aGlzT2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSAmJiBwZXJmb3JtUHJvcGVydHlDaGVja3MoZGF0YSwgb2JqZWN0LCBjaGFuZ2VUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBkYXRhLCB0aGUgb2JqZWN0IGhhcyBiZWVuIHVub2JzZXJ2ZWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiByZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSZWNvcmQgPSB7IG9iamVjdDogb2JqZWN0LCB0eXBlOiBjaGFuZ2VUeXBlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gXCJvYmplY3RcIiAmJiBwcm9wICE9PSBcInR5cGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSZWNvcmRbcHJvcF0gPSByZXN1bHRbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIGNoYW5nZVJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZ2lzdGVyIChvciByZWRlZmluZXMpIGFuIGhhbmRsZXIgaW4gdGhlIGNvbGxlY3Rpb24gZm9yIGEgZ2l2ZW5cclxuICAgICAgICAgKiBvYmplY3QgYW5kIGEgZ2l2ZW4gdHlwZSBhY2NlcHQgbGlzdC5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gc2V0SGFuZGxlclxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdERhdGF9IGRhdGFcclxuICAgICAgICAgKiBAcGFyYW0ge0hhbmRsZXJ9IGhhbmRsZXJcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBhY2NlcHRMaXN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2V0SGFuZGxlciA9IGZ1bmN0aW9uKG9iamVjdCwgZGF0YSwgaGFuZGxlciwgYWNjZXB0TGlzdCkge1xyXG4gICAgICAgICAgICB2YXIgaGRhdGEgPSBoYW5kbGVycy5nZXQoaGFuZGxlcik7XHJcbiAgICAgICAgICAgIGlmICghaGRhdGEpXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zZXQoaGFuZGxlciwgaGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZWQ6IGNyZWF0ZU1hcCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVJlY29yZHM6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaGRhdGEub2JzZXJ2ZWQuc2V0KG9iamVjdCwge1xyXG4gICAgICAgICAgICAgICAgYWNjZXB0TGlzdDogYWNjZXB0TGlzdC5zbGljZSgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGF0YS5oYW5kbGVycy5zZXQoaGFuZGxlciwgaGRhdGEpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZHMgYSBjaGFuZ2UgcmVjb3JkIGluIGEgZ2l2ZW4gT2JqZWN0RGF0YVxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBhZGRDaGFuZ2VSZWNvcmRcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3REYXRhfSBkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIHtDaGFuZ2VSZWNvcmR9IGNoYW5nZVJlY29yZFxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZXhjZXB0XVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFkZENoYW5nZVJlY29yZCA9IGZ1bmN0aW9uKG9iamVjdCwgZGF0YSwgY2hhbmdlUmVjb3JkLCBleGNlcHQpIHtcclxuICAgICAgICAgICAgZGF0YS5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWNjZXB0TGlzdCA9IGhkYXRhLm9ic2VydmVkLmdldChvYmplY3QpLmFjY2VwdExpc3Q7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBleGNlcHQgaXMgZGVmaW5lZCwgTm90aWZpZXIucGVyZm9ybUNoYW5nZSBoYXMgYmVlblxyXG4gICAgICAgICAgICAgICAgLy8gY2FsbGVkLCB3aXRoIGV4Y2VwdCBhcyB0aGUgdHlwZS5cclxuICAgICAgICAgICAgICAgIC8vIEFsbCB0aGUgaGFuZGxlcnMgdGhhdCBhY2NlcHRzIHRoYXQgdHlwZSBhcmUgc2tpcHBlZC5cclxuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGV4Y2VwdCAhPT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBpbkFycmF5KGFjY2VwdExpc3QsIGV4Y2VwdCkgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBpbkFycmF5KGFjY2VwdExpc3QsIGNoYW5nZVJlY29yZC50eXBlKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGhkYXRhLmNoYW5nZVJlY29yZHMucHVzaChjaGFuZ2VSZWNvcmQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIG9ic2VydmVkID0gY3JlYXRlTWFwKCk7XHJcbiAgICBoYW5kbGVycyA9IGNyZWF0ZU1hcCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGZ1bmN0aW9uIE9iamVjdC5vYnNlcnZlXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI09iamVjdC5vYnNlcnZlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge0hhbmRsZXJ9IGhhbmRsZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IFthY2NlcHRMaXN0XVxyXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gICAgICAgICAgICAgICBUaGUgb2JzZXJ2ZWQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIE8ub2JzZXJ2ZSA9IGZ1bmN0aW9uIG9ic2VydmUob2JqZWN0LCBoYW5kbGVyLCBhY2NlcHRMaXN0KSB7XHJcbiAgICAgICAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0XCIpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvblwiKTtcclxuXHJcbiAgICAgICAgaWYgKE8uaXNGcm96ZW4gJiYgTy5pc0Zyb3plbihoYW5kbGVyKSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGFjY2VwdExpc3QgPT09IF91bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGFjY2VwdExpc3QgPSBkZWZhdWx0QWNjZXB0TGlzdDtcclxuICAgICAgICBlbHNlIGlmICghYWNjZXB0TGlzdCB8fCB0eXBlb2YgYWNjZXB0TGlzdCAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cIik7XHJcblxyXG4gICAgICAgIGRvT2JzZXJ2ZShvYmplY3QsIGhhbmRsZXIsIGFjY2VwdExpc3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBmdW5jdGlvbiBPYmplY3QudW5vYnNlcnZlXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI09iamVjdC51bm9ic2VydmVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAqIEBwYXJhbSB7SGFuZGxlcn0gaGFuZGxlclxyXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gICAgICAgICBUaGUgZ2l2ZW4gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIE8udW5vYnNlcnZlID0gZnVuY3Rpb24gdW5vYnNlcnZlKG9iamVjdCwgaGFuZGxlcikge1xyXG4gICAgICAgIGlmIChvYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdFwiKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvblwiKTtcclxuXHJcbiAgICAgICAgdmFyIGhkYXRhID0gaGFuZGxlcnMuZ2V0KGhhbmRsZXIpLCBvZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKGhkYXRhICYmIChvZGF0YSA9IGhkYXRhLm9ic2VydmVkLmdldChvYmplY3QpKSkge1xyXG4gICAgICAgICAgICBoZGF0YS5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKG9kYXRhLCBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHBlcmZvcm1Qcm9wZXJ0eUNoZWNrcyhvZGF0YS5kYXRhLCBvYmplY3QpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsaXZlckhhbmRsZXJSZWNvcmRzKGhkYXRhLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJbiBGaXJlZm94IDEzLTE4LCBzaXplIGlzIGEgZnVuY3Rpb24sIGJ1dCBjcmVhdGVNYXAgc2hvdWxkIGZhbGxcclxuICAgICAgICAgICAgLy8gYmFjayB0byB0aGUgc2hpbSBmb3IgdGhvc2UgdmVyc2lvbnNcclxuICAgICAgICAgICAgaWYgKGhkYXRhLm9ic2VydmVkLnNpemUgPT09IDEgJiYgaGRhdGEub2JzZXJ2ZWQuaGFzKG9iamVjdCkpXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tcImRlbGV0ZVwiXShoYW5kbGVyKTtcclxuICAgICAgICAgICAgZWxzZSBoZGF0YS5vYnNlcnZlZFtcImRlbGV0ZVwiXShvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9kYXRhLmRhdGEuaGFuZGxlcnMuc2l6ZSA9PT0gMSlcclxuICAgICAgICAgICAgICAgIG9ic2VydmVkW1wiZGVsZXRlXCJdKG9iamVjdCk7XHJcbiAgICAgICAgICAgIGVsc2Ugb2RhdGEuZGF0YS5oYW5kbGVyc1tcImRlbGV0ZVwiXShoYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGZ1bmN0aW9uIE9iamVjdC5nZXROb3RpZmllclxyXG4gICAgICogQHNlZSBodHRwOi8vYXJ2LmdpdGh1Yi5pby9lY21hc2NyaXB0LW9iamVjdC1vYnNlcnZlLyNHZXROb3RpZmllclxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gICAgICogQHJldHVybnMge05vdGlmaWVyfVxyXG4gICAgICovXHJcbiAgICBPLmdldE5vdGlmaWVyID0gZnVuY3Rpb24gZ2V0Tm90aWZpZXIob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmplY3QgIT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdFwiKTtcclxuXHJcbiAgICAgICAgaWYgKE8uaXNGcm96ZW4gJiYgTy5pc0Zyb3plbihvYmplY3QpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHJpZXZlTm90aWZpZXIob2JqZWN0KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZnVuY3Rpb24gT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI09iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3Jkc1xyXG4gICAgICogQHNlZSBodHRwOi8vYXJ2LmdpdGh1Yi5pby9lY21hc2NyaXB0LW9iamVjdC1vYnNlcnZlLyNEZWxpdmVyQ2hhbmdlUmVjb3Jkc1xyXG4gICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXHJcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XHJcbiAgICAgKi9cclxuICAgIE8uZGVsaXZlckNoYW5nZVJlY29yZHMgPSBmdW5jdGlvbiBkZWxpdmVyQ2hhbmdlUmVjb3JkcyhoYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uXCIpO1xyXG5cclxuICAgICAgICB2YXIgaGRhdGEgPSBoYW5kbGVycy5nZXQoaGFuZGxlcik7XHJcbiAgICAgICAgaWYgKGhkYXRhKSB7XHJcbiAgICAgICAgICAgIGhkYXRhLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24ob2RhdGEsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybVByb3BlcnR5Q2hlY2tzKG9kYXRhLmRhdGEsIG9iamVjdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWxpdmVySGFuZGxlclJlY29yZHMoaGRhdGEsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG59KShPYmplY3QsIEFycmF5LCB0aGlzKTtcclxuIiwiLy8gcG9seWZpbGxzXHJcbi8vIFJlbW92ZWQgYmVjYXVzZSB0aGUgY29tcGF0aWJpbGl0eSBvZiBydW50aW1lLW5vZGVqc1xyXG4vLyBpbXBvcnQgJ211dGF0aW9ub2JzZXJ2ZXItc2hpbSc7XHJcbmltcG9ydCAnb2JqZWN0Lm9ic2VydmUnO1xyXG5pbXBvcnQgJ2FycmF5Lm9ic2VydmUnO1xyXG5cclxuaW1wb3J0IFN5bmNoZXIgZnJvbSAnLi9zeW5jaGVyL1N5bmNoZXInO1xyXG5pbXBvcnQgRGF0YU9iamVjdFJlcG9ydGVyIGZyb20gJy4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXInO1xyXG5pbXBvcnQgRGF0YU9iamVjdE9ic2VydmVyIGZyb20gJy4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXInO1xyXG5cclxuZXhwb3J0IHtTeW5jaGVyLCBEYXRhT2JqZWN0UmVwb3J0ZXIsIERhdGFPYmplY3RPYnNlcnZlcn07XHJcbiIsIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbmltcG9ydCBTeW5jT2JqZWN0IGZyb20gJy4vU3luY09iamVjdCc7XHJcbmltcG9ydCBEYXRhT2JqZWN0Q2hpbGQgZnJvbSAnLi9EYXRhT2JqZWN0Q2hpbGQnO1xyXG5pbXBvcnQgeyBDaGFuZ2VUeXBlLCBPYmplY3RUeXBlIH0gZnJvbSAnLi9TeW5jT2JqZWN0JztcclxuaW1wb3J0IHtkZWVwQ2xvbmV9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBNYWluIGV4dGVuc2lvbiBjbGFzcyBmb3Igb2JzZXJ2ZXJzIGFuZCByZXBvcnRlcnMsIHdpdGggY29tbW9uIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuXHJcbiAqIENoaWxkcmVuIG1hbmFnZW1lbnQgaXMgY29tbW9uIGZvciBvYnNlcnZlcnMgYW5kIHJlcG9ydGVycy5cclxuICovXHJcbmNsYXNzIERhdGFPYmplY3Qge1xyXG4gIC8qIHByaXZhdGVcclxuICBfdmVyc2lvbjogbnVtYmVyXHJcblxyXG4gIF9vd25lcjogSHlwZXJ0eVVSTFxyXG4gIF91cmw6IE9iamVjdFVSTFxyXG4gIF9zY2hlbWE6IFNjaGVtYVxyXG4gIF9idXM6IE1pbmlCdXNcclxuICBfc3RhdHVzOiBvbiB8IHBhdXNlZFxyXG4gIF9zeW5jT2JqOiBTeW5jRGF0YVxyXG5cclxuICBfY2hpbGRyZW46IHsgaWQ6IERhdGFPYmplY3RDaGlsZCB9XHJcbiAgX2NoaWxkcmVuTGlzdGVuZXJzOiBbTXNnTGlzdGVuZXJdXHJcblxyXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cclxuICBfb25BZGRDaGlsZEhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxyXG4gICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBpZ25vcmVcclxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYnkgSHlwZXJ0aWVzLiBJdCdzIGNhbGxlZCBieSB0aGUgU3luY2hlciBjcmVhdGUgb3Igc3Vic2NyaWJlIG1ldGhvZCdzXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc3luY2hlciwgdXJsLCBzY2hlbWEsIGluaXRpYWxTdGF0dXMsIGluaXRpYWxEYXRhLCBjaGlsZHJlbnMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX3N5bmNoZXIgPSBzeW5jaGVyO1xyXG4gICAgX3RoaXMuX3VybCA9IHVybDtcclxuICAgIF90aGlzLl9zY2hlbWEgPSBzY2hlbWE7XHJcbiAgICBfdGhpcy5fc3RhdHVzID0gaW5pdGlhbFN0YXR1cztcclxuICAgIF90aGlzLl9zeW5jT2JqID0gbmV3IFN5bmNPYmplY3QoaW5pdGlhbERhdGEpO1xyXG4gICAgX3RoaXMuX2NoaWxkcmVucyA9IGNoaWxkcmVucztcclxuXHJcbiAgICBfdGhpcy5fdmVyc2lvbiA9IDA7XHJcbiAgICBfdGhpcy5fY2hpbGRJZCA9IDA7XHJcbiAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzID0ge307XHJcbiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTtcclxuXHJcbiAgICBfdGhpcy5fb3duZXIgPSBzeW5jaGVyLl9vd25lcjtcclxuICAgIF90aGlzLl9idXMgPSBzeW5jaGVyLl9idXM7XHJcbiAgfVxyXG5cclxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBjaGlsZEJhc2VVUkwgPSBfdGhpcy5fdXJsICsgJy9jaGlsZHJlbi8nO1xyXG4gICAgaWYgKF90aGlzLl9jaGlsZHJlbnMpIHtcclxuICAgICAgX3RoaXMuX2NoaWxkcmVucy5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgIGxldCBjaGlsZFVSTCA9IGNoaWxkQmFzZVVSTCArIGNoaWxkO1xyXG4gICAgICAgIGxldCBsaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoY2hpbGRVUkwsIChtc2cpID0+IHtcclxuICAgICAgICAgIC8vaWdub3JlIG1zZyBzZW50IGJ5IGhpbXNlbGZcclxuICAgICAgICAgIGlmIChtc2cuZnJvbSAhPT0gdGhpcy5fb3duZXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAnLCBtc2cpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgY2FzZSAnY3JlYXRlJzogX3RoaXMuX29uQ2hpbGRDcmVhdGUobXNnKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzogY29uc29sZS5sb2cobXNnKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDogX3RoaXMuX2NoYW5nZUNoaWxkcmVuKG1zZyk7IGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgIGxpc3RlbmVyLnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNba2V5XS5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYmplY3QgVVJMIG9mIHJlcG9ydGVyIG9yIG9ic2VydmVyXHJcbiAgICogQHR5cGUge09iamVjdFVSTH1cclxuICAgKi9cclxuICBnZXQgdXJsKCkgeyByZXR1cm4gdGhpcy5fdXJsOyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9iamVjdCBzY2hlbWEgVVJMICh0aGlzIGZpZWxkIGlzIG5vdCB5ZXQgc3RhYmxlLCBhbmQgaXMgc3Vic2plY3QgdG8gY2hhbmdlKVxyXG4gICAqIEB0eXBlIHtTY2hlbWFVUkx9XHJcbiAgICovXHJcbiAgZ2V0IHNjaGVtYSgpIHsgcmV0dXJuIHRoaXMuX3NjaGVtYTsgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGF0dXMgb2YgdGhlIHJlcG9ydGVyIG9yIG9ic2VydmVyIGNvbm5lY3Rpb24gKHRoaXMgZmllbGQgaXMgbm90IHlldCBzdGFibGUsIGFuZCBpcyBzdWJzamVjdCB0byBjaGFuZ2UpXHJcbiAgICogQHR5cGUge1N0YXR1c30gLSBFbnVtIG9mOiBvbiB8IHBhdXNlZFxyXG4gICAqL1xyXG4gIGdldCBzdGF0dXMoKSB7IHJldHVybiB0aGlzLl9zdGF0dXM7IH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGF0YSBzdHJ1Y3R1cmUgdG8gYmUgc3luY2hyb25pemVkLlxyXG4gICAqIEB0eXBlIHtKU09OfSAtIEpTT04gc3RydWN0dXJlIHRoYXQgc2hvdWxkIGZvbGxvdyB0aGUgZGVmaW5lZCBzY2hlbWEsIGlmIGFueS5cclxuICAgKi9cclxuICBnZXQgZGF0YSgpIHsgcmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YTsgfVxyXG5cclxuICAvKipcclxuICAgKiBBbGwgY3JlYXRlZCBjaGlsZHJlbidzIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIGRvZXNuJ3QgY29udGFpbiBhbGwgY2hpbGRyZW4ncyBzaW5jZSByZXBvcnRlciBjcmVhdGlvbi5cclxuICAgKiBAdHlwZSB7T2JqZWN0PENoaWxkSWQsIERhdGFPYmplY3RDaGlsZD59XHJcbiAgICovXHJcbiAgZ2V0IGNoaWxkcmVucygpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0czsgfVxyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICovXHJcbiAgcGF1c2UoKSB7XHJcbiAgICAvL1RPRE86IHRoaXMgZmVhdHVyZSBuZWVkcyBtb3JlIGFuYWxpc2VcclxuICAgIHRocm93ICdOb3QgaW1wbGVtZW50ZWQnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGlnbm9yZVxyXG4gICAqL1xyXG4gIHJlc3VtZSgpIHtcclxuICAgIC8vVE9ETzogdGhpcyBmZWF0dXJlIG5lZWRzIG1vcmUgYW5hbGlzZVxyXG4gICAgdGhyb3cgJ05vdCBpbXBsZW1lbnRlZCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICovXHJcbiAgc3RvcCgpIHtcclxuICAgIC8vVE9ETzogc2hvdWxkIHJlbW92ZSB0aGUgc3Vic2NyaXB0aW9uIGFuZCBzZW5kIG1lc3NhZ2UgdW5zdWJzY3JpYmU/XHJcbiAgICB0aHJvdyAnTm90IGltcGxlbWVudGVkJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbmQgYWRkIGEgRGF0YU9iamVjdENoaWxkIHRvIGEgY2hpbGRyZW4gY29sbGVjdGlvbi5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hpbGRyZW4gLSBDaGlsZHJlbiBuYW1lIHdoZXJlIHRoZSBjaGlsZCBpcyBhZGRlZC5cclxuICAgKiBAcGFyYW0ge0pTT059IGluaXRpYWxEYXRhIC0gSW5pdGlhbCBkYXRhIG9mIHRoZSBjaGlsZFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8RGF0YU9iamVjdENoaWxkPn0gLSBSZXR1cm4gUHJvbWlzZSB0byBhIG5ldyBEYXRhT2JqZWN0Q2hpbGQuXHJcbiAgICovXHJcbiAgYWRkQ2hpbGQoY2hpbGRyZW4sIGluaXRpYWxEYXRhKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vY3JlYXRlIG5ldyBjaGlsZCB1bmlxdWUgSUQsIGJhc2VkIG9uIGh5cGVydHlVUkxcclxuICAgIF90aGlzLl9jaGlsZElkKys7XHJcbiAgICBsZXQgbXNnQ2hpbGRJZCA9IF90aGlzLl9vd25lciArICcjJyArIF90aGlzLl9jaGlsZElkO1xyXG4gICAgbGV0IG1zZ0NoaWxkUGF0aCA9IF90aGlzLl91cmwgKyAnL2NoaWxkcmVuLycgKyBjaGlsZHJlbjtcclxuXHJcbiAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IGRpcmVjdGx5IHRvIGEgcmVzb3VyY2UgY2hpbGQgYWRkcmVzczogTWVzc2FnZUJ1c1xyXG4gICAgbGV0IHJlcXVlc3RNc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdjcmVhdGUnLCBmcm9tOiBfdGhpcy5fb3duZXIsIHRvOiBtc2dDaGlsZFBhdGgsXHJcbiAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IG1zZ0NoaWxkSWQsIHZhbHVlOiBpbml0aWFsRGF0YSB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vcmV0dXJucyBwcm9taXNlLCBpbiB0aGUgZnV0dXJlLCB0aGUgQVBJIG1heSBjaGFuZ2UgdG8gYXN5bmNocm9ub3VzIGNhbGxcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBsZXQgbXNnSWQgPSBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHJlcXVlc3RNc2cpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZS1yZXBvcnRlci1jaGlsZCggJyArIF90aGlzLl9vd25lciArICcgKTogJywgcmVxdWVzdE1zZyk7XHJcbiAgICAgIGxldCBuZXdDaGlsZCA9IG5ldyBEYXRhT2JqZWN0Q2hpbGQoX3RoaXMsIG1zZ0NoaWxkSWQsIGluaXRpYWxEYXRhLCBfdGhpcy5fb3duZXIsIG1zZ0lkKTtcclxuICAgICAgbmV3Q2hpbGQub25DaGFuZ2UoKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgX3RoaXMuX29uQ2hhbmdlKGV2ZW50LCB7IHBhdGg6IG1zZ0NoaWxkUGF0aCwgY2hpbGRJZDogbXNnQ2hpbGRJZCB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW21zZ0NoaWxkSWRdID0gbmV3Q2hpbGQ7XHJcblxyXG4gICAgICByZXNvbHZlKG5ld0NoaWxkKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgY3JlYXRlIGFuZCBkZWxldGUgb2YgY2hpbGRyZW5zLlxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2tcclxuICAgKi9cclxuICBvbkFkZENoaWxkKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdCAtPiBhZGRDaGlsZFxyXG4gIF9vbkNoaWxkQ3JlYXRlKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBtc2dDaGlsZElkID0gbXNnLmJvZHkucmVzb3VyY2U7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ2NyZWF0ZS1vYnNlcnZlci1jaGlsZCggJyArIF90aGlzLl9vd25lciArICcgKTogJywgbXNnKTtcclxuICAgIGxldCBuZXdDaGlsZCA9IG5ldyBEYXRhT2JqZWN0Q2hpbGQoX3RoaXMsIG1zZ0NoaWxkSWQsIG1zZy5ib2R5LnZhbHVlKTtcclxuICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbbXNnQ2hpbGRJZF0gPSBuZXdDaGlsZDtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgLy9GTE9XLU9VVDogd2lsbCBmbG93IHRvIERhdGFPYmplY3RDaGlsZCAtPiBfb25SZXNwb25zZVxyXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgICBib2R5OiB7IGNvZGU6IDIwMCwgc291cmNlOiBfdGhpcy5fb3duZXIgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgIGZyb206IG1zZy5mcm9tLFxyXG4gICAgICB1cmw6IG1zZy50byxcclxuICAgICAgdmFsdWU6IG1zZy5ib2R5LnZhbHVlLFxyXG4gICAgICBjaGlsZElkOiBtc2dDaGlsZElkLFxyXG4gICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHlcclxuICAgIH07XHJcblxyXG4gICAgaWYgKF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnQURELUNISUxEUkVOLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL3NlbmQgZGVsdGEgbWVzc2FnZXMgdG8gc3Vic2NyaXB0aW9uc1xyXG4gIF9vbkNoYW5nZShldmVudCwgY2hpbGRJbmZvKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl92ZXJzaW9uKys7XHJcblxyXG4gICAgaWYgKF90aGlzLl9zdGF0dXMgPT09ICdvbicpIHtcclxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCBkaXJlY3RseSB0byBhIHJlc291cmNlIGNoYW5nZXMgYWRkcmVzczogTWVzc2FnZUJ1c1xyXG4gICAgICBsZXQgY2hhbmdlTXNnID0ge1xyXG4gICAgICAgIHR5cGU6ICd1cGRhdGUnLCBmcm9tOiBfdGhpcy5fdXJsLCB0bzogX3RoaXMuX3VybCArICcvY2hhbmdlcycsXHJcbiAgICAgICAgYm9keTogeyB2ZXJzaW9uOiBfdGhpcy5fdmVyc2lvbiwgc291cmNlOiBfdGhpcy5fb3duZXIsIGF0dHJpYnV0ZTogZXZlbnQuZmllbGQgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKGV2ZW50Lm9UeXBlID09PSBPYmplY3RUeXBlLk9CSkVDVCkge1xyXG4gICAgICAgIGlmIChldmVudC5jVHlwZSAhPT0gQ2hhbmdlVHlwZS5SRU1PVkUpIHtcclxuICAgICAgICAgIGNoYW5nZU1zZy5ib2R5LnZhbHVlID0gZXZlbnQuZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhbmdlTXNnLmJvZHkuYXR0cmlidXRlVHlwZSA9IGV2ZW50Lm9UeXBlO1xyXG4gICAgICAgIGNoYW5nZU1zZy5ib2R5LnZhbHVlID0gZXZlbnQuZGF0YTtcclxuICAgICAgICBpZiAoZXZlbnQuY1R5cGUgIT09IENoYW5nZVR5cGUuVVBEQVRFKSB7XHJcbiAgICAgICAgICBjaGFuZ2VNc2cuYm9keS5vcGVyYXRpb24gPSBldmVudC5jVHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vY2hpbGRJbmZvIG11c3QgaGF2ZSAocGF0aCwgY2hpbGRJZClcclxuICAgICAgaWYgKGNoaWxkSW5mbykge1xyXG4gICAgICAgIGNoYW5nZU1zZy50byA9IGNoaWxkSW5mby5wYXRoO1xyXG4gICAgICAgIGNoYW5nZU1zZy5ib2R5LnJlc291cmNlID0gY2hpbGRJbmZvLmNoaWxkSWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoY2hhbmdlTXNnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogZGVsdGEgbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3RSZXBvcnRlciBvciBEYXRhT2JqZWN0Q2hpbGQgd2hlbiBjaGFuZ2luZyBkYXRhXHJcbiAgX2NoYW5nZU9iamVjdChzeW5jT2JqLCBtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgLy9UT0RPOiB1cGRhdGUgdmVyc2lvbiA/XHJcbiAgICAvL2hvdyB0byBoYW5kbGUgYW4gaW5jb3JyZWN0IHZlcnNpb24gPyBFeGFtcGxlOiByZWNlaXZlIGEgdmVyc2lvbiAzIHdoZW4gdGhlIG9ic2VydmVyIGlzIGluIHZlcnNpb24gMSwgd2hlcmUgaXMgdGhlIHZlcnNpb24gMiA/XHJcbiAgICAvL3dpbGwgd2UgbmVlZCB0byBjb25maXJtIHRoZSByZWNlcHRpb24gP1xyXG4gICAgaWYgKF90aGlzLl92ZXJzaW9uICsgMSA9PT0gbXNnLmJvZHkudmVyc2lvbikge1xyXG4gICAgICBfdGhpcy5fdmVyc2lvbisrO1xyXG4gICAgICBsZXQgcGF0aCA9IG1zZy5ib2R5LmF0dHJpYnV0ZTtcclxuICAgICAgbGV0IHZhbHVlID0gZGVlcENsb25lKG1zZy5ib2R5LnZhbHVlKTtcclxuICAgICAgbGV0IGZpbmRSZXN1bHQgPSBzeW5jT2JqLmZpbmRCZWZvcmUocGF0aCk7XHJcblxyXG4gICAgICBpZiAobXNnLmJvZHkuYXR0cmlidXRlVHlwZSA9PT0gT2JqZWN0VHlwZS5BUlJBWSkge1xyXG4gICAgICAgIGlmIChtc2cuYm9keS5vcGVyYXRpb24gPT09IENoYW5nZVR5cGUuQUREKSB7XHJcbiAgICAgICAgICBsZXQgYXJyID0gZmluZFJlc3VsdC5vYmo7XHJcbiAgICAgICAgICBsZXQgaW5kZXggPSBmaW5kUmVzdWx0Lmxhc3Q7XHJcbiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGFyciwgW2luZGV4LCAwXS5jb25jYXQodmFsdWUpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1zZy5ib2R5Lm9wZXJhdGlvbiA9PT0gQ2hhbmdlVHlwZS5SRU1PVkUpIHtcclxuICAgICAgICAgIGxldCBhcnIgPSBmaW5kUmVzdWx0Lm9iajtcclxuICAgICAgICAgIGxldCBpbmRleCA9IGZpbmRSZXN1bHQubGFzdDtcclxuICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIHZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZmluZFJlc3VsdC5vYmpbZmluZFJlc3VsdC5sYXN0XSA9IHZhbHVlOyAvLyBVUERBVEVcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG1zZy5ib2R5LnZhbHVlKSB7XHJcbiAgICAgICAgICBmaW5kUmVzdWx0Lm9ialtmaW5kUmVzdWx0Lmxhc3RdID0gdmFsdWU7IC8vIFVQREFURSBvciBBRERcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGVsZXRlIGZpbmRSZXN1bHQub2JqW2ZpbmRSZXN1bHQubGFzdF07IC8vIFJFTU9WRVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy9UT0RPOiBob3cgdG8gaGFuZGxlIHVuc3luY2hyb25pemVkIHZlcnNpb25zP1xyXG4gICAgICBjb25zb2xlLmxvZygnVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gJyArIF90aGlzLl92ZXJzaW9uICsgJywgbXNnID0+ICcgKyBtc2cuYm9keS52ZXJzaW9uICsgJyknKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3RDaGlsZCB3aGVuIGNoYW5naW5nIGRhdGFcclxuICBfY2hhbmdlQ2hpbGRyZW4obXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgY29uc29sZS5sb2coJ0NoYW5nZSBjaGlsZHJlbjogJywgX3RoaXMuX293bmVyLCBtc2cpO1xyXG5cclxuICAgIGxldCBjaGlsZElkID0gbXNnLmJvZHkucmVzb3VyY2U7XHJcbiAgICBsZXQgY2hpbGRyZW4gPSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkSWRdO1xyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICBfdGhpcy5fY2hhbmdlT2JqZWN0KGNoaWxkcmVuLl9zeW5jT2JqLCBtc2cpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vIGNoaWxkcmVuIGZvdW5kIGZvcjogJywgY2hpbGRJZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdDtcclxuIiwiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG5cclxuaW1wb3J0IFN5bmNPYmplY3QgZnJvbSAnLi9TeW5jT2JqZWN0JztcclxuXHJcbi8qKlxyXG4gKiBUaGUgY2xhc3MgcmV0dXJuZWQgZnJvbSB0aGUgRGF0YU9iamVjdCBhZGRDaGlsZHJlbiBjYWxsIG9yIGZyb20gb25BZGRDaGlsZHJlbiBpZiByZW1vdGVseSBjcmVhdGVkLlxyXG4gKiBDaGlsZHJlbiBvYmplY3Qgc3luY2hyb25pemF0aW9uIGlzIGEgYSBmYXN0IGZvcndhcmQgbWVjaGFuaXNtLCBubyBuZWVkIGZvciBkaXJlY3Qgc3Vic2NyaXB0aW9ucywgaXQgdXNlcyB0aGUgYWxyZWFkeSBhdXRob3JpemVkIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBwYXJlbnQgRGF0YU9iamVjdC5cclxuICovXHJcbmNsYXNzIERhdGFPYmplY3RDaGlsZCAvKiBpbXBsZW1lbnRzIFN5bmNTdGF0dXMgKi8ge1xyXG4gIC8qIHByaXZhdGVcclxuXHJcbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxyXG4gIF9vblJlc3BvbnNlSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXHJcbiAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQGlnbm9yZVxyXG4gICAqIFNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseSBieSBIeXBlcnRpZXMuIEl0J3MgY2FsbGVkIGJ5IHRoZSBEYXRhT2JqZWN0LmFkZENoaWxkcmVuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyZW50LCBjaGlsZElkLCBpbml0aWFsRGF0YSwgb3duZXIsIG1zZ0lkKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICBfdGhpcy5fY2hpbGRJZCA9IGNoaWxkSWQ7XHJcbiAgICBfdGhpcy5fb3duZXIgPSBvd25lcjtcclxuICAgIF90aGlzLl9tc2dJZCA9IG1zZ0lkO1xyXG5cclxuICAgIF90aGlzLl9zeW5jT2JqID0gbmV3IFN5bmNPYmplY3QoaW5pdGlhbERhdGEpO1xyXG5cclxuICAgIF90aGlzLl9idXMgPSBwYXJlbnQuX2J1cztcclxuICAgIF90aGlzLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2FsbG9jYXRlTGlzdGVuZXJzKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICAvL3RoaXMgaXMgb25seSBuZWVkZWQgZm9yIGNoaWxkcmVuIHJlcG9ydGVyc1xyXG4gICAgaWYgKF90aGlzLl9vd25lcikge1xyXG4gICAgICBfdGhpcy5fbGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKF90aGlzLl9vd25lciwgKG1zZykgPT4ge1xyXG4gICAgICAgIGlmIChtc2cudHlwZSA9PT0gJ3Jlc3BvbnNlJyAmJiBtc2cuaWQgPT09IF90aGlzLl9tc2dJZCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOicsIG1zZyk7XHJcbiAgICAgICAgICBfdGhpcy5fb25SZXNwb25zZShtc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLl9saXN0ZW5lcikge1xyXG4gICAgICBfdGhpcy5fbGlzdGVuZXIucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcclxuICAgKi9cclxuICBkZWxldGUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGRlbGV0ZSBfdGhpcy5fcGFyZW50Ll9jaGlsZHJlbltfdGhpcy5fY2hpbGRJZF07XHJcblxyXG4gICAgX3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAvL1RPRE86IHNlbmQgZGVsZXRlIG1lc3NhZ2UgP1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hpbGRyZW4gSUQgZ2VuZXJhdGVkIG9uIGFkZENoaWxkcmVuLiBVbmlxdWUgaWRlbnRpZmllclxyXG4gICAqIEB0eXBlIHtVUkx9IC0gVVJMIG9mIHRoZSBmb3JtYXQgPEh5cGVydHlVUkw+IzxudW1lcmljLXNlcXVlbmNlPlxyXG4gICAqL1xyXG4gIGdldCBjaGlsZElkKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRJZDsgfVxyXG5cclxuICAvKipcclxuICAgKiBEYXRhIFN0cnVjdHVyZSB0byBiZSBzeW5jaHJvbml6ZWQuXHJcbiAgICogQHR5cGUge0pTT059IC0gSlNPTiBzdHJ1Y3R1cmUgdGhhdCBzaG91bGQgZm9sbG93IHRoZSBkZWZpbmVkIHNjaGVtYSwgaWYgYW55LlxyXG4gICAqL1xyXG4gIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fc3luY09iai5kYXRhOyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRoZSBjaGFuZ2UgbGlzdGVuZXJzIHNlbnQgYnkgdGhlIHJlcG9ydGVyIGNoaWxkXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xyXG4gICAqL1xyXG4gIG9uQ2hhbmdlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9zeW5jT2JqLm9ic2VydmUoKGV2ZW50KSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVzcG9uc2Ugbm90aWZpY2F0aW9ucyBvZiB0aGUgY3JlYXRlc1xyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2tcclxuICAgKi9cclxuICBvblJlc3BvbnNlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9vblJlc3BvbnNlSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdCAtPiBfb25DaGlsZENyZWF0ZVxyXG4gIF9vblJlc3BvbnNlKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxyXG4gICAgICB1cmw6IG1zZy5ib2R5LnNvdXJjZSxcclxuICAgICAgY29kZTogbXNnLmJvZHkuY29kZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoX3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyKSB7XHJcbiAgICAgIF90aGlzLl9vblJlc3BvbnNlSGFuZGxlcihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdENoaWxkO1xyXG4iLCIvKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcblxyXG5pbXBvcnQgRGF0YU9iamVjdCBmcm9tICcuL0RhdGFPYmplY3QnO1xyXG5pbXBvcnQgRGF0YU9iamVjdENoaWxkIGZyb20gJy4vRGF0YU9iamVjdENoaWxkJztcclxuXHJcbmxldCBGaWx0ZXJUeXBlID0ge0FOWTogJ2FueScsIFNUQVJUOiAnc3RhcnQnLCBFWEFDVDogJ2V4YWN0J307XHJcblxyXG4vKipcclxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIFN5bmNoZXIgc3Vic2NyaWJlIGNhbGwuXHJcbiAqIFRvIGJlIHVzZWQgYXMgYW4gb2JzZXJ2YXRpb24gcG9pbnQgZnJvbSBhIERhdGFPYmplY3RSZXBvcnRlciBjaGFuZ2UuXHJcbiAqL1xyXG5jbGFzcyBEYXRhT2JqZWN0T2JzZXJ2ZXIgZXh0ZW5kcyBEYXRhT2JqZWN0IC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XHJcbiAgLyogcHJpdmF0ZVxyXG4gIF9jaGFuZ2VMaXN0ZW5lcjogTXNnTGlzdGVuZXJcclxuXHJcbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxyXG4gIF9maWx0ZXJzOiB7PGZpbHRlcj46IHt0eXBlOiA8c3RhcnQsIGV4YWN0PiwgY2FsbGJhY2s6IDxmdW5jdGlvbj59IH1cclxuICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICogU2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5IGJ5IEh5cGVydGllcy4gSXQncyBjYWxsZWQgYnkgdGhlIFN5bmNoZXIuc3Vic2NyaWJlIG1ldGhvZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHN5bmNoZXIsIHVybCwgc2NoZW1hLCBpbml0aWFsU3RhdHVzLCBpbml0aWFsRGF0YSwgY2hpbGRyZW5zLCBpbml0aWFsVmVyc2lvbikge1xyXG4gICAgc3VwZXIoc3luY2hlciwgdXJsLCBzY2hlbWEsIGluaXRpYWxTdGF0dXMsIGluaXRpYWxEYXRhLmRhdGEsIGNoaWxkcmVucyk7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl92ZXJzaW9uID0gaW5pdGlhbFZlcnNpb247XHJcbiAgICBfdGhpcy5fZmlsdGVycyA9IHt9O1xyXG5cclxuICAgIF90aGlzLl9zeW5jT2JqLm9ic2VydmUoKGV2ZW50KSA9PiB7XHJcbiAgICAgIF90aGlzLl9vbkZpbHRlcihldmVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL3NldHVwIGNoaWxkcmVucyBkYXRhIGZyb20gc3Vic2NyaXB0aW9uXHJcbiAgICBPYmplY3Qua2V5cyhpbml0aWFsRGF0YS5jaGlsZHJlbnMpLmZvckVhY2goKGNoaWxkSWQpID0+IHtcclxuICAgICAgbGV0IGNoaWxkRGF0YSA9IGluaXRpYWxEYXRhLmNoaWxkcmVuc1tjaGlsZElkXTtcclxuICAgICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZElkXSA9IG5ldyBEYXRhT2JqZWN0Q2hpbGQoX3RoaXMsIGNoaWxkSWQsIGNoaWxkRGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBfdGhpcy5fYWxsb2NhdGVMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9hbGxvY2F0ZUxpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fY2hhbmdlTGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKF90aGlzLl91cmwgKyAnL2NoYW5nZXMnLCAobXNnKSA9PiB7XHJcbiAgICAgIGlmIChtc2cudHlwZSA9PT0gJ3VwZGF0ZScpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhT2JqZWN0T2JzZXJ2ZXItJyArIF90aGlzLl91cmwgKyAnLVJDVjogJywgbXNnKTtcclxuICAgICAgICAgIF90aGlzLl9jaGFuZ2VPYmplY3QoX3RoaXMuX3N5bmNPYmosIG1zZyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3JlbGVhc2VMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcclxuICAgKi9cclxuICBkZWxldGUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcbiAgICBkZWxldGUgX3RoaXMuX3N5bmNoZXIuX29ic2VydmVyc1tfdGhpcy5fdXJsXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbGVhc2UgYW5kIGRlbGV0ZSBvYmplY3QgZGF0YVxyXG4gICAqL1xyXG4gIHVuc3Vic2NyaWJlKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkxvY2FsVW5TdWJzY3JpYmVcclxuICAgIGxldCB1blN1YnNjcmliZU1zZyA9IHtcclxuICAgICAgdHlwZTogJ3Vuc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcclxuICAgICAgYm9keTogeyByZXNvdXJjZTogX3RoaXMuX3VybCB9XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UodW5TdWJzY3JpYmVNc2csIChyZXBseSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAnLCByZXBseSk7XHJcbiAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgIF90aGlzLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgZGVsZXRlIF90aGlzLl9zeW5jaGVyLl9vYnNlcnZlcnNbX3RoaXMuX3VybF07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgdGhlIGNoYW5nZSBsaXN0ZW5lcnMgc2VudCBieSB0aGUgcmVwb3J0ZXJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyIC0gRmlsdGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgZmllbGQgKHNlcGFyYXRlZCBkb3QgcGF0aCkuIEFjY2VwdHMgKiBhdCB0aGUgZW5kIGZvciBhIG1vcmUgdW5yZXN0cmljdGVkIGZpbHRlcmluZy5cclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXHJcbiAgICovXHJcbiAgb25DaGFuZ2UoZmlsdGVyLCBjYWxsYmFjaykge1xyXG4gICAgbGV0IGtleSA9IGZpbHRlcjtcclxuICAgIGxldCBmaWx0ZXJPYmogPSB7XHJcbiAgICAgIHR5cGU6IEZpbHRlclR5cGUuRVhBQ1QsXHJcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgaWR4ID0gZmlsdGVyLmluZGV4T2YoJyonKTtcclxuICAgIGlmIChpZHggPT09IGZpbHRlci5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGlmIChpZHggPT09IDApIHtcclxuICAgICAgICBmaWx0ZXJPYmoudHlwZSA9IEZpbHRlclR5cGUuQU5ZO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbHRlck9iai50eXBlID0gRmlsdGVyVHlwZS5TVEFSVDtcclxuICAgICAgICBrZXkgPSBmaWx0ZXIuc3Vic3RyKDAsIGZpbHRlci5sZW5ndGggLSAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2ZpbHRlcnNba2V5XSA9IGZpbHRlck9iajtcclxuICB9XHJcblxyXG4gIF9vbkZpbHRlcihldmVudCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBPYmplY3Qua2V5cyhfdGhpcy5fZmlsdGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGxldCBmaWx0ZXIgPSBfdGhpcy5fZmlsdGVyc1trZXldO1xyXG4gICAgICBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuQU5ZKSB7XHJcbiAgICAgICAgLy9tYXRjaCBhbnl0aGluZ1xyXG4gICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuU1RBUlQpIHtcclxuICAgICAgICAvL2lmIHN0YXJ0cyB3aXRoIGZpbHRlci4uLlxyXG4gICAgICAgIGlmIChldmVudC5maWVsZC5pbmRleE9mKGtleSkgPT09IDApIHtcclxuICAgICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGZpbHRlci50eXBlID09PSBGaWx0ZXJUeXBlLkVYQUNUKSB7XHJcbiAgICAgICAgLy9leGFjdCBtYXRjaFxyXG4gICAgICAgIGlmIChldmVudC5maWVsZCA9PT0ga2V5KSB7XHJcbiAgICAgICAgICBmaWx0ZXIuY2FsbGJhY2soZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0T2JzZXJ2ZXI7XHJcbiIsIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbmltcG9ydCBEYXRhT2JqZWN0IGZyb20gJy4vRGF0YU9iamVjdCc7XHJcbmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBUaGUgY2xhc3MgcmV0dXJuZWQgZnJvbSB0aGUgU3luY2hlciBjcmVhdGUgY2FsbC5cclxuICogVG8gYmUgdXNlZCBhcyBhIHJlcG9ydGVyIHBvaW50LCBjaGFuZ2VzIHdpbGwgYmUgc3VibWl0ZWQgdG8gRGF0YU9iamVjdE9ic2VydmVyIGluc3RhbmNlcy5cclxuICovXHJcbmNsYXNzIERhdGFPYmplY3RSZXBvcnRlciBleHRlbmRzIERhdGFPYmplY3QgLyogaW1wbGVtZW50cyBTeW5jU3RhdHVzICovIHtcclxuICAvKiBwcml2YXRlXHJcbiAgX3N1YnNjcmlwdGlvbnM6IDxoeXBlcnR5VXJsOiB7IHN0YXR1czogc3RyaW5nIH0gfT5cclxuXHJcbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxyXG4gIF9vblN1YnNjcmlwdGlvbkhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxyXG4gIF9vblJlc3BvbnNlSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXHJcbiAgX29uUmVhZEhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxyXG4gICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBpZ25vcmVcclxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYnkgSHlwZXJ0aWVzLiBJdCdzIGNhbGxlZCBieSB0aGUgU3luY2hlci5jcmVhdGUgbWV0aG9kXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc3luY2hlciwgdXJsLCBzY2hlbWEsIGluaXRpYWxTdGF0dXMsIGluaXRpYWxEYXRhLCBjaGlsZHJlbnMpIHtcclxuICAgIHN1cGVyKHN5bmNoZXIsIHVybCwgc2NoZW1hLCBpbml0aWFsU3RhdHVzLCBpbml0aWFsRGF0YSwgY2hpbGRyZW5zKTtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX3N1YnNjcmlwdGlvbnMgPSB7fTtcclxuXHJcbiAgICBfdGhpcy5fc3luY09iai5vYnNlcnZlKChldmVudCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGF0YU9iamVjdFJlcG9ydGVyLScgKyB1cmwgKyAnLVNFTkQ6ICcsIGV2ZW50KTtcclxuICAgICAgX3RoaXMuX29uQ2hhbmdlKGV2ZW50KTtcclxuICAgIH0pO1xyXG5cclxuICAgIF90aGlzLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2FsbG9jYXRlTGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9vYmplY3RMaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoX3RoaXMuX3VybCwgKG1zZykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGF0YU9iamVjdC0nICsgX3RoaXMuX3VybCArICctUkNWOiAnLCBtc2cpO1xyXG4gICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAncmVzcG9uc2UnOiBfdGhpcy5fb25SZXNwb25zZShtc2cpOyBicmVhaztcclxuICAgICAgICBjYXNlICdyZWFkJzogX3RoaXMuX29uUmVhZChtc2cpOyBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9vYmplY3RMaXN0ZW5lci5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmQgaW52aXRhdGlvbnMgKGNyZWF0ZSBtZXNzYWdlcykgdG8gaHlwZXJ0aWVzLCBvYnNlcnZlcnMgbGlzdC5cclxuICAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMW119IG9ic2VydmVycyBMaXN0IG9mIEh5cGVydHkgVVJMJ3NcclxuICAgKi9cclxuICBpbnZpdGVPYnNlcnZlcnMob2JzZXJ2ZXJzKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgU3luY2hlck1hbmFnZXIgLT4gX29uQ3JlYXRlXHJcbiAgICBsZXQgaW52aXRlTXNnID0ge1xyXG4gICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX3N5bmNoZXIuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcclxuICAgICAgYm9keTogeyByZXNvdXJjZTogX3RoaXMuX3VybCwgc2NoZW1hOiBfdGhpcy5fc2NoZW1hLCB2YWx1ZTogX3RoaXMuX3N5bmNPYmouZGF0YSwgYXV0aG9yaXNlOiBvYnNlcnZlcnMgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKGludml0ZU1zZyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcclxuICAgKi9cclxuICBkZWxldGUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgU3luY2hlck1hbmFnZXIgLT4gX29uRGVsZXRlXHJcbiAgICBsZXQgZGVsZXRlTXNnID0ge1xyXG4gICAgICB0eXBlOiAnZGVsZXRlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcclxuICAgICAgYm9keTogeyByZXNvdXJjZTogX3RoaXMuX3VybCB9XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoZGVsZXRlTXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICcsIHJlcGx5KTtcclxuICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgX3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcclxuICAgICAgICBkZWxldGUgX3RoaXMuX3N5bmNoZXIuX3JlcG9ydGVyc1tfdGhpcy5fdXJsXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdWJzY3JpcHRpb25zIHJlcXVlc3RlZCBhbmQgYWNjZXB0ZWQgdG8gdGhpcyByZXBvcnRlclxyXG4gICAqIEB0eXBlIHtPYmplY3Q8SHlwZXJ0eVVSTCwgU3luY1N1YnNjcmlwdGlvbj59XHJcbiAgICovXHJcbiAgZ2V0IHN1YnNjcmlwdGlvbnMoKSB7IHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zOyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIHN1YnNjcmliZSBhbmQgdW5zdWJzY3JpYmUgbm90aWZpY2F0aW9uc1xyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVjZWl2ZSBldmVudHNcclxuICAgKi9cclxuICBvblN1YnNjcmlwdGlvbihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR1cCB0aGUgY2FsbGJhY2sgdG8gcHJvY2VzcyByZXNwb25zZSBub3RpZmljYXRpb25zIG9mIHRoZSBjcmVhdGUnc1xyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVjZWl2ZSBldmVudHNcclxuICAgKi9cclxuICBvblJlc3BvbnNlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9vblJlc3BvbnNlSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVhZCBub3RpZmljYXRpb25zXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xyXG4gICAqL1xyXG4gIG9uUmVhZChjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25SZWFkSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gcGFyZW50IFN5bmNoZXIgLT4gX29uRm9yd2FyZFxyXG4gIF9vbkZvcndhcmQobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAnLCBtc2cpO1xyXG4gICAgc3dpdGNoIChtc2cuYm9keS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N1YnNjcmliZSc6IF90aGlzLl9vblN1YnNjcmliZShtc2cpOyBicmVhaztcclxuICAgICAgY2FzZSAndW5zdWJzY3JpYmUnOiBfdGhpcy5fb25VblN1YnNjcmliZShtc2cpOyBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIHRoaXMgLT4gX29uRm9yd2FyZDogZW1pdHRlZCBieSBhIHJlbW90ZSBTeW5jaGVyIC0+IHN1YnNjcmliZVxyXG4gIF9vblN1YnNjcmliZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgaHlwZXJ0eVVybCA9IG1zZy5ib2R5LmZyb207XHJcblxyXG4gICAgbGV0IGV2ZW50ID0ge1xyXG4gICAgICB0eXBlOiBtc2cuYm9keS50eXBlLFxyXG4gICAgICB1cmw6IGh5cGVydHlVcmwsXHJcblxyXG4gICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHksXHJcblxyXG4gICAgICBhY2NlcHQ6ICgpID0+IHtcclxuICAgICAgICAvL2NyZWF0ZSBuZXcgc3Vic2NyaXB0aW9uXHJcbiAgICAgICAgbGV0IHN1YiA9IHsgdXJsOiBoeXBlcnR5VXJsLCBzdGF0dXM6ICdvbicgfTtcclxuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uc1toeXBlcnR5VXJsXSA9IHN1YjtcclxuXHJcbiAgICAgICAgLy9wcm9jZXNzIGFuZCBzZW5kIGNoaWxkcmVucyBkYXRhXHJcbiAgICAgICAgbGV0IGNoaWxkcmVuVmFsdWVzID0ge307XHJcbiAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoY2hpbGRJZCkgPT4ge1xyXG4gICAgICAgICAgbGV0IGNoaWxkRGF0YSA9IF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRJZF0uZGF0YTtcclxuICAgICAgICAgIGNoaWxkcmVuVmFsdWVzW2NoaWxkSWRdID0gZGVlcENsb25lKGNoaWxkRGF0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vc2VuZCBvayByZXNwb25zZSBtZXNzYWdlXHJcbiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCBzY2hlbWE6IF90aGlzLl9zY2hlbWEsIHZlcnNpb246IF90aGlzLl92ZXJzaW9uLCB2YWx1ZTogeyBkYXRhOiBkZWVwQ2xvbmUoX3RoaXMuZGF0YSksIGNoaWxkcmVuczogY2hpbGRyZW5WYWx1ZXMgfSB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdWI7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcclxuICAgICAgICAvL3NlbmQgcmVqZWN0IHJlc3BvbnNlIG1lc3NhZ2VcclxuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgYm9keTogeyBjb2RlOiA0MDMsIGRlc2M6IHJlYXNvbiB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1NVQlNDUklQVElPTi1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICBfdGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIHRoaXMgLT4gX29uRm9yd2FyZDogZW1pdHRlZCBieSBhIHJlbW90ZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgLT4gdW5zdWJzY3JpYmVcclxuICBfb25VblN1YnNjcmliZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgaHlwZXJ0eVVybCA9IG1zZy5ib2R5LmZyb207XHJcblxyXG4gICAgbGV0IHN1YiA9IF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdO1xyXG4gICAgZGVsZXRlIF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdO1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLmJvZHkudHlwZSxcclxuICAgICAgdXJsOiBoeXBlcnR5VXJsLFxyXG4gICAgICBvYmplY3Q6IHN1YlxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoX3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gUmVwb3J0ZXJVUkwgYWRkcmVzczogZW1pdGVkIGJ5IGEgcmVtb3RlIFN5bmNoZXIgLT4gX29uUmVtb3RlQ3JlYXRlIC0+IGV2ZW50LmFja1xyXG4gIF9vblJlc3BvbnNlKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxyXG4gICAgICB1cmw6IG1zZy5mcm9tLFxyXG4gICAgICBjb2RlOiBtc2cuYm9keS5jb2RlXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1JFU1BPTlNFLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vblJlc3BvbnNlSGFuZGxlcihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBSZXBvcnRlclVSTCBhZGRyZXNzOiBlbWl0ZWQgYnkgYSByZW1vdGUgU3luY2hlciAtPiByZWFkXHJcbiAgX29uUmVhZChtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IGV2ZW50ID0ge1xyXG4gICAgICB0eXBlOiBtc2cudHlwZSxcclxuICAgICAgdXJsOiBtc2cuZnJvbSxcclxuXHJcbiAgICAgIGFjY2VwdDogKCkgPT4ge1xyXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXHJcbiAgICAgICAgICBib2R5OiB7IGNvZGU6IDIwMCwgdmFsdWU6IGRlZXBDbG9uZShfdGhpcy5kYXRhKSB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcclxuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgYm9keTogeyBjb2RlOiA0MDEsIGRlc2M6IHJlYXNvbiB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKF90aGlzLl9vblJlYWRIYW5kbGVyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSRUFELUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vblJlYWRIYW5kbGVyKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0UmVwb3J0ZXI7XHJcbiIsIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbi8qKlxyXG4gKiBAYWNjZXNzIHByaXZhdGVcclxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgY29sbGVjdGluZyBkZWx0YSBjaGFuZ2VzIGluIHJlbW90ZSBvYmplY3RzLCBiZWZvcmUgdGhlIHJlc3BvbnNlIG9mIHN1YnNjcmlwdGlvbiByZWFjaCB0aGUgb2JzZXJ2ZXIuXHJcbiAqIEl0J3MgdXNlZCBpbiBTeW5jaGVyIC0+IHN1YnNjcmliZS4gVGhlIGZsb3cgaXMgZGVmaW5lZCBhczpcclxuICogMS4gKG9ic2VydmVyKSAtLXN1YnNjcmliZS0tPiAocmVwb3J0ZXIpXHJcbiAqIDIuIChvYnNlcnZlcikgPC0tZGVsdGEgdXBkYXRlcy0tIChyZXBvcnRlcilcclxuICogMy4gKG9ic2VydmVyKSA8LS1zdWJzY3JpYmUgcmVzcG9uc2UtLSAocmVwb3J0ZXIpXHJcbiAqIFRoaXMgbWVhbnMgdGhhdCB0aGVyZSBjb3VsZCBiZSBkZWx0YSB1cGRhdGVzIHRyYW5zZmVycmVkIGJlZm9yZSB0aGUgc3Vic2NyaXB0aW9uIGNvbmZpcm1hdGlvbi5cclxuICogU2luY2UgdGhlcmUgaXMgbm8gRGF0YU9iamVjdE9ic2VydmVyIGJlZm9yZSB0aGUgdWJzY3JpcHRpb24gY29uZmlybWF0aW9uLCB0aGVyZSBzaG91bGQgYmUgc29tZSBvdGhlciBvYmplY3QgY29sbGVjdGluZyB0aGUgdXBkYXRlcy5cclxuICogUHJvdmlzaW9uYWwgZGF0YSBpcyBhcHBsaWVkIHRvIHRoZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgYWZ0ZXIgY29uZmlybWF0aW9uLiBPciBkaXNjYXJkZWQgaWYgdGhlcmUgaXMgbm8gY29uZmlybWF0aW9uLlxyXG4gKi9cclxuY2xhc3MgRGF0YVByb3Zpc2lvbmFsIHtcclxuICAvKiBwcml2YXRlXHJcbiAgX2NoaWxkcmVuTGlzdGVuZXJzOiBbTXNnTGlzdGVuZXJdXHJcbiAgX2xpc3RlbmVyOiBNc2dMaXN0ZW5lclxyXG5cclxuICBfY2hhbmdlczogW11cclxuICAqL1xyXG5cclxuICBjb25zdHJ1Y3Rvcihvd25lciwgdXJsLCBidXMsIGNoaWxkcmVuKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xyXG4gICAgX3RoaXMuX3VybCA9IHVybDtcclxuICAgIF90aGlzLl9idXMgPSBidXM7XHJcbiAgICBfdGhpcy5fY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuXHJcbiAgICBfdGhpcy5fY2hhbmdlcyA9IFtdO1xyXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9saXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoX3RoaXMuX3VybCwgKG1zZykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGF0YVByb3Zpc2lvbmFsLScgKyBfdGhpcy5fdXJsICsgJy1SQ1Y6ICcsIG1zZyk7XHJcbiAgICAgIF90aGlzLl9jaGFuZ2VzLnB1c2gobXNnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qXHJcbiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTtcclxuICAgIGlmIChfdGhpcy5fY2hpbGRyZW4pIHtcclxuICAgICAgbGV0IGNoaWxkQmFzZVVSTCA9IHVybCArICcvY2hpbGRyZW4vJztcclxuICAgICAgX3RoaXMuX2NoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgbGV0IGNoaWxkVVJMID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7XHJcbiAgICAgICAgbGV0IGxpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihjaGlsZFVSTCwgKG1zZykgPT4ge1xyXG4gICAgICAgICAgLy9pZ25vcmUgbXNnIHNlbnQgYnkgaGltc2VsZlxyXG4gICAgICAgICAgaWYgKG1zZy5mcm9tICE9PSBvd25lcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSovXHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX2xpc3RlbmVyLnJlbW92ZSgpO1xyXG5cclxuICAgIC8qX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgIGxpc3RlbmVyLnJlbW92ZSgpO1xyXG4gICAgfSk7Ki9cclxuICB9XHJcblxyXG4gIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XHJcblxyXG4gIGFwcGx5KG9ic2VydmVyKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX2NoYW5nZXMuZm9yRWFjaCgoY2hhbmdlKSA9PiB7XHJcbiAgICAgIG9ic2VydmVyLl9jaGFuZ2VPYmplY3Qob2JzZXJ2ZXIuX3N5bmNPYmosIGNoYW5nZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERhdGFQcm92aXNpb25hbDtcclxuIiwiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG5cclxuaW1wb3J0IHtkZWVwQ2xvbmV9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBAYWNjZXNzIHByaXZhdGVcclxuICogTWFpbiBjbGFzcyB0aGF0IG1haW50YWlucyBhIEpTT04gb2JqZWN0LCBhbmQgb2JzZXJ2ZXMgY2hhbmdlcyBpbiB0aGlzIG9iamVjdCwgcmVjdXJzaXZlbHkuXHJcbiAqIEludGVybmFsIG9iamVjdHMgYW5kIGFycmF5cyBhcmUgYWxzbyBvYnNlcnZlZC5cclxuICovXHJcbmNsYXNzIFN5bmNPYmplY3Qge1xyXG4gIC8qIHByaXZhdGVcclxuICAgIF9kYXRhOiBhbnk7XHJcbiAgICBfb2JzZXJ2ZXJzOiAoKGV2ZW50OiBDaGFuZ2VFdmVudCkgPT4gdm9pZClbXVxyXG4gICovXHJcblxyXG4gIGNvbnN0cnVjdG9yKGluaXRpYWxEYXRhKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9vYnNlcnZlcnMgPSBbXTtcclxuICAgIF90aGlzLl9maWx0ZXJzID0ge307XHJcblxyXG4gICAgaWYgKGluaXRpYWxEYXRhKSB7XHJcbiAgICAgIF90aGlzLl9kYXRhID0gZGVlcENsb25lKGluaXRpYWxEYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF90aGlzLl9kYXRhID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgX3RoaXMuX2ludGVybmFsT2JzZXJ2ZShuZXcgUGF0aCgpLCBfdGhpcy5fZGF0YSk7XHJcbiAgfVxyXG5cclxuICBnZXQgZGF0YSgpIHsgcmV0dXJuIHRoaXMuX2RhdGE7IH1cclxuXHJcbiAgb2JzZXJ2ZShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgZmluZChwYXRoKSB7XHJcbiAgICBsZXQgbGlzdCA9IHBhdGguc3BsaXQoJy4nKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdChsaXN0KTtcclxuICB9XHJcblxyXG4gIGZpbmRCZWZvcmUocGF0aCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgbGV0IGxpc3QgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICByZXN1bHQubGFzdCA9IGxpc3QucG9wKCk7XHJcbiAgICByZXN1bHQub2JqID0gdGhpcy5fZmluZFdpdGhTcGxpdChsaXN0KTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgX2ZpbmRXaXRoU3BsaXQobGlzdCkge1xyXG4gICAgbGV0IG9iaiA9IHRoaXMuX2RhdGE7XHJcbiAgICBsaXN0LmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgIG9iaiA9IG9ialt2YWx1ZV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgX2ZpcmVFdmVudChldmVudCkge1xyXG4gICAgdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2lzT2JzZXJ2YWJsZShvYmopIHtcclxuICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IE9iamVjdCB8fCBvYmouY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9pbnRlcm5hbE9ic2VydmUocGF0aCwgb2JqKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChfdGhpcy5faXNPYnNlcnZhYmxlKG9iaikpIHtcclxuICAgICAgbGV0IGhhbmRsZXIgPSAoY2hhbmdlcykgPT4ge1xyXG4gICAgICAgIF90aGlzLl9vbkNoYW5nZXMocGF0aCwgY2hhbmdlcyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuICAgICAgICBPYmplY3Qub2JzZXJ2ZShvYmosIGhhbmRsZXIpO1xyXG4gICAgICAgIGZvciAobGV0IHByb3AgaW4gb2JqKSB7XHJcbiAgICAgICAgICBpZiAoX3RoaXMuX2lzT2JzZXJ2YWJsZShvYmpbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbE9ic2VydmUocGF0aC5uZXcocHJvcCksIG9ialtwcm9wXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgICAgICBBcnJheS5vYnNlcnZlKG9iaiwgaGFuZGxlcik7XHJcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHtcclxuICAgICAgICAgIGlmIChfdGhpcy5faXNPYnNlcnZhYmxlKG9ialtwcm9wXSkpIHtcclxuICAgICAgICAgICAgbGV0IG5wID0gcGF0aC5uZXcobmV3IEFycmF5SW5kZXgob2JqW3Byb3BdLCBwcm9wKSk7XHJcbiAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbE9ic2VydmUobnAsIG9ialtwcm9wXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfb25DaGFuZ2VzKHBhdGgsIGNoYW5nZXMpIHtcclxuICAgIGZvciAobGV0IGkgaW4gY2hhbmdlcykge1xyXG4gICAgICBsZXQgb2JqID0gY2hhbmdlc1tpXS5vYmplY3Q7XHJcbiAgICAgIGxldCBvYmpUeXBlO1xyXG5cclxuICAgICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XHJcbiAgICAgICAgb2JqVHlwZSA9IE9iamVjdFR5cGUuT0JKRUNUO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG4gICAgICAgIG9ialR5cGUgPSBPYmplY3RUeXBlLkFSUkFZO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2hhbmdlc1tpXS50eXBlID09PSAnc3BsaWNlJykge1xyXG4gICAgICAgIGxldCBpZHggPSBjaGFuZ2VzW2ldLmluZGV4O1xyXG4gICAgICAgIGxldCBmaWVsZCA9IHBhdGgubmV3KCcnICsgaWR4KTtcclxuICAgICAgICBsZXQgZmllbGRTdHJpbmcgPSBmaWVsZC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBsZXQgcmVtb3ZlU2l6ZSA9IGNoYW5nZXNbaV0ucmVtb3ZlZC5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHJlbW92ZVNpemUgIT09IDApIHtcclxuICAgICAgICAgIGxldCByZW1vdmVWYWx1ZXMgPSBjaGFuZ2VzW2ldLnJlbW92ZWQ7XHJcbiAgICAgICAgICByZW1vdmVWYWx1ZXMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc09ic2VydmFibGUodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgcGF0aC5yZW1vdmVJbmRleChpZHggKyBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCh7XHJcbiAgICAgICAgICAgIGNUeXBlOiBDaGFuZ2VUeXBlLlJFTU9WRSxcclxuICAgICAgICAgICAgb1R5cGU6IG9ialR5cGUsXHJcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZFN0cmluZyxcclxuICAgICAgICAgICAgZGF0YTogcmVtb3ZlU2l6ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYWRkU2l6ZSA9IGNoYW5nZXNbaV0uYWRkZWRDb3VudDtcclxuICAgICAgICBpZiAoYWRkU2l6ZSAhPT0gMCkge1xyXG4gICAgICAgICAgbGV0IGFkZFZhbHVlcyA9IG9iai5zbGljZShpZHgsIGlkeCArIGFkZFNpemUpO1xyXG4gICAgICAgICAgYWRkVmFsdWVzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNPYnNlcnZhYmxlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIGxldCBucCA9IHBhdGgubmV3KG5ldyBBcnJheUluZGV4KHZhbHVlLCBpZHggKyBpbmRleCkpO1xyXG4gICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsT2JzZXJ2ZShucCwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoe1xyXG4gICAgICAgICAgICBjVHlwZTogQ2hhbmdlVHlwZS5BREQsXHJcbiAgICAgICAgICAgIG9UeXBlOiBvYmpUeXBlLFxyXG4gICAgICAgICAgICBmaWVsZDogZmllbGRTdHJpbmcsXHJcbiAgICAgICAgICAgIGRhdGE6IGRlZXBDbG9uZShhZGRWYWx1ZXMpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmUtZGVmaW5lIHBhdGhzLi4uXHJcbiAgICAgICAgaWYgKGlkeCAhPT0gb2JqLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHBhdGgucmVJbmRleEZyb20ob2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IGZpZWxkID0gcGF0aC5uZXcoY2hhbmdlc1tpXS5uYW1lKTtcclxuICAgICAgICBsZXQgZmllbGRTdHJpbmcgPSBmaWVsZC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpZiAoZmllbGRTdHJpbmcuaW5kZXhPZignU3ltYm9sJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAvL2hhY2sgZm9yIFBoYW50b21KUzJcclxuICAgICAgICAgIC8vY29uc29sZS5sb2coJ1NZTUJPTDogJywgY2hhbmdlc1tpXSk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vbGV0IG9sZFZhbHVlID0gY2hhbmdlc1tpXS5vbGRWYWx1ZTtcclxuICAgICAgICBsZXQgbmV3VmFsdWUgPSBvYmpbY2hhbmdlc1tpXS5uYW1lXTtcclxuICAgICAgICBpZiAoY2hhbmdlc1tpXS50eXBlID09PSAndXBkYXRlJykge1xyXG4gICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KHtcclxuICAgICAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuVVBEQVRFLFxyXG4gICAgICAgICAgICBvVHlwZTogb2JqVHlwZSxcclxuICAgICAgICAgICAgZmllbGQ6IGZpZWxkU3RyaW5nLFxyXG4gICAgICAgICAgICBkYXRhOiBkZWVwQ2xvbmUobmV3VmFsdWUpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzW2ldLnR5cGUgPT09ICdhZGQnKSB7XHJcbiAgICAgICAgICB0aGlzLl9pbnRlcm5hbE9ic2VydmUoZmllbGQsIG5ld1ZhbHVlKTtcclxuICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCh7XHJcbiAgICAgICAgICAgIGNUeXBlOiBDaGFuZ2VUeXBlLkFERCxcclxuICAgICAgICAgICAgb1R5cGU6IG9ialR5cGUsXHJcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZFN0cmluZyxcclxuICAgICAgICAgICAgZGF0YTogZGVlcENsb25lKG5ld1ZhbHVlKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlc1tpXS50eXBlID09PSAnZGVsZXRlJykge1xyXG4gICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KHtcclxuICAgICAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuUkVNT1ZFLFxyXG4gICAgICAgICAgICBvVHlwZTogb2JqVHlwZSxcclxuICAgICAgICAgICAgZmllbGQ6IGZpZWxkU3RyaW5nXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vZHluYW1pYyBwYXRoIGZvciBBcnJheSBpbmRleC4uLlxyXG5jbGFzcyBQYXRoIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9wYXRoID0gW107XHJcbiAgICB0aGlzLl9vYnNlcnZhYmxlcyA9IHt9OyAvLzxpbmRleDpBcnJheUluZGV4PlxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlSW5kZXgoaWR4KSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKCdSRU1PVkUtUEFUSCAnICsgaWR4KTtcclxuICAgIGRlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tpZHhdO1xyXG4gIH1cclxuXHJcbiAgcmVJbmRleEZyb20oYXJyYXkpIHtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgbGV0IGFycmF5SW5kZXggPSB0aGlzLl9vYnNlcnZhYmxlc1trZXldO1xyXG4gICAgICBsZXQgaWR4ID0gYXJyYXkuaW5kZXhPZihhcnJheUluZGV4Lm9iaik7XHJcbiAgICAgIGlmIChhcnJheUluZGV4LmlkeCAhPSBpZHgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdSRS1JTkRFWDogJyArIGtleSArICctPicgKyBpZHgpO1xyXG4gICAgICAgIGFycmF5SW5kZXguaWR4ID0gaWR4O1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1trZXldO1xyXG4gICAgICAgIHRoaXMuX29ic2VydmFibGVzW2lkeF0gPSBhcnJheUluZGV4O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5ldyhpZHgpIHtcclxuICAgIGlmIChpZHguY29uc3RydWN0b3IgPT0gQXJyYXlJbmRleCkge1xyXG4gICAgICAvL2NvbnNvbGUubG9nKCdQQVRILU9CU0VSVjogJywgaWR4KTtcclxuICAgICAgdGhpcy5fb2JzZXJ2YWJsZXNbaWR4LmlkeF0gPSBpZHg7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG5QYXRoID0gdGhpcy5jbG9uZSgpO1xyXG4gICAgblBhdGguX3BhdGgucHVzaChpZHgpO1xyXG5cclxuICAgIHJldHVybiBuUGF0aDtcclxuICB9XHJcblxyXG4gIGNsb25lKCkge1xyXG4gICAgbGV0IG5QYXRoID0gbmV3IFBhdGgoKTtcclxuICAgIHRoaXMuX3BhdGguZm9yRWFjaCgodmFsdWUpID0+IHtcclxuICAgICAgblBhdGguX3BhdGgucHVzaCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gblBhdGg7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIC8vVE9ETzogb3B0aW1pemUhIVxyXG4gICAgbGV0IHN0ciA9ICcnO1xyXG4gICAgdGhpcy5fcGF0aC5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgc3RyID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdHIgKz0gJy4nICsgdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEFycmF5SW5kZXgge1xyXG5cclxuICBjb25zdHJ1Y3RvcihvYmosIGlkeCkge1xyXG4gICAgdGhpcy5vYmogPSBvYmo7XHJcbiAgICB0aGlzLmlkeCA9IGlkeDtcclxuICB9XHJcblxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIENoYW5nZVR5cGUgPSB7VVBEQVRFOiAndXBkYXRlJywgQUREOiAnYWRkJywgUkVNT1ZFOiAncmVtb3ZlJ307XHJcbmV4cG9ydCB2YXIgT2JqZWN0VHlwZSA9IHtPQkpFQ1Q6ICdvYmplY3QnLCBBUlJBWTogJ2FycmF5J307XHJcbmV4cG9ydCBkZWZhdWx0IFN5bmNPYmplY3Q7XHJcbiIsIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbmltcG9ydCBEYXRhT2JqZWN0UmVwb3J0ZXIgZnJvbSAnLi9EYXRhT2JqZWN0UmVwb3J0ZXInO1xyXG5pbXBvcnQgRGF0YU9iamVjdE9ic2VydmVyIGZyb20gJy4vRGF0YU9iamVjdE9ic2VydmVyJztcclxuaW1wb3J0IERhdGFQcm92aXNpb25hbCBmcm9tICcuL0RhdGFQcm92aXNpb25hbCc7XHJcblxyXG4vKipcclxuKiBUaGUgbWFpbiBjbGFzcyBmb3IgdGhlIHN5bmNoZXIgcGFja2FnZS5cclxuKiBUaGUgU3luY2hlciBpcyBhIHNpbmdsZXRvbiBjbGFzcyBwZXIgSHlwZXJ0eS9VUkwgYW5kIGl0IGlzIHRoZSBvd25lciBvZiBhbGwgY3JlYXRlZCBEYXRhIFN5bmMgT2JqZWN0cyBhY2NvcmRpbmcgdG8gdGhlIFJlcG9ydGVyIC0gT2JzZXJ2ZXIgcGF0dGVybi5cclxuKiBNYWluIGZ1bmN0aW9uYWxpdHkgaXMgdG8gY3JlYXRlIHJlcG9ydGVycyBhbmQgdG8gc3Vic2NyaWJlIHRvIGV4aXN0aW5nIG9uZXMuXHJcbiovXHJcbmNsYXNzIFN5bmNoZXIge1xyXG4gIC8qIHByaXZhdGVcclxuICBfb3duZXI6IFVSTFxyXG4gIF9idXM6IE1pbmlCdXNcclxuXHJcbiAgX3N1YlVSTDogVVJMXHJcblxyXG4gIF9yZXBvcnRlcnM6IDx1cmw6IERhdGFPYmplY3RSZXBvcnRlcj5cclxuICBfb2JzZXJ2ZXJzOiA8dXJsOiBEYXRhT2JqZWN0T2JzZXJ2ZXI+XHJcbiAgX3Byb3Zpc2lvbmFsczogPHVybDogRGF0YVByb3Zpc2lvbmFsPlxyXG5cclxuICAtLS0tZXZlbnQgaGFuZGxlcnMtLS0tXHJcbiAgX29uTm90aWZpY2F0aW9uSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXHJcbiAgKi9cclxuXHJcbiAgLyoqXHJcbiAgKiBDb25zdHJ1Y3RvciB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHRoZSBIeXBlcnR5IG93bmVyXHJcbiAgKiBAcGFyYW0ge0h5cGVydHlVUkx9IG93bmVyIC0gSHlwZXJ0eSBVUkwgb3duZXIuIEFuIFVSTCBhbGxvY2F0ZWQgYnkgdGhlIHJ1bnRpbWUgdGhhdCB1bmlxdWVseSBpZGVudGlmaWVzIHRoZSBIeXBlcnR5LlxyXG4gICogQHBhcmFtIHtNaW5pQnVzfSBidXMgLSBBbiBpbnN0YW5jZSBvZiB0aGUgTWluaUJ1cyBwcm92aWRlZCBpbiB0aGUgc2FuZGJveC4gV2hlbiBhbiBvYmplY3QgKFJlcG9ydGVyIG9yIE9ic2VydmVkKSBpcyBjcmVhdGVkLCB0aGUgU3luY2hlck1hbmFnZXIgd2lsbCBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgTWluaUJ1cyB0byByZWNlaXZlL3NlbmQgTWVzc2FnZXMgb2YgdGhhdCBvYmplY3QuXHJcbiAgKiBAcGFyYW0ge0pTT059IGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gZGF0YS4gVGhlIG9ubHkgcmVxdWlyZWQgZmllbGQgZm9yIG5vdyBpcyB0aGUgcnVudGltZVVSTC5cclxuICAqL1xyXG4gIGNvbnN0cnVjdG9yKG93bmVyLCBidXMsIGNvbmZpZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fb3duZXIgPSBvd25lcjtcclxuICAgIF90aGlzLl9idXMgPSBidXM7XHJcblxyXG4gICAgX3RoaXMuX3N1YlVSTCA9IGNvbmZpZy5ydW50aW1lVVJMICsgJy9zbSc7XHJcblxyXG4gICAgX3RoaXMuX3JlcG9ydGVycyA9IHt9O1xyXG4gICAgX3RoaXMuX29ic2VydmVycyA9IHt9O1xyXG4gICAgX3RoaXMuX3Byb3Zpc2lvbmFscyA9IHt9O1xyXG5cclxuICAgIGJ1cy5hZGRMaXN0ZW5lcihvd25lciwgKG1zZykgPT4ge1xyXG4gICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXHJcbiAgICAgIGlmIChtc2cuZnJvbSAhPT0gb3duZXIpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1tTeW5jaGVyXSBTeW5jaGVyLVJDVjogJywgbXNnKTtcclxuICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdmb3J3YXJkJzogX3RoaXMuX29uRm9yd2FyZChtc2cpOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2NyZWF0ZSc6IF90aGlzLl9vblJlbW90ZUNyZWF0ZShtc2cpOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6IF90aGlzLl9vblJlbW90ZURlbGV0ZShtc2cpOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBUaGUgb3duZXIgb2YgdGhlIFN5bmNoZXIgYW5kIGFsbCBjcmVhdGVkIHJlcG9ydGVycy5cclxuICAqIEB0eXBlIHtIeXBlcnR5VVJMfVxyXG4gICovXHJcbiAgZ2V0IG93bmVyKCkgeyByZXR1cm4gdGhpcy5fb3duZXI7IH1cclxuXHJcbiAgLyoqXHJcbiAgKiBBbGwgb3duZWQgcmVwb3J0ZXJzLCB0aGUgb25lcyB0aGF0IHdlcmUgY3JlYXRlZCBieSBhIGNyZWF0ZVxyXG4gICogQHR5cGUge09iamVjdDxVUkwsIERhdGFPYmplY3RSZXBvcnRlcj59XHJcbiAgKi9cclxuICBnZXQgcmVwb3J0ZXJzKCkgeyByZXR1cm4gdGhpcy5fcmVwb3J0ZXJzOyB9XHJcblxyXG4gIC8qKlxyXG4gICogQWxsIG93bmVkIG9ic2VydmVycywgdGhlIG9uZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgYnkgYSBsb2NhbCBzdWJzY3JpcHRpb25cclxuICAqIEB0eXBlIHtPYmplY3Q8VVJMLCBEYXRhT2JqZWN0T2JzZXJ2ZXI+fVxyXG4gICovXHJcbiAgZ2V0IG9ic2VydmVycygpIHsgcmV0dXJuIHRoaXMuX29ic2VydmVyczsgfVxyXG5cclxuICAvKipcclxuICAqIFJlcXVlc3QgYSBEYXRhT2JqZWN0UmVwb3J0ZXIgY3JlYXRpb24uIFRoZSBVUkwgd2lsbCBiZSBiZSByZXF1ZXN0ZWQgYnkgdGhlIGFsbG9jYXRpb24gbWVjaGFuaXNtLlxyXG4gICogQHBhcmFtICB7U2NoZW1hVVJMfSBzY2hlbWEgLSBIeXBlcnR5IENhdGFsb2d1ZSBVUkwgYWRkcmVzcyB0aGF0IGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBKU09OLVNjaGVtYSBkZXNjcmliaW5nIHRoZSBEYXRhIE9iamVjdCBzY2hlbWFcclxuICAqIEBwYXJhbSAge0h5cGVydHlVUkxbXX0gb2JzZXJ2ZXJzIC0gTGlzdCBvZiBoeXBlcnRpZXMgdGhhdCBhcmUgcHJlLWF1dGhvcml6ZWQgZm9yIHN1YnNjcmlwdGlvblxyXG4gICogQHBhcmFtICB7SlNPTn0gaW5pdGlhbERhdGEgLSBJbml0aWFsIGRhdGEgb2YgdGhlIHJlcG9ydGVyXHJcbiAgKiBAcGFyYW0gIHtzdHJpbmd9IG9iamVjdFVSTCAtIHJldXNhYmxlIGRhdGFPYmplY3QgVVJMXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RSZXBvcnRlcj59IFJldHVybiBQcm9taXNlIHRvIGEgbmV3IFJlcG9ydGVyLiBUaGUgcmVwb3J0ZXIgY2FuIGJlIGFjY2VwdGVkIG9yIHJlamVjdGVkIGJ5IHRoZSBQRVBcclxuICAqL1xyXG4gIGNyZWF0ZShzY2hlbWEsIG9ic2VydmVycywgaW5pdGlhbERhdGEsIG9iamVjdFVSTCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpbml0aWFsRGF0YS5yZXBvcnRlciA9IF90aGlzLl9vd25lcjtcclxuICAgIGluaXRpYWxEYXRhLnNjaGVtYSA9IHNjaGVtYTtcclxuXHJcbiAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkNyZWF0ZVxyXG4gICAgbGV0IHJlcXVlc3RNc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdjcmVhdGUnLCBmcm9tOiBfdGhpcy5fb3duZXIsIHRvOiBfdGhpcy5fc3ViVVJMLFxyXG4gICAgICBib2R5OiB7IGF1dGhvcmlzZTogb2JzZXJ2ZXJzLCB2YWx1ZTogaW5pdGlhbERhdGEsIHNjaGVtYTogc2NoZW1hfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJZiBhbiBvYmplY3RVUkwgd2lsbCBiZSBwYXNzZWQsIHRoZW4gcmV1c1xyXG4gICAgaWYgKG9iamVjdFVSTCkge1xyXG4gICAgICByZXF1ZXN0TXNnLmJvZHkucmVzb3VyY2UgPSBvYmplY3RVUkw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgLy9yZXF1ZXN0IGNyZWF0ZSB0byB0aGUgYWxsb2NhdGlvbiBzeXN0ZW0uIENhbiBiZSByZWplY3RlZCBieSB0aGUgUG9saWN5RW5naW5lLlxyXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHJlcXVlc3RNc2csIChyZXBseSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnW1N5bmNoZXJdIGNyZWF0ZS1yZXNwb25zZTogJywgcmVwbHkpO1xyXG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgLy9yZXBvcnRlciBjcmVhdGlvbiBhY2NlcHRlZFxyXG4gICAgICAgICAgbGV0IG9ialVSTCA9IHJlcGx5LmJvZHkucmVzb3VyY2U7XHJcbiAgICAgICAgICBsZXQgbmV3T2JqID0gbmV3IERhdGFPYmplY3RSZXBvcnRlcihfdGhpcywgb2JqVVJMLCBzY2hlbWEsICdvbicsIGluaXRpYWxEYXRhLCByZXBseS5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtcclxuICAgICAgICAgIF90aGlzLl9yZXBvcnRlcnNbb2JqVVJMXSA9IG5ld09iajtcclxuXHJcbiAgICAgICAgICByZXNvbHZlKG5ld09iaik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vcmVwb3J0ZXIgY3JlYXRpb24gcmVqZWN0ZWRcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogUmVxdWVzdCBhIHN1YnNjcmlwdGlvbiB0byBhbiBleGlzdGVudCByZXBvcnRlciBvYmplY3QuXHJcbiAgKiBAcGFyYW0ge1NjaGVtYVVSTH0gc2NoZW1hIC0gSHlwZXJ0eSBDYXRhbG9ndWUgVVJMIGFkZHJlc3MgdGhhdCBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgSlNPTi1TY2hlbWEgZGVzY3JpYmluZyB0aGUgRGF0YSBPYmplY3Qgc2NoZW1hXHJcbiAgKiBAcGFyYW0ge09iamVjdFVSTH0gb2JqVVJMIC0gQWRkcmVzcyBvZiB0aGUgZXhpc3RlbnQgcmVwb3J0ZXIgb2JqZWN0IHRvIGJlIG9ic2VydmVkXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RPYnNlcnZlcj59IFJldHVybiBQcm9taXNlIHRvIGEgbmV3IG9ic2VydmVyLiBJdCdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVwb3J0ZXIuXHJcbiAgKi9cclxuICBzdWJzY3JpYmUoc2NoZW1hLCBvYmpVUkwpIHtcclxuICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgU3luY2hlck1hbmFnZXIgLT4gX29uTG9jYWxTdWJzY3JpYmVcclxuICAgbGV0IHN1YnNjcmliZU1zZyA9IHtcclxuICAgICB0eXBlOiAnc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N1YlVSTCxcclxuICAgICBib2R5OiB7IHNjaGVtYTogc2NoZW1hLCByZXNvdXJjZTogb2JqVVJMIH1cclxuICAgfTtcclxuXHJcbiAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgLy9yZXF1ZXN0IHN1YnNjcmlwdGlvblxyXG4gICAgIC8vUHJvdmlzaW9uYWwgZGF0YSBpcyBhcHBsaWVkIHRvIHRoZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgYWZ0ZXIgY29uZmlybWF0aW9uLiBPciBkaXNjYXJkZWQgaWYgdGhlcmUgaXMgbm8gY29uZmlybWF0aW9uLlxyXG4gICAgIC8vZm9yIG1vcmUgaW5mbyBzZWUgdGhlIERhdGFQcm92aXNpb25hbCBjbGFzcyBkb2N1bWVudGF0aW9uLlxyXG4gICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoc3Vic2NyaWJlTXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgIGNvbnNvbGUuaW5mbygnW1N5bmNoZXJdIHN1YnNjcmliZS1yZXNwb25zZTogJywgcmVwbHkpO1xyXG4gICAgICAgbGV0IG5ld1Byb3Zpc2lvbmFsID0gX3RoaXMuX3Byb3Zpc2lvbmFsc1tvYmpVUkxdO1xyXG4gICAgICAgZGVsZXRlIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXTtcclxuICAgICAgIGlmIChuZXdQcm92aXNpb25hbCkgbmV3UHJvdmlzaW9uYWwuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlIDwgMjAwKSB7XHJcbiAgICAgICAgIG5ld1Byb3Zpc2lvbmFsID0gbmV3IERhdGFQcm92aXNpb25hbChfdGhpcy5fb3duZXIsIG9ialVSTCwgX3RoaXMuX2J1cywgcmVwbHkuYm9keS5jaGlsZHJlblJlc291cmNlcyk7XHJcbiAgICAgICAgIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXSA9IG5ld1Byb3Zpc2lvbmFsO1xyXG4gICAgICAgfSBlbHNlIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgICBsZXQgbmV3T2JqID0gbmV3IERhdGFPYmplY3RPYnNlcnZlcihfdGhpcywgb2JqVVJMLCBzY2hlbWEsICdvbicsIHJlcGx5LmJvZHkudmFsdWUsIG5ld1Byb3Zpc2lvbmFsLmNoaWxkcmVuLCByZXBseS5ib2R5LnZlcnNpb24pO1xyXG4gICAgICAgICBjb25zb2xlLmluZm8oJ1tTeW5jaGVyIC0gc3Vic2NyaWJlXSBPYnNlcnZlciBjcmVhdGVkICcsIG5ld09iaik7XHJcbiAgICAgICAgIF90aGlzLl9vYnNlcnZlcnNbb2JqVVJMXSA9IG5ld09iajtcclxuXHJcbiAgICAgICAgIHJlc29sdmUobmV3T2JqKTtcclxuICAgICAgICAgbmV3UHJvdmlzaW9uYWwuYXBwbHkobmV3T2JqKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogUmVxdWVzdCBhIHJlYWQgYWN0aW9uIG9uIHRoZSByZXBvcnRlciBvYmplY3RcclxuICAqIEBwYXJhbSB7T2JqZWN0VVJMfSBvYmpVUkwgLSBVUkwgb2YgdGhlIHJlcG9ydGVyIG9iamVjdCB0byBiZSByZWFkXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59IFJldHVybiBQcm9taXNlIHRvIGxhc3QgYXZhaWxhYmxlIGRhdGEgb2YgdGhlIHJlcG9ydGVyXHJcbiAgKi9cclxuICByZWFkKG9ialVSTCkge1xyXG4gICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCBkaXJlY3RseSB0byByZXBvcnRlciBvYmplY3QgKG1heWJlIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGF2YWlsYWJsZSwgc28gaXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIE1lc3NhZ2VCdXMgLT4gcmVzb2x2ZSlcclxuICAgLy93aWxsIHJlYWNoIHRoZSByZW1vdGUgb2JqZWN0IGluIERhdGFPYmplY3RSZXBvcnRlciAtPiBfb25SZWFkXHJcbiAgIGxldCByZWFkTXNnID0ge1xyXG4gICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogb2JqVVJMXHJcbiAgIH07XHJcblxyXG4gICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVhZE1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICBjb25zb2xlLmluZm8oJ1tTeW5jaGVyXSByZWFkLXJlc3BvbnNlOiAnLCByZXBseSk7XHJcbiAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcclxuICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgY3JlYXRlIGFuZCBkZWxldGUgZXZlbnRzIG9mIHJlbW92ZSBSZXBvcnRlciBvYmplY3RzLlxyXG4gICogVGhpcyBpcyByZWxlYXRlZCB0byB0aGUgbWVzc2FnZW5zIHNlbnQgYnkgY3JlYXRlIHRvIHRoZSBvYnNlcnZlcnMgSHlwZXJ0eSBhcnJheS5cclxuICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2tcclxuICAqL1xyXG4gIG9uTm90aWZpY2F0aW9uKGNhbGxiYWNrKSB7XHJcbiAgIHRoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSBsb2NhbCBydW50aW1lIFJlcG9ydGVyT2JqZWN0IC0+IF9vblJlbW90ZVN1YnNjcmliZVxyXG4gIF9vbkZvcndhcmQobXNnKSB7XHJcbiAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICBsZXQgcmVwb3J0ZXIgPSBfdGhpcy5fcmVwb3J0ZXJzW21zZy5ib2R5LnRvXTtcclxuICAgcmVwb3J0ZXIuX29uRm9yd2FyZChtc2cpO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgU3luY2hlciAtPiBjcmVhdGUgKHRoaXMgaXMgYWN0dWFsbHkgYW4gaW52aXRhdGlvbiB0byBzdWJzY3JpYmUpXHJcbiAgX29uUmVtb3RlQ3JlYXRlKG1zZykge1xyXG4gICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgLy9yZW1vdmUgXCIvc3Vic2NyaXB0aW9uXCIgZnJvbSB0aGUgVVJMXHJcbiAgIGxldCByZXNvdXJjZSA9IG1zZy5mcm9tLnNsaWNlKDAsIC0xMyk7XHJcblxyXG4gICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgZnJvbTogbXNnLmJvZHkuc291cmNlLFxyXG4gICAgIHVybDogcmVzb3VyY2UsXHJcbiAgICAgc2NoZW1hOiBtc2cuYm9keS5zY2hlbWEsXHJcbiAgICAgdmFsdWU6IG1zZy5ib2R5LnZhbHVlLFxyXG4gICAgIGlkZW50aXR5OiBtc2cuYm9keS5pZGVudGl0eSxcclxuXHJcbiAgICAgYWNrOiAodHlwZSkgPT4ge1xyXG4gICAgICAgbGV0IGxUeXBlID0gMjAwO1xyXG4gICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgbFR5cGUgPSB0eXBlO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC8vc2VuZCBhY2sgcmVzcG9uc2UgbWVzc2FnZVxyXG4gICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICBib2R5OiB7IGNvZGU6IGxUeXBlIH1cclxuICAgICAgIH0pO1xyXG4gICAgIH1cclxuICAgfTtcclxuXHJcbiAgIGlmIChfdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyKSB7XHJcbiAgICAgY29uc29sZS5pbmZvKCdbU3luY2hlcl0gTk9USUZJQ0FUSU9OLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcihldmVudCk7XHJcbiAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3RSZXBvcnRlciAtPiBkZWxldGVcclxuICBfb25SZW1vdGVEZWxldGUobXNnKSB7XHJcbiAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAvL3JlbW92ZSBcIi9zdWJzY3JpcHRpb25cIiBmcm9tIHRoZSBVUkxcclxuICAgbGV0IHJlc291cmNlID0gbXNnLmJvZHkucmVzb3VyY2U7XHJcblxyXG4gICBsZXQgb2JqZWN0ID0gX3RoaXMuX29ic2VydmVyc1tyZXNvdXJjZV07XHJcbiAgIGlmIChvYmplY3QpIHtcclxuICAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgICB0eXBlOiBtc2cudHlwZSxcclxuICAgICAgIHVybDogcmVzb3VyY2UsXHJcbiAgICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHksXHJcblxyXG4gICAgICAgYWNrOiAodHlwZSkgPT4ge1xyXG4gICAgICAgICBsZXQgbFR5cGUgPSAyMDA7XHJcbiAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgbFR5cGUgPSB0eXBlO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAvL1RPRE86IGFueSBvdGhlciBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgdGhlIHJlbGVhc2UgcHJvY2VzcywgbGlrZSBhY2NlcHQgYnV0IG5vciByZWxlYXNlIGxvY2FsP1xyXG4gICAgICAgICBpZiAobFR5cGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgIG9iamVjdC5kZWxldGUoKTtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLy9zZW5kIGFjayByZXNwb25zZSBtZXNzYWdlXHJcbiAgICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgIGJvZHk6IHsgY29kZTogbFR5cGUsIHNvdXJjZTogX3RoaXMuX293bmVyIH1cclxuICAgICAgICAgfSk7XHJcbiAgICAgICB9XHJcbiAgICAgfTtcclxuXHJcbiAgICAgaWYgKF90aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXIpIHtcclxuICAgICAgIGNvbnNvbGUuaW5mbygnW1N5bmNoZXJdIE5PVElGSUNBVElPTi1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcihldmVudCk7XHJcbiAgICAgfVxyXG4gICB9IGVsc2Uge1xyXG4gICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXHJcbiAgICAgICBib2R5OiB7IGNvZGU6IDQwNCwgc291cmNlOiBfdGhpcy5fb3duZXIgfVxyXG4gICAgIH0pO1xyXG4gICB9XHJcbiAgfVxyXG5cclxuICB9XHJcblxyXG4gIGV4cG9ydCBkZWZhdWx0IFN5bmNoZXI7XHJcbiIsIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuLyoqXHJcbiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWxcclxuICogQG1vZHVsZSB1dGlsc1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiBkaXZpZGVVUkxcclxuICogQHR5cGUgT2JqZWN0XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTFxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIERpdmlkZSBhbiB1cmwgaW4gdHlwZSwgZG9tYWluIGFuZCBpZGVudGl0eVxyXG4gKiBAcGFyYW0gIHtVUkwuVVJMfSB1cmwgLSB1cmwgYWRkcmVzc1xyXG4gKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkge1xyXG5cclxuICBpZiAoIXVybCkgdGhyb3cgRXJyb3IoJ1VSTCBpcyBuZWVkZWQgdG8gc3BsaXQnKTtcclxuXHJcblx0ZnVuY3Rpb24gcmVjdXJzZSh2YWx1ZSkge1xyXG5cdFx0Y29uc3QgcmVnZXggPSAvKFthLXpBLVotXSopKDpcXC9cXC8oPzpcXC4pP3w6KShbLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cXCt+Iz1cXC9dKikvZ2k7XHJcbiAgICBjb25zdCBzdWJzdCA9ICckMSwkMywkNCc7XHJcblx0ICBsZXQgcGFydHMgPSB2YWx1ZS5yZXBsYWNlKHJlZ2V4LCBzdWJzdCkuc3BsaXQoJywnKTtcclxuXHRcdHJldHVybiBwYXJ0cztcclxuXHR9XHJcblxyXG5cdGxldCBwYXJ0cyA9IHJlY3Vyc2UodXJsKTtcclxuXHJcbiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gc2NoZW1lXHJcbiAgaWYgKHBhcnRzWzBdID09PSB1cmwgJiYgIXBhcnRzWzBdLmluY2x1ZGVzKCdAJykpIHtcclxuXHJcbiAgICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgICB0eXBlOiBcIlwiLFxyXG4gICAgICBkb21haW46IHVybCxcclxuICAgICAgaWRlbnRpdHk6IFwiXCJcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5lcnJvcignW0RpdmlkZVVSTF0gRGl2aWRlVVJMIGRvblxcJ3Qgc3VwcG9ydCB1cmwgd2l0aG91dCBzY2hlbWUuIFBsZWFzZSByZXZpZXcgeW91ciB1cmwgYWRkcmVzcycsIHVybCk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG5cdC8vIGNoZWNrIGlmIHRoZSB1cmwgaGFzIHRoZSBzY2hlbWUgYW5kIGluY2x1ZGVzIGFuIEBcclxuXHRpZiAocGFydHNbMF0gPT09IHVybCAmJiBwYXJ0c1swXS5pbmNsdWRlcygnQCcpKSB7XHJcblx0XHRsZXQgc2NoZW1lID0gcGFydHNbMF0gPT09IHVybCA/ICdzbXRwJyA6IHBhcnRzWzBdO1xyXG5cdFx0cGFydHMgPSByZWN1cnNlKHNjaGVtZSArICc6Ly8nICsgcGFydHNbMF0pO1xyXG5cdH1cclxuXHJcblx0Ly8gaWYgdGhlIGRvbWFpbiBpbmNsdWRlcyBhbiBALCBkaXZpZGUgaXQgdG8gZG9tYWluIGFuZCBpZGVudGl0eSByZXNwZWN0aXZlbHlcclxuXHRpZiAocGFydHNbMV0uaW5jbHVkZXMoJ0AnKSkge1xyXG5cdFx0cGFydHNbMl0gPSBwYXJ0c1swXSArICc6Ly8nICsgcGFydHNbMV07XHJcblx0XHRwYXJ0c1sxXSA9IHBhcnRzWzFdLnN1YnN0cihwYXJ0c1sxXS5pbmRleE9mKCdAJykgKyAxKVxyXG4gICAgfSBcdC8qZWxzZSBpZiAocGFydHNbMl0uaW5jbHVkZXMoJy8nKSkge1xyXG4gICAgcGFydHNbMl0gPSBwYXJ0c1syXS5zdWJzdHIocGFydHNbMl0ubGFzdEluZGV4T2YoJy8nKSsxKTtcclxuICB9Ki9cclxuXHJcbiAgbGV0IHJlc3VsdCA9IHtcclxuICAgIHR5cGU6IHBhcnRzWzBdLFxyXG4gICAgZG9tYWluOiBwYXJ0c1sxXSxcclxuICAgIGlkZW50aXR5OiBwYXJ0c1syXVxyXG4gIH07XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVFbWFpbChlbWFpbCkge1xyXG4gIGxldCBpbmRleE9mQXQgPSBlbWFpbC5pbmRleE9mKCdAJyk7XHJcblxyXG4gIGxldCByZXN1bHQgPSB7XHJcbiAgICB1c2VybmFtZTogZW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCksXHJcbiAgICBkb21haW46IGVtYWlsLnN1YnN0cmluZyhpbmRleE9mQXQgKyAxLCBlbWFpbC5sZW5ndGgpXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIE9iamVjdCBpcyBlbXB0eVxyXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gYmUgY2hlY2tlZFxyXG4gKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICBzdGF0dXMgb2YgT2JqZWN0LCBlbXB0eSBvciBub3QgKHRydWV8ZmFsc2UpO1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5T2JqZWN0KG9iamVjdCkge1xyXG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA+IDAgPyBmYWxzZSA6IHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YVxyXG4gKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7XHJcbiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLlxyXG4gIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0YWlucyB0aGUgdXNlciBVUkwgdGhhdCBjb3JyZXNwb25kcyB0byBhIGdpdmVuIGVtYWlsXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gdXNlckVtYWlsIFRoZSB1c2VyIGVtYWlsXHJcbiAqIEByZXR1cm4ge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclVSTEZyb21FbWFpbCh1c2VyRW1haWwpIHtcclxuICBsZXQgaW5kZXhPZkF0ID0gdXNlckVtYWlsLmluZGV4T2YoJ0AnKTtcclxuICByZXR1cm4gJ3VzZXI6Ly8nICsgdXNlckVtYWlsLnN1YnN0cmluZyhpbmRleE9mQXQgKyAxLCB1c2VyRW1haWwubGVuZ3RoKSArICcvJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoMCwgaW5kZXhPZkF0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGFpbnMgdGhlIHVzZXIgZW1haWwgdGhhdCBjb3JyZXNwb25kcyB0byBhIGdpdmVuIFVSTFxyXG4gKiBAcGFyYW0gIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTFxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHVzZXJFbWFpbCBUaGUgdXNlciBlbWFpbFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwodXNlclVSTCkge1xyXG4gIGxldCB1cmwgPSBkaXZpZGVVUkwodXNlclVSTCk7XHJcbiAgcmV0dXJuIHVybC5pZGVudGl0eS5yZXBsYWNlKCcvJywgJycpICsgJ0AnICsgdXJsLmRvbWFpbjsgLy8gaWRlbnRpdHkgZmllbGQgaGFzICcvZXhhbXBsZUlEJyBpbnN0ZWFkIG9mICdleGFtcGxlSUQnXHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhlIHVzZXIgaWRlbnRpZmllciBpcyBhbHJlYWR5IGluIHRoZSBVUkwgZm9ybWF0LCBpZiBub3QsIGNvbnZlcnQgdG8gVVJMIGZvcm1hdFxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgaWRlbnRpZmllciAgdXNlciBpZGVudGlmaWVyXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gICB1c2VyVVJMICAgIHRoZSB1c2VyIFVSTFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1VzZXJVUkwoaWRlbnRpZmllcikge1xyXG5cclxuICAvLyBjaGVjayBpZiB0aGUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGluIHRoZSB1cmwgZm9ybWF0XHJcbiAgaWYgKGlkZW50aWZpZXIuc3Vic3RyaW5nKDAsIDcpID09PSAndXNlcjovLycpIHtcclxuICAgIGxldCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKGlkZW50aWZpZXIpO1xyXG5cclxuICAgIC8vY2hlY2sgaWYgdGhlIHVybCBpcyB3ZWxsIGZvcm1hdGVkXHJcbiAgICBpZiAoZGl2aWRlZFVSTC5kb21haW4gJiYgZGl2aWRlZFVSTC5pZGVudGl0eSkge1xyXG4gICAgICByZXR1cm4gaWRlbnRpZmllcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93ICd1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0JztcclxuICAgIH1cclxuXHJcbiAgLy9pZiBub3QsIGNvbnZlcnQgdGhlIHVzZXIgZW1haWwgdG8gVVJMIGZvcm1hdFxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZ2V0VXNlclVSTEZyb21FbWFpbChpZGVudGlmaWVyKTtcclxuICB9XHJcbn1cclxuIl19\n"]}
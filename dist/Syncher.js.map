{"version":3,"sources":["Syncher.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Syncher","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","Object","observe","Array","O","A","notifier","getNotifier","perform","original","type","wrappers","push","item","args","arguments","ret","apply","index","addedCount","removed","unshift","pop","len","shift","splice","start","deleteCount","wrapper","prototype","object","handler","unobserve","2","default","__esModule","core-js/library/fn/json/stringify","3","core-js/library/fn/object/assign","4","core-js/library/fn/object/create","5","core-js/library/fn/object/define-property","6","core-js/library/fn/object/get-own-property-descriptor","7","core-js/library/fn/object/get-prototype-of","8","core-js/library/fn/object/keys","9","core-js/library/fn/object/set-prototype-of","10","core-js/library/fn/promise","11","core-js/library/fn/symbol","12","core-js/library/fn/symbol/iterator","13","instance","Constructor","TypeError","14","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","../core-js/object/define-property","15","_getPrototypeOf","_getPrototypeOf2","_getOwnPropertyDescriptor","_getOwnPropertyDescriptor2","get","property","receiver","Function","desc","undefined","parent","value","getter","../core-js/object/get-own-property-descriptor","../core-js/object/get-prototype-of","16","_setPrototypeOf","_setPrototypeOf2","_create","_create2","_typeof2","_typeof3","subClass","superClass","constructor","__proto__","../core-js/object/create","../core-js/object/set-prototype-of","../helpers/typeof","17","ReferenceError","18","_iterator","_iterator2","_symbol","_symbol2","_typeof","../core-js/symbol","../core-js/symbol/iterator","19","core","$JSON","JSON","stringify","it","../../modules/_core","20","assign","../../modules/es6.object.assign","21","$Object","P","D","create","../../modules/es6.object.create","22","defineProperty","../../modules/es6.object.define-property","23","getOwnPropertyDescriptor","../../modules/es6.object.get-own-property-descriptor","24","getPrototypeOf","../../modules/es6.object.get-prototype-of","25","keys","../../modules/es6.object.keys","26","setPrototypeOf","../../modules/es6.object.set-prototype-of","27","Promise","../modules/_core","../modules/es6.object.to-string","../modules/es6.promise","../modules/es6.string.iterator","../modules/web.dom.iterable","28","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","29","../../modules/_wks-ext","../../modules/es6.string.iterator","../../modules/web.dom.iterable","30","31","32","name","forbiddenField","33","isObject","./_is-object","34","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","./_to-index","./_to-iobject","./_to-length","35","cof","TAG","ARG","tryGet","T","B","callee","./_cof","./_wks","36","toString","slice","37","version","__e","38","aFunction","fn","that","b","c","./_a-function","39","40","./_fails","41","document","is","createElement","./_global","42","split","43","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","./_object-gops","./_object-keys","./_object-pie","44","ctx","hide","PROTOTYPE","$export","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","expProto","C","virtual","R","U","./_core","./_ctx","./_hide","45","exec","46","isArrayIter","anObject","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","step","iterator","iterFn","next","done","./_an-object","./_is-array-iter","./_iter-call","./core.get-iterator-method","47","Math","__g","48","hasOwnProperty","49","dP","createDesc","./_descriptors","./_object-dp","./_property-desc","50","documentElement","51","./_dom-create","52","un","53","propertyIsEnumerable","54","Iterators","ArrayProto","./_iterators","55","isArray","arg","56","57","58","setToStringTag","IteratorPrototype","NAME","./_object-create","./_set-to-string-tag","59","LIBRARY","redefine","has","$iterCreate","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","./_export","./_has","./_iter-create","./_library","./_object-gpo","./_redefine","60","SAFE_CLOSING","riter","from","skipClosing","safe","arr","iter","61","62","63","64","65","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","./_uid","66","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","head","last","notify","flush","domain","exit","enter","nextTick","toggle","node","createTextNode","characterData","data","resolve","promise","then","task","./_task","67","toObject","IObject","$assign","K","forEach","k","join","aLen","concat","j","./_iobject","./_to-object","68","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","appendChild","src","contentWindow","open","write","close","Properties","./_enum-bug-keys","./_html","./_object-dps","./_shared-key","69","IE8_DOM_DEFINE","toPrimitive","Attributes","./_ie8-dom-define","./_to-primitive","70","71","gOPD","72","gOPN","windowNames","getOwnPropertyNames","getWindowNames","./_object-gopn","73","$keys","hiddenKeys","./_object-keys-internal","74","getOwnPropertySymbols","75","ObjectProto","76","arrayIndexOf","names","./_array-includes","77","78","79","fails","exp","80","bitmap","81","82","83","check","test","buggy","./_object-gopd","84","DESCRIPTORS","SPECIES","85","def","tag","stat","86","shared","uid","./_shared","87","SHARED","store","88","89","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./_defined","./_to-integer","90","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","listener","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","clear","./_invoke","91","max","min","92","ceil","floor","isNaN","93","94","95","96","val","valueOf","97","px","random","98","wksExt","$Symbol","./_wks-ext","99","100","USE_SYMBOL","$exports","101","classof","getIteratorMethod","./_classof","102","addToUnscopables","iterated","_t","_i","_k","Arguments","./_add-to-unscopables","./_iter-define","./_iter-step","103","./_object-assign","104","105","106","$getOwnPropertyDescriptor","./_object-sap","107","$getPrototypeOf","108","109","./_set-proto","110","111","Internal","GenericPromiseCapability","Wrapper","anInstance","forOf","speciesConstructor","microtask","PROMISE","$Promise","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","reject","$$resolve","$$reject","error","isReject","_n","chain","_c","_v","ok","_s","reaction","fail","_h","onHandleUnhandled","onUnhandled","abrupt","console","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","executor","err","onFulfilled","onRejected","catch","capability","x","all","remaining","$index","alreadyCalled","race","./_an-instance","./_for-of","./_iter-detect","./_microtask","./_redefine-all","./_set-species","./_species-constructor","112","$at","point","./_string-at","113","$fails","wks","wksDefine","keyOf","enumKeys","gOPNExt","$GOPD","$DP","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","for","keyFor","useSetter","useSimple","replacer","$replacer","./_enum-keys","./_is-array","./_keyof","./_meta","./_object-gopn-ext","./_wks-define","114","115","116","TO_STRING_TAG","collections","Collection","./es6.array.iterator","117","root","_undefined","observed","handlers","defaultAcceptList","inArray","indexOf","array","pivot","createMap","Map","size","delete","callback","getProps","func","avoid","replace","prop","hop","getPrototype","getDescriptor","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","initial","Date","doObserve","acceptList","performPropertyChecks","setHandler","createObjectData","runGlobalLoop","descs","frozen","isFrozen","extensible","properties","retrieveNotifier","descriptors","updateCheck","idx","except","descr","ovalue","odesc","addChangeRecord","oldValue","deletionCheck","proplen","deliverHandlerRecords","hdata","records","changeRecords","changeRecord","recordCopy","performChange","changeType","thisObj","odata","deliverChangeRecords","118","DataObjectObserver","DataObjectReporter","_Syncher","_Syncher2","_DataObjectReporter","_DataObjectReporter2","_DataObjectObserver","_DataObjectObserver2","./syncher/DataObjectObserver","./syncher/DataObjectReporter","./syncher/Syncher","array.observe","object.observe","119","_promise","_promise2","_keys","_keys2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_SyncObject","_SyncObject2","_DataObjectChild","_DataObjectChild2","_utils","DataObject","syncher","url","schema","initialStatus","initialData","childrens","_this","_syncher","_url","_schema","_status","_syncObj","_childrens","_version","_childId","_childrenObjects","_childrenListeners","_owner","_bus","_this2","childBaseURL","child","childURL","addListener","msg","log","_onChildCreate","_changeChildren","remove","_releaseListeners","children","msgChildId","msgChildPath","requestMsg","to","body","resource","msgId","newChild","onChange","_onChange","path","childId","_onAddChildrenHandler","identity","childInfo","changeMsg","attribute","field","oType","ObjectType","OBJECT","cType","ChangeType","REMOVE","attributeType","UPDATE","operation","syncObj","deepClone","findResult","findBefore","ARRAY","ADD","_arr","_index","_changeObject","../utils/utils.js","./DataObjectChild","./SyncObject","babel-runtime/core-js/object/keys","babel-runtime/core-js/promise","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","120","DataObjectChild","owner","_parent","_msgId","_allocateListeners","_listener","_onResponse","_children","_onResponseHandler","121","_possibleConstructorReturn2","_possibleConstructorReturn3","_get2","_get3","_inherits2","_inherits3","_DataObject2","_DataObject3","FilterType","ANY","START","EXACT","_DataObject","initialVersion","_filters","_onFilter","childData","_changeListener","_observers","unSubscribeMsg","_subURL","reply","filter","filterObj","substr","./DataObject","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/get","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","122","_subscriptions","_objectListener","_onRead","observers","inviteMsg","resume","authorise","deleteMsg","_reporters","_onSubscriptionHandler","_onReadHandler","_onSubscribe","_onUnSubscribe","hypertyUrl","accept","sub","status","childrenValues","123","DataProvisional","bus","_changes","observer","change","124","SyncObject","_data","_internalObserve","Path","list","_findWithSplit","_isObservable","changes","_onChanges","_prop","np","ArrayIndex","objType","fieldString","removeSize","removeValues","removeIndex","_fireEvent","addSize","addValues","reIndexFrom","_field","_fieldString","newValue","_path","_observables","_this3","arrayIndex","nPath","clone","str","125","_assign","_assign2","_DataProvisional","_DataProvisional2","config","runtimeURL","_provisionals","_onForward","_onRemoteCreate","_onRemoteDelete","p2p","criteria","objURL","_subscribe","_criteria","readMsg","_onNotificationHandler","reporter","newObj","childrenResources","subscribeMsg","newProvisional","ack","lType","./DataObjectObserver","./DataObjectReporter","./DataProvisional","babel-runtime/core-js/object/assign","126","divideURL","re","subst","parts","divideEmail","email","indexOfAt","username","substring","emptyObject","parse","_stringify2","getUserURLFromEmail","userEmail","getUserEmailFromURL","userURL","convertToUserURL","identifier","dividedURL","babel-runtime/core-js/json/stringify"],"mappings":"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","file":"Syncher.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Syncher = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nObject.observe && !Array.observe && (function(O, A) {\r\n\"use strict\";\r\n\r\nvar notifier = O.getNotifier,\r\n    perform = \"performChange\",\r\n    original = \"_original\",\r\n    type = \"splice\";\r\n\r\nvar wrappers = {\r\n    push: function push(item) {\r\n        var args = arguments,\r\n            ret = push[original].apply(this, args);\r\n\r\n        notifier(this)[perform](type, function() {\r\n            return {\r\n                index: ret - args.length,\r\n                addedCount: args.length,\r\n                removed: []\r\n            };\r\n        });\r\n\r\n        return ret;\r\n    },\r\n    unshift: function unshift(item) {\r\n        var args = arguments,\r\n            ret = unshift[original].apply(this, args);\r\n\r\n        notifier(this)[perform](type, function() {\r\n            return {\r\n                index: 0,\r\n                addedCount: args.length,\r\n                removed: []\r\n            };\r\n        });\r\n\r\n        return ret;\r\n    },\r\n    pop: function pop() {\r\n        var len = this.length,\r\n            item = pop[original].call(this);\r\n\r\n        if (this.length !== len)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: this.length,\r\n                    addedCount: 0,\r\n                    removed: [ item ]\r\n                };\r\n            }, this);\r\n\r\n        return item;\r\n    },\r\n    shift: function shift() {\r\n        var len = this.length,\r\n            item = shift[original].call(this);\r\n\r\n        if (this.length !== len)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: 0,\r\n                    addedCount: 0,\r\n                    removed: [ item ]\r\n                };\r\n            }, this);\r\n\r\n        return item;\r\n    },\r\n    splice: function splice(start, deleteCount) {\r\n        var args = arguments,\r\n            removed = splice[original].apply(this, args);\r\n\r\n        if (removed.length || args.length > 2)\r\n            notifier(this)[perform](type, function() {\r\n                return {\r\n                    index: start,\r\n                    addedCount: args.length - 2,\r\n                    removed: removed\r\n                };\r\n            }, this);\r\n\r\n        return removed;\r\n    }\r\n};\r\n\r\nfor (var wrapper in wrappers) {\r\n    wrappers[wrapper][original] = A.prototype[wrapper];\r\n    A.prototype[wrapper] = wrappers[wrapper];\r\n}\r\n\r\nA.observe = function(object, handler) {\r\n    return O.observe(object, handler, [ \"add\", \"update\", \"delete\", type ]);\r\n};\r\nA.unobserve = O.unobserve;\r\n\r\n})(Object, Array);\r\n\n},{}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":19}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n},{\"core-js/library/fn/object/assign\":20}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":21}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":22}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n},{\"core-js/library/fn/object/get-own-property-descriptor\":23}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":24}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":25}],9:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":26}],10:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":27}],11:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":28}],12:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":29}],13:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],14:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":5}],15:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n},{\"../core-js/object/get-own-property-descriptor\":6,\"../core-js/object/get-prototype-of\":7}],16:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":4,\"../core-js/object/set-prototype-of\":9,\"../helpers/typeof\":18}],17:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":18}],18:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":11,\"../core-js/symbol/iterator\":12}],19:[function(require,module,exports){\nvar core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":37}],20:[function(require,module,exports){\nrequire('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n},{\"../../modules/_core\":37,\"../../modules/es6.object.assign\":103}],21:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":37,\"../../modules/es6.object.create\":104}],22:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":37,\"../../modules/es6.object.define-property\":105}],23:[function(require,module,exports){\nrequire('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n},{\"../../modules/_core\":37,\"../../modules/es6.object.get-own-property-descriptor\":106}],24:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":37,\"../../modules/es6.object.get-prototype-of\":107}],25:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n},{\"../../modules/_core\":37,\"../../modules/es6.object.keys\":108}],26:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":37,\"../../modules/es6.object.set-prototype-of\":109}],27:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n},{\"../modules/_core\":37,\"../modules/es6.object.to-string\":110,\"../modules/es6.promise\":111,\"../modules/es6.string.iterator\":112,\"../modules/web.dom.iterable\":116}],28:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":37,\"../../modules/es6.object.to-string\":110,\"../../modules/es6.symbol\":113,\"../../modules/es7.symbol.async-iterator\":114,\"../../modules/es7.symbol.observable\":115}],29:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":99,\"../../modules/es6.string.iterator\":112,\"../../modules/web.dom.iterable\":116}],30:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],31:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],32:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n},{}],33:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":56}],34:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":91,\"./_to-iobject\":93,\"./_to-length\":94}],35:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./_cof\":36,\"./_wks\":100}],36:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],37:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],38:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":30}],39:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],40:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":45}],41:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":47,\"./_is-object\":56}],42:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],43:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":74,\"./_object-keys\":77,\"./_object-pie\":78}],44:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":37,\"./_ctx\":38,\"./_global\":47,\"./_hide\":49}],45:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],46:[function(require,module,exports){\nvar ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n},{\"./_an-object\":33,\"./_ctx\":38,\"./_is-array-iter\":54,\"./_iter-call\":57,\"./_to-length\":94,\"./core.get-iterator-method\":101}],47:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],48:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],49:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":40,\"./_object-dp\":69,\"./_property-desc\":80}],50:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":47}],51:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":40,\"./_dom-create\":41,\"./_fails\":45}],52:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],53:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":36}],54:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./_iterators\":62,\"./_wks\":100}],55:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":36}],56:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],57:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./_an-object\":33}],58:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":49,\"./_object-create\":68,\"./_property-desc\":80,\"./_set-to-string-tag\":85,\"./_wks\":100}],59:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":44,\"./_has\":48,\"./_hide\":49,\"./_iter-create\":58,\"./_iterators\":62,\"./_library\":64,\"./_object-gpo\":75,\"./_redefine\":82,\"./_set-to-string-tag\":85,\"./_wks\":100}],60:[function(require,module,exports){\nvar ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./_wks\":100}],61:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],62:[function(require,module,exports){\nmodule.exports = {};\n},{}],63:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":77,\"./_to-iobject\":93}],64:[function(require,module,exports){\nmodule.exports = true;\n},{}],65:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":45,\"./_has\":48,\"./_is-object\":56,\"./_object-dp\":69,\"./_uid\":97}],66:[function(require,module,exports){\nvar global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n},{\"./_cof\":36,\"./_global\":47,\"./_task\":90}],67:[function(require,module,exports){\n'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n},{\"./_fails\":45,\"./_iobject\":53,\"./_object-gops\":74,\"./_object-keys\":77,\"./_object-pie\":78,\"./_to-object\":95}],68:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":33,\"./_dom-create\":41,\"./_enum-bug-keys\":42,\"./_html\":50,\"./_object-dps\":70,\"./_shared-key\":86}],69:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":33,\"./_descriptors\":40,\"./_ie8-dom-define\":51,\"./_to-primitive\":96}],70:[function(require,module,exports){\nvar dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":33,\"./_descriptors\":40,\"./_object-dp\":69,\"./_object-keys\":77}],71:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":40,\"./_has\":48,\"./_ie8-dom-define\":51,\"./_object-pie\":78,\"./_property-desc\":80,\"./_to-iobject\":93,\"./_to-primitive\":96}],72:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":73,\"./_to-iobject\":93}],73:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":42,\"./_object-keys-internal\":76}],74:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],75:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":48,\"./_shared-key\":86,\"./_to-object\":95}],76:[function(require,module,exports){\nvar has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":34,\"./_has\":48,\"./_shared-key\":86,\"./_to-iobject\":93}],77:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":42,\"./_object-keys-internal\":76}],78:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],79:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":37,\"./_export\":44,\"./_fails\":45}],80:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],81:[function(require,module,exports){\nvar hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n},{\"./_hide\":49}],82:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":49}],83:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":33,\"./_ctx\":38,\"./_is-object\":56,\"./_object-gopd\":71}],84:[function(require,module,exports){\n'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_core\":37,\"./_descriptors\":40,\"./_global\":47,\"./_object-dp\":69,\"./_wks\":100}],85:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":48,\"./_object-dp\":69,\"./_wks\":100}],86:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":87,\"./_uid\":97}],87:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":47}],88:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./_a-function\":30,\"./_an-object\":33,\"./_wks\":100}],89:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":39,\"./_to-integer\":92}],90:[function(require,module,exports){\nvar ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./_cof\":36,\"./_ctx\":38,\"./_dom-create\":41,\"./_global\":47,\"./_html\":50,\"./_invoke\":52}],91:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":92}],92:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],93:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":39,\"./_iobject\":53}],94:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":92}],95:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":39}],96:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":56}],97:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],98:[function(require,module,exports){\nvar global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":37,\"./_global\":47,\"./_library\":64,\"./_object-dp\":69,\"./_wks-ext\":99}],99:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":100}],100:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":47,\"./_shared\":87,\"./_uid\":97}],101:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./_classof\":35,\"./_core\":37,\"./_iterators\":62,\"./_wks\":100}],102:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":31,\"./_iter-define\":59,\"./_iter-step\":61,\"./_iterators\":62,\"./_to-iobject\":93}],103:[function(require,module,exports){\n// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n},{\"./_export\":44,\"./_object-assign\":67}],104:[function(require,module,exports){\nvar $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n},{\"./_export\":44,\"./_object-create\":68}],105:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":40,\"./_export\":44,\"./_object-dp\":69}],106:[function(require,module,exports){\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n},{\"./_object-gopd\":71,\"./_object-sap\":79,\"./_to-iobject\":93}],107:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":75,\"./_object-sap\":79,\"./_to-object\":95}],108:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./_object-keys\":77,\"./_object-sap\":79,\"./_to-object\":95}],109:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n},{\"./_export\":44,\"./_set-proto\":83}],110:[function(require,module,exports){\n\n},{}],111:[function(require,module,exports){\n'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./_a-function\":30,\"./_an-instance\":32,\"./_classof\":35,\"./_core\":37,\"./_ctx\":38,\"./_export\":44,\"./_for-of\":46,\"./_global\":47,\"./_is-object\":56,\"./_iter-detect\":60,\"./_library\":64,\"./_microtask\":66,\"./_redefine-all\":81,\"./_set-species\":84,\"./_set-to-string-tag\":85,\"./_species-constructor\":88,\"./_task\":90,\"./_wks\":100}],112:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":59,\"./_string-at\":89}],113:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":33,\"./_descriptors\":40,\"./_enum-keys\":43,\"./_export\":44,\"./_fails\":45,\"./_global\":47,\"./_has\":48,\"./_hide\":49,\"./_is-array\":55,\"./_keyof\":63,\"./_library\":64,\"./_meta\":65,\"./_object-create\":68,\"./_object-dp\":69,\"./_object-gopd\":71,\"./_object-gopn\":73,\"./_object-gopn-ext\":72,\"./_object-gops\":74,\"./_object-keys\":77,\"./_object-pie\":78,\"./_property-desc\":80,\"./_redefine\":82,\"./_set-to-string-tag\":85,\"./_shared\":87,\"./_to-iobject\":93,\"./_to-primitive\":96,\"./_uid\":97,\"./_wks\":100,\"./_wks-define\":98,\"./_wks-ext\":99}],114:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":98}],115:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":98}],116:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":47,\"./_hide\":49,\"./_iterators\":62,\"./_wks\":100,\"./es6.array.iterator\":102}],117:[function(require,module,exports){\n/*!\r\n * Object.observe polyfill - v0.2.4\r\n * by Massimo Artizzu (MaxArt2501)\r\n *\r\n * https://github.com/MaxArt2501/object-observe\r\n *\r\n * Licensed under the MIT License\r\n * See LICENSE for details\r\n */\r\n\r\n// Some type definitions\r\n/**\r\n * This represents the data relative to an observed object\r\n * @typedef  {Object}                     ObjectData\r\n * @property {Map<Handler, HandlerData>}  handlers\r\n * @property {String[]}                   properties\r\n * @property {*[]}                        values\r\n * @property {Descriptor[]}               descriptors\r\n * @property {Notifier}                   notifier\r\n * @property {Boolean}                    frozen\r\n * @property {Boolean}                    extensible\r\n * @property {Object}                     proto\r\n */\r\n/**\r\n * Function definition of a handler\r\n * @callback Handler\r\n * @param {ChangeRecord[]}                changes\r\n*/\r\n/**\r\n * This represents the data relative to an observed object and one of its\r\n * handlers\r\n * @typedef  {Object}                     HandlerData\r\n * @property {Map<Object, ObservedData>}  observed\r\n * @property {ChangeRecord[]}             changeRecords\r\n */\r\n/**\r\n * @typedef  {Object}                     ObservedData\r\n * @property {String[]}                   acceptList\r\n * @property {ObjectData}                 data\r\n*/\r\n/**\r\n * Type definition for a change. Any other property can be added using\r\n * the notify() or performChange() methods of the notifier.\r\n * @typedef  {Object}                     ChangeRecord\r\n * @property {String}                     type\r\n * @property {Object}                     object\r\n * @property {String}                     [name]\r\n * @property {*}                          [oldValue]\r\n * @property {Number}                     [index]\r\n */\r\n/**\r\n * Type definition for a notifier (what Object.getNotifier returns)\r\n * @typedef  {Object}                     Notifier\r\n * @property {Function}                   notify\r\n * @property {Function}                   performChange\r\n */\r\n/**\r\n * Function called with Notifier.performChange. It may optionally return a\r\n * ChangeRecord that gets automatically notified, but `type` and `object`\r\n * properties are overridden.\r\n * @callback Performer\r\n * @returns {ChangeRecord|undefined}\r\n */\r\n\r\nObject.observe || (function(O, A, root, _undefined) {\r\n    \"use strict\";\r\n\r\n        /**\r\n         * Relates observed objects and their data\r\n         * @type {Map<Object, ObjectData}\r\n         */\r\n    var observed,\r\n        /**\r\n         * List of handlers and their data\r\n         * @type {Map<Handler, Map<Object, HandlerData>>}\r\n         */\r\n        handlers,\r\n\r\n        defaultAcceptList = [ \"add\", \"update\", \"delete\", \"reconfigure\", \"setPrototype\", \"preventExtensions\" ];\r\n\r\n    // Functions for internal usage\r\n\r\n        /**\r\n         * Checks if the argument is an Array object. Polyfills Array.isArray.\r\n         * @function isArray\r\n         * @param {?*} object\r\n         * @returns {Boolean}\r\n         */\r\n    var isArray = A.isArray || (function(toString) {\r\n            return function (object) { return toString.call(object) === \"[object Array]\"; };\r\n        })(O.prototype.toString),\r\n\r\n        /**\r\n         * Returns the index of an item in a collection, or -1 if not found.\r\n         * Uses the generic Array.indexOf or Array.prototype.indexOf if available.\r\n         * @function inArray\r\n         * @param {Array} array\r\n         * @param {*} pivot           Item to look for\r\n         * @param {Number} [start=0]  Index to start from\r\n         * @returns {Number}\r\n         */\r\n        inArray = A.prototype.indexOf ? A.indexOf || function(array, pivot, start) {\r\n            return A.prototype.indexOf.call(array, pivot, start);\r\n        } : function(array, pivot, start) {\r\n            for (var i = start || 0; i < array.length; i++)\r\n                if (array[i] === pivot)\r\n                    return i;\r\n            return -1;\r\n        },\r\n\r\n        /**\r\n         * Returns an instance of Map, or a Map-like object is Map is not\r\n         * supported or doesn't support forEach()\r\n         * @function createMap\r\n         * @returns {Map}\r\n         */\r\n        createMap = root.Map === _undefined || !Map.prototype.forEach ? function() {\r\n            // Lightweight shim of Map. Lacks clear(), entries(), keys() and\r\n            // values() (the last 3 not supported by IE11, so can't use them),\r\n            // it doesn't handle the constructor's argument (like IE11) and of\r\n            // course it doesn't support for...of.\r\n            // Chrome 31-35 and Firefox 13-24 have a basic support of Map, but\r\n            // they lack forEach(), so their native implementation is bad for\r\n            // this polyfill. (Chrome 36+ supports Object.observe.)\r\n            var keys = [], values = [];\r\n\r\n            return {\r\n                size: 0,\r\n                has: function(key) { return inArray(keys, key) > -1; },\r\n                get: function(key) { return values[inArray(keys, key)]; },\r\n                set: function(key, value) {\r\n                    var i = inArray(keys, key);\r\n                    if (i === -1) {\r\n                        keys.push(key);\r\n                        values.push(value);\r\n                        this.size++;\r\n                    } else values[i] = value;\r\n                },\r\n                \"delete\": function(key) {\r\n                    var i = inArray(keys, key);\r\n                    if (i > -1) {\r\n                        keys.splice(i, 1);\r\n                        values.splice(i, 1);\r\n                        this.size--;\r\n                    }\r\n                },\r\n                forEach: function(callback/*, thisObj*/) {\r\n                    for (var i = 0; i < keys.length; i++)\r\n                        callback.call(arguments[1], values[i], keys[i], this);\r\n                }\r\n            };\r\n        } : function() { return new Map(); },\r\n\r\n        /**\r\n         * Simple shim for Object.getOwnPropertyNames when is not available\r\n         * Misses checks on object, don't use as a replacement of Object.keys/getOwnPropertyNames\r\n         * @function getProps\r\n         * @param {Object} object\r\n         * @returns {String[]}\r\n         */\r\n        getProps = O.getOwnPropertyNames ? (function() {\r\n            var func = O.getOwnPropertyNames;\r\n            try {\r\n                arguments.callee;\r\n            } catch (e) {\r\n                // Strict mode is supported\r\n\r\n                // In strict mode, we can't access to \"arguments\", \"caller\" and\r\n                // \"callee\" properties of functions. Object.getOwnPropertyNames\r\n                // returns [ \"prototype\", \"length\", \"name\" ] in Firefox; it returns\r\n                // \"caller\" and \"arguments\" too in Chrome and in Internet\r\n                // Explorer, so those values must be filtered.\r\n                var avoid = (func(inArray).join(\" \") + \" \").replace(/prototype |length |name /g, \"\").slice(0, -1).split(\" \");\r\n                if (avoid.length) func = function(object) {\r\n                    var props = O.getOwnPropertyNames(object);\r\n                    if (typeof object === \"function\")\r\n                        for (var i = 0, j; i < avoid.length;)\r\n                            if ((j = inArray(props, avoid[i++])) > -1)\r\n                                props.splice(j, 1);\r\n\r\n                    return props;\r\n                };\r\n            }\r\n            return func;\r\n        })() : function(object) {\r\n            // Poor-mouth version with for...in (IE8-)\r\n            var props = [], prop, hop;\r\n            if (\"hasOwnProperty\" in object) {\r\n                for (prop in object)\r\n                    if (object.hasOwnProperty(prop))\r\n                        props.push(prop);\r\n            } else {\r\n                hop = O.hasOwnProperty;\r\n                for (prop in object)\r\n                    if (hop.call(object, prop))\r\n                        props.push(prop);\r\n            }\r\n\r\n            // Inserting a common non-enumerable property of arrays\r\n            if (isArray(object))\r\n                props.push(\"length\");\r\n\r\n            return props;\r\n        },\r\n\r\n        /**\r\n         * Return the prototype of the object... if defined.\r\n         * @function getPrototype\r\n         * @param {Object} object\r\n         * @returns {Object}\r\n         */\r\n        getPrototype = O.getPrototypeOf,\r\n\r\n        /**\r\n         * Return the descriptor of the object... if defined.\r\n         * IE8 supports a (useless) Object.getOwnPropertyDescriptor for DOM\r\n         * nodes only, so defineProperties is checked instead.\r\n         * @function getDescriptor\r\n         * @param {Object} object\r\n         * @param {String} property\r\n         * @returns {Descriptor}\r\n         */\r\n        getDescriptor = O.defineProperties && O.getOwnPropertyDescriptor,\r\n\r\n        /**\r\n         * Sets up the next check and delivering iteration, using\r\n         * requestAnimationFrame or a (close) polyfill.\r\n         * @function nextFrame\r\n         * @param {function} func\r\n         * @returns {number}\r\n         */\r\n        nextFrame = root.requestAnimationFrame || root.webkitRequestAnimationFrame || (function() {\r\n            var initial = +new Date,\r\n                last = initial;\r\n            return function(func) {\r\n                return setTimeout(function() {\r\n                    func((last = +new Date) - initial);\r\n                }, 17);\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the observation of an object\r\n         * @function doObserve\r\n         * @param {Object} object\r\n         * @param {Handler} handler\r\n         * @param {String[]} [acceptList]\r\n         */\r\n        doObserve = function(object, handler, acceptList) {\r\n            var data = observed.get(object);\r\n\r\n            if (data) {\r\n                performPropertyChecks(data, object);\r\n                setHandler(object, data, handler, acceptList);\r\n            } else {\r\n                data = createObjectData(object);\r\n                setHandler(object, data, handler, acceptList);\r\n\r\n                if (observed.size === 1)\r\n                    // Let the observation begin!\r\n                    nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates the initial data for an observed object\r\n         * @function createObjectData\r\n         * @param {Object} object\r\n         */\r\n        createObjectData = function(object, data) {\r\n            var props = getProps(object),\r\n                values = [], descs, i = 0,\r\n                data = {\r\n                    handlers: createMap(),\r\n                    frozen: O.isFrozen ? O.isFrozen(object) : false,\r\n                    extensible: O.isExtensible ? O.isExtensible(object) : true,\r\n                    proto: getPrototype && getPrototype(object),\r\n                    properties: props,\r\n                    values: values,\r\n                    notifier: retrieveNotifier(object, data)\r\n                };\r\n\r\n            if (getDescriptor) {\r\n                descs = data.descriptors = [];\r\n                while (i < props.length) {\r\n                    descs[i] = getDescriptor(object, props[i]);\r\n                    values[i] = object[props[i++]];\r\n                }\r\n            } else while (i < props.length)\r\n                values[i] = object[props[i++]];\r\n\r\n            observed.set(object, data);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Performs basic property value change checks on an observed object\r\n         * @function performPropertyChecks\r\n         * @param {ObjectData} data\r\n         * @param {Object} object\r\n         * @param {String} [except]  Doesn't deliver the changes to the\r\n         *                           handlers that accept this type\r\n         */\r\n        performPropertyChecks = (function() {\r\n            var updateCheck = getDescriptor ? function(object, data, idx, except, descr) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx],\r\n                    odesc = data.descriptors[idx];\r\n\r\n                if (\"value\" in descr && (ovalue === value\r\n                        ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n                if (odesc.configurable && (!descr.configurable\r\n                        || descr.writable !== odesc.writable\r\n                        || descr.enumerable !== odesc.enumerable\r\n                        || descr.get !== odesc.get\r\n                        || descr.set !== odesc.set)) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"reconfigure\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.descriptors[idx] = descr;\r\n                }\r\n            } : function(object, data, idx, except) {\r\n                var key = data.properties[idx],\r\n                    value = object[key],\r\n                    ovalue = data.values[idx];\r\n\r\n                if (ovalue === value ? ovalue === 0 && 1/ovalue !== 1/value\r\n                        : ovalue === ovalue || value === value) {\r\n                    addChangeRecord(object, data, {\r\n                        name: key,\r\n                        type: \"update\",\r\n                        object: object,\r\n                        oldValue: ovalue\r\n                    }, except);\r\n                    data.values[idx] = value;\r\n                }\r\n            };\r\n\r\n            // Checks if some property has been deleted\r\n            var deletionCheck = getDescriptor ? function(object, props, proplen, data, except) {\r\n                var i = props.length, descr;\r\n                while (proplen && i--) {\r\n                    if (props[i] !== null) {\r\n                        descr = getDescriptor(object, props[i]);\r\n                        proplen--;\r\n\r\n                        // If there's no descriptor, the property has really\r\n                        // been deleted; otherwise, it's been reconfigured so\r\n                        // that's not enumerable anymore\r\n                        if (descr) updateCheck(object, data, i, except, descr);\r\n                        else {\r\n                            addChangeRecord(object, data, {\r\n                                name: props[i],\r\n                                type: \"delete\",\r\n                                object: object,\r\n                                oldValue: data.values[i]\r\n                            }, except);\r\n                            data.properties.splice(i, 1);\r\n                            data.values.splice(i, 1);\r\n                            data.descriptors.splice(i, 1);\r\n                        }\r\n                    }\r\n                }\r\n            } : function(object, props, proplen, data, except) {\r\n                var i = props.length;\r\n                while (proplen && i--)\r\n                    if (props[i] !== null) {\r\n                        addChangeRecord(object, data, {\r\n                            name: props[i],\r\n                            type: \"delete\",\r\n                            object: object,\r\n                            oldValue: data.values[i]\r\n                        }, except);\r\n                        data.properties.splice(i, 1);\r\n                        data.values.splice(i, 1);\r\n                        proplen--;\r\n                    }\r\n            };\r\n\r\n            return function(data, object, except) {\r\n                if (!data.handlers.size || data.frozen) return;\r\n\r\n                var props, proplen, keys,\r\n                    values = data.values,\r\n                    descs = data.descriptors,\r\n                    i = 0, idx,\r\n                    key, value,\r\n                    proto, descr;\r\n\r\n                // If the object isn't extensible, we don't need to check for new\r\n                // or deleted properties\r\n                if (data.extensible) {\r\n\r\n                    props = data.properties.slice();\r\n                    proplen = props.length;\r\n                    keys = getProps(object);\r\n\r\n                    if (descs) {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            descr = getDescriptor(object, key);\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(object[key]);\r\n                                descs.push(descr);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except, descr);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n\r\n                        if (!O.isExtensible(object)) {\r\n                            data.extensible = false;\r\n                            addChangeRecord(object, data, {\r\n                                type: \"preventExtensions\",\r\n                                object: object\r\n                            }, except);\r\n\r\n                            data.frozen = O.isFrozen(object);\r\n                        }\r\n                    } else {\r\n                        while (i < keys.length) {\r\n                            key = keys[i++];\r\n                            idx = inArray(props, key);\r\n                            value = object[key];\r\n\r\n                            if (idx === -1) {\r\n                                addChangeRecord(object, data, {\r\n                                    name: key,\r\n                                    type: \"add\",\r\n                                    object: object\r\n                                }, except);\r\n                                data.properties.push(key);\r\n                                values.push(value);\r\n                            } else {\r\n                                props[idx] = null;\r\n                                proplen--;\r\n                                updateCheck(object, data, idx, except);\r\n                            }\r\n                        }\r\n                        deletionCheck(object, props, proplen, data, except);\r\n                    }\r\n\r\n                } else if (!data.frozen) {\r\n\r\n                    // If the object is not extensible, but not frozen, we just have\r\n                    // to check for value changes\r\n                    for (; i < props.length; i++) {\r\n                        key = props[i];\r\n                        updateCheck(object, data, i, except, getDescriptor(object, key));\r\n                    }\r\n\r\n                    if (O.isFrozen(object))\r\n                        data.frozen = true;\r\n                }\r\n\r\n                if (getPrototype) {\r\n                    proto = getPrototype(object);\r\n                    if (proto !== data.proto) {\r\n                        addChangeRecord(object, data, {\r\n                            type: \"setPrototype\",\r\n                            name: \"__proto__\",\r\n                            object: object,\r\n                            oldValue: data.proto\r\n                        });\r\n                        data.proto = proto;\r\n                    }\r\n                }\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * Sets up the main loop for object observation and change notification\r\n         * It stops if no object is observed.\r\n         * @function runGlobalLoop\r\n         */\r\n        runGlobalLoop = function() {\r\n            if (observed.size) {\r\n                observed.forEach(performPropertyChecks);\r\n                handlers.forEach(deliverHandlerRecords);\r\n                nextFrame(runGlobalLoop);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Deliver the change records relative to a certain handler, and resets\r\n         * the record list.\r\n         * @param {HandlerData} hdata\r\n         * @param {Handler} handler\r\n         */\r\n        deliverHandlerRecords = function(hdata, handler) {\r\n            var records = hdata.changeRecords;\r\n            if (records.length) {\r\n                hdata.changeRecords = [];\r\n                handler(records);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the notifier for an object - whether it's observed or not\r\n         * @function retrieveNotifier\r\n         * @param {Object} object\r\n         * @param {ObjectData} [data]\r\n         * @returns {Notifier}\r\n         */\r\n        retrieveNotifier = function(object, data) {\r\n            if (arguments.length < 2)\r\n                data = observed.get(object);\r\n\r\n            /** @type {Notifier} */\r\n            return data && data.notifier || {\r\n                /**\r\n                 * @method notify\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype._notify\r\n                 * @memberof Notifier\r\n                 * @param {ChangeRecord} changeRecord\r\n                 */\r\n                notify: function(changeRecord) {\r\n                    changeRecord.type; // Just to check the property is there...\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object);\r\n                    if (data) {\r\n                        var recordCopy = { object: object }, prop;\r\n                        for (prop in changeRecord)\r\n                            if (prop !== \"object\")\r\n                                recordCopy[prop] = changeRecord[prop];\r\n                        addChangeRecord(object, data, recordCopy);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @method performChange\r\n                 * @see http://arv.github.io/ecmascript-object-observe/#notifierprototype_.performchange\r\n                 * @memberof Notifier\r\n                 * @param {String} changeType\r\n                 * @param {Performer} func     The task performer\r\n                 * @param {*} [thisObj]        Used to set `this` when calling func\r\n                 */\r\n                performChange: function(changeType, func/*, thisObj*/) {\r\n                    if (typeof changeType !== \"string\")\r\n                        throw new TypeError(\"Invalid non-string changeType\");\r\n\r\n                    if (typeof func !== \"function\")\r\n                        throw new TypeError(\"Cannot perform non-function\");\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    var data = observed.get(object),\r\n                        prop, changeRecord,\r\n                        thisObj = arguments[2],\r\n                        result = thisObj === _undefined ? func() : func.call(thisObj);\r\n\r\n                    data && performPropertyChecks(data, object, changeType);\r\n\r\n                    // If there's no data, the object has been unobserved\r\n                    if (data && result && typeof result === \"object\") {\r\n                        changeRecord = { object: object, type: changeType };\r\n                        for (prop in result)\r\n                            if (prop !== \"object\" && prop !== \"type\")\r\n                                changeRecord[prop] = result[prop];\r\n                        addChangeRecord(object, data, changeRecord);\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Register (or redefines) an handler in the collection for a given\r\n         * object and a given type accept list.\r\n         * @function setHandler\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {Handler} handler\r\n         * @param {String[]} acceptList\r\n         */\r\n        setHandler = function(object, data, handler, acceptList) {\r\n            var hdata = handlers.get(handler);\r\n            if (!hdata)\r\n                handlers.set(handler, hdata = {\r\n                    observed: createMap(),\r\n                    changeRecords: []\r\n                });\r\n            hdata.observed.set(object, {\r\n                acceptList: acceptList.slice(),\r\n                data: data\r\n            });\r\n            data.handlers.set(handler, hdata);\r\n        },\r\n\r\n        /**\r\n         * Adds a change record in a given ObjectData\r\n         * @function addChangeRecord\r\n         * @param {Object} object\r\n         * @param {ObjectData} data\r\n         * @param {ChangeRecord} changeRecord\r\n         * @param {String} [except]\r\n         */\r\n        addChangeRecord = function(object, data, changeRecord, except) {\r\n            data.handlers.forEach(function(hdata) {\r\n                var acceptList = hdata.observed.get(object).acceptList;\r\n                // If except is defined, Notifier.performChange has been\r\n                // called, with except as the type.\r\n                // All the handlers that accepts that type are skipped.\r\n                if ((typeof except !== \"string\"\r\n                        || inArray(acceptList, except) === -1)\r\n                        && inArray(acceptList, changeRecord.type) > -1)\r\n                    hdata.changeRecords.push(changeRecord);\r\n            });\r\n        };\r\n\r\n    observed = createMap();\r\n    handlers = createMap();\r\n\r\n    /**\r\n     * @function Object.observe\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.observe\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @param {String[]} [acceptList]\r\n     * @throws {TypeError}\r\n     * @returns {Object}               The observed object\r\n     */\r\n    O.observe = function observe(object, handler, acceptList) {\r\n        if (!object || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot observe non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.observe cannot deliver to non-function\");\r\n\r\n        if (O.isFrozen && O.isFrozen(handler))\r\n            throw new TypeError(\"Object.observe cannot deliver to a frozen function object\");\r\n\r\n        if (acceptList === _undefined)\r\n            acceptList = defaultAcceptList;\r\n        else if (!acceptList || typeof acceptList !== \"object\")\r\n            throw new TypeError(\"Third argument to Object.observe must be an array of strings.\");\r\n\r\n        doObserve(object, handler, acceptList);\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.unobserve\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.unobserve\r\n     * @param {Object} object\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     * @returns {Object}         The given object\r\n     */\r\n    O.unobserve = function unobserve(object, handler) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot unobserve non-object\");\r\n\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.unobserve cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler), odata;\r\n\r\n        if (hdata && (odata = hdata.observed.get(object))) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            nextFrame(function() {\r\n                deliverHandlerRecords(hdata, handler);\r\n            });\r\n\r\n            // In Firefox 13-18, size is a function, but createMap should fall\r\n            // back to the shim for those versions\r\n            if (hdata.observed.size === 1 && hdata.observed.has(object))\r\n                handlers[\"delete\"](handler);\r\n            else hdata.observed[\"delete\"](object);\r\n\r\n            if (odata.data.handlers.size === 1)\r\n                observed[\"delete\"](object);\r\n            else odata.data.handlers[\"delete\"](handler);\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * @function Object.getNotifier\r\n     * @see http://arv.github.io/ecmascript-object-observe/#GetNotifier\r\n     * @param {Object} object\r\n     * @throws {TypeError}\r\n     * @returns {Notifier}\r\n     */\r\n    O.getNotifier = function getNotifier(object) {\r\n        if (object === null || typeof object !== \"object\" && typeof object !== \"function\")\r\n            throw new TypeError(\"Object.getNotifier cannot getNotifier non-object\");\r\n\r\n        if (O.isFrozen && O.isFrozen(object)) return null;\r\n\r\n        return retrieveNotifier(object);\r\n    };\r\n\r\n    /**\r\n     * @function Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#Object.deliverChangeRecords\r\n     * @see http://arv.github.io/ecmascript-object-observe/#DeliverChangeRecords\r\n     * @param {Handler} handler\r\n     * @throws {TypeError}\r\n     */\r\n    O.deliverChangeRecords = function deliverChangeRecords(handler) {\r\n        if (typeof handler !== \"function\")\r\n            throw new TypeError(\"Object.deliverChangeRecords cannot deliver to non-function\");\r\n\r\n        var hdata = handlers.get(handler);\r\n        if (hdata) {\r\n            hdata.observed.forEach(function(odata, object) {\r\n                performPropertyChecks(odata.data, object);\r\n            });\r\n            deliverHandlerRecords(hdata, handler);\r\n        }\r\n    };\r\n\r\n})(Object, Array, this);\r\n\n},{}],118:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.DataObjectObserver=exports.DataObjectReporter=exports.Syncher=undefined;require('object.observe');require('array.observe');var _Syncher=require('./syncher/Syncher');var _Syncher2=_interopRequireDefault(_Syncher);var _DataObjectReporter=require('./syncher/DataObjectReporter');var _DataObjectReporter2=_interopRequireDefault(_DataObjectReporter);var _DataObjectObserver=require('./syncher/DataObjectObserver');var _DataObjectObserver2=_interopRequireDefault(_DataObjectObserver);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.Syncher=_Syncher2.default;exports.DataObjectReporter=_DataObjectReporter2.default;exports.DataObjectObserver=_DataObjectObserver2.default;// polyfills\n// Removed because the compatibility of runtime-nodejs\n// import 'mutationobserver-shim';\n\n},{\"./syncher/DataObjectObserver\":121,\"./syncher/DataObjectReporter\":122,\"./syncher/Syncher\":125,\"array.observe\":1,\"object.observe\":117}],119:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _SyncObject=require('./SyncObject');var _SyncObject2=_interopRequireDefault(_SyncObject);var _DataObjectChild=require('./DataObjectChild');var _DataObjectChild2=_interopRequireDefault(_DataObjectChild);var _utils=require('../utils/utils.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * Main extension class for observers and reporters, with common properties and methods.\n * Children management is common for observers and reporters.\n *//**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var DataObject=function(){/* private\n  _version: number\n\n  _owner: HypertyURL\n  _url: ObjectURL\n  _schema: Schema\n  _bus: MiniBus\n  _status: on | paused\n  _syncObj: SyncData\n\n  _children: { id: DataObjectChild }\n  _childrenListeners: [MsgListener]\n\n  ----event handlers----\n  _onAddChildHandler: (event) => void\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher create or subscribe method's\n   */function DataObject(syncher,url,schema,initialStatus,initialData,childrens){(0,_classCallCheck3.default)(this,DataObject);var _this=this;_this._syncher=syncher;_this._url=url;_this._schema=schema;_this._status=initialStatus;_this._syncObj=new _SyncObject2.default(initialData);_this._childrens=childrens;_this._version=0;_this._childId=0;_this._childrenObjects={};_this._childrenListeners=[];_this._owner=syncher._owner;_this._bus=syncher._bus;}(0,_createClass3.default)(DataObject,[{key:'_allocateListeners',value:function _allocateListeners(){var _this2=this;var _this=this;var childBaseURL=_this._url+'/children/';if(_this._childrens){_this._childrens.forEach(function(child){var childURL=childBaseURL+child;var listener=_this._bus.addListener(childURL,function(msg){//ignore msg sent by himself\nif(msg.from!==_this2._owner){console.log('DataObject-Children-RCV: ',msg);switch(msg.type){case'create':_this._onChildCreate(msg);break;case'delete':console.log(msg);break;default:_this._changeChildren(msg);break;}}});_this._childrenListeners.push(listener);});}}},{key:'_releaseListeners',value:function _releaseListeners(){var _this=this;_this._childrenListeners.forEach(function(listener){listener.remove();});(0,_keys2.default)(_this._childrenObjects).forEach(function(key){_this._childrenObjects[key]._releaseListeners();});}/**\n   * Object URL of reporter or observer\n   * @type {ObjectURL}\n   */},{key:'pause',/**\n   * @ignore\n   */value:function pause(){//TODO: this feature needs more analise\nthrow'Not implemented';}/**\n   * @ignore\n   */},{key:'resume',value:function resume(){//TODO: this feature needs more analise\nthrow'Not implemented';}/**\n   * @ignore\n   */},{key:'stop',value:function stop(){//TODO: should remove the subscription and send message unsubscribe?\nthrow'Not implemented';}/**\n   * Create and add a DataObjectChild to a children collection.\n   * @param {String} children - Children name where the child is added.\n   * @param {JSON} initialData - Initial data of the child\n   * @return {Promise<DataObjectChild>} - Return Promise to a new DataObjectChild.\n   */},{key:'addChild',value:function addChild(children,initialData){var _this=this;//create new child unique ID, based on hypertyURL\n_this._childId++;var msgChildId=_this._owner+'#'+_this._childId;var msgChildPath=_this._url+'/children/'+children;//FLOW-OUT: this message will be sent directly to a resource child address: MessageBus\nvar requestMsg={type:'create',from:_this._owner,to:msgChildPath,body:{resource:msgChildId,value:initialData}};//returns promise, in the future, the API may change to asynchronous call\nreturn new _promise2.default(function(resolve){var msgId=_this._bus.postMessage(requestMsg);console.log('create-reporter-child( '+_this._owner+' ): ',requestMsg);var newChild=new _DataObjectChild2.default(_this,msgChildId,initialData,_this._owner,msgId);newChild.onChange(function(event){_this._onChange(event,{path:msgChildPath,childId:msgChildId});});_this._childrenObjects[msgChildId]=newChild;resolve(newChild);});}/**\n   * Setup the callback to process create and delete of childrens.\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onAddChild',value:function onAddChild(callback){this._onAddChildrenHandler=callback;}//FLOW-IN: message received from a remote DataObject -> addChild\n},{key:'_onChildCreate',value:function _onChildCreate(msg){var _this=this;var msgChildId=msg.body.resource;console.log('create-observer-child( '+_this._owner+' ): ',msg);var newChild=new _DataObjectChild2.default(_this,msgChildId,msg.body.value);_this._childrenObjects[msgChildId]=newChild;setTimeout(function(){//FLOW-OUT: will flow to DataObjectChild -> _onResponse\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:200,source:_this._owner}});});var event={type:msg.type,from:msg.from,url:msg.to,value:msg.body.value,childId:msgChildId,identity:msg.body.identity};if(_this._onAddChildrenHandler){console.log('ADD-CHILDREN-EVENT: ',event);_this._onAddChildrenHandler(event);}}//send delta messages to subscriptions\n},{key:'_onChange',value:function _onChange(event,childInfo){var _this=this;_this._version++;if(_this._status==='on'){//FLOW-OUT: this message will be sent directly to a resource changes address: MessageBus\nvar changeMsg={type:'update',from:_this._url,to:_this._url+'/changes',body:{version:_this._version,source:_this._owner,attribute:event.field}};if(event.oType===_SyncObject.ObjectType.OBJECT){if(event.cType!==_SyncObject.ChangeType.REMOVE){changeMsg.body.value=event.data;}}else{changeMsg.body.attributeType=event.oType;changeMsg.body.value=event.data;if(event.cType!==_SyncObject.ChangeType.UPDATE){changeMsg.body.operation=event.cType;}}//childInfo must have (path, childId)\nif(childInfo){changeMsg.to=childInfo.path;changeMsg.body.resource=childInfo.childId;}_this._bus.postMessage(changeMsg);}}//FLOW-IN: delta message received from a remote DataObjectReporter or DataObjectChild when changing data\n},{key:'_changeObject',value:function _changeObject(syncObj,msg){var _this=this;//TODO: update version ?\n//how to handle an incorrect version ? Example: receive a version 3 when the observer is in version 1, where is the version 2 ?\n//will we need to confirm the reception ?\nif(_this._version+1===msg.body.version){_this._version++;var path=msg.body.attribute;var value=(0,_utils.deepClone)(msg.body.value);var findResult=syncObj.findBefore(path);if(msg.body.attributeType===_SyncObject.ObjectType.ARRAY){if(msg.body.operation===_SyncObject.ChangeType.ADD){var arr=findResult.obj;var index=findResult.last;Array.prototype.splice.apply(arr,[index,0].concat(value));}else if(msg.body.operation===_SyncObject.ChangeType.REMOVE){var _arr=findResult.obj;var _index=findResult.last;_arr.splice(_index,value);}else{findResult.obj[findResult.last]=value;// UPDATE\n}}else{if(msg.body.value){findResult.obj[findResult.last]=value;// UPDATE or ADD\n}else{delete findResult.obj[findResult.last];// REMOVE\n}}}else{//TODO: how to handle unsynchronized versions?\nconsole.log('UNSYNCHRONIZED VERSION: (data => '+_this._version+', msg => '+msg.body.version+')');}}//FLOW-IN: message received from a remote DataObjectChild when changing data\n},{key:'_changeChildren',value:function _changeChildren(msg){var _this=this;console.log('Change children: ',_this._owner,msg);var childId=msg.body.resource;var children=_this._childrenObjects[childId];if(children){_this._changeObject(children._syncObj,msg);}else{console.log('No children found for: ',childId);}}},{key:'url',get:function get(){return this._url;}/**\n   * Object schema URL (this field is not yet stable, and is subsject to change)\n   * @type {SchemaURL}\n   */},{key:'schema',get:function get(){return this._schema;}/**\n   * Status of the reporter or observer connection (this field is not yet stable, and is subsject to change)\n   * @type {Status} - Enum of: on | paused\n   */},{key:'status',get:function get(){return this._status;}/**\n   * Data structure to be synchronized.\n   * @type {JSON} - JSON structure that should follow the defined schema, if any.\n   */},{key:'data',get:function get(){return this._syncObj.data;}/**\n   * All created children's since the subscription, doesn't contain all children's since reporter creation.\n   * @type {Object<ChildId, DataObjectChild>}\n   */},{key:'childrens',get:function get(){return this._childrenObjects;}}]);return DataObject;}();exports.default=DataObject;module.exports=exports['default'];\n\n},{\"../utils/utils.js\":126,\"./DataObjectChild\":120,\"./SyncObject\":124,\"babel-runtime/core-js/object/keys\":8,\"babel-runtime/core-js/promise\":10,\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14}],120:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _SyncObject=require('./SyncObject');var _SyncObject2=_interopRequireDefault(_SyncObject);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * The class returned from the DataObject addChildren call or from onAddChildren if remotely created.\n * Children object synchronization is a a fast forward mechanism, no need for direct subscriptions, it uses the already authorized subscription from the parent DataObject.\n */var DataObjectChild/* implements SyncStatus */=function(){/* private\n\n  ----event handlers----\n  _onResponseHandler: (event) => void\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the DataObject.addChildren\n   */function DataObjectChild(parent,childId,initialData,owner,msgId){(0,_classCallCheck3.default)(this,DataObjectChild);var _this=this;_this._parent=parent;_this._childId=childId;_this._owner=owner;_this._msgId=msgId;_this._syncObj=new _SyncObject2.default(initialData);_this._bus=parent._bus;_this._allocateListeners();}(0,_createClass3.default)(DataObjectChild,[{key:'_allocateListeners',value:function _allocateListeners(){var _this=this;//this is only needed for children reporters\nif(_this._owner){_this._listener=_this._bus.addListener(_this._owner,function(msg){if(msg.type==='response'&&msg.id===_this._msgId){console.log('DataObjectChild.onResponse:',msg);_this._onResponse(msg);}});}}},{key:'_releaseListeners',value:function _releaseListeners(){var _this=this;if(_this._listener){_this._listener.remove();}}/**\n   * Release and delete object data\n   */},{key:'delete',value:function _delete(){var _this=this;delete _this._parent._children[_this._childId];_this._releaseListeners();//TODO: send delete message ?\n}/**\n   * Children ID generated on addChildren. Unique identifier\n   * @type {URL} - URL of the format <HypertyURL>#<numeric-sequence>\n   */},{key:'onChange',/**\n   * Register the change listeners sent by the reporter child\n   * @param {function(event: MsgEvent)} callback\n   */value:function onChange(callback){this._syncObj.observe(function(event){callback(event);});}/**\n   * Setup the callback to process response notifications of the creates\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onResponse',value:function onResponse(callback){this._onResponseHandler=callback;}//FLOW-IN: message received from a remote DataObject -> _onChildCreate\n},{key:'_onResponse',value:function _onResponse(msg){var _this=this;var event={type:msg.type,url:msg.body.source,code:msg.body.code};if(_this._onResponseHandler){_this._onResponseHandler(event);}}},{key:'childId',get:function get(){return this._childId;}/**\n   * Data Structure to be synchronized.\n   * @type {JSON} - JSON structure that should follow the defined schema, if any.\n   */},{key:'data',get:function get(){return this._syncObj.data;}}]);return DataObjectChild;}();/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=DataObjectChild;module.exports=exports['default'];\n\n},{\"./SyncObject\":124,\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14}],121:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require('babel-runtime/helpers/get');var _get3=_interopRequireDefault(_get2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _DataObject2=require('./DataObject');var _DataObject3=_interopRequireDefault(_DataObject2);var _DataObjectChild=require('./DataObjectChild');var _DataObjectChild2=_interopRequireDefault(_DataObjectChild);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var FilterType={ANY:'any',START:'start',EXACT:'exact'};/**\n * The class returned from the Syncher subscribe call.\n * To be used as an observation point from a DataObjectReporter change.\n */var DataObjectObserver=function(_DataObject){(0,_inherits3.default)(DataObjectObserver,_DataObject);/* private\n  _changeListener: MsgListener\n\n  ----event handlers----\n  _filters: {<filter>: {type: <start, exact>, callback: <function>} }\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher.subscribe method\n   */function DataObjectObserver(syncher,url,schema,initialStatus,initialData,childrens,initialVersion){(0,_classCallCheck3.default)(this,DataObjectObserver);var _this2=(0,_possibleConstructorReturn3.default)(this,(DataObjectObserver.__proto__||(0,_getPrototypeOf2.default)(DataObjectObserver)).call(this,syncher,url,schema,initialStatus,initialData.data,childrens));var _this=_this2;_this._version=initialVersion;_this._filters={};_this._syncObj.observe(function(event){_this._onFilter(event);});//setup childrens data from subscription\n(0,_keys2.default)(initialData.childrens).forEach(function(childId){var childData=initialData.childrens[childId];_this._childrenObjects[childId]=new _DataObjectChild2.default(_this,childId,childData);});_this._allocateListeners();return _this2;}(0,_createClass3.default)(DataObjectObserver,[{key:'_allocateListeners',value:function _allocateListeners(){(0,_get3.default)(DataObjectObserver.prototype.__proto__||(0,_getPrototypeOf2.default)(DataObjectObserver.prototype),'_allocateListeners',this).call(this);var _this=this;_this._changeListener=_this._bus.addListener(_this._url+'/changes',function(msg){if(msg.type==='update'){console.log('DataObjectObserver-'+_this._url+'-RCV: ',msg);_this._changeObject(_this._syncObj,msg);}});}},{key:'_releaseListeners',value:function _releaseListeners(){(0,_get3.default)(DataObjectObserver.prototype.__proto__||(0,_getPrototypeOf2.default)(DataObjectObserver.prototype),'_releaseListeners',this).call(this);var _this=this;_this._changeListener.remove();}/**\n   * Release and delete object data\n   */},{key:'delete',value:function _delete(){var _this=this;_this._releaseListeners();delete _this._syncher._observers[_this._url];}/**\n   * Release and delete object data\n   */},{key:'unsubscribe',value:function unsubscribe(){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalUnSubscribe\nvar unSubscribeMsg={type:'unsubscribe',from:_this._owner,to:_this._syncher._subURL,body:{resource:_this._url}};_this._bus.postMessage(unSubscribeMsg,function(reply){console.log('DataObjectObserver-UNSUBSCRIBE: ',reply);if(reply.body.code===200){_this._releaseListeners();delete _this._syncher._observers[_this._url];}});}/**\n   * Register the change listeners sent by the reporter\n   * @param {string} filter - Filter that identifies the field (separated dot path). Accepts * at the end for a more unrestricted filtering.\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onChange',value:function onChange(filter,callback){var key=filter;var filterObj={type:FilterType.EXACT,callback:callback};var idx=filter.indexOf('*');if(idx===filter.length-1){if(idx===0){filterObj.type=FilterType.ANY;}else{filterObj.type=FilterType.START;key=filter.substr(0,filter.length-1);}}this._filters[key]=filterObj;}},{key:'_onFilter',value:function _onFilter(event){var _this=this;(0,_keys2.default)(_this._filters).forEach(function(key){var filter=_this._filters[key];if(filter.type===FilterType.ANY){//match anything\nfilter.callback(event);}else if(filter.type===FilterType.START){//if starts with filter...\nif(event.field.indexOf(key)===0){filter.callback(event);}}else if(filter.type===FilterType.EXACT){//exact match\nif(event.field===key){filter.callback(event);}}});}}]);return DataObjectObserver;}(_DataObject3.default/* implements SyncStatus */);exports.default=DataObjectObserver;module.exports=exports['default'];\n\n},{\"./DataObject\":119,\"./DataObjectChild\":120,\"babel-runtime/core-js/object/get-prototype-of\":7,\"babel-runtime/core-js/object/keys\":8,\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14,\"babel-runtime/helpers/get\":15,\"babel-runtime/helpers/inherits\":16,\"babel-runtime/helpers/possibleConstructorReturn\":17}],122:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require('babel-runtime/helpers/get');var _get3=_interopRequireDefault(_get2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _DataObject2=require('./DataObject');var _DataObject3=_interopRequireDefault(_DataObject2);var _utils=require('../utils/utils.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * The class returned from the Syncher create call.\n * To be used as a reporter point, changes will be submited to DataObjectObserver instances.\n *//**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var DataObjectReporter=function(_DataObject){(0,_inherits3.default)(DataObjectReporter,_DataObject);/* private\n  _subscriptions: <hypertyUrl: { status: string } }>\n\n  ----event handlers----\n  _onSubscriptionHandler: (event) => void\n  _onResponseHandler: (event) => void\n  _onReadHandler: (event) => void\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher.create method\n   */function DataObjectReporter(syncher,url,schema,initialStatus,initialData,childrens){(0,_classCallCheck3.default)(this,DataObjectReporter);var _this2=(0,_possibleConstructorReturn3.default)(this,(DataObjectReporter.__proto__||(0,_getPrototypeOf2.default)(DataObjectReporter)).call(this,syncher,url,schema,initialStatus,initialData,childrens));var _this=_this2;_this._subscriptions={};_this._syncObj.observe(function(event){console.log('DataObjectReporter-'+url+'-SEND: ',event);_this._onChange(event);});_this._allocateListeners();return _this2;}(0,_createClass3.default)(DataObjectReporter,[{key:'_allocateListeners',value:function _allocateListeners(){(0,_get3.default)(DataObjectReporter.prototype.__proto__||(0,_getPrototypeOf2.default)(DataObjectReporter.prototype),'_allocateListeners',this).call(this);var _this=this;_this._objectListener=_this._bus.addListener(_this._url,function(msg){console.log('DataObject-'+_this._url+'-RCV: ',msg);switch(msg.type){case'response':_this._onResponse(msg);break;case'read':_this._onRead(msg);break;}});}},{key:'_releaseListeners',value:function _releaseListeners(){(0,_get3.default)(DataObjectReporter.prototype.__proto__||(0,_getPrototypeOf2.default)(DataObjectReporter.prototype),'_releaseListeners',this).call(this);var _this=this;_this._objectListener.remove();}/**\n   * Send invitations (create messages) to hyperties, observers list.\n   * @param  {HypertyURL[]} observers List of Hyperty URL's\n   */},{key:'inviteObservers',value:function inviteObservers(observers){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\nvar inviteMsg={type:'create',from:_this._syncher._owner,to:_this._syncher._subURL,body:{resume:false,resource:_this._url,schema:_this._schema,value:_this._syncObj.data,authorise:observers}};_this._bus.postMessage(inviteMsg);}/**\n   * Release and delete object data\n   */},{key:'delete',value:function _delete(){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onDelete\nvar deleteMsg={type:'delete',from:_this._owner,to:_this._syncher._subURL,body:{resource:_this._url}};_this._bus.postMessage(deleteMsg,function(reply){console.log('DataObjectReporter-DELETE: ',reply);if(reply.body.code===200){_this._releaseListeners();delete _this._syncher._reporters[_this._url];}});}/**\n   * Subscriptions requested and accepted to this reporter\n   * @type {Object<HypertyURL, SyncSubscription>}\n   */},{key:'onSubscription',/**\n   * Setup the callback to process subscribe and unsubscribe notifications\n   * @param {function(event: MsgEvent)} callback function to receive events\n   */value:function onSubscription(callback){this._onSubscriptionHandler=callback;}/**\n   * Setup the callback to process response notifications of the create's\n   * @param {function(event: MsgEvent)} callback function to receive events\n   */},{key:'onResponse',value:function onResponse(callback){this._onResponseHandler=callback;}/**\n   * Setup the callback to process read notifications\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onRead',value:function onRead(callback){this._onReadHandler=callback;}//FLOW-IN: message received from parent Syncher -> _onForward\n},{key:'_onForward',value:function _onForward(msg){var _this=this;console.log('DataObjectReporter-RCV: ',msg);switch(msg.body.type){case'subscribe':_this._onSubscribe(msg);break;case'unsubscribe':_this._onUnSubscribe(msg);break;}}//FLOW-IN: message received from this -> _onForward: emitted by a remote Syncher -> subscribe\n},{key:'_onSubscribe',value:function _onSubscribe(msg){var _this=this;var hypertyUrl=msg.body.from;var event={type:msg.body.type,url:hypertyUrl,identity:msg.body.identity,accept:function accept(){//create new subscription\nvar sub={url:hypertyUrl,status:'on'};_this._subscriptions[hypertyUrl]=sub;//process and send childrens data\nvar childrenValues={};(0,_keys2.default)(_this._childrenObjects).forEach(function(childId){var childData=_this._childrenObjects[childId].data;childrenValues[childId]=(0,_utils.deepClone)(childData);});//send ok response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:200,schema:_this._schema,version:_this._version,value:{data:(0,_utils.deepClone)(_this.data),childrens:childrenValues}}});return sub;},reject:function reject(reason){//send reject response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:403,desc:reason}});}};if(_this._onSubscriptionHandler){console.log('SUBSCRIPTION-EVENT: ',event);_this._onSubscriptionHandler(event);}}//FLOW-IN: message received from this -> _onForward: emitted by a remote DataObjectObserver -> unsubscribe\n},{key:'_onUnSubscribe',value:function _onUnSubscribe(msg){var _this=this;var hypertyUrl=msg.body.from;var sub=_this._subscriptions[hypertyUrl];delete _this._subscriptions[hypertyUrl];var event={type:msg.body.type,url:hypertyUrl,object:sub};if(_this._onSubscriptionHandler){console.log('UN-SUBSCRIPTION-EVENT: ',event);_this._onSubscriptionHandler(event);}}//FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> _onRemoteCreate -> event.ack\n},{key:'_onResponse',value:function _onResponse(msg){var _this=this;var event={type:msg.type,url:msg.from,code:msg.body.code};if(_this._onResponseHandler){console.log('RESPONSE-EVENT: ',event);_this._onResponseHandler(event);}}//FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> read\n},{key:'_onRead',value:function _onRead(msg){var _this=this;var event={type:msg.type,url:msg.from,accept:function accept(){_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:200,value:(0,_utils.deepClone)(_this.data)}});},reject:function reject(reason){_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:401,desc:reason}});}};if(_this._onReadHandler){console.log('READ-EVENT: ',event);_this._onReadHandler(event);}}},{key:'subscriptions',get:function get(){return this._subscriptions;}}]);return DataObjectReporter;}(_DataObject3.default/* implements SyncStatus */);exports.default=DataObjectReporter;module.exports=exports['default'];\n\n},{\"../utils/utils.js\":126,\"./DataObject\":119,\"babel-runtime/core-js/object/get-prototype-of\":7,\"babel-runtime/core-js/object/keys\":8,\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14,\"babel-runtime/helpers/get\":15,\"babel-runtime/helpers/inherits\":16,\"babel-runtime/helpers/possibleConstructorReturn\":17}],123:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * @access private\n * This class is responsible for collecting delta changes in remote objects, before the response of subscription reach the observer.\n * It's used in Syncher -> subscribe. The flow is defined as:\n * 1. (observer) --subscribe--> (reporter)\n * 2. (observer) <--delta updates-- (reporter)\n * 3. (observer) <--subscribe response-- (reporter)\n * This means that there could be delta updates transferred before the subscription confirmation.\n * Since there is no DataObjectObserver before the ubscription confirmation, there should be some other object collecting the updates.\n * Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n */var DataProvisional=function(){/* private\n  _childrenListeners: [MsgListener]\n  _listener: MsgListener\n\n  _changes: []\n  */function DataProvisional(owner,url,bus,children){(0,_classCallCheck3.default)(this,DataProvisional);var _this=this;_this._owner=owner;_this._url=url;_this._bus=bus;_this._children=children;_this._changes=[];_this._allocateListeners();}(0,_createClass3.default)(DataProvisional,[{key:'_allocateListeners',value:function _allocateListeners(){var _this=this;_this._listener=_this._bus.addListener(_this._url,function(msg){console.log('DataProvisional-'+_this._url+'-RCV: ',msg);_this._changes.push(msg);});/*\n    _this._childrenListeners = [];\n    if (_this._children) {\n      let childBaseURL = url + '/children/';\n      _this._children.forEach((child) => {\n        let childURL = childBaseURL + child;\n        let listener = _this._bus.addListener(childURL, (msg) => {\n          //ignore msg sent by himself\n          if (msg.from !== owner) {\n            console.log(msg);\n          }\n        });\n\n        _this._childrenListeners.push(listener);\n      });\n    }*/}},{key:'_releaseListeners',value:function _releaseListeners(){var _this=this;_this._listener.remove();/*_this._childrenListeners.forEach((listener) => {\n      listener.remove();\n    });*/}},{key:'apply',value:function apply(observer){var _this=this;_this._changes.forEach(function(change){observer._changeObject(observer._syncObj,change);});}},{key:'children',get:function get(){return this._children;}}]);return DataProvisional;}();exports.default=DataProvisional;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14}],124:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.ObjectType=exports.ChangeType=undefined;var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _utils=require('../utils/utils.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * @access private\n * Main class that maintains a JSON object, and observes changes in this object, recursively.\n * Internal objects and arrays are also observed.\n */var SyncObject=function(){/* private\n    _data: any;\n    _observers: ((event: ChangeEvent) => void)[]\n  */function SyncObject(initialData){(0,_classCallCheck3.default)(this,SyncObject);var _this=this;_this._observers=[];_this._filters={};if(initialData){_this._data=(0,_utils.deepClone)(initialData);}else{_this._data={};}_this._internalObserve(new Path(),_this._data);}(0,_createClass3.default)(SyncObject,[{key:'observe',value:function observe(callback){this._observers.push(callback);}},{key:'find',value:function find(path){var list=path.split('.');return this._findWithSplit(list);}},{key:'findBefore',value:function findBefore(path){var result={};var list=path.split('.');result.last=list.pop();result.obj=this._findWithSplit(list);return result;}},{key:'_findWithSplit',value:function _findWithSplit(list){var obj=this._data;list.forEach(function(value){obj=obj[value];});return obj;}},{key:'_fireEvent',value:function _fireEvent(event){this._observers.forEach(function(callback){callback(event);});}},{key:'_isObservable',value:function _isObservable(obj){if(obj.constructor===Object||obj.constructor===Array){return true;}return false;}},{key:'_internalObserve',value:function _internalObserve(path,obj){var _this=this;if(_this._isObservable(obj)){var handler=function handler(changes){_this._onChanges(path,changes);};if(obj.constructor===Object){Object.observe(obj,handler);for(var prop in obj){if(_this._isObservable(obj[prop])){_this._internalObserve(path.new(prop),obj[prop]);}}}else if(obj.constructor===Array){Array.observe(obj,handler);for(var _prop in obj){if(_this._isObservable(obj[_prop])){var np=path.new(new ArrayIndex(obj[_prop],_prop));_this._internalObserve(np,obj[_prop]);}}}}}},{key:'_onChanges',value:function _onChanges(path,changes){var _this2=this;for(var i in changes){var obj=changes[i].object;var objType=void 0;if(obj.constructor===Object){objType=ObjectType.OBJECT;}if(obj.constructor===Array){objType=ObjectType.ARRAY;}if(changes[i].type==='splice'){(function(){var idx=changes[i].index;var field=path.new(''+idx);var fieldString=field.toString();var removeSize=changes[i].removed.length;if(removeSize!==0){var removeValues=changes[i].removed;removeValues.forEach(function(value,index){if(_this2._isObservable(value)){path.removeIndex(idx+index);}});_this2._fireEvent({cType:ChangeType.REMOVE,oType:objType,field:fieldString,data:removeSize});}var addSize=changes[i].addedCount;if(addSize!==0){var addValues=obj.slice(idx,idx+addSize);addValues.forEach(function(value,index){if(_this2._isObservable(value)){var np=path.new(new ArrayIndex(value,idx+index));_this2._internalObserve(np,value);}});_this2._fireEvent({cType:ChangeType.ADD,oType:objType,field:fieldString,data:(0,_utils.deepClone)(addValues)});}//re-define paths...\nif(idx!==obj.length-1){path.reIndexFrom(obj);}})();}else{var _field=path.new(changes[i].name);var _fieldString=_field.toString();if(_fieldString.indexOf('Symbol')!==-1){//hack for PhantomJS2\n//console.log('SYMBOL: ', changes[i]);\ncontinue;}//let oldValue = changes[i].oldValue;\nvar newValue=obj[changes[i].name];if(changes[i].type==='update'){this._fireEvent({cType:ChangeType.UPDATE,oType:objType,field:_fieldString,data:(0,_utils.deepClone)(newValue)});}if(changes[i].type==='add'){this._internalObserve(_field,newValue);this._fireEvent({cType:ChangeType.ADD,oType:objType,field:_fieldString,data:(0,_utils.deepClone)(newValue)});}if(changes[i].type==='delete'){this._fireEvent({cType:ChangeType.REMOVE,oType:objType,field:_fieldString});}}}}},{key:'data',get:function get(){return this._data;}}]);return SyncObject;}();//dynamic path for Array index...\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var Path=function(){function Path(){(0,_classCallCheck3.default)(this,Path);this._path=[];this._observables={};//<index:ArrayIndex>\n}(0,_createClass3.default)(Path,[{key:'removeIndex',value:function removeIndex(idx){//console.log('REMOVE-PATH ' + idx);\ndelete this._observables[idx];}},{key:'reIndexFrom',value:function reIndexFrom(array){var _this3=this;(0,_keys2.default)(this._observables).forEach(function(key){var arrayIndex=_this3._observables[key];var idx=array.indexOf(arrayIndex.obj);if(arrayIndex.idx!=idx){//console.log('RE-INDEX: ' + key + '->' + idx);\narrayIndex.idx=idx;delete _this3._observables[key];_this3._observables[idx]=arrayIndex;}});}},{key:'new',value:function _new(idx){if(idx.constructor==ArrayIndex){//console.log('PATH-OBSERV: ', idx);\nthis._observables[idx.idx]=idx;}var nPath=this.clone();nPath._path.push(idx);return nPath;}},{key:'clone',value:function clone(){var nPath=new Path();this._path.forEach(function(value){nPath._path.push(value);});return nPath;}},{key:'toString',value:function toString(){//TODO: optimize!!\nvar str='';this._path.forEach(function(value,index){if(index===0){str=value.toString();}else{str+='.'+value.toString();}});return str;}}]);return Path;}();var ArrayIndex=function(){function ArrayIndex(obj,idx){(0,_classCallCheck3.default)(this,ArrayIndex);this.obj=obj;this.idx=idx;}(0,_createClass3.default)(ArrayIndex,[{key:'toString',value:function toString(){return this.idx.toString();}}]);return ArrayIndex;}();var ChangeType=exports.ChangeType={UPDATE:'update',ADD:'add',REMOVE:'remove'};var ObjectType=exports.ObjectType={OBJECT:'object',ARRAY:'array'};exports.default=SyncObject;\n\n},{\"../utils/utils.js\":126,\"babel-runtime/core-js/object/keys\":8,\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14}],125:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _assign=require('babel-runtime/core-js/object/assign');var _assign2=_interopRequireDefault(_assign);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _DataObjectReporter=require('./DataObjectReporter');var _DataObjectReporter2=_interopRequireDefault(_DataObjectReporter);var _DataObjectObserver=require('./DataObjectObserver');var _DataObjectObserver2=_interopRequireDefault(_DataObjectObserver);var _DataProvisional=require('./DataProvisional');var _DataProvisional2=_interopRequireDefault(_DataProvisional);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* The main class for the syncher package.\n* The Syncher is a singleton class per Hyperty/URL and it is the owner of all created Data Sync Objects according to the Reporter - Observer pattern.\n* Main functionality is to create reporters and to subscribe to existing ones.\n*/var Syncher=function(){/* private\n  _owner: URL\n  _bus: MiniBus\n\n  _subURL: URL\n\n  _reporters: <url: DataObjectReporter>\n  _observers: <url: DataObjectObserver>\n  _provisionals: <url: DataProvisional>\n\n  ----event handlers----\n  _onNotificationHandler: (event) => void\n  _onResume: (event) => void\n  *//**\n  * Constructor that should be used by the Hyperty owner\n  * @param {HypertyURL} owner - Hyperty URL owner. An URL allocated by the runtime that uniquely identifies the Hyperty.\n  * @param {MiniBus} bus - An instance of the MiniBus provided in the sandbox. When an object (Reporter or Observed) is created, the SyncherManager will add a listener in the MiniBus to receive/send Messages of that object.\n  * @param {JSON} config - Configuration data. The only required field for now is the runtimeURL.\n  */function Syncher(owner,bus,config){(0,_classCallCheck3.default)(this,Syncher);var _this=this;_this._owner=owner;_this._bus=bus;_this._subURL=config.runtimeURL+'/sm';_this._reporters={};_this._observers={};_this._provisionals={};bus.addListener(owner,function(msg){//ignore msg sent by himself\nif(msg.from!==owner){console.log('Syncher-RCV: ',msg);switch(msg.type){case'forward':_this._onForward(msg);break;case'create':_this._onRemoteCreate(msg);break;case'delete':_this._onRemoteDelete(msg);break;}}});}/**\n  * The owner of the Syncher and all created reporters.\n  * @type {HypertyURL}\n  */(0,_createClass3.default)(Syncher,[{key:'create',/**\n  * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\n  * @param  {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\n  * @param  {HypertyURL[]} observers - List of hyperties that are pre-authorized for subscription\n  * @param  {JSON} initialData - Initial data of the reporter\n  * @param  {string} objectURL - reusable dataObject URL\n  * @return {Promise<DataObjectReporter>} Return Promise to a new Reporter. The reporter can be accepted or rejected by the PEP\n  */value:function create(schema,observers,initialData){var store=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var p2p=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var _this=this;var criteria={};criteria.p2p=p2p;criteria.store=store;criteria.schema=schema;criteria.observers=observers;criteria.initialData=initialData;console.log('[syncher - create] - create Reporter - criteria: ',criteria);(0,_assign2.default)(criteria,{resume:false});return _this._create(criteria);}},{key:'resumeReporters',value:function resumeReporters(criteria){var _this=this;console.log('[syncher - create] - resume Reporter - criteria: ',criteria);(0,_assign2.default)(criteria,{resume:true});return _this._create(criteria);}/**\n  * Request a subscription to an existent reporter object.\n  * @param {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\n  * @param {ObjectURL} objURL - Address of the existent reporter object to be observed\n  * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\n  */},{key:'subscribe',value:function subscribe(schema,objURL){var store=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var p2p=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var _this=this;var criteria={};criteria.p2p=p2p;criteria.store=store;criteria.schema=schema;criteria.resource=objURL;console.log('[syncher - subscribe] - subscribe criteria: ',criteria);(0,_assign2.default)(criteria,{resume:false});return _this._subscribe(criteria);}/**\n  * Request a subscription to an existent reporter object.\n  * @param {criteria} criteria - Information to discovery the observer object\n  * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\n  */},{key:'resumeObservers',value:function resumeObservers(criteria){var _this=this;var _criteria=criteria||{};(0,_assign2.default)(_criteria,{resume:true});return _this._subscribe(_criteria);}/**\n  * Request a read action on the reporter object\n  * @param {ObjectURL} objURL - URL of the reporter object to be read\n  * @return {Promise<Object>} Return Promise to last available data of the reporter\n  */},{key:'read',value:function read(objURL){var _this=this;//FLOW-OUT: this message will be sent directly to reporter object (maybe there is no listener available, so it will be resolved with MessageBus -> resolve)\n//will reach the remote object in DataObjectReporter -> _onRead\nvar readMsg={type:'read',from:_this._owner,to:objURL};return new _promise2.default(function(resolve,reject){_this._bus.postMessage(readMsg,function(reply){console.log('read-response: ',reply);if(reply.body.code===200){resolve(reply.body.value);}else{reject(reply.body.desc);}});});}/**\n  * Setup the callback to process create and delete events of remove Reporter objects.\n  * This is releated to the messagens sent by create to the observers Hyperty array.\n  * @param {function(event: MsgEvent)} callback\n  */},{key:'onNotification',value:function onNotification(callback){this._onNotificationHandler=callback;}},{key:'_create',value:function _create(criteria){var _this=this;return new _promise2.default(function(resolve,reject){var resume=criteria.resume;var initialData=criteria.initialData||{};var schema=void 0;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\nvar requestMsg={type:'create',from:_this._owner,to:_this._subURL,body:{resume:resume}};console.log('[syncher - create]: ',criteria,requestMsg);requestMsg.body.value=initialData;requestMsg.body.value.reporter=_this._owner;if(criteria.schema){schema=criteria.schema;requestMsg.body.schema=criteria.schema;}if(criteria.p2p)requestMsg.body.p2p=criteria.p2p;if(criteria.store)requestMsg.body.store=criteria.store;if(criteria.observers)requestMsg.body.authorise=criteria.observers;if(resume){console.log('[syncher - create] - resume message: ',requestMsg);}else{console.log('[syncher - create] - create message: ',requestMsg);}//request create to the allocation system. Can be rejected by the PolicyEngine.\n_this._bus.postMessage(requestMsg,function(reply){console.log('[syncher - create] - create-response: ',reply);if(reply.body.code===200){//reporter creation accepted\nvar objURL=reply.body.resource;if(resume){schema=reply.body.schema;initialData=reply.body.value;}var newObj=new _DataObjectReporter2.default(_this,objURL,schema,'on',initialData,reply.body.childrenResources);_this._reporters[objURL]=newObj;resolve(newObj);}else{//reporter creation rejected\nreject(reply.body.desc);}});});}},{key:'_subscribe',value:function _subscribe(criteria){var _this=this;return new _promise2.default(function(resolve,reject){//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\nvar subscribeMsg={type:'subscribe',from:_this._owner,to:_this._subURL,body:{}};// Hyperty request to be an Observer\n// https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#hyperty-request-to-be-an-observer\n// Resume Subscriptions for the same Hyperty URL\n// https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-the-same-hyperty-url\n// Resume Subscriptions for a certain user and data schema independently of the Hyperty URL.\n// https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-a-certain-user-and-data-schema-independently-of-the-hyperty-url\nif(criteria){if(criteria.p2p)subscribeMsg.body.p2p=criteria.p2p;if(criteria.store)subscribeMsg.body.store=criteria.store;if(criteria.schema)subscribeMsg.body.schema=criteria.schema;if(criteria.identity)subscribeMsg.body.identity=criteria.identity;if(criteria.resource)subscribeMsg.body.resource=criteria.resource;}subscribeMsg.body.resume=criteria.resume;console.log('[syncher] - subscribe message: ',criteria,subscribeMsg);//request subscription\n//Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n//for more info see the DataProvisional class documentation.\n_this._bus.postMessage(subscribeMsg,function(reply){console.log('[syncher] - subscribe-response: ',reply);var schema=reply.body.schema;var objURL=reply.body.resource;var newProvisional=_this._provisionals[objURL];if(reply.body.code<200){delete _this._provisionals[objURL];if(newProvisional)newProvisional._releaseListeners();newProvisional=new _DataProvisional2.default(_this._owner,objURL,_this._bus,reply.body.childrenResources);_this._provisionals[objURL]=newProvisional;}else if(reply.body.code===200){var childrenResources=newProvisional?newProvisional.children:reply.body.childrenResources;console.log('[syncher] - new Data Object Observer: ',reply,_this._provisionals,childrenResources);var newObj=new _DataObjectObserver2.default(_this,objURL,schema,'on',reply.body.value,childrenResources,reply.body.version);_this._observers[objURL]=newObj;resolve(newObj);if(newProvisional)newProvisional.apply(newObj);// // read the last changes\n// _this.read(objURL).then((value) => {\n//   Object.assign(newObj.data, value);\n// });\n}else{reject(reply.body.desc);}});});}//FLOW-IN: message received from a local runtime ReporterObject -> _onRemoteSubscribe\n},{key:'_onForward',value:function _onForward(msg){var _this=this;var reporter=_this._reporters[msg.body.to];reporter._onForward(msg);}//FLOW-IN: message received from a remote Syncher -> create (this is actually an invitation to subscribe)\n},{key:'_onRemoteCreate',value:function _onRemoteCreate(msg){var _this=this;//remove \"/subscription\" from the URL\nvar resource=msg.from.slice(0,-13);var event={type:msg.type,from:msg.body.source,url:resource,schema:msg.body.schema,value:msg.body.value,identity:msg.body.identity,ack:function ack(type){var lType=200;if(type){lType=type;}//send ack response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:lType}});}};if(_this._onNotificationHandler){console.log('NOTIFICATION-EVENT: ',event);_this._onNotificationHandler(event);}}//FLOW-IN: message received from a remote DataObjectReporter -> delete\n},{key:'_onRemoteDelete',value:function _onRemoteDelete(msg){var _this=this;//remove \"/subscription\" from the URL\nvar resource=msg.body.resource;var object=_this._observers[resource];if(object){var event={type:msg.type,url:resource,identity:msg.body.identity,ack:function ack(type){var lType=200;if(type){lType=type;}//TODO: any other different options for the release process, like accept but nor release local?\nif(lType===200){object.delete();}//send ack response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:lType,source:_this._owner}});}};if(_this._onNotificationHandler){console.log('NOTIFICATION-EVENT: ',event);_this._onNotificationHandler(event);}}else{_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:404,source:_this._owner}});}}},{key:'owner',get:function get(){return this._owner;}/**\n  * All owned reporters, the ones that were created by a create\n  * @type {Object<URL, DataObjectReporter>}\n  */},{key:'reporters',get:function get(){return this._reporters;}/**\n  * All owned observers, the ones that were created by a local subscription\n  * @type {Object<URL, DataObjectObserver>}\n  */},{key:'observers',get:function get(){return this._observers;}}]);return Syncher;}();/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=Syncher;module.exports=exports['default'];\n\n},{\"./DataObjectObserver\":121,\"./DataObjectReporter\":122,\"./DataProvisional\":123,\"babel-runtime/core-js/object/assign\":3,\"babel-runtime/core-js/promise\":10,\"babel-runtime/helpers/classCallCheck\":13,\"babel-runtime/helpers/createClass\":14}],126:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);exports.divideURL=divideURL;exports.divideEmail=divideEmail;exports.emptyObject=emptyObject;exports.deepClone=deepClone;exports.getUserURLFromEmail=getUserURLFromEmail;exports.getUserEmailFromURL=getUserEmailFromURL;exports.convertToUserURL=convertToUserURL;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * Support module with some functions will be useful\n * @module utils\n *//**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n *//**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */function divideURL(url){if(!url)throw Error('URL is needed to split');// let re = /([a-zA-Z-]*)?:\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?])*(.+)*/gi;\nvar re=/([a-zA-Z-]*):\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;var subst='$1,$2,$3';var parts=url.replace(re,subst).split(',');// If the url has no protocol, the default protocol set is https\nif(parts[0]===url){parts[0]='https';parts[1]=url;}var result={type:parts[0],domain:parts[1],identity:parts[2]};return result;}function divideEmail(email){var indexOfAt=email.indexOf('@');var result={username:email.substring(0,indexOfAt),domain:email.substring(indexOfAt+1,email.length)};return result;}/**\n * Check if an Object is empty\n * @param  {Object} object Object to be checked\n * @return {Boolean}       status of Object, empty or not (true|false);\n */function emptyObject(object){return(0,_keys2.default)(object).length>0?false:true;}/**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */function deepClone(obj){//TODO: simple but inefficient JSON deep clone...\nif(obj)return JSON.parse((0,_stringify2.default)(obj));}/**\n * Obtains the user URL that corresponds to a given email\n * @param  {string} userEmail The user email\n * @return {URL.URL} userURL The user URL\n */function getUserURLFromEmail(userEmail){var indexOfAt=userEmail.indexOf('@');return'user://'+userEmail.substring(indexOfAt+1,userEmail.length)+'/'+userEmail.substring(0,indexOfAt);}/**\n * Obtains the user email that corresponds to a given URL\n * @param  {URL.URL} userURL The user URL\n * @return {string} userEmail The user email\n */function getUserEmailFromURL(userURL){var url=divideURL(userURL);return url.identity.replace('/','')+'@'+url.domain;// identity field has '/exampleID' instead of 'exampleID'\n}/**\n * Check if the user identifier is already in the URL format, if not, convert to URL format\n * @param  {string}   identifier  user identifier\n * @return {string}   userURL    the user URL\n */function convertToUserURL(identifier){// check if the identifier is already in the url format\nif(identifier.substring(0,7)==='user://'){var dividedURL=divideURL(identifier);//check if the url is well formated\nif(dividedURL.domain&&dividedURL.identity){return identifier;}else{throw'userURL with wrong format';}//if not, convert the user email to URL format\n}else{return getUserURLFromEmail(identifier);}}\n\n},{\"babel-runtime/core-js/json/stringify\":2,\"babel-runtime/core-js/object/keys\":8}]},{},[118])(118)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYXJyYXkub2JzZXJ2ZS9hcnJheS1vYnNlcnZlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4taW5zdGFuY2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mb3Itb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19rZXlvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL29iamVjdC5vYnNlcnZlL2Rpc3Qvb2JqZWN0LW9ic2VydmUuanMiLCJzcmMvU3luY2hlci5qcyIsInNyYy9zeW5jaGVyL0RhdGFPYmplY3QuanMiLCJzcmMvc3luY2hlci9EYXRhT2JqZWN0Q2hpbGQuanMiLCJzcmMvc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIuanMiLCJzcmMvc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIuanMiLCJzcmMvc3luY2hlci9EYXRhUHJvdmlzaW9uYWwuanMiLCJzcmMvc3luY2hlci9TeW5jT2JqZWN0LmpzIiwic3JjL3N5bmNoZXIvU3luY2hlci5qcyIsInNyYy91dGlscy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvRkE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFPQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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LEdBQW5FLENBQXlFLFVBQVUsU0FBVixDQUFvQixDQUFwQixDQUF1QixTQUF2QixDQUFoRixDQUNELENBRUQ7Ozs7R0FLTyxRQUFTLG9CQUFULENBQTZCLE9BQTdCLENBQXNDLENBQzNDLEdBQUksS0FBTSxVQUFVLE9BQVYsQ0FBVixDQUNBLE1BQU8sS0FBSSxRQUFKLENBQWEsT0FBYixDQUFxQixHQUFyQixDQUEwQixFQUExQixFQUFnQyxHQUFoQyxDQUFzQyxJQUFJLE1BQWpELENBQXlEO0FBQzFELENBR0Q7Ozs7R0FLTyxRQUFTLGlCQUFULENBQTBCLFVBQTFCLENBQXNDLENBRTNDO0FBQ0EsR0FBSSxXQUFXLFNBQVgsQ0FBcUIsQ0FBckIsQ0FBd0IsQ0FBeEIsSUFBK0IsU0FBbkMsQ0FBOEMsQ0FDNUMsR0FBSSxZQUFhLFVBQVUsVUFBVixDQUFqQixDQUVBO0FBQ0EsR0FBSSxXQUFXLE1BQVgsRUFBcUIsV0FBVyxRQUFwQyxDQUE4QyxDQUM1QyxNQUFPLFdBQVAsQ0FDRCxDQUZELElBRU8sQ0FDTCxLQUFNLDJCQUFOLENBQ0QsQ0FFSDtBQUNDLENBWEQsSUFXTyxDQUNMLE1BQU8scUJBQW9CLFVBQXBCLENBQVAsQ0FDRCxDQUNGIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIk9iamVjdC5vYnNlcnZlICYmICFBcnJheS5vYnNlcnZlICYmIChmdW5jdGlvbihPLCBBKSB7XHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG5vdGlmaWVyID0gTy5nZXROb3RpZmllcixcclxuICAgIHBlcmZvcm0gPSBcInBlcmZvcm1DaGFuZ2VcIixcclxuICAgIG9yaWdpbmFsID0gXCJfb3JpZ2luYWxcIixcclxuICAgIHR5cGUgPSBcInNwbGljZVwiO1xyXG5cclxudmFyIHdyYXBwZXJzID0ge1xyXG4gICAgcHVzaDogZnVuY3Rpb24gcHVzaChpdGVtKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXHJcbiAgICAgICAgICAgIHJldCA9IHB1c2hbb3JpZ2luYWxdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cclxuICAgICAgICBub3RpZmllcih0aGlzKVtwZXJmb3JtXSh0eXBlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiByZXQgLSBhcmdzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGFkZGVkQ291bnQ6IGFyZ3MubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZDogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sXHJcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGl0ZW0pIHtcclxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgICAgICAgcmV0ID0gdW5zaGlmdFtvcmlnaW5hbF0uYXBwbHkodGhpcywgYXJncyk7XHJcblxyXG4gICAgICAgIG5vdGlmaWVyKHRoaXMpW3BlcmZvcm1dKHR5cGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICBhZGRlZENvdW50OiBhcmdzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHJlbW92ZWQ6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9LFxyXG4gICAgcG9wOiBmdW5jdGlvbiBwb3AoKSB7XHJcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpdGVtID0gcG9wW29yaWdpbmFsXS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbilcclxuICAgICAgICAgICAgbm90aWZpZXIodGhpcylbcGVyZm9ybV0odHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBhZGRlZENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQ6IFsgaXRlbSBdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9LFxyXG4gICAgc2hpZnQ6IGZ1bmN0aW9uIHNoaWZ0KCkge1xyXG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcclxuICAgICAgICAgICAgaXRlbSA9IHNoaWZ0W29yaWdpbmFsXS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbilcclxuICAgICAgICAgICAgbm90aWZpZXIodGhpcylbcGVyZm9ybV0odHlwZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZGVkQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZDogWyBpdGVtIF1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH0sXHJcbiAgICBzcGxpY2U6IGZ1bmN0aW9uIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQpIHtcclxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgICAgICAgcmVtb3ZlZCA9IHNwbGljZVtvcmlnaW5hbF0uYXBwbHkodGhpcywgYXJncyk7XHJcblxyXG4gICAgICAgIGlmIChyZW1vdmVkLmxlbmd0aCB8fCBhcmdzLmxlbmd0aCA+IDIpXHJcbiAgICAgICAgICAgIG5vdGlmaWVyKHRoaXMpW3BlcmZvcm1dKHR5cGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogc3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkZWRDb3VudDogYXJncy5sZW5ndGggLSAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcclxuICAgIH1cclxufTtcclxuXHJcbmZvciAodmFyIHdyYXBwZXIgaW4gd3JhcHBlcnMpIHtcclxuICAgIHdyYXBwZXJzW3dyYXBwZXJdW29yaWdpbmFsXSA9IEEucHJvdG90eXBlW3dyYXBwZXJdO1xyXG4gICAgQS5wcm90b3R5cGVbd3JhcHBlcl0gPSB3cmFwcGVyc1t3cmFwcGVyXTtcclxufVxyXG5cclxuQS5vYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LCBoYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gTy5vYnNlcnZlKG9iamVjdCwgaGFuZGxlciwgWyBcImFkZFwiLCBcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLCB0eXBlIF0pO1xyXG59O1xyXG5BLnVub2JzZXJ2ZSA9IE8udW5vYnNlcnZlO1xyXG5cclxufSkoT2JqZWN0LCBBcnJheSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgZGVzYyA9ICgwLCBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMi5kZWZhdWx0KShvYmplY3QsIHByb3BlcnR5KTtcblxuICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHBhcmVudCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKG9iamVjdCk7XG5cbiAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XG5cbiAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59OyIsInZhciBjb3JlICA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKVxuICAsICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7c3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeX0pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAkSlNPTi5zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3VtZW50cyk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5hc3NpZ247IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG4gIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICByZXR1cm4gJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5rZXlzOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7IiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnByb21pc2UnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLlByb21pc2U7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lLCBmb3JiaWRkZW5GaWVsZCl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKXtcbiAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuICB9IHJldHVybiBpdDtcbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07IiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59OyIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07IiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTsiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTsiLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07IiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59OyIsIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpOyIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIHBJRSAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHJlc3VsdCAgICAgPSBnZXRLZXlzKGl0KVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYoZ2V0U3ltYm9scyl7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KVxuICAgICAgLCBpc0VudW0gID0gcElFLmZcbiAgICAgICwgaSAgICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKHN5bWJvbHMubGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59OyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV1cbiAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGtleSwgb3duLCBvdXQ7XG4gIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbihDKXtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcbiAgICAgICAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYoSVNfUFJPVE8pe1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0paGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07IiwidmFyIGN0eCAgICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBjYWxsICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJylcbiAgLCBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9MZW5ndGggICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGdldEl0ZXJGbiAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKVxuICAsIEJSRUFLICAgICAgID0ge31cbiAgLCBSRVRVUk4gICAgICA9IHt9O1xudmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1Ipe1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbigpeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpXG4gICAgLCBmICAgICAgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSlcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYoaXNBcnJheUl0ZXIoaXRlckZuKSlmb3IobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZihyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKXJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKXtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZihyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKXJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5leHBvcnRzLkJSRUFLICA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59OyIsInZhciBkUCAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsiLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pOyIsIi8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgYXJncywgdGhhdCl7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoKGFyZ3MubGVuZ3RoKXtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xufTsiLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTsiLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59OyIsIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpe1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59OyIsIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoKGUpe1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGRlc2NyaXB0b3IgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBoaWRlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJdGVyYXRvcnMgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgJGl0ZXJDcmVhdGUgICAgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBJVEVSQVRPUiAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICAsIEZGX0lURVJBVE9SICAgID0gJ0BAaXRlcmF0b3InXG4gICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG4gICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cbiAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuICAgICwgJGVudHJpZXMgICA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWRcbiAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG4gICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKCRhbnlOYXRpdmUpe1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG4gICAgaWYoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpe1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuICBpZihERUZBVUxUKXtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiAgREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG4gICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTsiLCJ2YXIgSVRFUkFUT1IgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7fTsiLCJ2YXIgZ2V0S2V5cyAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlOyIsInZhciBNRVRBICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJylcbiAgLCBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgaGFzICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHNldERlc2MgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGlkICAgICAgID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcbiAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfX0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG4gIGlmKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSlzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogICAgICBNRVRBLFxuICBORUVEOiAgICAgZmFsc2UsXG4gIGZhc3RLZXk6ICBmYXN0S2V5LFxuICBnZXRXZWFrOiAgZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59OyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXRcbiAgLCBPYnNlcnZlciAgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlclxuICAsIHByb2Nlc3MgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgUHJvbWlzZSAgID0gZ2xvYmFsLlByb21pc2VcbiAgLCBpc05vZGUgICAgPSByZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcbiAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpe1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKXBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUoaGVhZCl7XG4gICAgICBmbiAgID0gaGVhZC5mbjtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgaWYoaGVhZClub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZihwYXJlbnQpcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gTm9kZS5qc1xuICBpZihpc05vZGUpe1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXJcbiAgfSBlbHNlIGlmKE9ic2VydmVyKXtcbiAgICB2YXIgdG9nZ2xlID0gdHJ1ZVxuICAgICAgLCBub2RlICAgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKXtcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBwcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuICAgICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihmbil7XG4gICAgdmFyIHRhc2sgPSB7Zm46IGZuLCBuZXh0OiB1bmRlZmluZWR9O1xuICAgIGlmKGxhc3QpbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZighaGVhZCl7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJT2JqZWN0ICA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsICRhc3NpZ24gID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgdmFyIEEgPSB7fVxuICAgICwgQiA9IHt9XG4gICAgLCBTID0gU3ltYm9sKClcbiAgICAsIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG4gICAgLCBhTGVuICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGluZGV4ID0gMVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuICAgICwgaXNFbnVtICAgICA9IHBJRS5mO1xuICB3aGlsZShhTGVuID4gaW5kZXgpe1xuICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcbiAgICAgICwga2V5cyAgID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKVxuICAgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICAgLCBqICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShsZW5ndGggPiBqKWlmKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247IiwiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGRQcyAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJylcbiAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuICAgICwgbHQgICAgID0gJzwnXG4gICAgLCBndCAgICAgPSAnPidcbiAgICAsIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XG4gIHZhciByZXN1bHQ7XG4gIGlmKE8gIT09IG51bGwpe1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTsiLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59OyIsInZhciBwSUUgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTsiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuIiwiLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxudmFyICRrZXlzICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTsiLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzOyIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07IiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9JT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59OyIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlOyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsInZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgaWYoc2FmZSAmJiB0YXJnZXRba2V5XSl0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgIGVsc2UgaGlkZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9IHJldHVybiB0YXJnZXQ7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpOyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgZFAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKVxuICAsIFNQRUNJRVMgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVkpe1xuICB2YXIgQyA9IHR5cGVvZiBjb3JlW0tFWV0gPT0gJ2Z1bmN0aW9uJyA/IGNvcmVbS0VZXSA6IGdsb2JhbFtLRVldO1xuICBpZihERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKWRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9XG4gIH0pO1xufTsiLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcbn07IiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07IiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTsiLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIFNQRUNJRVMgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59OyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59OyIsInZhciBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2ludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faHRtbCcpXG4gICwgY2VsICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTsiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59OyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59OyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59OyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTsiLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTsiLCJ2YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xufTsiLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTsiLCJ2YXIgc3RvcmUgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFN5bWJvbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2xcbiAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTsiLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpOyIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKX0pOyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jylcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyl9KTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTsiLCIvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG52YXIgdG9JT2JqZWN0ICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmY7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAka2V5cyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldH0pOyIsIiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2xhc3NvZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgJGV4cG9ydCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBpc09iamVjdCAgICAgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIGFuSW5zdGFuY2UgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJylcbiAgLCBmb3JPZiAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19mb3Itb2YnKVxuICAsIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKVxuICAsIHRhc2sgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXRcbiAgLCBtaWNyb3Rhc2sgICAgICAgICAgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpXG4gICwgUFJPTUlTRSAgICAgICAgICAgID0gJ1Byb21pc2UnXG4gICwgVHlwZUVycm9yICAgICAgICAgID0gZ2xvYmFsLlR5cGVFcnJvclxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgJFByb21pc2UgICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBpc05vZGUgICAgICAgICAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuICAsIGVtcHR5ICAgICAgICAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBJbnRlcm5hbCwgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xuXG52YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24oKXtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSAgICAgPSAkUHJvbWlzZS5yZXNvbHZlKDEpXG4gICAgICAsIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbihleGVjKXsgZXhlYyhlbXB0eSwgZW1wdHkpOyB9O1xuICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpICYmIHByb21pc2UudGhlbihlbXB0eSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgc2FtZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24oYSwgYil7XG4gIC8vIHdpdGggbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuICByZXR1cm4gYSA9PT0gYiB8fCBhID09PSAkUHJvbWlzZSAmJiBiID09PSBXcmFwcGVyO1xufTtcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICByZXR1cm4gc2FtZUNvbnN0cnVjdG9yKCRQcm9taXNlLCBDKVxuICAgID8gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgOiBuZXcgR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xufTtcbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbigkJHJlc29sdmUsICQkcmVqZWN0KXtcbiAgICBpZihyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ICA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCAgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn07XG52YXIgcGVyZm9ybSA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIGV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgfVxufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbihwcm9taXNlLCBpc1JlamVjdCl7XG4gIGlmKHByb21pc2UuX24pcmV0dXJuO1xuICBwcm9taXNlLl9uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYztcbiAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdlxuICAgICAgLCBvayAgICA9IHByb21pc2UuX3MgPT0gMVxuICAgICAgLCBpICAgICA9IDA7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKHJlYWN0aW9uKXtcbiAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWxcbiAgICAgICAgLCByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZVxuICAgICAgICAsIHJlamVjdCAgPSByZWFjdGlvbi5yZWplY3RcbiAgICAgICAgLCBkb21haW4gID0gcmVhY3Rpb24uZG9tYWluXG4gICAgICAgICwgcmVzdWx0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYoaGFuZGxlcil7XG4gICAgICAgICAgaWYoIW9rKXtcbiAgICAgICAgICAgIGlmKHByb21pc2UuX2ggPT0gMilvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihoYW5kbGVyID09PSB0cnVlKXJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7XG4gICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKXtcbiAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpe1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHByb21pc2UuX2MgPSBbXTtcbiAgICBwcm9taXNlLl9uID0gZmFsc2U7XG4gICAgaWYoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpb25VbmhhbmRsZWQocHJvbWlzZSk7XG4gIH0pO1xufTtcbnZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgYWJydXB0LCBoYW5kbGVyLCBjb25zb2xlO1xuICAgIGlmKGlzVW5oYW5kbGVkKHByb21pc2UpKXtcbiAgICAgIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoaXNOb2RlKXtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pe1xuICAgICAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWV9KTtcbiAgICAgICAgfSBlbHNlIGlmKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3Ipe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcbiAgICBpZihhYnJ1cHQpdGhyb3cgYWJydXB0LmVycm9yO1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgaWYocHJvbWlzZS5faCA9PSAxKXJldHVybiBmYWxzZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jXG4gICAgLCBpICAgICA9IDBcbiAgICAsIHJlYWN0aW9uO1xuICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcbiAgICByZWFjdGlvbiA9IGNoYWluW2krK107XG4gICAgaWYocmVhY3Rpb24uZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3Rpb24ucHJvbWlzZSkpcmV0dXJuIGZhbHNlO1xuICB9IHJldHVybiB0cnVlO1xufTtcbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmKGlzTm9kZSl7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpe1xuICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92fSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICBwcm9taXNlLl92ID0gdmFsdWU7XG4gIHByb21pc2UuX3MgPSAyO1xuICBpZighcHJvbWlzZS5fYSlwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcHJvbWlzZSA9IHRoaXNcbiAgICAsIHRoZW47XG4gIGlmKHByb21pc2UuX2QpcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYocHJvbWlzZSA9PT0gdmFsdWUpdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgaWYodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKXtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoKGUpe1xuICAgICRyZWplY3QuY2FsbCh7X3c6IHByb21pc2UsIF9kOiBmYWxzZX0sIGUpOyAvLyB3cmFwXG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZighVVNFX05BVElWRSl7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICBJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpO1xuICAgIH0gY2F0Y2goZXJyKXtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG4gICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSB2YWx1ZVxuICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcbiAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpe1xuICAgICAgdmFyIHJlYWN0aW9uICAgID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayAgICAgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgICA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX2EpdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHRoaXMuX3Mpbm90aWZ5KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHByb21pc2UgID0gbmV3IEludGVybmFsO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCAgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiAkUHJvbWlzZX0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKXtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVqZWN0ICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpe1xuICAgIC8vIGluc3RhbmNlb2YgaW5zdGVhZCBvZiBpbnRlcm5hbCBzbG90IGNoZWNrIGJlY2F1c2Ugd2Ugc2hvdWxkIGZpeCBpdCB3aXRob3V0IHJlcGxhY2VtZW50IG5hdGl2ZSBQcm9taXNlIGNvcmVcbiAgICBpZih4IGluc3RhbmNlb2YgJFByb21pc2UgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKXJldHVybiB4O1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcylcbiAgICAgICwgJCRyZXNvbHZlICA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAkJHJlc29sdmUoeCk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpe1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZXNvbHZlICAgID0gY2FwYWJpbGl0eS5yZXNvbHZlXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgdmFyIHZhbHVlcyAgICA9IFtdXG4gICAgICAgICwgaW5kZXggICAgID0gMFxuICAgICAgICAsIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuICAgICAgICB2YXIgJGluZGV4ICAgICAgICA9IGluZGV4KytcbiAgICAgICAgICAsIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICBpZihhbHJlYWR5Q2FsbGVkKXJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkICA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZihhYnJ1cHQpcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcbiAgICAgICwgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgREVTQ1JJUFRPUlMgICAgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIE1FVEEgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWVxuICAsICRmYWlscyAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuL193a3MnKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgd2tzRGVmaW5lICAgICAgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2tleW9mJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpXG4gICwgaXNBcnJheSAgICAgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheScpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgX2NyZWF0ZSAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBnT1BORXh0ICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpXG4gICwgJEdPUEQgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICwgJERQICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsICRrZXlzICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuICAsIGRQICAgICAgICAgICAgID0gJERQLmZcbiAgLCBnT1BOICAgICAgICAgICA9IGdPUE5FeHQuZlxuICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cbiAgLCBfc3RyaW5naWZ5ICAgICA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeVxuICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcbiAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG4gICwgVE9fUFJJTUlUSVZFICAgPSB3a3MoJ3RvUHJpbWl0aXZlJylcbiAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcbiAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG4gICwgVVNFX05BVElWRSAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvKSRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIGl0ICA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cbiAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIVVTRV9OQVRJVkUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKXNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0fSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKXtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfVxufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbmZvcih2YXIgc3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzKHN5bWJvbHNbaSsrXSk7XG5cbmZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbigpe1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG4gICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgdmFyIGFyZ3MgPSBbaXRdXG4gICAgICAsIGkgICAgPSAxXG4gICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgaWYoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSlyZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufSIsIi8qIVxyXG4gKiBPYmplY3Qub2JzZXJ2ZSBwb2x5ZmlsbCAtIHYwLjIuNFxyXG4gKiBieSBNYXNzaW1vIEFydGl6enUgKE1heEFydDI1MDEpXHJcbiAqXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9NYXhBcnQyNTAxL29iamVjdC1vYnNlcnZlXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxyXG4gKiBTZWUgTElDRU5TRSBmb3IgZGV0YWlsc1xyXG4gKi9cclxuXHJcbi8vIFNvbWUgdHlwZSBkZWZpbml0aW9uc1xyXG4vKipcclxuICogVGhpcyByZXByZXNlbnRzIHRoZSBkYXRhIHJlbGF0aXZlIHRvIGFuIG9ic2VydmVkIG9iamVjdFxyXG4gKiBAdHlwZWRlZiAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBPYmplY3REYXRhXHJcbiAqIEBwcm9wZXJ0eSB7TWFwPEhhbmRsZXIsIEhhbmRsZXJEYXRhPn0gIGhhbmRsZXJzXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nW119ICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNcclxuICogQHByb3BlcnR5IHsqW119ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzXHJcbiAqIEBwcm9wZXJ0eSB7RGVzY3JpcHRvcltdfSAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzXHJcbiAqIEBwcm9wZXJ0eSB7Tm90aWZpZXJ9ICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gICAgICAgICAgICAgICAgICAgIGZyb3plblxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59ICAgICAgICAgICAgICAgICAgICBleHRlbnNpYmxlXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAgICAgICAgICAgICAgICAgICAgIHByb3RvXHJcbiAqL1xyXG4vKipcclxuICogRnVuY3Rpb24gZGVmaW5pdGlvbiBvZiBhIGhhbmRsZXJcclxuICogQGNhbGxiYWNrIEhhbmRsZXJcclxuICogQHBhcmFtIHtDaGFuZ2VSZWNvcmRbXX0gICAgICAgICAgICAgICAgY2hhbmdlc1xyXG4qL1xyXG4vKipcclxuICogVGhpcyByZXByZXNlbnRzIHRoZSBkYXRhIHJlbGF0aXZlIHRvIGFuIG9ic2VydmVkIG9iamVjdCBhbmQgb25lIG9mIGl0c1xyXG4gKiBoYW5kbGVyc1xyXG4gKiBAdHlwZWRlZiAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBIYW5kbGVyRGF0YVxyXG4gKiBAcHJvcGVydHkge01hcDxPYmplY3QsIE9ic2VydmVkRGF0YT59ICBvYnNlcnZlZFxyXG4gKiBAcHJvcGVydHkge0NoYW5nZVJlY29yZFtdfSAgICAgICAgICAgICBjaGFuZ2VSZWNvcmRzXHJcbiAqL1xyXG4vKipcclxuICogQHR5cGVkZWYgIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgT2JzZXJ2ZWREYXRhXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nW119ICAgICAgICAgICAgICAgICAgIGFjY2VwdExpc3RcclxuICogQHByb3BlcnR5IHtPYmplY3REYXRhfSAgICAgICAgICAgICAgICAgZGF0YVxyXG4qL1xyXG4vKipcclxuICogVHlwZSBkZWZpbml0aW9uIGZvciBhIGNoYW5nZS4gQW55IG90aGVyIHByb3BlcnR5IGNhbiBiZSBhZGRlZCB1c2luZ1xyXG4gKiB0aGUgbm90aWZ5KCkgb3IgcGVyZm9ybUNoYW5nZSgpIG1ldGhvZHMgb2YgdGhlIG5vdGlmaWVyLlxyXG4gKiBAdHlwZWRlZiAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBDaGFuZ2VSZWNvcmRcclxuICogQHByb3BlcnR5IHtTdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgdHlwZVxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gICAgICAgICAgICAgICAgICAgICBvYmplY3RcclxuICogQHByb3BlcnR5IHtTdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgW25hbWVdXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gICAgICAgICAgICAgICAgICAgICAgICAgIFtvbGRWYWx1ZV1cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9ICAgICAgICAgICAgICAgICAgICAgW2luZGV4XVxyXG4gKi9cclxuLyoqXHJcbiAqIFR5cGUgZGVmaW5pdGlvbiBmb3IgYSBub3RpZmllciAod2hhdCBPYmplY3QuZ2V0Tm90aWZpZXIgcmV0dXJucylcclxuICogQHR5cGVkZWYgIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgTm90aWZpZXJcclxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gICAgICAgICAgICAgICAgICAgbm90aWZ5XHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259ICAgICAgICAgICAgICAgICAgIHBlcmZvcm1DaGFuZ2VcclxuICovXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBjYWxsZWQgd2l0aCBOb3RpZmllci5wZXJmb3JtQ2hhbmdlLiBJdCBtYXkgb3B0aW9uYWxseSByZXR1cm4gYVxyXG4gKiBDaGFuZ2VSZWNvcmQgdGhhdCBnZXRzIGF1dG9tYXRpY2FsbHkgbm90aWZpZWQsIGJ1dCBgdHlwZWAgYW5kIGBvYmplY3RgXHJcbiAqIHByb3BlcnRpZXMgYXJlIG92ZXJyaWRkZW4uXHJcbiAqIEBjYWxsYmFjayBQZXJmb3JtZXJcclxuICogQHJldHVybnMge0NoYW5nZVJlY29yZHx1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuT2JqZWN0Lm9ic2VydmUgfHwgKGZ1bmN0aW9uKE8sIEEsIHJvb3QsIF91bmRlZmluZWQpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWxhdGVzIG9ic2VydmVkIG9iamVjdHMgYW5kIHRoZWlyIGRhdGFcclxuICAgICAgICAgKiBAdHlwZSB7TWFwPE9iamVjdCwgT2JqZWN0RGF0YX1cclxuICAgICAgICAgKi9cclxuICAgIHZhciBvYnNlcnZlZCxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0IG9mIGhhbmRsZXJzIGFuZCB0aGVpciBkYXRhXHJcbiAgICAgICAgICogQHR5cGUge01hcDxIYW5kbGVyLCBNYXA8T2JqZWN0LCBIYW5kbGVyRGF0YT4+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGhhbmRsZXJzLFxyXG5cclxuICAgICAgICBkZWZhdWx0QWNjZXB0TGlzdCA9IFsgXCJhZGRcIiwgXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJyZWNvbmZpZ3VyZVwiLCBcInNldFByb3RvdHlwZVwiLCBcInByZXZlbnRFeHRlbnNpb25zXCIgXTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbnMgZm9yIGludGVybmFsIHVzYWdlXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENoZWNrcyBpZiB0aGUgYXJndW1lbnQgaXMgYW4gQXJyYXkgb2JqZWN0LiBQb2x5ZmlsbHMgQXJyYXkuaXNBcnJheS5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gaXNBcnJheVxyXG4gICAgICAgICAqIEBwYXJhbSB7Pyp9IG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgdmFyIGlzQXJyYXkgPSBBLmlzQXJyYXkgfHwgKGZ1bmN0aW9uKHRvU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiB0b1N0cmluZy5jYWxsKG9iamVjdCkgPT09IFwiW29iamVjdCBBcnJheV1cIjsgfTtcclxuICAgICAgICB9KShPLnByb3RvdHlwZS50b1N0cmluZyksXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGl0ZW0gaW4gYSBjb2xsZWN0aW9uLCBvciAtMSBpZiBub3QgZm91bmQuXHJcbiAgICAgICAgICogVXNlcyB0aGUgZ2VuZXJpYyBBcnJheS5pbmRleE9mIG9yIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIGlmIGF2YWlsYWJsZS5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gaW5BcnJheVxyXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBwaXZvdCAgICAgICAgICAgSXRlbSB0byBsb29rIGZvclxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gIEluZGV4IHRvIHN0YXJ0IGZyb21cclxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluQXJyYXkgPSBBLnByb3RvdHlwZS5pbmRleE9mID8gQS5pbmRleE9mIHx8IGZ1bmN0aW9uKGFycmF5LCBwaXZvdCwgc3RhcnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEEucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgcGl2b3QsIHN0YXJ0KTtcclxuICAgICAgICB9IDogZnVuY3Rpb24oYXJyYXksIHBpdm90LCBzdGFydCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgfHwgMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSBwaXZvdClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgTWFwLCBvciBhIE1hcC1saWtlIG9iamVjdCBpcyBNYXAgaXMgbm90XHJcbiAgICAgICAgICogc3VwcG9ydGVkIG9yIGRvZXNuJ3Qgc3VwcG9ydCBmb3JFYWNoKClcclxuICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlTWFwXHJcbiAgICAgICAgICogQHJldHVybnMge01hcH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjcmVhdGVNYXAgPSByb290Lk1hcCA9PT0gX3VuZGVmaW5lZCB8fCAhTWFwLnByb3RvdHlwZS5mb3JFYWNoID8gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIExpZ2h0d2VpZ2h0IHNoaW0gb2YgTWFwLiBMYWNrcyBjbGVhcigpLCBlbnRyaWVzKCksIGtleXMoKSBhbmRcclxuICAgICAgICAgICAgLy8gdmFsdWVzKCkgKHRoZSBsYXN0IDMgbm90IHN1cHBvcnRlZCBieSBJRTExLCBzbyBjYW4ndCB1c2UgdGhlbSksXHJcbiAgICAgICAgICAgIC8vIGl0IGRvZXNuJ3QgaGFuZGxlIHRoZSBjb25zdHJ1Y3RvcidzIGFyZ3VtZW50IChsaWtlIElFMTEpIGFuZCBvZlxyXG4gICAgICAgICAgICAvLyBjb3Vyc2UgaXQgZG9lc24ndCBzdXBwb3J0IGZvci4uLm9mLlxyXG4gICAgICAgICAgICAvLyBDaHJvbWUgMzEtMzUgYW5kIEZpcmVmb3ggMTMtMjQgaGF2ZSBhIGJhc2ljIHN1cHBvcnQgb2YgTWFwLCBidXRcclxuICAgICAgICAgICAgLy8gdGhleSBsYWNrIGZvckVhY2goKSwgc28gdGhlaXIgbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIGJhZCBmb3JcclxuICAgICAgICAgICAgLy8gdGhpcyBwb2x5ZmlsbC4gKENocm9tZSAzNisgc3VwcG9ydHMgT2JqZWN0Lm9ic2VydmUuKVxyXG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdLCB2YWx1ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzaXplOiAwLFxyXG4gICAgICAgICAgICAgICAgaGFzOiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGluQXJyYXkoa2V5cywga2V5KSA+IC0xOyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlc1tpbkFycmF5KGtleXMsIGtleSldOyB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBpbkFycmF5KGtleXMsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB2YWx1ZXNbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcImRlbGV0ZVwiOiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGluQXJyYXkoa2V5cywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZm9yRWFjaDogZnVuY3Rpb24oY2FsbGJhY2svKiwgdGhpc09iaiovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGFyZ3VtZW50c1sxXSwgdmFsdWVzW2ldLCBrZXlzW2ldLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IDogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgTWFwKCk7IH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNpbXBsZSBzaGltIGZvciBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aGVuIGlzIG5vdCBhdmFpbGFibGVcclxuICAgICAgICAgKiBNaXNzZXMgY2hlY2tzIG9uIG9iamVjdCwgZG9uJ3QgdXNlIGFzIGEgcmVwbGFjZW1lbnQgb2YgT2JqZWN0LmtleXMvZ2V0T3duUHJvcGVydHlOYW1lc1xyXG4gICAgICAgICAqIEBmdW5jdGlvbiBnZXRQcm9wc1xyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nW119XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0UHJvcHMgPSBPLmdldE93blByb3BlcnR5TmFtZXMgPyAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBmdW5jID0gTy5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzLmNhbGxlZTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3RyaWN0IG1vZGUgaXMgc3VwcG9ydGVkXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSW4gc3RyaWN0IG1vZGUsIHdlIGNhbid0IGFjY2VzcyB0byBcImFyZ3VtZW50c1wiLCBcImNhbGxlclwiIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gXCJjYWxsZWVcIiBwcm9wZXJ0aWVzIG9mIGZ1bmN0aW9ucy4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybnMgWyBcInByb3RvdHlwZVwiLCBcImxlbmd0aFwiLCBcIm5hbWVcIiBdIGluIEZpcmVmb3g7IGl0IHJldHVybnNcclxuICAgICAgICAgICAgICAgIC8vIFwiY2FsbGVyXCIgYW5kIFwiYXJndW1lbnRzXCIgdG9vIGluIENocm9tZSBhbmQgaW4gSW50ZXJuZXRcclxuICAgICAgICAgICAgICAgIC8vIEV4cGxvcmVyLCBzbyB0aG9zZSB2YWx1ZXMgbXVzdCBiZSBmaWx0ZXJlZC5cclxuICAgICAgICAgICAgICAgIHZhciBhdm9pZCA9IChmdW5jKGluQXJyYXkpLmpvaW4oXCIgXCIpICsgXCIgXCIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCBcIlwiKS5zbGljZSgwLCAtMSkuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF2b2lkLmxlbmd0aCkgZnVuYyA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IE8uZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqOyBpIDwgYXZvaWQubGVuZ3RoOylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaiA9IGluQXJyYXkocHJvcHMsIGF2b2lkW2krK10pKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNwbGljZShqLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZnVuYztcclxuICAgICAgICB9KSgpIDogZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIC8vIFBvb3ItbW91dGggdmVyc2lvbiB3aXRoIGZvci4uLmluIChJRTgtKVxyXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBbXSwgcHJvcCwgaG9wO1xyXG4gICAgICAgICAgICBpZiAoXCJoYXNPd25Qcm9wZXJ0eVwiIGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChwcm9wIGluIG9iamVjdClcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3ApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5wdXNoKHByb3ApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG9wID0gTy5oYXNPd25Qcm9wZXJ0eTtcclxuICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBvYmplY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvcC5jYWxsKG9iamVjdCwgcHJvcCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEluc2VydGluZyBhIGNvbW1vbiBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvZiBhcnJheXNcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkob2JqZWN0KSlcclxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2goXCJsZW5ndGhcIik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJvcHM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJuIHRoZSBwcm90b3R5cGUgb2YgdGhlIG9iamVjdC4uLiBpZiBkZWZpbmVkLlxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBnZXRQcm90b3R5cGVcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRQcm90b3R5cGUgPSBPLmdldFByb3RvdHlwZU9mLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm4gdGhlIGRlc2NyaXB0b3Igb2YgdGhlIG9iamVjdC4uLiBpZiBkZWZpbmVkLlxyXG4gICAgICAgICAqIElFOCBzdXBwb3J0cyBhICh1c2VsZXNzKSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGZvciBET01cclxuICAgICAgICAgKiBub2RlcyBvbmx5LCBzbyBkZWZpbmVQcm9wZXJ0aWVzIGlzIGNoZWNrZWQgaW5zdGVhZC5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gZ2V0RGVzY3JpcHRvclxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcclxuICAgICAgICAgKiBAcmV0dXJucyB7RGVzY3JpcHRvcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXREZXNjcmlwdG9yID0gTy5kZWZpbmVQcm9wZXJ0aWVzICYmIE8uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHVwIHRoZSBuZXh0IGNoZWNrIGFuZCBkZWxpdmVyaW5nIGl0ZXJhdGlvbiwgdXNpbmdcclxuICAgICAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgb3IgYSAoY2xvc2UpIHBvbHlmaWxsLlxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBuZXh0RnJhbWVcclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jXHJcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBuZXh0RnJhbWUgPSByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByb290LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBpbml0aWFsID0gK25ldyBEYXRlLFxyXG4gICAgICAgICAgICAgICAgbGFzdCA9IGluaXRpYWw7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jKChsYXN0ID0gK25ldyBEYXRlKSAtIGluaXRpYWwpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKCksXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgdXAgdGhlIG9ic2VydmF0aW9uIG9mIGFuIG9iamVjdFxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBkb09ic2VydmVcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0gW2FjY2VwdExpc3RdXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZG9PYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LCBoYW5kbGVyLCBhY2NlcHRMaXN0KSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gb2JzZXJ2ZWQuZ2V0KG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybVByb3BlcnR5Q2hlY2tzKGRhdGEsIG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBzZXRIYW5kbGVyKG9iamVjdCwgZGF0YSwgaGFuZGxlciwgYWNjZXB0TGlzdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gY3JlYXRlT2JqZWN0RGF0YShvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgc2V0SGFuZGxlcihvYmplY3QsIGRhdGEsIGhhbmRsZXIsIGFjY2VwdExpc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlZC5zaXplID09PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExldCB0aGUgb2JzZXJ2YXRpb24gYmVnaW4hXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEZyYW1lKHJ1bkdsb2JhbExvb3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyB0aGUgaW5pdGlhbCBkYXRhIGZvciBhbiBvYnNlcnZlZCBvYmplY3RcclxuICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlT2JqZWN0RGF0YVxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBjcmVhdGVPYmplY3REYXRhID0gZnVuY3Rpb24ob2JqZWN0LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IGdldFByb3BzKG9iamVjdCksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXSwgZGVzY3MsIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyczogY3JlYXRlTWFwKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvemVuOiBPLmlzRnJvemVuID8gTy5pc0Zyb3plbihvYmplY3QpIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaWJsZTogTy5pc0V4dGVuc2libGUgPyBPLmlzRXh0ZW5zaWJsZShvYmplY3QpIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm90bzogZ2V0UHJvdG90eXBlICYmIGdldFByb3RvdHlwZShvYmplY3QpLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHByb3BzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyOiByZXRyaWV2ZU5vdGlmaWVyKG9iamVjdCwgZGF0YSlcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoZ2V0RGVzY3JpcHRvcikge1xyXG4gICAgICAgICAgICAgICAgZGVzY3MgPSBkYXRhLmRlc2NyaXB0b3JzID0gW107XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IHByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NzW2ldID0gZ2V0RGVzY3JpcHRvcihvYmplY3QsIHByb3BzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBvYmplY3RbcHJvcHNbaSsrXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB3aGlsZSAoaSA8IHByb3BzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IG9iamVjdFtwcm9wc1tpKytdXTtcclxuXHJcbiAgICAgICAgICAgIG9ic2VydmVkLnNldChvYmplY3QsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGVyZm9ybXMgYmFzaWMgcHJvcGVydHkgdmFsdWUgY2hhbmdlIGNoZWNrcyBvbiBhbiBvYnNlcnZlZCBvYmplY3RcclxuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybVByb3BlcnR5Q2hlY2tzXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3REYXRhfSBkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZXhjZXB0XSAgRG9lc24ndCBkZWxpdmVyIHRoZSBjaGFuZ2VzIHRvIHRoZVxyXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgdGhhdCBhY2NlcHQgdGhpcyB0eXBlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGVyZm9ybVByb3BlcnR5Q2hlY2tzID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlQ2hlY2sgPSBnZXREZXNjcmlwdG9yID8gZnVuY3Rpb24ob2JqZWN0LCBkYXRhLCBpZHgsIGV4Y2VwdCwgZGVzY3IpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBkYXRhLnByb3BlcnRpZXNbaWR4XSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgIG92YWx1ZSA9IGRhdGEudmFsdWVzW2lkeF0sXHJcbiAgICAgICAgICAgICAgICAgICAgb2Rlc2MgPSBkYXRhLmRlc2NyaXB0b3JzW2lkeF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjciAmJiAob3ZhbHVlID09PSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG92YWx1ZSA9PT0gMCAmJiAxL292YWx1ZSAhPT0gMS92YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG92YWx1ZSA9PT0gb3ZhbHVlIHx8IHZhbHVlID09PSB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDaGFuZ2VSZWNvcmQob2JqZWN0LCBkYXRhLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LCBleGNlcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVzW2lkeF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvZGVzYy5jb25maWd1cmFibGUgJiYgKCFkZXNjci5jb25maWd1cmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGVzY3Iud3JpdGFibGUgIT09IG9kZXNjLndyaXRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGRlc2NyLmVudW1lcmFibGUgIT09IG9kZXNjLmVudW1lcmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGVzY3IuZ2V0ICE9PSBvZGVzYy5nZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGVzY3Iuc2V0ICE9PSBvZGVzYy5zZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhbmdlUmVjb3JkKG9iamVjdCwgZGF0YSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb25maWd1cmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LCBleGNlcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRvcnNbaWR4XSA9IGRlc2NyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IDogZnVuY3Rpb24ob2JqZWN0LCBkYXRhLCBpZHgsIGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGRhdGEucHJvcGVydGllc1tpZHhdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZhbHVlID0gZGF0YS52YWx1ZXNbaWR4XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3ZhbHVlID09PSB2YWx1ZSA/IG92YWx1ZSA9PT0gMCAmJiAxL292YWx1ZSAhPT0gMS92YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG92YWx1ZSA9PT0gb3ZhbHVlIHx8IHZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IG92YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52YWx1ZXNbaWR4XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tzIGlmIHNvbWUgcHJvcGVydHkgaGFzIGJlZW4gZGVsZXRlZFxyXG4gICAgICAgICAgICB2YXIgZGVsZXRpb25DaGVjayA9IGdldERlc2NyaXB0b3IgPyBmdW5jdGlvbihvYmplY3QsIHByb3BzLCBwcm9wbGVuLCBkYXRhLCBleGNlcHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gcHJvcHMubGVuZ3RoLCBkZXNjcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChwcm9wbGVuICYmIGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc1tpXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjciA9IGdldERlc2NyaXB0b3Iob2JqZWN0LCBwcm9wc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BsZW4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZGVzY3JpcHRvciwgdGhlIHByb3BlcnR5IGhhcyByZWFsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVlbiBkZWxldGVkOyBvdGhlcndpc2UsIGl0J3MgYmVlbiByZWNvbmZpZ3VyZWQgc29cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCdzIG5vdCBlbnVtZXJhYmxlIGFueW1vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyKSB1cGRhdGVDaGVjayhvYmplY3QsIGRhdGEsIGksIGV4Y2VwdCwgZGVzY3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9wc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRlbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBkYXRhLnZhbHVlc1tpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXhjZXB0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcGVydGllcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnZhbHVlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2NyaXB0b3JzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcHMsIHByb3BsZW4sIGRhdGEsIGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBwcm9wcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocHJvcGxlbiAmJiBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkZWxldGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IGRhdGEudmFsdWVzW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcGVydGllcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGxlbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihkYXRhLCBvYmplY3QsIGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmhhbmRsZXJzLnNpemUgfHwgZGF0YS5mcm96ZW4pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMsIHByb3BsZW4sIGtleXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gZGF0YS52YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3MgPSBkYXRhLmRlc2NyaXB0b3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIGkgPSAwLCBpZHgsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LCB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm90bywgZGVzY3I7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpc24ndCBleHRlbnNpYmxlLCB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIGZvciBuZXdcclxuICAgICAgICAgICAgICAgIC8vIG9yIGRlbGV0ZWQgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXh0ZW5zaWJsZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IGRhdGEucHJvcGVydGllcy5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BsZW4gPSBwcm9wcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5cyA9IGdldFByb3BzKG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXNjcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXlzW2krK107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpbkFycmF5KHByb3BzLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3IgPSBnZXREZXNjcmlwdG9yKG9iamVjdCwga2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wZXJ0aWVzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChvYmplY3Rba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3MucHVzaChkZXNjcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2lkeF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BsZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDaGVjayhvYmplY3QsIGRhdGEsIGlkeCwgZXhjZXB0LCBkZXNjcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRpb25DaGVjayhvYmplY3QsIHByb3BzLCBwcm9wbGVuLCBkYXRhLCBleGNlcHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFPLmlzRXh0ZW5zaWJsZShvYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmV4dGVuc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInByZXZlbnRFeHRlbnNpb25zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5mcm96ZW4gPSBPLmlzRnJvemVuKG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXlzW2krK107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpbkFycmF5KHByb3BzLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wZXJ0aWVzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2lkeF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BsZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDaGVjayhvYmplY3QsIGRhdGEsIGlkeCwgZXhjZXB0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGlvbkNoZWNrKG9iamVjdCwgcHJvcHMsIHByb3BsZW4sIGRhdGEsIGV4Y2VwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRhdGEuZnJvemVuKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgbm90IGV4dGVuc2libGUsIGJ1dCBub3QgZnJvemVuLCB3ZSBqdXN0IGhhdmVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGVjayBmb3IgdmFsdWUgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNoZWNrKG9iamVjdCwgZGF0YSwgaSwgZXhjZXB0LCBnZXREZXNjcmlwdG9yKG9iamVjdCwga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTy5pc0Zyb3plbihvYmplY3QpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZyb3plbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGdldFByb3RvdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3RvID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvICE9PSBkYXRhLnByb3RvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0UHJvdG90eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIl9fcHJvdG9fX1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogZGF0YS5wcm90b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm90byA9IHByb3RvO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KSgpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHVwIHRoZSBtYWluIGxvb3AgZm9yIG9iamVjdCBvYnNlcnZhdGlvbiBhbmQgY2hhbmdlIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAqIEl0IHN0b3BzIGlmIG5vIG9iamVjdCBpcyBvYnNlcnZlZC5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gcnVuR2xvYmFsTG9vcFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJ1bkdsb2JhbExvb3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG9ic2VydmVkLnNpemUpIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVkLmZvckVhY2gocGVyZm9ybVByb3BlcnR5Q2hlY2tzKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXJzLmZvckVhY2goZGVsaXZlckhhbmRsZXJSZWNvcmRzKTtcclxuICAgICAgICAgICAgICAgIG5leHRGcmFtZShydW5HbG9iYWxMb29wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlbGl2ZXIgdGhlIGNoYW5nZSByZWNvcmRzIHJlbGF0aXZlIHRvIGEgY2VydGFpbiBoYW5kbGVyLCBhbmQgcmVzZXRzXHJcbiAgICAgICAgICogdGhlIHJlY29yZCBsaXN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7SGFuZGxlckRhdGF9IGhkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGVsaXZlckhhbmRsZXJSZWNvcmRzID0gZnVuY3Rpb24oaGRhdGEsIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIHJlY29yZHMgPSBoZGF0YS5jaGFuZ2VSZWNvcmRzO1xyXG4gICAgICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGhkYXRhLmNoYW5nZVJlY29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIocmVjb3Jkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBub3RpZmllciBmb3IgYW4gb2JqZWN0IC0gd2hldGhlciBpdCdzIG9ic2VydmVkIG9yIG5vdFxyXG4gICAgICAgICAqIEBmdW5jdGlvbiByZXRyaWV2ZU5vdGlmaWVyXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0RGF0YX0gW2RhdGFdXHJcbiAgICAgICAgICogQHJldHVybnMge05vdGlmaWVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHJpZXZlTm90aWZpZXIgPSBmdW5jdGlvbihvYmplY3QsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKVxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IG9ic2VydmVkLmdldChvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgLyoqIEB0eXBlIHtOb3RpZmllcn0gKi9cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5ub3RpZmllciB8fCB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEBtZXRob2Qgbm90aWZ5XHJcbiAgICAgICAgICAgICAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI25vdGlmaWVycHJvdG90eXBlLl9ub3RpZnlcclxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBOb3RpZmllclxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtDaGFuZ2VSZWNvcmR9IGNoYW5nZVJlY29yZFxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBub3RpZnk6IGZ1bmN0aW9uKGNoYW5nZVJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVJlY29yZC50eXBlOyAvLyBKdXN0IHRvIGNoZWNrIHRoZSBwcm9wZXJ0eSBpcyB0aGVyZS4uLlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRhdGEsIHRoZSBvYmplY3QgaGFzIGJlZW4gdW5vYnNlcnZlZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JzZXJ2ZWQuZ2V0KG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZENvcHkgPSB7IG9iamVjdDogb2JqZWN0IH0sIHByb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiBjaGFuZ2VSZWNvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRDb3B5W3Byb3BdID0gY2hhbmdlUmVjb3JkW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDaGFuZ2VSZWNvcmQob2JqZWN0LCBkYXRhLCByZWNvcmRDb3B5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZCBwZXJmb3JtQ2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI25vdGlmaWVycHJvdG90eXBlXy5wZXJmb3JtY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgTm90aWZpZXJcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFuZ2VUeXBlXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1BlcmZvcm1lcn0gZnVuYyAgICAgVGhlIHRhc2sgcGVyZm9ybWVyXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyp9IFt0aGlzT2JqXSAgICAgICAgVXNlZCB0byBzZXQgYHRoaXNgIHdoZW4gY2FsbGluZyBmdW5jXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHBlcmZvcm1DaGFuZ2U6IGZ1bmN0aW9uKGNoYW5nZVR5cGUsIGZ1bmMvKiwgdGhpc09iaiovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VUeXBlICE9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRhdGEsIHRoZSBvYmplY3QgaGFzIGJlZW4gdW5vYnNlcnZlZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JzZXJ2ZWQuZ2V0KG9iamVjdCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AsIGNoYW5nZVJlY29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09iaiA9IGFyZ3VtZW50c1syXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpc09iaiA9PT0gX3VuZGVmaW5lZCA/IGZ1bmMoKSA6IGZ1bmMuY2FsbCh0aGlzT2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSAmJiBwZXJmb3JtUHJvcGVydHlDaGVja3MoZGF0YSwgb2JqZWN0LCBjaGFuZ2VUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBkYXRhLCB0aGUgb2JqZWN0IGhhcyBiZWVuIHVub2JzZXJ2ZWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiByZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSZWNvcmQgPSB7IG9iamVjdDogb2JqZWN0LCB0eXBlOiBjaGFuZ2VUeXBlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcCBpbiByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gXCJvYmplY3RcIiAmJiBwcm9wICE9PSBcInR5cGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSZWNvcmRbcHJvcF0gPSByZXN1bHRbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENoYW5nZVJlY29yZChvYmplY3QsIGRhdGEsIGNoYW5nZVJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZ2lzdGVyIChvciByZWRlZmluZXMpIGFuIGhhbmRsZXIgaW4gdGhlIGNvbGxlY3Rpb24gZm9yIGEgZ2l2ZW5cclxuICAgICAgICAgKiBvYmplY3QgYW5kIGEgZ2l2ZW4gdHlwZSBhY2NlcHQgbGlzdC5cclxuICAgICAgICAgKiBAZnVuY3Rpb24gc2V0SGFuZGxlclxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdERhdGF9IGRhdGFcclxuICAgICAgICAgKiBAcGFyYW0ge0hhbmRsZXJ9IGhhbmRsZXJcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBhY2NlcHRMaXN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2V0SGFuZGxlciA9IGZ1bmN0aW9uKG9iamVjdCwgZGF0YSwgaGFuZGxlciwgYWNjZXB0TGlzdCkge1xyXG4gICAgICAgICAgICB2YXIgaGRhdGEgPSBoYW5kbGVycy5nZXQoaGFuZGxlcik7XHJcbiAgICAgICAgICAgIGlmICghaGRhdGEpXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zZXQoaGFuZGxlciwgaGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZWQ6IGNyZWF0ZU1hcCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVJlY29yZHM6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaGRhdGEub2JzZXJ2ZWQuc2V0KG9iamVjdCwge1xyXG4gICAgICAgICAgICAgICAgYWNjZXB0TGlzdDogYWNjZXB0TGlzdC5zbGljZSgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGF0YS5oYW5kbGVycy5zZXQoaGFuZGxlciwgaGRhdGEpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZHMgYSBjaGFuZ2UgcmVjb3JkIGluIGEgZ2l2ZW4gT2JqZWN0RGF0YVxyXG4gICAgICAgICAqIEBmdW5jdGlvbiBhZGRDaGFuZ2VSZWNvcmRcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3REYXRhfSBkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIHtDaGFuZ2VSZWNvcmR9IGNoYW5nZVJlY29yZFxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZXhjZXB0XVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFkZENoYW5nZVJlY29yZCA9IGZ1bmN0aW9uKG9iamVjdCwgZGF0YSwgY2hhbmdlUmVjb3JkLCBleGNlcHQpIHtcclxuICAgICAgICAgICAgZGF0YS5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWNjZXB0TGlzdCA9IGhkYXRhLm9ic2VydmVkLmdldChvYmplY3QpLmFjY2VwdExpc3Q7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBleGNlcHQgaXMgZGVmaW5lZCwgTm90aWZpZXIucGVyZm9ybUNoYW5nZSBoYXMgYmVlblxyXG4gICAgICAgICAgICAgICAgLy8gY2FsbGVkLCB3aXRoIGV4Y2VwdCBhcyB0aGUgdHlwZS5cclxuICAgICAgICAgICAgICAgIC8vIEFsbCB0aGUgaGFuZGxlcnMgdGhhdCBhY2NlcHRzIHRoYXQgdHlwZSBhcmUgc2tpcHBlZC5cclxuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGV4Y2VwdCAhPT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBpbkFycmF5KGFjY2VwdExpc3QsIGV4Y2VwdCkgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBpbkFycmF5KGFjY2VwdExpc3QsIGNoYW5nZVJlY29yZC50eXBlKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGhkYXRhLmNoYW5nZVJlY29yZHMucHVzaChjaGFuZ2VSZWNvcmQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIG9ic2VydmVkID0gY3JlYXRlTWFwKCk7XHJcbiAgICBoYW5kbGVycyA9IGNyZWF0ZU1hcCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGZ1bmN0aW9uIE9iamVjdC5vYnNlcnZlXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI09iamVjdC5vYnNlcnZlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge0hhbmRsZXJ9IGhhbmRsZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IFthY2NlcHRMaXN0XVxyXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gICAgICAgICAgICAgICBUaGUgb2JzZXJ2ZWQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIE8ub2JzZXJ2ZSA9IGZ1bmN0aW9uIG9ic2VydmUob2JqZWN0LCBoYW5kbGVyLCBhY2NlcHRMaXN0KSB7XHJcbiAgICAgICAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0XCIpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvblwiKTtcclxuXHJcbiAgICAgICAgaWYgKE8uaXNGcm96ZW4gJiYgTy5pc0Zyb3plbihoYW5kbGVyKSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGFjY2VwdExpc3QgPT09IF91bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGFjY2VwdExpc3QgPSBkZWZhdWx0QWNjZXB0TGlzdDtcclxuICAgICAgICBlbHNlIGlmICghYWNjZXB0TGlzdCB8fCB0eXBlb2YgYWNjZXB0TGlzdCAhPT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cIik7XHJcblxyXG4gICAgICAgIGRvT2JzZXJ2ZShvYmplY3QsIGhhbmRsZXIsIGFjY2VwdExpc3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBmdW5jdGlvbiBPYmplY3QudW5vYnNlcnZlXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI09iamVjdC51bm9ic2VydmVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAqIEBwYXJhbSB7SGFuZGxlcn0gaGFuZGxlclxyXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gICAgICAgICBUaGUgZ2l2ZW4gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIE8udW5vYnNlcnZlID0gZnVuY3Rpb24gdW5vYnNlcnZlKG9iamVjdCwgaGFuZGxlcikge1xyXG4gICAgICAgIGlmIChvYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdFwiKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvblwiKTtcclxuXHJcbiAgICAgICAgdmFyIGhkYXRhID0gaGFuZGxlcnMuZ2V0KGhhbmRsZXIpLCBvZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKGhkYXRhICYmIChvZGF0YSA9IGhkYXRhLm9ic2VydmVkLmdldChvYmplY3QpKSkge1xyXG4gICAgICAgICAgICBoZGF0YS5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKG9kYXRhLCBvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHBlcmZvcm1Qcm9wZXJ0eUNoZWNrcyhvZGF0YS5kYXRhLCBvYmplY3QpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsaXZlckhhbmRsZXJSZWNvcmRzKGhkYXRhLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJbiBGaXJlZm94IDEzLTE4LCBzaXplIGlzIGEgZnVuY3Rpb24sIGJ1dCBjcmVhdGVNYXAgc2hvdWxkIGZhbGxcclxuICAgICAgICAgICAgLy8gYmFjayB0byB0aGUgc2hpbSBmb3IgdGhvc2UgdmVyc2lvbnNcclxuICAgICAgICAgICAgaWYgKGhkYXRhLm9ic2VydmVkLnNpemUgPT09IDEgJiYgaGRhdGEub2JzZXJ2ZWQuaGFzKG9iamVjdCkpXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tcImRlbGV0ZVwiXShoYW5kbGVyKTtcclxuICAgICAgICAgICAgZWxzZSBoZGF0YS5vYnNlcnZlZFtcImRlbGV0ZVwiXShvYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9kYXRhLmRhdGEuaGFuZGxlcnMuc2l6ZSA9PT0gMSlcclxuICAgICAgICAgICAgICAgIG9ic2VydmVkW1wiZGVsZXRlXCJdKG9iamVjdCk7XHJcbiAgICAgICAgICAgIGVsc2Ugb2RhdGEuZGF0YS5oYW5kbGVyc1tcImRlbGV0ZVwiXShoYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGZ1bmN0aW9uIE9iamVjdC5nZXROb3RpZmllclxyXG4gICAgICogQHNlZSBodHRwOi8vYXJ2LmdpdGh1Yi5pby9lY21hc2NyaXB0LW9iamVjdC1vYnNlcnZlLyNHZXROb3RpZmllclxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxyXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxyXG4gICAgICogQHJldHVybnMge05vdGlmaWVyfVxyXG4gICAgICovXHJcbiAgICBPLmdldE5vdGlmaWVyID0gZnVuY3Rpb24gZ2V0Tm90aWZpZXIob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmplY3QgIT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdFwiKTtcclxuXHJcbiAgICAgICAgaWYgKE8uaXNGcm96ZW4gJiYgTy5pc0Zyb3plbihvYmplY3QpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHJpZXZlTm90aWZpZXIob2JqZWN0KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZnVuY3Rpb24gT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly9hcnYuZ2l0aHViLmlvL2VjbWFzY3JpcHQtb2JqZWN0LW9ic2VydmUvI09iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3Jkc1xyXG4gICAgICogQHNlZSBodHRwOi8vYXJ2LmdpdGh1Yi5pby9lY21hc2NyaXB0LW9iamVjdC1vYnNlcnZlLyNEZWxpdmVyQ2hhbmdlUmVjb3Jkc1xyXG4gICAgICogQHBhcmFtIHtIYW5kbGVyfSBoYW5kbGVyXHJcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XHJcbiAgICAgKi9cclxuICAgIE8uZGVsaXZlckNoYW5nZVJlY29yZHMgPSBmdW5jdGlvbiBkZWxpdmVyQ2hhbmdlUmVjb3JkcyhoYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uXCIpO1xyXG5cclxuICAgICAgICB2YXIgaGRhdGEgPSBoYW5kbGVycy5nZXQoaGFuZGxlcik7XHJcbiAgICAgICAgaWYgKGhkYXRhKSB7XHJcbiAgICAgICAgICAgIGhkYXRhLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24ob2RhdGEsIG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybVByb3BlcnR5Q2hlY2tzKG9kYXRhLmRhdGEsIG9iamVjdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWxpdmVySGFuZGxlclJlY29yZHMoaGRhdGEsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG59KShPYmplY3QsIEFycmF5LCB0aGlzKTtcclxuIiwiLy8gcG9seWZpbGxzXG4vLyBSZW1vdmVkIGJlY2F1c2UgdGhlIGNvbXBhdGliaWxpdHkgb2YgcnVudGltZS1ub2RlanNcbi8vIGltcG9ydCAnbXV0YXRpb25vYnNlcnZlci1zaGltJztcbmltcG9ydCAnb2JqZWN0Lm9ic2VydmUnO1xuaW1wb3J0ICdhcnJheS5vYnNlcnZlJztcblxuaW1wb3J0IFN5bmNoZXIgZnJvbSAnLi9zeW5jaGVyL1N5bmNoZXInO1xuaW1wb3J0IERhdGFPYmplY3RSZXBvcnRlciBmcm9tICcuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyJztcbmltcG9ydCBEYXRhT2JqZWN0T2JzZXJ2ZXIgZnJvbSAnLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlcic7XG5cbmV4cG9ydCB7U3luY2hlciwgRGF0YU9iamVjdFJlcG9ydGVyLCBEYXRhT2JqZWN0T2JzZXJ2ZXJ9O1xuIiwiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG5pbXBvcnQgU3luY09iamVjdCBmcm9tICcuL1N5bmNPYmplY3QnO1xuaW1wb3J0IERhdGFPYmplY3RDaGlsZCBmcm9tICcuL0RhdGFPYmplY3RDaGlsZCc7XG5pbXBvcnQgeyBDaGFuZ2VUeXBlLCBPYmplY3RUeXBlIH0gZnJvbSAnLi9TeW5jT2JqZWN0JztcbmltcG9ydCB7ZGVlcENsb25lfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5cbi8qKlxuICogTWFpbiBleHRlbnNpb24gY2xhc3MgZm9yIG9ic2VydmVycyBhbmQgcmVwb3J0ZXJzLCB3aXRoIGNvbW1vbiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICogQ2hpbGRyZW4gbWFuYWdlbWVudCBpcyBjb21tb24gZm9yIG9ic2VydmVycyBhbmQgcmVwb3J0ZXJzLlxuICovXG5jbGFzcyBEYXRhT2JqZWN0IHtcbiAgLyogcHJpdmF0ZVxuICBfdmVyc2lvbjogbnVtYmVyXG5cbiAgX293bmVyOiBIeXBlcnR5VVJMXG4gIF91cmw6IE9iamVjdFVSTFxuICBfc2NoZW1hOiBTY2hlbWFcbiAgX2J1czogTWluaUJ1c1xuICBfc3RhdHVzOiBvbiB8IHBhdXNlZFxuICBfc3luY09iajogU3luY0RhdGFcblxuICBfY2hpbGRyZW46IHsgaWQ6IERhdGFPYmplY3RDaGlsZCB9XG4gIF9jaGlsZHJlbkxpc3RlbmVyczogW01zZ0xpc3RlbmVyXVxuXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cbiAgX29uQWRkQ2hpbGRIYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcbiAgKi9cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYnkgSHlwZXJ0aWVzLiBJdCdzIGNhbGxlZCBieSB0aGUgU3luY2hlciBjcmVhdGUgb3Igc3Vic2NyaWJlIG1ldGhvZCdzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzeW5jaGVyLCB1cmwsIHNjaGVtYSwgaW5pdGlhbFN0YXR1cywgaW5pdGlhbERhdGEsIGNoaWxkcmVucykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fc3luY2hlciA9IHN5bmNoZXI7XG4gICAgX3RoaXMuX3VybCA9IHVybDtcbiAgICBfdGhpcy5fc2NoZW1hID0gc2NoZW1hO1xuICAgIF90aGlzLl9zdGF0dXMgPSBpbml0aWFsU3RhdHVzO1xuICAgIF90aGlzLl9zeW5jT2JqID0gbmV3IFN5bmNPYmplY3QoaW5pdGlhbERhdGEpO1xuICAgIF90aGlzLl9jaGlsZHJlbnMgPSBjaGlsZHJlbnM7XG5cbiAgICBfdGhpcy5fdmVyc2lvbiA9IDA7XG4gICAgX3RoaXMuX2NoaWxkSWQgPSAwO1xuICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHMgPSB7fTtcbiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTtcblxuICAgIF90aGlzLl9vd25lciA9IHN5bmNoZXIuX293bmVyO1xuICAgIF90aGlzLl9idXMgPSBzeW5jaGVyLl9idXM7XG4gIH1cblxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBjaGlsZEJhc2VVUkwgPSBfdGhpcy5fdXJsICsgJy9jaGlsZHJlbi8nO1xuICAgIGlmIChfdGhpcy5fY2hpbGRyZW5zKSB7XG4gICAgICBfdGhpcy5fY2hpbGRyZW5zLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIGxldCBjaGlsZFVSTCA9IGNoaWxkQmFzZVVSTCArIGNoaWxkO1xuICAgICAgICBsZXQgbGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKGNoaWxkVVJMLCAobXNnKSA9PiB7XG4gICAgICAgICAgLy9pZ25vcmUgbXNnIHNlbnQgYnkgaGltc2VsZlxuICAgICAgICAgIGlmIChtc2cuZnJvbSAhPT0gdGhpcy5fb3duZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogJywgbXNnKTtcbiAgICAgICAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnY3JlYXRlJzogX3RoaXMuX29uQ2hpbGRDcmVhdGUobXNnKTsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6IGNvbnNvbGUubG9nKG1zZyk7IGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfdGhpcy5fY2hhbmdlQ2hpbGRyZW4obXNnKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICBsaXN0ZW5lci5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5rZXlzKF90aGlzLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1trZXldLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT2JqZWN0IFVSTCBvZiByZXBvcnRlciBvciBvYnNlcnZlclxuICAgKiBAdHlwZSB7T2JqZWN0VVJMfVxuICAgKi9cbiAgZ2V0IHVybCgpIHsgcmV0dXJuIHRoaXMuX3VybDsgfVxuXG4gIC8qKlxuICAgKiBPYmplY3Qgc2NoZW1hIFVSTCAodGhpcyBmaWVsZCBpcyBub3QgeWV0IHN0YWJsZSwgYW5kIGlzIHN1YnNqZWN0IHRvIGNoYW5nZSlcbiAgICogQHR5cGUge1NjaGVtYVVSTH1cbiAgICovXG4gIGdldCBzY2hlbWEoKSB7IHJldHVybiB0aGlzLl9zY2hlbWE7IH1cblxuICAvKipcbiAgICogU3RhdHVzIG9mIHRoZSByZXBvcnRlciBvciBvYnNlcnZlciBjb25uZWN0aW9uICh0aGlzIGZpZWxkIGlzIG5vdCB5ZXQgc3RhYmxlLCBhbmQgaXMgc3Vic2plY3QgdG8gY2hhbmdlKVxuICAgKiBAdHlwZSB7U3RhdHVzfSAtIEVudW0gb2Y6IG9uIHwgcGF1c2VkXG4gICAqL1xuICBnZXQgc3RhdHVzKCkgeyByZXR1cm4gdGhpcy5fc3RhdHVzOyB9XG5cbiAgLyoqXG4gICAqIERhdGEgc3RydWN0dXJlIHRvIGJlIHN5bmNocm9uaXplZC5cbiAgICogQHR5cGUge0pTT059IC0gSlNPTiBzdHJ1Y3R1cmUgdGhhdCBzaG91bGQgZm9sbG93IHRoZSBkZWZpbmVkIHNjaGVtYSwgaWYgYW55LlxuICAgKi9cbiAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9zeW5jT2JqLmRhdGE7IH1cblxuICAvKipcbiAgICogQWxsIGNyZWF0ZWQgY2hpbGRyZW4ncyBzaW5jZSB0aGUgc3Vic2NyaXB0aW9uLCBkb2Vzbid0IGNvbnRhaW4gYWxsIGNoaWxkcmVuJ3Mgc2luY2UgcmVwb3J0ZXIgY3JlYXRpb24uXG4gICAqIEB0eXBlIHtPYmplY3Q8Q2hpbGRJZCwgRGF0YU9iamVjdENoaWxkPn1cbiAgICovXG4gIGdldCBjaGlsZHJlbnMoKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHM7IH1cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgLy9UT0RPOiB0aGlzIGZlYXR1cmUgbmVlZHMgbW9yZSBhbmFsaXNlXG4gICAgdGhyb3cgJ05vdCBpbXBsZW1lbnRlZCc7XG4gIH1cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcmVzdW1lKCkge1xuICAgIC8vVE9ETzogdGhpcyBmZWF0dXJlIG5lZWRzIG1vcmUgYW5hbGlzZVxuICAgIHRocm93ICdOb3QgaW1wbGVtZW50ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0b3AoKSB7XG4gICAgLy9UT0RPOiBzaG91bGQgcmVtb3ZlIHRoZSBzdWJzY3JpcHRpb24gYW5kIHNlbmQgbWVzc2FnZSB1bnN1YnNjcmliZT9cbiAgICB0aHJvdyAnTm90IGltcGxlbWVudGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIGFkZCBhIERhdGFPYmplY3RDaGlsZCB0byBhIGNoaWxkcmVuIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGlsZHJlbiAtIENoaWxkcmVuIG5hbWUgd2hlcmUgdGhlIGNoaWxkIGlzIGFkZGVkLlxuICAgKiBAcGFyYW0ge0pTT059IGluaXRpYWxEYXRhIC0gSW5pdGlhbCBkYXRhIG9mIHRoZSBjaGlsZFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RDaGlsZD59IC0gUmV0dXJuIFByb21pc2UgdG8gYSBuZXcgRGF0YU9iamVjdENoaWxkLlxuICAgKi9cbiAgYWRkQ2hpbGQoY2hpbGRyZW4sIGluaXRpYWxEYXRhKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vY3JlYXRlIG5ldyBjaGlsZCB1bmlxdWUgSUQsIGJhc2VkIG9uIGh5cGVydHlVUkxcbiAgICBfdGhpcy5fY2hpbGRJZCsrO1xuICAgIGxldCBtc2dDaGlsZElkID0gX3RoaXMuX293bmVyICsgJyMnICsgX3RoaXMuX2NoaWxkSWQ7XG4gICAgbGV0IG1zZ0NoaWxkUGF0aCA9IF90aGlzLl91cmwgKyAnL2NoaWxkcmVuLycgKyBjaGlsZHJlbjtcblxuICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgZGlyZWN0bHkgdG8gYSByZXNvdXJjZSBjaGlsZCBhZGRyZXNzOiBNZXNzYWdlQnVzXG4gICAgbGV0IHJlcXVlc3RNc2cgPSB7XG4gICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogbXNnQ2hpbGRQYXRoLFxuICAgICAgYm9keTogeyByZXNvdXJjZTogbXNnQ2hpbGRJZCwgdmFsdWU6IGluaXRpYWxEYXRhIH1cbiAgICB9O1xuXG4gICAgLy9yZXR1cm5zIHByb21pc2UsIGluIHRoZSBmdXR1cmUsIHRoZSBBUEkgbWF5IGNoYW5nZSB0byBhc3luY2hyb25vdXMgY2FsbFxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgbGV0IG1zZ0lkID0gX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZXF1ZXN0TXNnKTtcblxuICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZS1yZXBvcnRlci1jaGlsZCggJyArIF90aGlzLl9vd25lciArICcgKTogJywgcmVxdWVzdE1zZyk7XG4gICAgICBsZXQgbmV3Q2hpbGQgPSBuZXcgRGF0YU9iamVjdENoaWxkKF90aGlzLCBtc2dDaGlsZElkLCBpbml0aWFsRGF0YSwgX3RoaXMuX293bmVyLCBtc2dJZCk7XG4gICAgICBuZXdDaGlsZC5vbkNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgX3RoaXMuX29uQ2hhbmdlKGV2ZW50LCB7IHBhdGg6IG1zZ0NoaWxkUGF0aCwgY2hpbGRJZDogbXNnQ2hpbGRJZCB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW21zZ0NoaWxkSWRdID0gbmV3Q2hpbGQ7XG5cbiAgICAgIHJlc29sdmUobmV3Q2hpbGQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGNyZWF0ZSBhbmQgZGVsZXRlIG9mIGNoaWxkcmVucy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xuICAgKi9cbiAgb25BZGRDaGlsZChjYWxsYmFjaykge1xuICAgIHRoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBhIHJlbW90ZSBEYXRhT2JqZWN0IC0+IGFkZENoaWxkXG4gIF9vbkNoaWxkQ3JlYXRlKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG1zZ0NoaWxkSWQgPSBtc2cuYm9keS5yZXNvdXJjZTtcblxuICAgIGNvbnNvbGUubG9nKCdjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICcgKyBfdGhpcy5fb3duZXIgKyAnICk6ICcsIG1zZyk7XG4gICAgbGV0IG5ld0NoaWxkID0gbmV3IERhdGFPYmplY3RDaGlsZChfdGhpcywgbXNnQ2hpbGRJZCwgbXNnLmJvZHkudmFsdWUpO1xuICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbbXNnQ2hpbGRJZF0gPSBuZXdDaGlsZDtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy9GTE9XLU9VVDogd2lsbCBmbG93IHRvIERhdGFPYmplY3RDaGlsZCAtPiBfb25SZXNwb25zZVxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgICBib2R5OiB7IGNvZGU6IDIwMCwgc291cmNlOiBfdGhpcy5fb3duZXIgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBtc2cudHlwZSxcbiAgICAgIGZyb206IG1zZy5mcm9tLFxuICAgICAgdXJsOiBtc2cudG8sXG4gICAgICB2YWx1ZTogbXNnLmJvZHkudmFsdWUsXG4gICAgICBjaGlsZElkOiBtc2dDaGlsZElkLFxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5XG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBREQtQ0hJTERSRU4tRVZFTlQ6ICcsIGV2ZW50KTtcbiAgICAgIF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLy9zZW5kIGRlbHRhIG1lc3NhZ2VzIHRvIHN1YnNjcmlwdGlvbnNcbiAgX29uQ2hhbmdlKGV2ZW50LCBjaGlsZEluZm8pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX3ZlcnNpb24rKztcblxuICAgIGlmIChfdGhpcy5fc3RhdHVzID09PSAnb24nKSB7XG4gICAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IGRpcmVjdGx5IHRvIGEgcmVzb3VyY2UgY2hhbmdlcyBhZGRyZXNzOiBNZXNzYWdlQnVzXG4gICAgICBsZXQgY2hhbmdlTXNnID0ge1xuICAgICAgICB0eXBlOiAndXBkYXRlJywgZnJvbTogX3RoaXMuX3VybCwgdG86IF90aGlzLl91cmwgKyAnL2NoYW5nZXMnLFxuICAgICAgICBib2R5OiB7IHZlcnNpb246IF90aGlzLl92ZXJzaW9uLCBzb3VyY2U6IF90aGlzLl9vd25lciwgYXR0cmlidXRlOiBldmVudC5maWVsZCB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoZXZlbnQub1R5cGUgPT09IE9iamVjdFR5cGUuT0JKRUNUKSB7XG4gICAgICAgIGlmIChldmVudC5jVHlwZSAhPT0gQ2hhbmdlVHlwZS5SRU1PVkUpIHtcbiAgICAgICAgICBjaGFuZ2VNc2cuYm9keS52YWx1ZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5nZU1zZy5ib2R5LmF0dHJpYnV0ZVR5cGUgPSBldmVudC5vVHlwZTtcbiAgICAgICAgY2hhbmdlTXNnLmJvZHkudmFsdWUgPSBldmVudC5kYXRhO1xuICAgICAgICBpZiAoZXZlbnQuY1R5cGUgIT09IENoYW5nZVR5cGUuVVBEQVRFKSB7XG4gICAgICAgICAgY2hhbmdlTXNnLmJvZHkub3BlcmF0aW9uID0gZXZlbnQuY1R5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9jaGlsZEluZm8gbXVzdCBoYXZlIChwYXRoLCBjaGlsZElkKVxuICAgICAgaWYgKGNoaWxkSW5mbykge1xuICAgICAgICBjaGFuZ2VNc2cudG8gPSBjaGlsZEluZm8ucGF0aDtcbiAgICAgICAgY2hhbmdlTXNnLmJvZHkucmVzb3VyY2UgPSBjaGlsZEluZm8uY2hpbGRJZDtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShjaGFuZ2VNc2cpO1xuICAgIH1cbiAgfVxuXG4gIC8vRkxPVy1JTjogZGVsdGEgbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3RSZXBvcnRlciBvciBEYXRhT2JqZWN0Q2hpbGQgd2hlbiBjaGFuZ2luZyBkYXRhXG4gIF9jaGFuZ2VPYmplY3Qoc3luY09iaiwgbXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vVE9ETzogdXBkYXRlIHZlcnNpb24gP1xuICAgIC8vaG93IHRvIGhhbmRsZSBhbiBpbmNvcnJlY3QgdmVyc2lvbiA/IEV4YW1wbGU6IHJlY2VpdmUgYSB2ZXJzaW9uIDMgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgaW4gdmVyc2lvbiAxLCB3aGVyZSBpcyB0aGUgdmVyc2lvbiAyID9cbiAgICAvL3dpbGwgd2UgbmVlZCB0byBjb25maXJtIHRoZSByZWNlcHRpb24gP1xuICAgIGlmIChfdGhpcy5fdmVyc2lvbiArIDEgPT09IG1zZy5ib2R5LnZlcnNpb24pIHtcbiAgICAgIF90aGlzLl92ZXJzaW9uKys7XG4gICAgICBsZXQgcGF0aCA9IG1zZy5ib2R5LmF0dHJpYnV0ZTtcbiAgICAgIGxldCB2YWx1ZSA9IGRlZXBDbG9uZShtc2cuYm9keS52YWx1ZSk7XG4gICAgICBsZXQgZmluZFJlc3VsdCA9IHN5bmNPYmouZmluZEJlZm9yZShwYXRoKTtcblxuICAgICAgaWYgKG1zZy5ib2R5LmF0dHJpYnV0ZVR5cGUgPT09IE9iamVjdFR5cGUuQVJSQVkpIHtcbiAgICAgICAgaWYgKG1zZy5ib2R5Lm9wZXJhdGlvbiA9PT0gQ2hhbmdlVHlwZS5BREQpIHtcbiAgICAgICAgICBsZXQgYXJyID0gZmluZFJlc3VsdC5vYmo7XG4gICAgICAgICAgbGV0IGluZGV4ID0gZmluZFJlc3VsdC5sYXN0O1xuICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYXJyLCBbaW5kZXgsIDBdLmNvbmNhdCh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5ib2R5Lm9wZXJhdGlvbiA9PT0gQ2hhbmdlVHlwZS5SRU1PVkUpIHtcbiAgICAgICAgICBsZXQgYXJyID0gZmluZFJlc3VsdC5vYmo7XG4gICAgICAgICAgbGV0IGluZGV4ID0gZmluZFJlc3VsdC5sYXN0O1xuICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaW5kUmVzdWx0Lm9ialtmaW5kUmVzdWx0Lmxhc3RdID0gdmFsdWU7IC8vIFVQREFURVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobXNnLmJvZHkudmFsdWUpIHtcbiAgICAgICAgICBmaW5kUmVzdWx0Lm9ialtmaW5kUmVzdWx0Lmxhc3RdID0gdmFsdWU7IC8vIFVQREFURSBvciBBRERcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZmluZFJlc3VsdC5vYmpbZmluZFJlc3VsdC5sYXN0XTsgLy8gUkVNT1ZFXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy9UT0RPOiBob3cgdG8gaGFuZGxlIHVuc3luY2hyb25pemVkIHZlcnNpb25zP1xuICAgICAgY29uc29sZS5sb2coJ1VOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICcgKyBfdGhpcy5fdmVyc2lvbiArICcsIG1zZyA9PiAnICsgbXNnLmJvZHkudmVyc2lvbiArICcpJyk7XG4gICAgfVxuICB9XG5cbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdENoaWxkIHdoZW4gY2hhbmdpbmcgZGF0YVxuICBfY2hhbmdlQ2hpbGRyZW4obXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBjb25zb2xlLmxvZygnQ2hhbmdlIGNoaWxkcmVuOiAnLCBfdGhpcy5fb3duZXIsIG1zZyk7XG5cbiAgICBsZXQgY2hpbGRJZCA9IG1zZy5ib2R5LnJlc291cmNlO1xuICAgIGxldCBjaGlsZHJlbiA9IF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRJZF07XG5cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIF90aGlzLl9jaGFuZ2VPYmplY3QoY2hpbGRyZW4uX3N5bmNPYmosIG1zZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICcsIGNoaWxkSWQpO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFPYmplY3Q7XG4iLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbmltcG9ydCBTeW5jT2JqZWN0IGZyb20gJy4vU3luY09iamVjdCc7XG5cbi8qKlxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIERhdGFPYmplY3QgYWRkQ2hpbGRyZW4gY2FsbCBvciBmcm9tIG9uQWRkQ2hpbGRyZW4gaWYgcmVtb3RlbHkgY3JlYXRlZC5cbiAqIENoaWxkcmVuIG9iamVjdCBzeW5jaHJvbml6YXRpb24gaXMgYSBhIGZhc3QgZm9yd2FyZCBtZWNoYW5pc20sIG5vIG5lZWQgZm9yIGRpcmVjdCBzdWJzY3JpcHRpb25zLCBpdCB1c2VzIHRoZSBhbHJlYWR5IGF1dGhvcml6ZWQgc3Vic2NyaXB0aW9uIGZyb20gdGhlIHBhcmVudCBEYXRhT2JqZWN0LlxuICovXG5jbGFzcyBEYXRhT2JqZWN0Q2hpbGQgLyogaW1wbGVtZW50cyBTeW5jU3RhdHVzICovIHtcbiAgLyogcHJpdmF0ZVxuXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cbiAgX29uUmVzcG9uc2VIYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcbiAgKi9cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYnkgSHlwZXJ0aWVzLiBJdCdzIGNhbGxlZCBieSB0aGUgRGF0YU9iamVjdC5hZGRDaGlsZHJlblxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyZW50LCBjaGlsZElkLCBpbml0aWFsRGF0YSwgb3duZXIsIG1zZ0lkKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgX3RoaXMuX2NoaWxkSWQgPSBjaGlsZElkO1xuICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xuICAgIF90aGlzLl9tc2dJZCA9IG1zZ0lkO1xuXG4gICAgX3RoaXMuX3N5bmNPYmogPSBuZXcgU3luY09iamVjdChpbml0aWFsRGF0YSk7XG5cbiAgICBfdGhpcy5fYnVzID0gcGFyZW50Ll9idXM7XG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG4gIH1cblxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vdGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgY2hpbGRyZW4gcmVwb3J0ZXJzXG4gICAgaWYgKF90aGlzLl9vd25lcikge1xuICAgICAgX3RoaXMuX2xpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihfdGhpcy5fb3duZXIsIChtc2cpID0+IHtcbiAgICAgICAgaWYgKG1zZy50eXBlID09PSAncmVzcG9uc2UnICYmIG1zZy5pZCA9PT0gX3RoaXMuX21zZ0lkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOicsIG1zZyk7XG4gICAgICAgICAgX3RoaXMuX29uUmVzcG9uc2UobXNnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX3JlbGVhc2VMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5fbGlzdGVuZXIpIHtcbiAgICAgIF90aGlzLl9saXN0ZW5lci5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZSBhbmQgZGVsZXRlIG9iamVjdCBkYXRhXG4gICAqL1xuICBkZWxldGUoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGRlbGV0ZSBfdGhpcy5fcGFyZW50Ll9jaGlsZHJlbltfdGhpcy5fY2hpbGRJZF07XG5cbiAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpO1xuXG4gICAgLy9UT0RPOiBzZW5kIGRlbGV0ZSBtZXNzYWdlID9cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGlsZHJlbiBJRCBnZW5lcmF0ZWQgb24gYWRkQ2hpbGRyZW4uIFVuaXF1ZSBpZGVudGlmaWVyXG4gICAqIEB0eXBlIHtVUkx9IC0gVVJMIG9mIHRoZSBmb3JtYXQgPEh5cGVydHlVUkw+IzxudW1lcmljLXNlcXVlbmNlPlxuICAgKi9cbiAgZ2V0IGNoaWxkSWQoKSB7IHJldHVybiB0aGlzLl9jaGlsZElkOyB9XG5cbiAgLyoqXG4gICAqIERhdGEgU3RydWN0dXJlIHRvIGJlIHN5bmNocm9uaXplZC5cbiAgICogQHR5cGUge0pTT059IC0gSlNPTiBzdHJ1Y3R1cmUgdGhhdCBzaG91bGQgZm9sbG93IHRoZSBkZWZpbmVkIHNjaGVtYSwgaWYgYW55LlxuICAgKi9cbiAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9zeW5jT2JqLmRhdGE7IH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlIGNoYW5nZSBsaXN0ZW5lcnMgc2VudCBieSB0aGUgcmVwb3J0ZXIgY2hpbGRcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xuICAgKi9cbiAgb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9zeW5jT2JqLm9ic2VydmUoKGV2ZW50KSA9PiB7XG4gICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVzcG9uc2Ugbm90aWZpY2F0aW9ucyBvZiB0aGUgY3JlYXRlc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuICBvblJlc3BvbnNlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25SZXNwb25zZUhhbmRsZXIgPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3QgLT4gX29uQ2hpbGRDcmVhdGVcbiAgX29uUmVzcG9uc2UobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxuICAgICAgdXJsOiBtc2cuYm9keS5zb3VyY2UsXG4gICAgICBjb2RlOiBtc2cuYm9keS5jb2RlXG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIpIHtcbiAgICAgIF90aGlzLl9vblJlc3BvbnNlSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdENoaWxkO1xuIiwiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG5pbXBvcnQgRGF0YU9iamVjdCBmcm9tICcuL0RhdGFPYmplY3QnO1xuaW1wb3J0IERhdGFPYmplY3RDaGlsZCBmcm9tICcuL0RhdGFPYmplY3RDaGlsZCc7XG5cbmxldCBGaWx0ZXJUeXBlID0ge0FOWTogJ2FueScsIFNUQVJUOiAnc3RhcnQnLCBFWEFDVDogJ2V4YWN0J307XG5cbi8qKlxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIFN5bmNoZXIgc3Vic2NyaWJlIGNhbGwuXG4gKiBUbyBiZSB1c2VkIGFzIGFuIG9ic2VydmF0aW9uIHBvaW50IGZyb20gYSBEYXRhT2JqZWN0UmVwb3J0ZXIgY2hhbmdlLlxuICovXG5jbGFzcyBEYXRhT2JqZWN0T2JzZXJ2ZXIgZXh0ZW5kcyBEYXRhT2JqZWN0IC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XG4gIC8qIHByaXZhdGVcbiAgX2NoYW5nZUxpc3RlbmVyOiBNc2dMaXN0ZW5lclxuXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cbiAgX2ZpbHRlcnM6IHs8ZmlsdGVyPjoge3R5cGU6IDxzdGFydCwgZXhhY3Q+LCBjYWxsYmFjazogPGZ1bmN0aW9uPn0gfVxuICAqL1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIFNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseSBieSBIeXBlcnRpZXMuIEl0J3MgY2FsbGVkIGJ5IHRoZSBTeW5jaGVyLnN1YnNjcmliZSBtZXRob2RcbiAgICovXG4gIGNvbnN0cnVjdG9yKHN5bmNoZXIsIHVybCwgc2NoZW1hLCBpbml0aWFsU3RhdHVzLCBpbml0aWFsRGF0YSwgY2hpbGRyZW5zLCBpbml0aWFsVmVyc2lvbikge1xuICAgIHN1cGVyKHN5bmNoZXIsIHVybCwgc2NoZW1hLCBpbml0aWFsU3RhdHVzLCBpbml0aWFsRGF0YS5kYXRhLCBjaGlsZHJlbnMpO1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fdmVyc2lvbiA9IGluaXRpYWxWZXJzaW9uO1xuICAgIF90aGlzLl9maWx0ZXJzID0ge307XG5cbiAgICBfdGhpcy5fc3luY09iai5vYnNlcnZlKChldmVudCkgPT4ge1xuICAgICAgX3RoaXMuX29uRmlsdGVyKGV2ZW50KTtcbiAgICB9KTtcblxuICAgIC8vc2V0dXAgY2hpbGRyZW5zIGRhdGEgZnJvbSBzdWJzY3JpcHRpb25cbiAgICBPYmplY3Qua2V5cyhpbml0aWFsRGF0YS5jaGlsZHJlbnMpLmZvckVhY2goKGNoaWxkSWQpID0+IHtcbiAgICAgIGxldCBjaGlsZERhdGEgPSBpbml0aWFsRGF0YS5jaGlsZHJlbnNbY2hpbGRJZF07XG4gICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkSWRdID0gbmV3IERhdGFPYmplY3RDaGlsZChfdGhpcywgY2hpbGRJZCwgY2hpbGREYXRhKTtcbiAgICB9KTtcblxuICAgIF90aGlzLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xuICB9XG5cbiAgX2FsbG9jYXRlTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fY2hhbmdlTGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKF90aGlzLl91cmwgKyAnL2NoYW5nZXMnLCAobXNnKSA9PiB7XG4gICAgICBpZiAobXNnLnR5cGUgPT09ICd1cGRhdGUnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdEYXRhT2JqZWN0T2JzZXJ2ZXItJyArIF90aGlzLl91cmwgKyAnLVJDVjogJywgbXNnKTtcbiAgICAgICAgX3RoaXMuX2NoYW5nZU9iamVjdChfdGhpcy5fc3luY09iaiwgbXNnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9yZWxlYXNlTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcbiAgICovXG4gIGRlbGV0ZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcbiAgICBkZWxldGUgX3RoaXMuX3N5bmNoZXIuX29ic2VydmVyc1tfdGhpcy5fdXJsXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcbiAgICovXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkxvY2FsVW5TdWJzY3JpYmVcbiAgICBsZXQgdW5TdWJzY3JpYmVNc2cgPSB7XG4gICAgICB0eXBlOiAndW5zdWJzY3JpYmUnLCBmcm9tOiBfdGhpcy5fb3duZXIsIHRvOiBfdGhpcy5fc3luY2hlci5fc3ViVVJMLFxuICAgICAgYm9keTogeyByZXNvdXJjZTogX3RoaXMuX3VybCB9XG4gICAgfTtcblxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UodW5TdWJzY3JpYmVNc2csIChyZXBseSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogJywgcmVwbHkpO1xuICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgIF90aGlzLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG4gICAgICAgIGRlbGV0ZSBfdGhpcy5fc3luY2hlci5fb2JzZXJ2ZXJzW190aGlzLl91cmxdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBjaGFuZ2UgbGlzdGVuZXJzIHNlbnQgYnkgdGhlIHJlcG9ydGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXIgLSBGaWx0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBmaWVsZCAoc2VwYXJhdGVkIGRvdCBwYXRoKS4gQWNjZXB0cyAqIGF0IHRoZSBlbmQgZm9yIGEgbW9yZSB1bnJlc3RyaWN0ZWQgZmlsdGVyaW5nLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuICBvbkNoYW5nZShmaWx0ZXIsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGtleSA9IGZpbHRlcjtcbiAgICBsZXQgZmlsdGVyT2JqID0ge1xuICAgICAgdHlwZTogRmlsdGVyVHlwZS5FWEFDVCxcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgIH07XG5cbiAgICBsZXQgaWR4ID0gZmlsdGVyLmluZGV4T2YoJyonKTtcbiAgICBpZiAoaWR4ID09PSBmaWx0ZXIubGVuZ3RoIC0gMSkge1xuICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICBmaWx0ZXJPYmoudHlwZSA9IEZpbHRlclR5cGUuQU5ZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyT2JqLnR5cGUgPSBGaWx0ZXJUeXBlLlNUQVJUO1xuICAgICAgICBrZXkgPSBmaWx0ZXIuc3Vic3RyKDAsIGZpbHRlci5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9maWx0ZXJzW2tleV0gPSBmaWx0ZXJPYmo7XG4gIH1cblxuICBfb25GaWx0ZXIoZXZlbnQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2ZpbHRlcnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgbGV0IGZpbHRlciA9IF90aGlzLl9maWx0ZXJzW2tleV07XG4gICAgICBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuQU5ZKSB7XG4gICAgICAgIC8vbWF0Y2ggYW55dGhpbmdcbiAgICAgICAgZmlsdGVyLmNhbGxiYWNrKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuU1RBUlQpIHtcbiAgICAgICAgLy9pZiBzdGFydHMgd2l0aCBmaWx0ZXIuLi5cbiAgICAgICAgaWYgKGV2ZW50LmZpZWxkLmluZGV4T2Yoa2V5KSA9PT0gMCkge1xuICAgICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuRVhBQ1QpIHtcbiAgICAgICAgLy9leGFjdCBtYXRjaFxuICAgICAgICBpZiAoZXZlbnQuZmllbGQgPT09IGtleSkge1xuICAgICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0T2JzZXJ2ZXI7XG4iLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbmltcG9ydCBEYXRhT2JqZWN0IGZyb20gJy4vRGF0YU9iamVjdCc7XG5pbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5cbi8qKlxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIFN5bmNoZXIgY3JlYXRlIGNhbGwuXG4gKiBUbyBiZSB1c2VkIGFzIGEgcmVwb3J0ZXIgcG9pbnQsIGNoYW5nZXMgd2lsbCBiZSBzdWJtaXRlZCB0byBEYXRhT2JqZWN0T2JzZXJ2ZXIgaW5zdGFuY2VzLlxuICovXG5jbGFzcyBEYXRhT2JqZWN0UmVwb3J0ZXIgZXh0ZW5kcyBEYXRhT2JqZWN0IC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XG4gIC8qIHByaXZhdGVcbiAgX3N1YnNjcmlwdGlvbnM6IDxoeXBlcnR5VXJsOiB7IHN0YXR1czogc3RyaW5nIH0gfT5cblxuICAtLS0tZXZlbnQgaGFuZGxlcnMtLS0tXG4gIF9vblN1YnNjcmlwdGlvbkhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxuICBfb25SZXNwb25zZUhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxuICBfb25SZWFkSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXG4gICovXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogU2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5IGJ5IEh5cGVydGllcy4gSXQncyBjYWxsZWQgYnkgdGhlIFN5bmNoZXIuY3JlYXRlIG1ldGhvZFxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3luY2hlciwgdXJsLCBzY2hlbWEsIGluaXRpYWxTdGF0dXMsIGluaXRpYWxEYXRhLCBjaGlsZHJlbnMpIHtcbiAgICBzdXBlcihzeW5jaGVyLCB1cmwsIHNjaGVtYSwgaW5pdGlhbFN0YXR1cywgaW5pdGlhbERhdGEsIGNoaWxkcmVucyk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9zdWJzY3JpcHRpb25zID0ge307XG5cbiAgICBfdGhpcy5fc3luY09iai5vYnNlcnZlKChldmVudCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3RSZXBvcnRlci0nICsgdXJsICsgJy1TRU5EOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25DaGFuZ2UoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG4gIH1cblxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9vYmplY3RMaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoX3RoaXMuX3VybCwgKG1zZykgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3QtJyArIF90aGlzLl91cmwgKyAnLVJDVjogJywgbXNnKTtcbiAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHtcbiAgICAgICAgY2FzZSAncmVzcG9uc2UnOiBfdGhpcy5fb25SZXNwb25zZShtc2cpOyBicmVhaztcbiAgICAgICAgY2FzZSAncmVhZCc6IF90aGlzLl9vblJlYWQobXNnKTsgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcbiAgICBzdXBlci5fcmVsZWFzZUxpc3RlbmVycygpO1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBpbnZpdGF0aW9ucyAoY3JlYXRlIG1lc3NhZ2VzKSB0byBoeXBlcnRpZXMsIG9ic2VydmVycyBsaXN0LlxuICAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMW119IG9ic2VydmVycyBMaXN0IG9mIEh5cGVydHkgVVJMJ3NcbiAgICovXG4gIGludml0ZU9ic2VydmVycyhvYnNlcnZlcnMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25DcmVhdGVcbiAgICBsZXQgaW52aXRlTXNnID0ge1xuICAgICAgdHlwZTogJ2NyZWF0ZScsIGZyb206IF90aGlzLl9zeW5jaGVyLl9vd25lciwgdG86IF90aGlzLl9zeW5jaGVyLl9zdWJVUkwsXG4gICAgICBib2R5OiB7IHJlc3VtZTogZmFsc2UsIHJlc291cmNlOiBfdGhpcy5fdXJsLCBzY2hlbWE6IF90aGlzLl9zY2hlbWEsIHZhbHVlOiBfdGhpcy5fc3luY09iai5kYXRhLCBhdXRob3Jpc2U6IG9ic2VydmVycyB9XG4gICAgfTtcblxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoaW52aXRlTXNnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcbiAgICovXG4gIGRlbGV0ZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25EZWxldGVcbiAgICBsZXQgZGVsZXRlTXNnID0ge1xuICAgICAgdHlwZTogJ2RlbGV0ZScsIGZyb206IF90aGlzLl9vd25lciwgdG86IF90aGlzLl9zeW5jaGVyLl9zdWJVUkwsXG4gICAgICBib2R5OiB7IHJlc291cmNlOiBfdGhpcy5fdXJsIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShkZWxldGVNc2csIChyZXBseSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0RhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICcsIHJlcGx5KTtcbiAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xuICAgICAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpO1xuICAgICAgICBkZWxldGUgX3RoaXMuX3N5bmNoZXIuX3JlcG9ydGVyc1tfdGhpcy5fdXJsXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpcHRpb25zIHJlcXVlc3RlZCBhbmQgYWNjZXB0ZWQgdG8gdGhpcyByZXBvcnRlclxuICAgKiBAdHlwZSB7T2JqZWN0PEh5cGVydHlVUkwsIFN5bmNTdWJzY3JpcHRpb24+fVxuICAgKi9cbiAgZ2V0IHN1YnNjcmlwdGlvbnMoKSB7IHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zOyB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIHN1YnNjcmliZSBhbmQgdW5zdWJzY3JpYmUgbm90aWZpY2F0aW9uc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlY2VpdmUgZXZlbnRzXG4gICAqL1xuICBvblN1YnNjcmlwdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlciA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIHJlc3BvbnNlIG5vdGlmaWNhdGlvbnMgb2YgdGhlIGNyZWF0ZSdzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVjZWl2ZSBldmVudHNcbiAgICovXG4gIG9uUmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9vblJlc3BvbnNlSGFuZGxlciA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIHJlYWQgbm90aWZpY2F0aW9uc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuICBvblJlYWQoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9vblJlYWRIYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBwYXJlbnQgU3luY2hlciAtPiBfb25Gb3J3YXJkXG4gIF9vbkZvcndhcmQobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGNvbnNvbGUubG9nKCdEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAnLCBtc2cpO1xuICAgIHN3aXRjaCAobXNnLmJvZHkudHlwZSkge1xuICAgICAgY2FzZSAnc3Vic2NyaWJlJzogX3RoaXMuX29uU3Vic2NyaWJlKG1zZyk7IGJyZWFrO1xuICAgICAgY2FzZSAndW5zdWJzY3JpYmUnOiBfdGhpcy5fb25VblN1YnNjcmliZShtc2cpOyBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB0aGlzIC0+IF9vbkZvcndhcmQ6IGVtaXR0ZWQgYnkgYSByZW1vdGUgU3luY2hlciAtPiBzdWJzY3JpYmVcbiAgX29uU3Vic2NyaWJlKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGh5cGVydHlVcmwgPSBtc2cuYm9keS5mcm9tO1xuXG4gICAgbGV0IGV2ZW50ID0ge1xuICAgICAgdHlwZTogbXNnLmJvZHkudHlwZSxcbiAgICAgIHVybDogaHlwZXJ0eVVybCxcblxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5LFxuXG4gICAgICBhY2NlcHQ6ICgpID0+IHtcbiAgICAgICAgLy9jcmVhdGUgbmV3IHN1YnNjcmlwdGlvblxuICAgICAgICBsZXQgc3ViID0geyB1cmw6IGh5cGVydHlVcmwsIHN0YXR1czogJ29uJyB9O1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uc1toeXBlcnR5VXJsXSA9IHN1YjtcblxuICAgICAgICAvL3Byb2Nlc3MgYW5kIHNlbmQgY2hpbGRyZW5zIGRhdGFcbiAgICAgICAgbGV0IGNoaWxkcmVuVmFsdWVzID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goKGNoaWxkSWQpID0+IHtcbiAgICAgICAgICBsZXQgY2hpbGREYXRhID0gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZElkXS5kYXRhO1xuICAgICAgICAgIGNoaWxkcmVuVmFsdWVzW2NoaWxkSWRdID0gZGVlcENsb25lKGNoaWxkRGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vc2VuZCBvayByZXNwb25zZSBtZXNzYWdlXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCBzY2hlbWE6IF90aGlzLl9zY2hlbWEsIHZlcnNpb246IF90aGlzLl92ZXJzaW9uLCB2YWx1ZTogeyBkYXRhOiBkZWVwQ2xvbmUoX3RoaXMuZGF0YSksIGNoaWxkcmVuczogY2hpbGRyZW5WYWx1ZXMgfSB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgICB9LFxuXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcbiAgICAgICAgLy9zZW5kIHJlamVjdCByZXNwb25zZSBtZXNzYWdlXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgICAgIGJvZHk6IHsgY29kZTogNDAzLCBkZXNjOiByZWFzb24gfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTVUJTQ1JJUFRJT04tRVZFTlQ6ICcsIGV2ZW50KTtcbiAgICAgIF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIHRoaXMgLT4gX29uRm9yd2FyZDogZW1pdHRlZCBieSBhIHJlbW90ZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgLT4gdW5zdWJzY3JpYmVcbiAgX29uVW5TdWJzY3JpYmUobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgaHlwZXJ0eVVybCA9IG1zZy5ib2R5LmZyb207XG5cbiAgICBsZXQgc3ViID0gX3RoaXMuX3N1YnNjcmlwdGlvbnNbaHlwZXJ0eVVybF07XG4gICAgZGVsZXRlIF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdO1xuXG4gICAgbGV0IGV2ZW50ID0ge1xuICAgICAgdHlwZTogbXNnLmJvZHkudHlwZSxcbiAgICAgIHVybDogaHlwZXJ0eVVybCxcbiAgICAgIG9iamVjdDogc3ViXG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICBjb25zb2xlLmxvZygnVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBSZXBvcnRlclVSTCBhZGRyZXNzOiBlbWl0ZWQgYnkgYSByZW1vdGUgU3luY2hlciAtPiBfb25SZW1vdGVDcmVhdGUgLT4gZXZlbnQuYWNrXG4gIF9vblJlc3BvbnNlKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBtc2cudHlwZSxcbiAgICAgIHVybDogbXNnLmZyb20sXG4gICAgICBjb2RlOiBtc2cuYm9keS5jb2RlXG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdSRVNQT05TRS1FVkVOVDogJywgZXZlbnQpO1xuICAgICAgX3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBSZXBvcnRlclVSTCBhZGRyZXNzOiBlbWl0ZWQgYnkgYSByZW1vdGUgU3luY2hlciAtPiByZWFkXG4gIF9vblJlYWQobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxuICAgICAgdXJsOiBtc2cuZnJvbSxcblxuICAgICAgYWNjZXB0OiAoKSA9PiB7XG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCB2YWx1ZTogZGVlcENsb25lKF90aGlzLmRhdGEpIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcbiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXG4gICAgICAgICAgYm9keTogeyBjb2RlOiA0MDEsIGRlc2M6IHJlYXNvbiB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoX3RoaXMuX29uUmVhZEhhbmRsZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdSRUFELUVWRU5UOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25SZWFkSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdFJlcG9ydGVyO1xuIiwiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG4vKipcbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgY29sbGVjdGluZyBkZWx0YSBjaGFuZ2VzIGluIHJlbW90ZSBvYmplY3RzLCBiZWZvcmUgdGhlIHJlc3BvbnNlIG9mIHN1YnNjcmlwdGlvbiByZWFjaCB0aGUgb2JzZXJ2ZXIuXG4gKiBJdCdzIHVzZWQgaW4gU3luY2hlciAtPiBzdWJzY3JpYmUuIFRoZSBmbG93IGlzIGRlZmluZWQgYXM6XG4gKiAxLiAob2JzZXJ2ZXIpIC0tc3Vic2NyaWJlLS0+IChyZXBvcnRlcilcbiAqIDIuIChvYnNlcnZlcikgPC0tZGVsdGEgdXBkYXRlcy0tIChyZXBvcnRlcilcbiAqIDMuIChvYnNlcnZlcikgPC0tc3Vic2NyaWJlIHJlc3BvbnNlLS0gKHJlcG9ydGVyKVxuICogVGhpcyBtZWFucyB0aGF0IHRoZXJlIGNvdWxkIGJlIGRlbHRhIHVwZGF0ZXMgdHJhbnNmZXJyZWQgYmVmb3JlIHRoZSBzdWJzY3JpcHRpb24gY29uZmlybWF0aW9uLlxuICogU2luY2UgdGhlcmUgaXMgbm8gRGF0YU9iamVjdE9ic2VydmVyIGJlZm9yZSB0aGUgdWJzY3JpcHRpb24gY29uZmlybWF0aW9uLCB0aGVyZSBzaG91bGQgYmUgc29tZSBvdGhlciBvYmplY3QgY29sbGVjdGluZyB0aGUgdXBkYXRlcy5cbiAqIFByb3Zpc2lvbmFsIGRhdGEgaXMgYXBwbGllZCB0byB0aGUgRGF0YU9iamVjdE9ic2VydmVyIGFmdGVyIGNvbmZpcm1hdGlvbi4gT3IgZGlzY2FyZGVkIGlmIHRoZXJlIGlzIG5vIGNvbmZpcm1hdGlvbi5cbiAqL1xuY2xhc3MgRGF0YVByb3Zpc2lvbmFsIHtcbiAgLyogcHJpdmF0ZVxuICBfY2hpbGRyZW5MaXN0ZW5lcnM6IFtNc2dMaXN0ZW5lcl1cbiAgX2xpc3RlbmVyOiBNc2dMaXN0ZW5lclxuXG4gIF9jaGFuZ2VzOiBbXVxuICAqL1xuXG4gIGNvbnN0cnVjdG9yKG93bmVyLCB1cmwsIGJ1cywgY2hpbGRyZW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX293bmVyID0gb3duZXI7XG4gICAgX3RoaXMuX3VybCA9IHVybDtcbiAgICBfdGhpcy5fYnVzID0gYnVzO1xuICAgIF90aGlzLl9jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXG4gICAgX3RoaXMuX2NoYW5nZXMgPSBbXTtcbiAgICBfdGhpcy5fYWxsb2NhdGVMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9hbGxvY2F0ZUxpc3RlbmVycygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX2xpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihfdGhpcy5fdXJsLCAobXNnKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRGF0YVByb3Zpc2lvbmFsLScgKyBfdGhpcy5fdXJsICsgJy1SQ1Y6ICcsIG1zZyk7XG4gICAgICBfdGhpcy5fY2hhbmdlcy5wdXNoKG1zZyk7XG4gICAgfSk7XG5cbiAgICAvKlxuICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycyA9IFtdO1xuICAgIGlmIChfdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgIGxldCBjaGlsZEJhc2VVUkwgPSB1cmwgKyAnL2NoaWxkcmVuLyc7XG4gICAgICBfdGhpcy5fY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgbGV0IGNoaWxkVVJMID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7XG4gICAgICAgIGxldCBsaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoY2hpbGRVUkwsIChtc2cpID0+IHtcbiAgICAgICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXG4gICAgICAgICAgaWYgKG1zZy5mcm9tICE9PSBvd25lcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2cobXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH0pO1xuICAgIH0qL1xuICB9XG5cbiAgX3JlbGVhc2VMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9saXN0ZW5lci5yZW1vdmUoKTtcblxuICAgIC8qX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICBsaXN0ZW5lci5yZW1vdmUoKTtcbiAgICB9KTsqL1xuICB9XG5cbiAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cblxuICBhcHBseShvYnNlcnZlcikge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuX2NoYW5nZXMuZm9yRWFjaCgoY2hhbmdlKSA9PiB7XG4gICAgICBvYnNlcnZlci5fY2hhbmdlT2JqZWN0KG9ic2VydmVyLl9zeW5jT2JqLCBjaGFuZ2UpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFQcm92aXNpb25hbDtcbiIsIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuaW1wb3J0IHtkZWVwQ2xvbmV9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcblxuLyoqXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqIE1haW4gY2xhc3MgdGhhdCBtYWludGFpbnMgYSBKU09OIG9iamVjdCwgYW5kIG9ic2VydmVzIGNoYW5nZXMgaW4gdGhpcyBvYmplY3QsIHJlY3Vyc2l2ZWx5LlxuICogSW50ZXJuYWwgb2JqZWN0cyBhbmQgYXJyYXlzIGFyZSBhbHNvIG9ic2VydmVkLlxuICovXG5jbGFzcyBTeW5jT2JqZWN0IHtcbiAgLyogcHJpdmF0ZVxuICAgIF9kYXRhOiBhbnk7XG4gICAgX29ic2VydmVyczogKChldmVudDogQ2hhbmdlRXZlbnQpID0+IHZvaWQpW11cbiAgKi9cblxuICBjb25zdHJ1Y3Rvcihpbml0aWFsRGF0YSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fb2JzZXJ2ZXJzID0gW107XG4gICAgX3RoaXMuX2ZpbHRlcnMgPSB7fTtcblxuICAgIGlmIChpbml0aWFsRGF0YSkge1xuICAgICAgX3RoaXMuX2RhdGEgPSBkZWVwQ2xvbmUoaW5pdGlhbERhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5fZGF0YSA9IHt9O1xuICAgIH1cblxuICAgIF90aGlzLl9pbnRlcm5hbE9ic2VydmUobmV3IFBhdGgoKSwgX3RoaXMuX2RhdGEpO1xuICB9XG5cbiAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9kYXRhOyB9XG5cbiAgb2JzZXJ2ZShjYWxsYmFjaykge1xuICAgIHRoaXMuX29ic2VydmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZpbmQocGF0aCkge1xuICAgIGxldCBsaXN0ID0gcGF0aC5zcGxpdCgnLicpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQobGlzdCk7XG4gIH1cblxuICBmaW5kQmVmb3JlKHBhdGgpIHtcbiAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgbGV0IGxpc3QgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgcmVzdWx0Lmxhc3QgPSBsaXN0LnBvcCgpO1xuICAgIHJlc3VsdC5vYmogPSB0aGlzLl9maW5kV2l0aFNwbGl0KGxpc3QpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIF9maW5kV2l0aFNwbGl0KGxpc3QpIHtcbiAgICBsZXQgb2JqID0gdGhpcy5fZGF0YTtcbiAgICBsaXN0LmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBvYmogPSBvYmpbdmFsdWVdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIF9maXJlRXZlbnQoZXZlbnQpIHtcbiAgICB0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9pc09ic2VydmFibGUob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9pbnRlcm5hbE9ic2VydmUocGF0aCwgb2JqKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5faXNPYnNlcnZhYmxlKG9iaikpIHtcbiAgICAgIGxldCBoYW5kbGVyID0gKGNoYW5nZXMpID0+IHtcbiAgICAgICAgX3RoaXMuX29uQ2hhbmdlcyhwYXRoLCBjaGFuZ2VzKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICBPYmplY3Qub2JzZXJ2ZShvYmosIGhhbmRsZXIpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xuICAgICAgICAgIGlmIChfdGhpcy5faXNPYnNlcnZhYmxlKG9ialtwcm9wXSkpIHtcbiAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbE9ic2VydmUocGF0aC5uZXcocHJvcCksIG9ialtwcm9wXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgQXJyYXkub2JzZXJ2ZShvYmosIGhhbmRsZXIpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xuICAgICAgICAgIGlmIChfdGhpcy5faXNPYnNlcnZhYmxlKG9ialtwcm9wXSkpIHtcbiAgICAgICAgICAgIGxldCBucCA9IHBhdGgubmV3KG5ldyBBcnJheUluZGV4KG9ialtwcm9wXSwgcHJvcCkpO1xuICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsT2JzZXJ2ZShucCwgb2JqW3Byb3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfb25DaGFuZ2VzKHBhdGgsIGNoYW5nZXMpIHtcbiAgICBmb3IgKGxldCBpIGluIGNoYW5nZXMpIHtcbiAgICAgIGxldCBvYmogPSBjaGFuZ2VzW2ldLm9iamVjdDtcbiAgICAgIGxldCBvYmpUeXBlO1xuXG4gICAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgb2JqVHlwZSA9IE9iamVjdFR5cGUuT0JKRUNUO1xuICAgICAgfVxuXG4gICAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICBvYmpUeXBlID0gT2JqZWN0VHlwZS5BUlJBWTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZXNbaV0udHlwZSA9PT0gJ3NwbGljZScpIHtcbiAgICAgICAgbGV0IGlkeCA9IGNoYW5nZXNbaV0uaW5kZXg7XG4gICAgICAgIGxldCBmaWVsZCA9IHBhdGgubmV3KCcnICsgaWR4KTtcbiAgICAgICAgbGV0IGZpZWxkU3RyaW5nID0gZmllbGQudG9TdHJpbmcoKTtcblxuICAgICAgICBsZXQgcmVtb3ZlU2l6ZSA9IGNoYW5nZXNbaV0ucmVtb3ZlZC5sZW5ndGg7XG4gICAgICAgIGlmIChyZW1vdmVTaXplICE9PSAwKSB7XG4gICAgICAgICAgbGV0IHJlbW92ZVZhbHVlcyA9IGNoYW5nZXNbaV0ucmVtb3ZlZDtcbiAgICAgICAgICByZW1vdmVWYWx1ZXMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNPYnNlcnZhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgICBwYXRoLnJlbW92ZUluZGV4KGlkeCArIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCh7XG4gICAgICAgICAgICBjVHlwZTogQ2hhbmdlVHlwZS5SRU1PVkUsXG4gICAgICAgICAgICBvVHlwZTogb2JqVHlwZSxcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZFN0cmluZyxcbiAgICAgICAgICAgIGRhdGE6IHJlbW92ZVNpemVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhZGRTaXplID0gY2hhbmdlc1tpXS5hZGRlZENvdW50O1xuICAgICAgICBpZiAoYWRkU2l6ZSAhPT0gMCkge1xuICAgICAgICAgIGxldCBhZGRWYWx1ZXMgPSBvYmouc2xpY2UoaWR4LCBpZHggKyBhZGRTaXplKTtcbiAgICAgICAgICBhZGRWYWx1ZXMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNPYnNlcnZhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgICBsZXQgbnAgPSBwYXRoLm5ldyhuZXcgQXJyYXlJbmRleCh2YWx1ZSwgaWR4ICsgaW5kZXgpKTtcbiAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxPYnNlcnZlKG5wLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoe1xuICAgICAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuQURELFxuICAgICAgICAgICAgb1R5cGU6IG9ialR5cGUsXG4gICAgICAgICAgICBmaWVsZDogZmllbGRTdHJpbmcsXG4gICAgICAgICAgICBkYXRhOiBkZWVwQ2xvbmUoYWRkVmFsdWVzKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9yZS1kZWZpbmUgcGF0aHMuLi5cbiAgICAgICAgaWYgKGlkeCAhPT0gb2JqLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBwYXRoLnJlSW5kZXhGcm9tKG9iaik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBmaWVsZCA9IHBhdGgubmV3KGNoYW5nZXNbaV0ubmFtZSk7XG4gICAgICAgIGxldCBmaWVsZFN0cmluZyA9IGZpZWxkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgaWYgKGZpZWxkU3RyaW5nLmluZGV4T2YoJ1N5bWJvbCcpICE9PSAtMSkge1xuICAgICAgICAgIC8vaGFjayBmb3IgUGhhbnRvbUpTMlxuICAgICAgICAgIC8vY29uc29sZS5sb2coJ1NZTUJPTDogJywgY2hhbmdlc1tpXSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvL2xldCBvbGRWYWx1ZSA9IGNoYW5nZXNbaV0ub2xkVmFsdWU7XG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IG9ialtjaGFuZ2VzW2ldLm5hbWVdO1xuICAgICAgICBpZiAoY2hhbmdlc1tpXS50eXBlID09PSAndXBkYXRlJykge1xuICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCh7XG4gICAgICAgICAgICBjVHlwZTogQ2hhbmdlVHlwZS5VUERBVEUsXG4gICAgICAgICAgICBvVHlwZTogb2JqVHlwZSxcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZFN0cmluZyxcbiAgICAgICAgICAgIGRhdGE6IGRlZXBDbG9uZShuZXdWYWx1ZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzW2ldLnR5cGUgPT09ICdhZGQnKSB7XG4gICAgICAgICAgdGhpcy5faW50ZXJuYWxPYnNlcnZlKGZpZWxkLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KHtcbiAgICAgICAgICAgIGNUeXBlOiBDaGFuZ2VUeXBlLkFERCxcbiAgICAgICAgICAgIG9UeXBlOiBvYmpUeXBlLFxuICAgICAgICAgICAgZmllbGQ6IGZpZWxkU3RyaW5nLFxuICAgICAgICAgICAgZGF0YTogZGVlcENsb25lKG5ld1ZhbHVlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXNbaV0udHlwZSA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoe1xuICAgICAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuUkVNT1ZFLFxuICAgICAgICAgICAgb1R5cGU6IG9ialR5cGUsXG4gICAgICAgICAgICBmaWVsZDogZmllbGRTdHJpbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vL2R5bmFtaWMgcGF0aCBmb3IgQXJyYXkgaW5kZXguLi5cbmNsYXNzIFBhdGgge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3BhdGggPSBbXTtcbiAgICB0aGlzLl9vYnNlcnZhYmxlcyA9IHt9OyAvLzxpbmRleDpBcnJheUluZGV4PlxuICB9XG5cbiAgcmVtb3ZlSW5kZXgoaWR4KSB7XG4gICAgLy9jb25zb2xlLmxvZygnUkVNT1ZFLVBBVEggJyArIGlkeCk7XG4gICAgZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2lkeF07XG4gIH1cblxuICByZUluZGV4RnJvbShhcnJheSkge1xuICAgIE9iamVjdC5rZXlzKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxldCBhcnJheUluZGV4ID0gdGhpcy5fb2JzZXJ2YWJsZXNba2V5XTtcbiAgICAgIGxldCBpZHggPSBhcnJheS5pbmRleE9mKGFycmF5SW5kZXgub2JqKTtcbiAgICAgIGlmIChhcnJheUluZGV4LmlkeCAhPSBpZHgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnUkUtSU5ERVg6ICcgKyBrZXkgKyAnLT4nICsgaWR4KTtcbiAgICAgICAgYXJyYXlJbmRleC5pZHggPSBpZHg7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1trZXldO1xuICAgICAgICB0aGlzLl9vYnNlcnZhYmxlc1tpZHhdID0gYXJyYXlJbmRleDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG5ldyhpZHgpIHtcbiAgICBpZiAoaWR4LmNvbnN0cnVjdG9yID09IEFycmF5SW5kZXgpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ1BBVEgtT0JTRVJWOiAnLCBpZHgpO1xuICAgICAgdGhpcy5fb2JzZXJ2YWJsZXNbaWR4LmlkeF0gPSBpZHg7XG4gICAgfVxuXG4gICAgbGV0IG5QYXRoID0gdGhpcy5jbG9uZSgpO1xuICAgIG5QYXRoLl9wYXRoLnB1c2goaWR4KTtcblxuICAgIHJldHVybiBuUGF0aDtcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIGxldCBuUGF0aCA9IG5ldyBQYXRoKCk7XG4gICAgdGhpcy5fcGF0aC5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgblBhdGguX3BhdGgucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gblBhdGg7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICAvL1RPRE86IG9wdGltaXplISFcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgdGhpcy5fcGF0aC5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICBzdHIgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyICs9ICcuJyArIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmNsYXNzIEFycmF5SW5kZXgge1xuXG4gIGNvbnN0cnVjdG9yKG9iaiwgaWR4KSB7XG4gICAgdGhpcy5vYmogPSBvYmo7XG4gICAgdGhpcy5pZHggPSBpZHg7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIENoYW5nZVR5cGUgPSB7VVBEQVRFOiAndXBkYXRlJywgQUREOiAnYWRkJywgUkVNT1ZFOiAncmVtb3ZlJ307XG5leHBvcnQgdmFyIE9iamVjdFR5cGUgPSB7T0JKRUNUOiAnb2JqZWN0JywgQVJSQVk6ICdhcnJheSd9O1xuZXhwb3J0IGRlZmF1bHQgU3luY09iamVjdDtcbiIsIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuaW1wb3J0IERhdGFPYmplY3RSZXBvcnRlciBmcm9tICcuL0RhdGFPYmplY3RSZXBvcnRlcic7XG5pbXBvcnQgRGF0YU9iamVjdE9ic2VydmVyIGZyb20gJy4vRGF0YU9iamVjdE9ic2VydmVyJztcbmltcG9ydCBEYXRhUHJvdmlzaW9uYWwgZnJvbSAnLi9EYXRhUHJvdmlzaW9uYWwnO1xuXG4vKipcbiogVGhlIG1haW4gY2xhc3MgZm9yIHRoZSBzeW5jaGVyIHBhY2thZ2UuXG4qIFRoZSBTeW5jaGVyIGlzIGEgc2luZ2xldG9uIGNsYXNzIHBlciBIeXBlcnR5L1VSTCBhbmQgaXQgaXMgdGhlIG93bmVyIG9mIGFsbCBjcmVhdGVkIERhdGEgU3luYyBPYmplY3RzIGFjY29yZGluZyB0byB0aGUgUmVwb3J0ZXIgLSBPYnNlcnZlciBwYXR0ZXJuLlxuKiBNYWluIGZ1bmN0aW9uYWxpdHkgaXMgdG8gY3JlYXRlIHJlcG9ydGVycyBhbmQgdG8gc3Vic2NyaWJlIHRvIGV4aXN0aW5nIG9uZXMuXG4qL1xuY2xhc3MgU3luY2hlciB7XG4gIC8qIHByaXZhdGVcbiAgX293bmVyOiBVUkxcbiAgX2J1czogTWluaUJ1c1xuXG4gIF9zdWJVUkw6IFVSTFxuXG4gIF9yZXBvcnRlcnM6IDx1cmw6IERhdGFPYmplY3RSZXBvcnRlcj5cbiAgX29ic2VydmVyczogPHVybDogRGF0YU9iamVjdE9ic2VydmVyPlxuICBfcHJvdmlzaW9uYWxzOiA8dXJsOiBEYXRhUHJvdmlzaW9uYWw+XG5cbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxuICBfb25Ob3RpZmljYXRpb25IYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcbiAgX29uUmVzdW1lOiAoZXZlbnQpID0+IHZvaWRcbiAgKi9cblxuICAvKipcbiAgKiBDb25zdHJ1Y3RvciB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHRoZSBIeXBlcnR5IG93bmVyXG4gICogQHBhcmFtIHtIeXBlcnR5VVJMfSBvd25lciAtIEh5cGVydHkgVVJMIG93bmVyLiBBbiBVUkwgYWxsb2NhdGVkIGJ5IHRoZSBydW50aW1lIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgSHlwZXJ0eS5cbiAgKiBAcGFyYW0ge01pbmlCdXN9IGJ1cyAtIEFuIGluc3RhbmNlIG9mIHRoZSBNaW5pQnVzIHByb3ZpZGVkIGluIHRoZSBzYW5kYm94LiBXaGVuIGFuIG9iamVjdCAoUmVwb3J0ZXIgb3IgT2JzZXJ2ZWQpIGlzIGNyZWF0ZWQsIHRoZSBTeW5jaGVyTWFuYWdlciB3aWxsIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBNaW5pQnVzIHRvIHJlY2VpdmUvc2VuZCBNZXNzYWdlcyBvZiB0aGF0IG9iamVjdC5cbiAgKiBAcGFyYW0ge0pTT059IGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gZGF0YS4gVGhlIG9ubHkgcmVxdWlyZWQgZmllbGQgZm9yIG5vdyBpcyB0aGUgcnVudGltZVVSTC5cbiAgKi9cbiAgY29uc3RydWN0b3Iob3duZXIsIGJ1cywgY29uZmlnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xuICAgIF90aGlzLl9idXMgPSBidXM7XG5cbiAgICBfdGhpcy5fc3ViVVJMID0gY29uZmlnLnJ1bnRpbWVVUkwgKyAnL3NtJztcblxuICAgIF90aGlzLl9yZXBvcnRlcnMgPSB7fTtcbiAgICBfdGhpcy5fb2JzZXJ2ZXJzID0ge307XG4gICAgX3RoaXMuX3Byb3Zpc2lvbmFscyA9IHt9O1xuXG4gICAgYnVzLmFkZExpc3RlbmVyKG93bmVyLCAobXNnKSA9PiB7XG4gICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXG4gICAgICBpZiAobXNnLmZyb20gIT09IG93bmVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTeW5jaGVyLVJDVjogJywgbXNnKTtcbiAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2ZvcndhcmQnOiBfdGhpcy5fb25Gb3J3YXJkKG1zZyk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2NyZWF0ZSc6IF90aGlzLl9vblJlbW90ZUNyZWF0ZShtc2cpOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkZWxldGUnOiBfdGhpcy5fb25SZW1vdGVEZWxldGUobXNnKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIFRoZSBvd25lciBvZiB0aGUgU3luY2hlciBhbmQgYWxsIGNyZWF0ZWQgcmVwb3J0ZXJzLlxuICAqIEB0eXBlIHtIeXBlcnR5VVJMfVxuICAqL1xuICBnZXQgb3duZXIoKSB7IHJldHVybiB0aGlzLl9vd25lcjsgfVxuXG4gIC8qKlxuICAqIEFsbCBvd25lZCByZXBvcnRlcnMsIHRoZSBvbmVzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IGEgY3JlYXRlXG4gICogQHR5cGUge09iamVjdDxVUkwsIERhdGFPYmplY3RSZXBvcnRlcj59XG4gICovXG4gIGdldCByZXBvcnRlcnMoKSB7IHJldHVybiB0aGlzLl9yZXBvcnRlcnM7IH1cblxuICAvKipcbiAgKiBBbGwgb3duZWQgb2JzZXJ2ZXJzLCB0aGUgb25lcyB0aGF0IHdlcmUgY3JlYXRlZCBieSBhIGxvY2FsIHN1YnNjcmlwdGlvblxuICAqIEB0eXBlIHtPYmplY3Q8VVJMLCBEYXRhT2JqZWN0T2JzZXJ2ZXI+fVxuICAqL1xuICBnZXQgb2JzZXJ2ZXJzKCkgeyByZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzOyB9XG5cbiAgLyoqXG4gICogUmVxdWVzdCBhIERhdGFPYmplY3RSZXBvcnRlciBjcmVhdGlvbi4gVGhlIFVSTCB3aWxsIGJlIGJlIHJlcXVlc3RlZCBieSB0aGUgYWxsb2NhdGlvbiBtZWNoYW5pc20uXG4gICogQHBhcmFtICB7U2NoZW1hVVJMfSBzY2hlbWEgLSBIeXBlcnR5IENhdGFsb2d1ZSBVUkwgYWRkcmVzcyB0aGF0IGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBKU09OLVNjaGVtYSBkZXNjcmliaW5nIHRoZSBEYXRhIE9iamVjdCBzY2hlbWFcbiAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMW119IG9ic2VydmVycyAtIExpc3Qgb2YgaHlwZXJ0aWVzIHRoYXQgYXJlIHByZS1hdXRob3JpemVkIGZvciBzdWJzY3JpcHRpb25cbiAgKiBAcGFyYW0gIHtKU09OfSBpbml0aWFsRGF0YSAtIEluaXRpYWwgZGF0YSBvZiB0aGUgcmVwb3J0ZXJcbiAgKiBAcGFyYW0gIHtzdHJpbmd9IG9iamVjdFVSTCAtIHJldXNhYmxlIGRhdGFPYmplY3QgVVJMXG4gICogQHJldHVybiB7UHJvbWlzZTxEYXRhT2JqZWN0UmVwb3J0ZXI+fSBSZXR1cm4gUHJvbWlzZSB0byBhIG5ldyBSZXBvcnRlci4gVGhlIHJlcG9ydGVyIGNhbiBiZSBhY2NlcHRlZCBvciByZWplY3RlZCBieSB0aGUgUEVQXG4gICovXG4gIGNyZWF0ZShzY2hlbWEsIG9ic2VydmVycywgaW5pdGlhbERhdGEsIHN0b3JlID0gZmFsc2UsIHAycCA9IGZhbHNlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY3JpdGVyaWEgPSB7fTtcblxuICAgIGNyaXRlcmlhLnAycCA9IHAycDtcbiAgICBjcml0ZXJpYS5zdG9yZSA9IHN0b3JlO1xuICAgIGNyaXRlcmlhLnNjaGVtYSA9IHNjaGVtYTtcbiAgICBjcml0ZXJpYS5vYnNlcnZlcnMgPSBvYnNlcnZlcnM7XG4gICAgY3JpdGVyaWEuaW5pdGlhbERhdGEgPSBpbml0aWFsRGF0YTtcblxuICAgIGNvbnNvbGUubG9nKCdbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUgUmVwb3J0ZXIgLSBjcml0ZXJpYTogJywgY3JpdGVyaWEpO1xuXG4gICAgT2JqZWN0LmFzc2lnbihjcml0ZXJpYSwge3Jlc3VtZTogZmFsc2V9KTtcblxuICAgIHJldHVybiBfdGhpcy5fY3JlYXRlKGNyaXRlcmlhKTtcbiAgfVxuXG4gIHJlc3VtZVJlcG9ydGVycyhjcml0ZXJpYSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgY29uc29sZS5sb2coJ1tzeW5jaGVyIC0gY3JlYXRlXSAtIHJlc3VtZSBSZXBvcnRlciAtIGNyaXRlcmlhOiAnLCBjcml0ZXJpYSk7XG5cbiAgICBPYmplY3QuYXNzaWduKGNyaXRlcmlhLCB7cmVzdW1lOiB0cnVlfSk7XG5cbiAgICByZXR1cm4gX3RoaXMuX2NyZWF0ZShjcml0ZXJpYSk7XG4gIH1cblxuICAvKipcbiAgKiBSZXF1ZXN0IGEgc3Vic2NyaXB0aW9uIHRvIGFuIGV4aXN0ZW50IHJlcG9ydGVyIG9iamVjdC5cbiAgKiBAcGFyYW0ge1NjaGVtYVVSTH0gc2NoZW1hIC0gSHlwZXJ0eSBDYXRhbG9ndWUgVVJMIGFkZHJlc3MgdGhhdCBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgSlNPTi1TY2hlbWEgZGVzY3JpYmluZyB0aGUgRGF0YSBPYmplY3Qgc2NoZW1hXG4gICogQHBhcmFtIHtPYmplY3RVUkx9IG9ialVSTCAtIEFkZHJlc3Mgb2YgdGhlIGV4aXN0ZW50IHJlcG9ydGVyIG9iamVjdCB0byBiZSBvYnNlcnZlZFxuICAqIEByZXR1cm4ge1Byb21pc2U8RGF0YU9iamVjdE9ic2VydmVyPn0gUmV0dXJuIFByb21pc2UgdG8gYSBuZXcgb2JzZXJ2ZXIuIEl0J3MgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXBvcnRlci5cbiAgKi9cbiAgc3Vic2NyaWJlKHNjaGVtYSwgb2JqVVJMLCBzdG9yZSA9IGZhbHNlLCBwMnAgPSBmYWxzZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNyaXRlcmlhID0ge307XG5cbiAgICBjcml0ZXJpYS5wMnAgPSBwMnA7XG4gICAgY3JpdGVyaWEuc3RvcmUgPSBzdG9yZTtcbiAgICBjcml0ZXJpYS5zY2hlbWEgPSBzY2hlbWE7XG4gICAgY3JpdGVyaWEucmVzb3VyY2UgPSBvYmpVUkw7XG5cbiAgICBjb25zb2xlLmxvZygnW3N5bmNoZXIgLSBzdWJzY3JpYmVdIC0gc3Vic2NyaWJlIGNyaXRlcmlhOiAnLCBjcml0ZXJpYSk7XG5cbiAgICBPYmplY3QuYXNzaWduKGNyaXRlcmlhLCB7cmVzdW1lOiBmYWxzZX0pO1xuXG4gICAgcmV0dXJuIF90aGlzLl9zdWJzY3JpYmUoY3JpdGVyaWEpO1xuICB9XG5cbiAgLyoqXG4gICogUmVxdWVzdCBhIHN1YnNjcmlwdGlvbiB0byBhbiBleGlzdGVudCByZXBvcnRlciBvYmplY3QuXG4gICogQHBhcmFtIHtjcml0ZXJpYX0gY3JpdGVyaWEgLSBJbmZvcm1hdGlvbiB0byBkaXNjb3ZlcnkgdGhlIG9ic2VydmVyIG9iamVjdFxuICAqIEByZXR1cm4ge1Byb21pc2U8RGF0YU9iamVjdE9ic2VydmVyPn0gUmV0dXJuIFByb21pc2UgdG8gYSBuZXcgb2JzZXJ2ZXIuIEl0J3MgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXBvcnRlci5cbiAgKi9cbiAgcmVzdW1lT2JzZXJ2ZXJzKGNyaXRlcmlhKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgX2NyaXRlcmlhID0gY3JpdGVyaWEgfHwge307XG5cbiAgICBPYmplY3QuYXNzaWduKF9jcml0ZXJpYSwge3Jlc3VtZTogdHJ1ZX0pO1xuXG4gICAgcmV0dXJuIF90aGlzLl9zdWJzY3JpYmUoX2NyaXRlcmlhKTtcbiAgfVxuXG4gIC8qKlxuICAqIFJlcXVlc3QgYSByZWFkIGFjdGlvbiBvbiB0aGUgcmVwb3J0ZXIgb2JqZWN0XG4gICogQHBhcmFtIHtPYmplY3RVUkx9IG9ialVSTCAtIFVSTCBvZiB0aGUgcmVwb3J0ZXIgb2JqZWN0IHRvIGJlIHJlYWRcbiAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59IFJldHVybiBQcm9taXNlIHRvIGxhc3QgYXZhaWxhYmxlIGRhdGEgb2YgdGhlIHJlcG9ydGVyXG4gICovXG4gIHJlYWQob2JqVVJMKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgZGlyZWN0bHkgdG8gcmVwb3J0ZXIgb2JqZWN0IChtYXliZSB0aGVyZSBpcyBubyBsaXN0ZW5lciBhdmFpbGFibGUsIHNvIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBNZXNzYWdlQnVzIC0+IHJlc29sdmUpXG4gICAgLy93aWxsIHJlYWNoIHRoZSByZW1vdGUgb2JqZWN0IGluIERhdGFPYmplY3RSZXBvcnRlciAtPiBfb25SZWFkXG4gICAgbGV0IHJlYWRNc2cgPSB7XG4gICAgICB0eXBlOiAncmVhZCcsIGZyb206IF90aGlzLl9vd25lciwgdG86IG9ialVSTFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZWFkTXNnLCAocmVwbHkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlYWQtcmVzcG9uc2U6ICcsIHJlcGx5KTtcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QocmVwbHkuYm9keS5kZXNjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBTZXR1cCB0aGUgY2FsbGJhY2sgdG8gcHJvY2VzcyBjcmVhdGUgYW5kIGRlbGV0ZSBldmVudHMgb2YgcmVtb3ZlIFJlcG9ydGVyIG9iamVjdHMuXG4gICogVGhpcyBpcyByZWxlYXRlZCB0byB0aGUgbWVzc2FnZW5zIHNlbnQgYnkgY3JlYXRlIHRvIHRoZSBvYnNlcnZlcnMgSHlwZXJ0eSBhcnJheS5cbiAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICovXG4gIG9uTm90aWZpY2F0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICBfY3JlYXRlKGNyaXRlcmlhKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgcmVzdW1lID0gY3JpdGVyaWEucmVzdW1lO1xuICAgICAgbGV0IGluaXRpYWxEYXRhID0gY3JpdGVyaWEuaW5pdGlhbERhdGEgfHwge307XG4gICAgICBsZXQgc2NoZW1hO1xuXG4gICAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkNyZWF0ZVxuICAgICAgbGV0IHJlcXVlc3RNc2cgPSB7XG4gICAgICAgIHR5cGU6ICdjcmVhdGUnLCBmcm9tOiBfdGhpcy5fb3duZXIsIHRvOiBfdGhpcy5fc3ViVVJMLFxuICAgICAgICBib2R5OiB7IHJlc3VtZTogcmVzdW1lIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbc3luY2hlciAtIGNyZWF0ZV06ICcsIGNyaXRlcmlhLCByZXF1ZXN0TXNnKTtcblxuICAgICAgcmVxdWVzdE1zZy5ib2R5LnZhbHVlID0gaW5pdGlhbERhdGE7XG4gICAgICByZXF1ZXN0TXNnLmJvZHkudmFsdWUucmVwb3J0ZXIgPSBfdGhpcy5fb3duZXI7XG5cbiAgICAgIGlmIChjcml0ZXJpYS5zY2hlbWEpIHtcbiAgICAgICAgc2NoZW1hID0gY3JpdGVyaWEuc2NoZW1hO1xuICAgICAgICByZXF1ZXN0TXNnLmJvZHkuc2NoZW1hID0gY3JpdGVyaWEuc2NoZW1hO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3JpdGVyaWEucDJwKSByZXF1ZXN0TXNnLmJvZHkucDJwID0gY3JpdGVyaWEucDJwO1xuICAgICAgaWYgKGNyaXRlcmlhLnN0b3JlKSByZXF1ZXN0TXNnLmJvZHkuc3RvcmUgPSBjcml0ZXJpYS5zdG9yZTtcbiAgICAgIGlmIChjcml0ZXJpYS5vYnNlcnZlcnMpIHJlcXVlc3RNc2cuYm9keS5hdXRob3Jpc2UgPSBjcml0ZXJpYS5vYnNlcnZlcnM7XG5cbiAgICAgIGlmIChyZXN1bWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tzeW5jaGVyIC0gY3JlYXRlXSAtIHJlc3VtZSBtZXNzYWdlOiAnLCByZXF1ZXN0TXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUgbWVzc2FnZTogJywgcmVxdWVzdE1zZyk7XG4gICAgICB9XG5cbiAgICAgIC8vcmVxdWVzdCBjcmVhdGUgdG8gdGhlIGFsbG9jYXRpb24gc3lzdGVtLiBDYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIFBvbGljeUVuZ2luZS5cbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVxdWVzdE1zZywgKHJlcGx5KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUtcmVzcG9uc2U6ICcsIHJlcGx5KTtcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgLy9yZXBvcnRlciBjcmVhdGlvbiBhY2NlcHRlZFxuICAgICAgICAgIGxldCBvYmpVUkwgPSByZXBseS5ib2R5LnJlc291cmNlO1xuXG4gICAgICAgICAgaWYgKHJlc3VtZSkge1xuICAgICAgICAgICAgc2NoZW1hID0gcmVwbHkuYm9keS5zY2hlbWE7XG4gICAgICAgICAgICBpbml0aWFsRGF0YSA9IHJlcGx5LmJvZHkudmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0UmVwb3J0ZXIoX3RoaXMsIG9ialVSTCwgc2NoZW1hLCAnb24nLCBpbml0aWFsRGF0YSwgcmVwbHkuYm9keS5jaGlsZHJlblJlc291cmNlcyk7XG4gICAgICAgICAgX3RoaXMuX3JlcG9ydGVyc1tvYmpVUkxdID0gbmV3T2JqO1xuXG4gICAgICAgICAgcmVzb2x2ZShuZXdPYmopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vcmVwb3J0ZXIgY3JlYXRpb24gcmVqZWN0ZWRcbiAgICAgICAgICByZWplY3QocmVwbHkuYm9keS5kZXNjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIF9zdWJzY3JpYmUoY3JpdGVyaWEpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25Mb2NhbFN1YnNjcmliZVxuICAgICAgbGV0IHN1YnNjcmliZU1zZyA9IHtcbiAgICAgICAgdHlwZTogJ3N1YnNjcmliZScsIGZyb206IF90aGlzLl9vd25lciwgdG86IF90aGlzLl9zdWJVUkwsXG4gICAgICAgIGJvZHk6IHt9XG4gICAgICB9O1xuXG4gICAgICAvLyBIeXBlcnR5IHJlcXVlc3QgdG8gYmUgYW4gT2JzZXJ2ZXJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI2h5cGVydHktcmVxdWVzdC10by1iZS1hbi1vYnNlcnZlclxuXG4gICAgICAvLyBSZXN1bWUgU3Vic2NyaXB0aW9ucyBmb3IgdGhlIHNhbWUgSHlwZXJ0eSBVUkxcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI3Jlc3VtZS1zdWJzY3JpcHRpb25zLWZvci10aGUtc2FtZS1oeXBlcnR5LXVybFxuXG4gICAgICAvLyBSZXN1bWUgU3Vic2NyaXB0aW9ucyBmb3IgYSBjZXJ0YWluIHVzZXIgYW5kIGRhdGEgc2NoZW1hIGluZGVwZW5kZW50bHkgb2YgdGhlIEh5cGVydHkgVVJMLlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9tZXNzYWdlcy9kYXRhLXN5bmMtbWVzc2FnZXMubWQjcmVzdW1lLXN1YnNjcmlwdGlvbnMtZm9yLWEtY2VydGFpbi11c2VyLWFuZC1kYXRhLXNjaGVtYS1pbmRlcGVuZGVudGx5LW9mLXRoZS1oeXBlcnR5LXVybFxuICAgICAgaWYgKGNyaXRlcmlhKSB7XG4gICAgICAgIGlmIChjcml0ZXJpYS5wMnApIHN1YnNjcmliZU1zZy5ib2R5LnAycCA9IGNyaXRlcmlhLnAycDtcbiAgICAgICAgaWYgKGNyaXRlcmlhLnN0b3JlKSBzdWJzY3JpYmVNc2cuYm9keS5zdG9yZSA9IGNyaXRlcmlhLnN0b3JlO1xuICAgICAgICBpZiAoY3JpdGVyaWEuc2NoZW1hKSBzdWJzY3JpYmVNc2cuYm9keS5zY2hlbWEgPSBjcml0ZXJpYS5zY2hlbWE7XG4gICAgICAgIGlmIChjcml0ZXJpYS5pZGVudGl0eSkgc3Vic2NyaWJlTXNnLmJvZHkuaWRlbnRpdHkgPSBjcml0ZXJpYS5pZGVudGl0eTtcbiAgICAgICAgaWYgKGNyaXRlcmlhLnJlc291cmNlKSBzdWJzY3JpYmVNc2cuYm9keS5yZXNvdXJjZSA9IGNyaXRlcmlhLnJlc291cmNlO1xuICAgICAgfVxuXG4gICAgICBzdWJzY3JpYmVNc2cuYm9keS5yZXN1bWUgPSBjcml0ZXJpYS5yZXN1bWU7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbc3luY2hlcl0gLSBzdWJzY3JpYmUgbWVzc2FnZTogJywgY3JpdGVyaWEsIHN1YnNjcmliZU1zZyk7XG5cbiAgICAgIC8vcmVxdWVzdCBzdWJzY3JpcHRpb25cbiAgICAgIC8vUHJvdmlzaW9uYWwgZGF0YSBpcyBhcHBsaWVkIHRvIHRoZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgYWZ0ZXIgY29uZmlybWF0aW9uLiBPciBkaXNjYXJkZWQgaWYgdGhlcmUgaXMgbm8gY29uZmlybWF0aW9uLlxuICAgICAgLy9mb3IgbW9yZSBpbmZvIHNlZSB0aGUgRGF0YVByb3Zpc2lvbmFsIGNsYXNzIGRvY3VtZW50YXRpb24uXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHN1YnNjcmliZU1zZywgKHJlcGx5KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3luY2hlcl0gLSBzdWJzY3JpYmUtcmVzcG9uc2U6ICcsIHJlcGx5KTtcblxuICAgICAgICBsZXQgc2NoZW1hID0gcmVwbHkuYm9keS5zY2hlbWE7XG4gICAgICAgIGxldCBvYmpVUkwgPSByZXBseS5ib2R5LnJlc291cmNlO1xuXG4gICAgICAgIGxldCBuZXdQcm92aXNpb25hbCA9IF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXTtcblxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlIDwgMjAwKSB7XG4gICAgICAgICAgZGVsZXRlIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXTtcbiAgICAgICAgICBpZiAobmV3UHJvdmlzaW9uYWwpIG5ld1Byb3Zpc2lvbmFsLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgICBuZXdQcm92aXNpb25hbCA9IG5ldyBEYXRhUHJvdmlzaW9uYWwoX3RoaXMuX293bmVyLCBvYmpVUkwsIF90aGlzLl9idXMsIHJlcGx5LmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO1xuICAgICAgICAgIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXSA9IG5ld1Byb3Zpc2lvbmFsO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG5cbiAgICAgICAgICBsZXQgY2hpbGRyZW5SZXNvdXJjZXMgPSBuZXdQcm92aXNpb25hbCA/IG5ld1Byb3Zpc2lvbmFsLmNoaWxkcmVuIDogcmVwbHkuYm9keS5jaGlsZHJlblJlc291cmNlcztcbiAgICAgICAgICBjb25zb2xlLmxvZygnW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyOiAnLCByZXBseSwgX3RoaXMuX3Byb3Zpc2lvbmFscywgY2hpbGRyZW5SZXNvdXJjZXMpO1xuXG4gICAgICAgICAgbGV0IG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0T2JzZXJ2ZXIoX3RoaXMsIG9ialVSTCwgc2NoZW1hLCAnb24nLCByZXBseS5ib2R5LnZhbHVlLCBjaGlsZHJlblJlc291cmNlcywgcmVwbHkuYm9keS52ZXJzaW9uKTtcbiAgICAgICAgICBfdGhpcy5fb2JzZXJ2ZXJzW29ialVSTF0gPSBuZXdPYmo7XG5cbiAgICAgICAgICByZXNvbHZlKG5ld09iaik7XG4gICAgICAgICAgaWYgKG5ld1Byb3Zpc2lvbmFsKSBuZXdQcm92aXNpb25hbC5hcHBseShuZXdPYmopO1xuXG4gICAgICAgICAgLy8gLy8gcmVhZCB0aGUgbGFzdCBjaGFuZ2VzXG4gICAgICAgICAgLy8gX3RoaXMucmVhZChvYmpVUkwpLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgICAgLy8gICBPYmplY3QuYXNzaWduKG5ld09iai5kYXRhLCB2YWx1ZSk7XG4gICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QocmVwbHkuYm9keS5kZXNjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgbG9jYWwgcnVudGltZSBSZXBvcnRlck9iamVjdCAtPiBfb25SZW1vdGVTdWJzY3JpYmVcbiAgX29uRm9yd2FyZChtc2cpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IHJlcG9ydGVyID0gX3RoaXMuX3JlcG9ydGVyc1ttc2cuYm9keS50b107XG4gICAgcmVwb3J0ZXIuX29uRm9yd2FyZChtc2cpO1xuICB9XG5cbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgU3luY2hlciAtPiBjcmVhdGUgKHRoaXMgaXMgYWN0dWFsbHkgYW4gaW52aXRhdGlvbiB0byBzdWJzY3JpYmUpXG4gIF9vblJlbW90ZUNyZWF0ZShtc2cpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy9yZW1vdmUgXCIvc3Vic2NyaXB0aW9uXCIgZnJvbSB0aGUgVVJMXG4gICAgbGV0IHJlc291cmNlID0gbXNnLmZyb20uc2xpY2UoMCwgLTEzKTtcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxuICAgICAgZnJvbTogbXNnLmJvZHkuc291cmNlLFxuICAgICAgdXJsOiByZXNvdXJjZSxcbiAgICAgIHNjaGVtYTogbXNnLmJvZHkuc2NoZW1hLFxuICAgICAgdmFsdWU6IG1zZy5ib2R5LnZhbHVlLFxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5LFxuXG4gICAgICBhY2s6ICh0eXBlKSA9PiB7XG4gICAgICAgIGxldCBsVHlwZSA9IDIwMDtcbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICBsVHlwZSA9IHR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICAvL3NlbmQgYWNrIHJlc3BvbnNlIG1lc3NhZ2VcbiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXG4gICAgICAgICAgYm9keTogeyBjb2RlOiBsVHlwZSB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcikge1xuICAgICAgY29uc29sZS5sb2coJ05PVElGSUNBVElPTi1FVkVOVDogJywgZXZlbnQpO1xuICAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdFJlcG9ydGVyIC0+IGRlbGV0ZVxuICBfb25SZW1vdGVEZWxldGUobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vcmVtb3ZlIFwiL3N1YnNjcmlwdGlvblwiIGZyb20gdGhlIFVSTFxuICAgIGxldCByZXNvdXJjZSA9IG1zZy5ib2R5LnJlc291cmNlO1xuXG4gICAgbGV0IG9iamVjdCA9IF90aGlzLl9vYnNlcnZlcnNbcmVzb3VyY2VdO1xuICAgIGlmIChvYmplY3QpIHtcbiAgICAgIGxldCBldmVudCA9IHtcbiAgICAgICAgdHlwZTogbXNnLnR5cGUsXG4gICAgICAgIHVybDogcmVzb3VyY2UsXG4gICAgICAgIGlkZW50aXR5OiBtc2cuYm9keS5pZGVudGl0eSxcblxuICAgICAgICBhY2s6ICh0eXBlKSA9PiB7XG4gICAgICAgICAgbGV0IGxUeXBlID0gMjAwO1xuICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICBsVHlwZSA9IHR5cGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9UT0RPOiBhbnkgb3RoZXIgZGlmZmVyZW50IG9wdGlvbnMgZm9yIHRoZSByZWxlYXNlIHByb2Nlc3MsIGxpa2UgYWNjZXB0IGJ1dCBub3IgcmVsZWFzZSBsb2NhbD9cbiAgICAgICAgICBpZiAobFR5cGUgPT09IDIwMCkge1xuICAgICAgICAgICAgb2JqZWN0LmRlbGV0ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vc2VuZCBhY2sgcmVzcG9uc2UgbWVzc2FnZVxuICAgICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXG4gICAgICAgICAgICBib2R5OiB7IGNvZGU6IGxUeXBlLCBzb3VyY2U6IF90aGlzLl9vd25lciB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChfdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOT1RJRklDQVRJT04tRVZFTlQ6ICcsIGV2ZW50KTtcbiAgICAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcihldmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcbiAgICAgICAgYm9keTogeyBjb2RlOiA0MDQsIHNvdXJjZTogX3RoaXMuX293bmVyIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN5bmNoZXI7XG4iLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG4vKipcbiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWxcbiAqIEBtb2R1bGUgdXRpbHNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIGRpdmlkZVVSTFxuICogQHR5cGUgT2JqZWN0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMXG4gKi9cblxuLyoqXG4gKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHlcbiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzXG4gKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVVUkwodXJsKSB7XG5cbiAgaWYgKCF1cmwpIHRocm93IEVycm9yKCdVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Jyk7XG5cbiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XFwvXFwvKD86XFwuKT8oWy1hLXpBLVowLTlAOiUuX1xcK34jPV17MiwyNTZ9XFwuW2Etel17Miw2fVxcYikqKFxcL1tcXC9cXGRcXHdcXC4tXSopKig/OltcXD9dKSooLispKi9naTtcbiAgbGV0IHJlID0gLyhbYS16QS1aLV0qKTpcXC9cXC8oPzpcXC4pPyhbLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cXCt+Iz1cXC9dKikvZ2k7XG4gIGxldCBzdWJzdCA9ICckMSwkMiwkMyc7XG4gIGxldCBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTtcblxuICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzXG4gIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7XG4gICAgcGFydHNbMF0gPSAnaHR0cHMnO1xuICAgIHBhcnRzWzFdID0gdXJsO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHtcbiAgICB0eXBlOiBwYXJ0c1swXSxcbiAgICBkb21haW46IHBhcnRzWzFdLFxuICAgIGlkZW50aXR5OiBwYXJ0c1syXVxuICB9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVFbWFpbChlbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gZW1haWwuaW5kZXhPZignQCcpO1xuXG4gIGxldCByZXN1bHQgPSB7XG4gICAgdXNlcm5hbWU6IGVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpLFxuICAgIGRvbWFpbjogZW1haWwuc3Vic3RyaW5nKGluZGV4T2ZBdCArIDEsIGVtYWlsLmxlbmd0aClcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGFuIE9iamVjdCBpcyBlbXB0eVxuICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIHN0YXR1cyBvZiBPYmplY3QsIGVtcHR5IG9yIG5vdCAodHJ1ZXxmYWxzZSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID4gMCA/IGZhbHNlIDogdHJ1ZTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iaikge1xuICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uXG4gIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG4vKipcbiAqIE9idGFpbnMgdGhlIHVzZXIgVVJMIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBlbWFpbFxuICogQHBhcmFtICB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcbiAqIEByZXR1cm4ge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKHVzZXJFbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gdXNlckVtYWlsLmluZGV4T2YoJ0AnKTtcbiAgcmV0dXJuICd1c2VyOi8vJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgdXNlckVtYWlsLmxlbmd0aCkgKyAnLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCk7XG59XG5cbi8qKlxuICogT2J0YWlucyB0aGUgdXNlciBlbWFpbCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gVVJMXG4gKiBAcGFyYW0gIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTFxuICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwodXNlclVSTCkge1xuICBsZXQgdXJsID0gZGl2aWRlVVJMKHVzZXJVUkwpO1xuICByZXR1cm4gdXJsLmlkZW50aXR5LnJlcGxhY2UoJy8nLCAnJykgKyAnQCcgKyB1cmwuZG9tYWluOyAvLyBpZGVudGl0eSBmaWVsZCBoYXMgJy9leGFtcGxlSUQnIGluc3RlYWQgb2YgJ2V4YW1wbGVJRCdcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSB1c2VyIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgVVJMIGZvcm1hdCwgaWYgbm90LCBjb252ZXJ0IHRvIFVSTCBmb3JtYXRcbiAqIEBwYXJhbSAge3N0cmluZ30gICBpZGVudGlmaWVyICB1c2VyIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gICB1c2VyVVJMICAgIHRoZSB1c2VyIFVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvVXNlclVSTChpZGVudGlmaWVyKSB7XG5cbiAgLy8gY2hlY2sgaWYgdGhlIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgdXJsIGZvcm1hdFxuICBpZiAoaWRlbnRpZmllci5zdWJzdHJpbmcoMCwgNykgPT09ICd1c2VyOi8vJykge1xuICAgIGxldCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKGlkZW50aWZpZXIpO1xuXG4gICAgLy9jaGVjayBpZiB0aGUgdXJsIGlzIHdlbGwgZm9ybWF0ZWRcbiAgICBpZiAoZGl2aWRlZFVSTC5kb21haW4gJiYgZGl2aWRlZFVSTC5pZGVudGl0eSkge1xuICAgICAgcmV0dXJuIGlkZW50aWZpZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93ICd1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0JztcbiAgICB9XG5cbiAgLy9pZiBub3QsIGNvbnZlcnQgdGhlIHVzZXIgZW1haWwgdG8gVVJMIGZvcm1hdFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRVc2VyVVJMRnJvbUVtYWlsKGlkZW50aWZpZXIpO1xuICB9XG59XG4iXX0=\n"]}
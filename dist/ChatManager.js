// version: 0.9.0
// date: Fri Jul 27 2018 19:55:29 GMT+0100 (GMT Daylight Time)
// licence: 
/**
* Copyright 2016 PT Inovação e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/


!function(c,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ChatManager",[],e):"object"==typeof exports?exports.ChatManager=e():(c[""]=c[""]||{},c[""].ChatManager=e())}("undefined"!=typeof self?self:this,function(){return function(c){var e={};function l(n){if(e[n])return e[n].exports;var I=e[n]={i:n,l:!1,exports:{}};return c[n].call(I.exports,I,I.exports,l),I.l=!0,I.exports}return l.m=c,l.c=e,l.d=function(c,e,n){l.o(c,e)||Object.defineProperty(c,e,{configurable:!1,enumerable:!0,get:n})},l.n=function(c){var e=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(e,"a",e),e},l.o=function(c,e){return Object.prototype.hasOwnProperty.call(c,e)},l.p="",l(l.s=167)}([function(module,exports){eval("var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanM/MTVlMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2QkFBNkI7QUFDN0IsdUNBQXVDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjcnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcz9lY2FiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval("var store = __webpack_require__(36)('wks');\nvar uid = __webpack_require__(23);\nvar Symbol = __webpack_require__(1).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcz83NTJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzPzY2YjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(13)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzP2Y4NGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLGlDQUFpQyxRQUFRLG1CQUFtQixVQUFVLEVBQUUsRUFBRTtBQUMxRSxDQUFDIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(59);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzP2MzMTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar ctx = __webpack_require__(14);\nvar hide = __webpack_require__(11);\nvar has = __webpack_require__(10);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcz85MGNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBLGtGQUFrRjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxjQUFjO0FBQ2QsY0FBYztBQUNkLGNBQWM7QUFDZCxlQUFlO0FBQ2YsZUFBZTtBQUNmLGVBQWU7QUFDZixnQkFBZ0I7QUFDaEIiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjtcbiAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG4gIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QO1xuICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG4gIHZhciBJU19XUkFQID0gdHlwZSAmICRleHBvcnQuVztcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdO1xuICB2YXIgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGtleSwgb3duLCBvdXQ7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKG93biAmJiBoYXMoZXhwb3J0cywga2V5KSkgY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbiAoQykge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEMpIHtcbiAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDKCk7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmIChJU19QUk9UTykge1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmICh0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKSBoaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")},function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcz8xMmE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(9);\nvar IE8_DOM_DEFINE = __webpack_require__(39);\nvar toPrimitive = __webpack_require__(27);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(4) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcz83YWYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWTtBQUNmO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(7);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcz9lZmIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n")},function(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcz8wZjYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(8);\nvar createDesc = __webpack_require__(16);\nmodule.exports = __webpack_require__(4) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanM/ODQ5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},function(module,exports,__webpack_require__){eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(55);\nvar defined = __webpack_require__(30);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanM/NGRjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzPzRiY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n")},function(module,exports,__webpack_require__){eval("// optional / simple context binding\nvar aFunction = __webpack_require__(24);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcz9mOTkzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},function(module,exports){eval("module.exports = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanM/M2I4OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n")},function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanM/NWZjMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n")},function(module,exports){eval("module.exports = {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcz9mZGI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(102), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanM/ZmZmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = __webpack_require__(58);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.divideURL = divideURL;\nexports.divideEmail = divideEmail;\nexports.emptyObject = emptyObject;\nexports.deepClone = deepClone;\nexports.getUserURLFromEmail = getUserURLFromEmail;\nexports.getUserEmailFromURL = getUserEmailFromURL;\nexports.convertToUserURL = convertToUserURL;\nexports.checkAttribute = checkAttribute;\nexports.parseAttributes = parseAttributes;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n/**\r\n * Support module with some functions will be useful\r\n * @module utils\r\n */\n\n/**\r\n * @typedef divideURL\r\n * @type Object\r\n * @property {string} type The type of URL\r\n * @property {string} domain The domain of URL\r\n * @property {string} identity The identity of URL\r\n */\n\n/**\r\n * Divide an url in type, domain and identity\r\n * @param  {URL.URL} url - url address\r\n * @return {divideURL} the result of divideURL\r\n */\nfunction divideURL(url) {\n\n  function recurse(value) {\n    var regex = /([a-zA-Z-]*)(:\\/\\/(?:\\.)?|:)([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;\n    var subst = '$1,$3,$4';\n    var parts = value.replace(regex, subst).split(',');\n    return parts;\n  }\n\n  var parts = recurse(url);\n\n  // If the url has no scheme\n  if (parts[0] === url && !parts[0].includes('@')) {\n\n    var _result = {\n      type: '',\n      domain: url,\n      identity: ''\n    };\n\n    console.warn('[DivideURL] DivideURL don\\'t support url without scheme. Please review your url address', url);\n\n    return _result;\n  }\n\n  // check if the url has the scheme and includes an @\n  if (parts[0] === url && parts[0].includes('@')) {\n    var scheme = parts[0] === url ? 'smtp' : parts[0];\n    parts = recurse(scheme + '://' + parts[0]);\n  }\n\n  // if the domain includes an @, divide it to domain and identity respectively\n  if (parts[1].includes('@')) {\n    parts[2] = parts[0] + '://' + parts[1];\n    parts[1] = parts[1].substr(parts[1].indexOf('@') + 1);\n  } /*else if (parts[2].includes('/')) {\r\n    parts[2] = parts[2].substr(parts[2].lastIndexOf('/')+1);\r\n    }*/\n\n  var result = {\n    type: parts[0],\n    domain: parts[1],\n    identity: parts[2]\n  };\n\n  return result;\n}\n\nfunction divideEmail(email) {\n  var indexOfAt = email.indexOf('@');\n\n  var result = {\n    username: email.substring(0, indexOfAt),\n    domain: email.substring(indexOfAt + 1, email.length)\n  };\n\n  return result;\n}\n\n/**\r\n * Check if an Object is empty\r\n * @param  {Object} object Object to be checked\r\n * @return {Boolean}       status of Object, empty or not (true|false);\r\n */\nfunction emptyObject(object) {\n  return (0, _keys2.default)(object).length > 0 ? false : true;\n}\n\n/**\r\n * Make a COPY of the original data\r\n * @param  {Object}  obj - object to be cloned\r\n * @return {Object}\r\n */\nfunction deepClone(obj) {\n  //TODO: simple but inefficient JSON deep clone...\n  if (obj) return JSON.parse((0, _stringify2.default)(obj));\n}\n\n/**\r\n * Obtains the user URL that corresponds to a given email\r\n * @param  {string} userEmail The user email\r\n * @return {URL.URL} userURL The user URL\r\n */\nfunction getUserURLFromEmail(userEmail) {\n  var indexOfAt = userEmail.indexOf('@');\n  return 'user://' + userEmail.substring(indexOfAt + 1, userEmail.length) + '/' + userEmail.substring(0, indexOfAt);\n}\n\n/**\r\n * Obtains the user email that corresponds to a given URL\r\n * @param  {URL.URL} userURL The user URL\r\n * @return {string} userEmail The user email\r\n */\nfunction getUserEmailFromURL(userURL) {\n  var url = divideURL(userURL);\n  return url.identity.replace('/', '') + '@' + url.domain; // identity field has '/exampleID' instead of 'exampleID'\n}\n\n/**\r\n * Check if the user identifier is already in the URL format, if not, convert to URL format\r\n * @param  {string}   identifier  user identifier\r\n * @return {string}   userURL    the user URL\r\n */\nfunction convertToUserURL(identifier) {\n\n  // check if the identifier is already in the url format\n  if (identifier.substring(0, 7) === 'user://') {\n    var dividedURL = divideURL(identifier);\n\n    //check if the url is well formated\n    if (dividedURL.domain && dividedURL.identity) {\n      return identifier;\n    } else {\n      throw 'userURL with wrong format';\n    }\n\n    //if not, convert the user email to URL format\n  } else {\n    return getUserURLFromEmail(identifier);\n  }\n}\n\nfunction checkAttribute(path) {\n\n  var regex = /((([a-zA-Z]+):\\/\\/([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})\\/[a-zA-Z0-9\\.]+@[a-zA-Z0-9]+(\\-)?[a-zA-Z0-9]+(\\.)?[a-zA-Z0-9]{2,10}?\\.[a-zA-Z]{2,10})(.+(?=.identity))?/gm;\n\n  var list = [];\n  var final = [];\n  var test = path.match(regex);\n\n  if (test == null) {\n    final = path.split('.');\n  } else {\n    var m = void 0;\n    while ((m = regex.exec(path)) !== null) {\n      // This is necessary to avoid infinite loops with zero-width matches\n      if (m.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n\n      // The result can be accessed through the `m`-variable.\n      m.forEach(function (match, groupIndex) {\n        if (groupIndex === 0) {\n          list.push(match);\n        }\n      });\n    }\n    var result = void 0;\n    list.forEach(function (url) {\n      result = path.replace(url, '*+*');\n\n      final = result.split('.').map(function (item) {\n        if (item === '*+*') {\n          return url;\n        }\n        return item;\n      });\n    });\n  }\n\n  console.log('[ServiceFramework.Utils.checkAttribute]', final);\n  return final;\n}\n\nfunction parseAttributes(path) {\n  var regex = /([0-9a-zA-Z][-\\w]*):\\/\\//g;\n\n  var string3 = 'identity';\n\n  if (!path.includes('://')) {\n    return path.split('.');\n  } else {\n    var string1 = path.split(regex)[0];\n\n    var array1 = string1.split('.');\n\n    var string2 = path.replace(string1, '');\n\n    if (path.includes(string3)) {\n\n      var array2 = string2.split(string3 + '.');\n\n      console.log('array2 ' + array2);\n\n      string2 = array2[0].slice('.', -1);\n\n      array2 = array2[1].split('.');\n\n      array1.push(string2, string3);\n\n      array1 = array1.concat(array2);\n    } else {\n      array1.push(string2);\n    }\n\n    return array1.filter(Boolean);\n  }\n}\n/*\r\nexport function assign(obj, keyPath, value) {\r\n\r\n  if (!obj) obj = {};\r\n  if (typeof(keyPath) === 'string') keyPath = parseAttributes(keyPath);\r\n\r\n  let lastKeyIndex = keyPath.length - 1;\r\n\r\n  for (var i = 0; i < lastKeyIndex; ++i) {\r\n    let key = keyPath[i];\r\n    if (!(key in obj)) {\r\n      obj[key] = {};\r\n    }\r\n\r\n    obj = obj[key];\r\n\r\n  }\r\n\r\n  obj[keyPath[lastKeyIndex]] = value;\r\n}*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXRpbHMuanM/YTAwNSJdLCJuYW1lcyI6WyJkaXZpZGVVUkwiLCJkaXZpZGVFbWFpbCIsImVtcHR5T2JqZWN0IiwiZGVlcENsb25lIiwiZ2V0VXNlclVSTEZyb21FbWFpbCIsImdldFVzZXJFbWFpbEZyb21VUkwiLCJjb252ZXJ0VG9Vc2VyVVJMIiwiY2hlY2tBdHRyaWJ1dGUiLCJwYXJzZUF0dHJpYnV0ZXMiLCJ1cmwiLCJyZWN1cnNlIiwidmFsdWUiLCJyZWdleCIsInN1YnN0IiwicGFydHMiLCJyZXBsYWNlIiwic3BsaXQiLCJpbmNsdWRlcyIsInJlc3VsdCIsInR5cGUiLCJkb21haW4iLCJpZGVudGl0eSIsImNvbnNvbGUiLCJ3YXJuIiwic2NoZW1lIiwic3Vic3RyIiwiaW5kZXhPZiIsImVtYWlsIiwiaW5kZXhPZkF0IiwidXNlcm5hbWUiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJvYmplY3QiLCJvYmoiLCJKU09OIiwicGFyc2UiLCJ1c2VyRW1haWwiLCJ1c2VyVVJMIiwiaWRlbnRpZmllciIsImRpdmlkZWRVUkwiLCJwYXRoIiwibGlzdCIsImZpbmFsIiwidGVzdCIsIm1hdGNoIiwibSIsImV4ZWMiLCJpbmRleCIsImxhc3RJbmRleCIsImZvckVhY2giLCJncm91cEluZGV4IiwicHVzaCIsIm1hcCIsIml0ZW0iLCJsb2ciLCJzdHJpbmczIiwic3RyaW5nMSIsImFycmF5MSIsInN0cmluZzIiLCJhcnJheTIiLCJzbGljZSIsImNvbmNhdCIsImZpbHRlciIsIkJvb2xlYW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O1FBd0NnQkEsUyxHQUFBQSxTO1FBaURBQyxXLEdBQUFBLFc7UUFnQkFDLFcsR0FBQUEsVztRQVNBQyxTLEdBQUFBLFM7UUFVQUMsbUIsR0FBQUEsbUI7UUFVQUMsbUIsR0FBQUEsbUI7UUFXQUMsZ0IsR0FBQUEsZ0I7UUFtQkFDLGMsR0FBQUEsYztRQXlDQUMsZSxHQUFBQSxlOzs7O0FB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LEVBQXNCLEVBQXRCLENBQWQ7O0FBRUEsUUFBSWhCLEtBQUt2QixRQUFMLENBQWNzQyxPQUFkLENBQUosRUFBNEI7O0FBRTFCLFVBQUlJLFNBQVNELFFBQVExQyxLQUFSLENBQWN1QyxVQUFVLEdBQXhCLENBQWI7O0FBRUFqQyxjQUFRZ0MsR0FBUixDQUFZLFlBQVlLLE1BQXhCOztBQUVBRCxnQkFBVUMsT0FBTyxDQUFQLEVBQVVDLEtBQVYsQ0FBZ0IsR0FBaEIsRUFBcUIsQ0FBQyxDQUF0QixDQUFWOztBQUVBRCxlQUFTQSxPQUFPLENBQVAsRUFBVTNDLEtBQVYsQ0FBZ0IsR0FBaEIsQ0FBVDs7QUFFQXlDLGFBQU9OLElBQVAsQ0FBWU8sT0FBWixFQUFxQkgsT0FBckI7O0FBRUFFLGVBQVNBLE9BQU9JLE1BQVAsQ0FBY0YsTUFBZCxDQUFUO0FBRUQsS0FkRCxNQWNPO0FBQ0xGLGFBQU9OLElBQVAsQ0FBWU8sT0FBWjtBQUVEOztBQUVELFdBQVFELE9BQU9LLE1BQVAsQ0FBY0MsT0FBZCxDQUFSO0FBRUQ7QUFFRjtBQUNEIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG4vKipcclxuICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bFxyXG4gKiBAbW9kdWxlIHV0aWxzXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIGRpdmlkZVVSTFxyXG4gKiBAdHlwZSBPYmplY3RcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkxcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkxcclxuICovXHJcblxyXG4vKipcclxuICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5XHJcbiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzXHJcbiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVVUkwodXJsKSB7XHJcblxyXG4gIGZ1bmN0aW9uIHJlY3Vyc2UodmFsdWUpIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gLyhbYS16QS1aLV0qKSg6XFwvXFwvKD86XFwuKT98OikoWy1hLXpBLVowLTlAOiUuX1xcK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXFwrfiM9XFwvXSopL2dpO1xyXG4gICAgY29uc3Qgc3Vic3QgPSAnJDEsJDMsJDQnO1xyXG4gICAgbGV0IHBhcnRzID0gdmFsdWUucmVwbGFjZShyZWdleCwgc3Vic3QpLnNwbGl0KCcsJyk7XHJcbiAgICByZXR1cm4gcGFydHM7XHJcbiAgfVxyXG5cclxuICBsZXQgcGFydHMgPSByZWN1cnNlKHVybCk7XHJcblxyXG4gIC8vIElmIHRoZSB1cmwgaGFzIG5vIHNjaGVtZVxyXG4gIGlmIChwYXJ0c1swXSA9PT0gdXJsICYmICFwYXJ0c1swXS5pbmNsdWRlcygnQCcpKSB7XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IHtcclxuICAgICAgdHlwZTogJycsXHJcbiAgICAgIGRvbWFpbjogdXJsLFxyXG4gICAgICBpZGVudGl0eTogJydcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS53YXJuKCdbRGl2aWRlVVJMXSBEaXZpZGVVUkwgZG9uXFwndCBzdXBwb3J0IHVybCB3aXRob3V0IHNjaGVtZS4gUGxlYXNlIHJldmlldyB5b3VyIHVybCBhZGRyZXNzJywgdXJsKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgLy8gY2hlY2sgaWYgdGhlIHVybCBoYXMgdGhlIHNjaGVtZSBhbmQgaW5jbHVkZXMgYW4gQFxyXG4gIGlmIChwYXJ0c1swXSA9PT0gdXJsICYmIHBhcnRzWzBdLmluY2x1ZGVzKCdAJykpIHtcclxuICAgIGxldCBzY2hlbWUgPSBwYXJ0c1swXSA9PT0gdXJsID8gJ3NtdHAnIDogcGFydHNbMF07XHJcbiAgICBwYXJ0cyA9IHJlY3Vyc2Uoc2NoZW1lICsgJzovLycgKyBwYXJ0c1swXSk7XHJcbiAgfVxyXG5cclxuICAvLyBpZiB0aGUgZG9tYWluIGluY2x1ZGVzIGFuIEAsIGRpdmlkZSBpdCB0byBkb21haW4gYW5kIGlkZW50aXR5IHJlc3BlY3RpdmVseVxyXG4gIGlmIChwYXJ0c1sxXS5pbmNsdWRlcygnQCcpKSB7XHJcbiAgICBwYXJ0c1syXSA9IHBhcnRzWzBdICsgJzovLycgKyBwYXJ0c1sxXTtcclxuICAgIHBhcnRzWzFdID0gcGFydHNbMV0uc3Vic3RyKHBhcnRzWzFdLmluZGV4T2YoJ0AnKSArIDEpO1xyXG4gIH0gXHQvKmVsc2UgaWYgKHBhcnRzWzJdLmluY2x1ZGVzKCcvJykpIHtcclxuICAgICBwYXJ0c1syXSA9IHBhcnRzWzJdLnN1YnN0cihwYXJ0c1syXS5sYXN0SW5kZXhPZignLycpKzEpO1xyXG4gICB9Ki9cclxuXHJcbiAgbGV0IHJlc3VsdCA9IHtcclxuICAgIHR5cGU6IHBhcnRzWzBdLFxyXG4gICAgZG9tYWluOiBwYXJ0c1sxXSxcclxuICAgIGlkZW50aXR5OiBwYXJ0c1syXVxyXG4gIH07XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlRW1haWwoZW1haWwpIHtcclxuICBsZXQgaW5kZXhPZkF0ID0gZW1haWwuaW5kZXhPZignQCcpO1xyXG5cclxuICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgdXNlcm5hbWU6IGVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpLFxyXG4gICAgZG9tYWluOiBlbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgZW1haWwubGVuZ3RoKVxyXG4gIH07XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBPYmplY3QgaXMgZW1wdHlcclxuICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWRcclxuICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgc3RhdHVzIG9mIE9iamVjdCwgZW1wdHkgb3Igbm90ICh0cnVlfGZhbHNlKTtcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU9iamVjdChvYmplY3QpIHtcclxuICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5sZW5ndGggPiAwID8gZmFsc2UgOiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGFcclxuICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZFxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iaikge1xyXG4gIC8vVE9ETzogc2ltcGxlIGJ1dCBpbmVmZmljaWVudCBKU09OIGRlZXAgY2xvbmUuLi5cclxuICBpZiAob2JqKSByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGFpbnMgdGhlIHVzZXIgVVJMIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBlbWFpbFxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHVzZXJFbWFpbCBUaGUgdXNlciBlbWFpbFxyXG4gKiBAcmV0dXJuIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJVUkxGcm9tRW1haWwodXNlckVtYWlsKSB7XHJcbiAgbGV0IGluZGV4T2ZBdCA9IHVzZXJFbWFpbC5pbmRleE9mKCdAJyk7XHJcbiAgcmV0dXJuICd1c2VyOi8vJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgdXNlckVtYWlsLmxlbmd0aCkgKyAnLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRhaW5zIHRoZSB1c2VyIGVtYWlsIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBVUkxcclxuICogQHBhcmFtICB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkxcclxuICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRW1haWxGcm9tVVJMKHVzZXJVUkwpIHtcclxuICBsZXQgdXJsID0gZGl2aWRlVVJMKHVzZXJVUkwpO1xyXG4gIHJldHVybiB1cmwuaWRlbnRpdHkucmVwbGFjZSgnLycsICcnKSArICdAJyArIHVybC5kb21haW47IC8vIGlkZW50aXR5IGZpZWxkIGhhcyAnL2V4YW1wbGVJRCcgaW5zdGVhZCBvZiAnZXhhbXBsZUlEJ1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoZSB1c2VyIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgVVJMIGZvcm1hdCwgaWYgbm90LCBjb252ZXJ0IHRvIFVSTCBmb3JtYXRcclxuICogQHBhcmFtICB7c3RyaW5nfSAgIGlkZW50aWZpZXIgIHVzZXIgaWRlbnRpZmllclxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgdXNlclVSTCAgICB0aGUgdXNlciBVUkxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9Vc2VyVVJMKGlkZW50aWZpZXIpIHtcclxuXHJcbiAgLy8gY2hlY2sgaWYgdGhlIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgdXJsIGZvcm1hdFxyXG4gIGlmIChpZGVudGlmaWVyLnN1YnN0cmluZygwLCA3KSA9PT0gJ3VzZXI6Ly8nKSB7XHJcbiAgICBsZXQgZGl2aWRlZFVSTCA9IGRpdmlkZVVSTChpZGVudGlmaWVyKTtcclxuXHJcbiAgICAvL2NoZWNrIGlmIHRoZSB1cmwgaXMgd2VsbCBmb3JtYXRlZFxyXG4gICAgaWYgKGRpdmlkZWRVUkwuZG9tYWluICYmIGRpdmlkZWRVUkwuaWRlbnRpdHkpIHtcclxuICAgICAgcmV0dXJuIGlkZW50aWZpZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyAndXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCc7XHJcbiAgICB9XHJcblxyXG4gIC8vaWYgbm90LCBjb252ZXJ0IHRoZSB1c2VyIGVtYWlsIHRvIFVSTCBmb3JtYXRcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGdldFVzZXJVUkxGcm9tRW1haWwoaWRlbnRpZmllcik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tBdHRyaWJ1dGUocGF0aCkge1xyXG5cclxuICBsZXQgcmVnZXggPSAvKCgoW2EtekEtWl0rKTpcXC9cXC8oWzAtOWEtekEtWl1bLVxcd10qWzAtOWEtekEtWl1cXC4pK1thLXpBLVpdezIsOX0pXFwvW2EtekEtWjAtOVxcLl0rQFthLXpBLVowLTldKyhcXC0pP1thLXpBLVowLTldKyhcXC4pP1thLXpBLVowLTldezIsMTB9P1xcLlthLXpBLVpdezIsMTB9KSguKyg/PS5pZGVudGl0eSkpPy9nbTtcclxuXHJcbiAgbGV0IGxpc3QgPSBbXTtcclxuICBsZXQgZmluYWwgPSBbXTtcclxuICBsZXQgdGVzdCA9IHBhdGgubWF0Y2gocmVnZXgpO1xyXG5cclxuICBpZiAodGVzdCA9PSBudWxsKSB7XHJcbiAgICBmaW5hbCA9IHBhdGguc3BsaXQoJy4nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbGV0IG07XHJcbiAgICB3aGlsZSAoKG0gPSByZWdleC5leGVjKHBhdGgpKSAhPT0gbnVsbCkge1xyXG4gICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcyB3aXRoIHplcm8td2lkdGggbWF0Y2hlc1xyXG4gICAgICBpZiAobS5pbmRleCA9PT0gcmVnZXgubGFzdEluZGV4KSB7XHJcbiAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSByZXN1bHQgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhlIGBtYC12YXJpYWJsZS5cclxuICAgICAgbS5mb3JFYWNoKChtYXRjaCwgZ3JvdXBJbmRleCkgPT4ge1xyXG4gICAgICAgIGlmIChncm91cEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICBsaXN0LnB1c2gobWF0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgbGlzdC5mb3JFYWNoKCh1cmwpID0+IHtcclxuICAgICAgcmVzdWx0ID0gcGF0aC5yZXBsYWNlKHVybCwgJyorKicpO1xyXG5cclxuICAgICAgZmluYWwgPSByZXN1bHQuc3BsaXQoJy4nKS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICBpZiAoaXRlbSA9PT0gJyorKicpIHsgcmV0dXJuIHVybDsgfVxyXG4gICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKCdbU2VydmljZUZyYW1ld29yay5VdGlscy5jaGVja0F0dHJpYnV0ZV0nLCBmaW5hbCk7XHJcbiAgcmV0dXJuIGZpbmFsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKHBhdGgpIHtcclxuICBsZXQgcmVnZXggPSAvKFswLTlhLXpBLVpdWy1cXHddKik6XFwvXFwvL2c7XHJcblxyXG4gIGxldCBzdHJpbmczID0gJ2lkZW50aXR5JztcclxuXHJcbiAgaWYgKCFwYXRoLmluY2x1ZGVzKCc6Ly8nKSkge1xyXG4gICAgcmV0dXJuIChwYXRoLnNwbGl0KCcuJykpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQgc3RyaW5nMSA9IHBhdGguc3BsaXQocmVnZXgpWzBdO1xyXG5cclxuICAgIGxldCBhcnJheTEgPSBzdHJpbmcxLnNwbGl0KCcuJyk7XHJcblxyXG4gICAgbGV0IHN0cmluZzIgPSBwYXRoLnJlcGxhY2Uoc3RyaW5nMSwgJycpO1xyXG5cclxuICAgIGlmIChwYXRoLmluY2x1ZGVzKHN0cmluZzMpKSB7XHJcblxyXG4gICAgICBsZXQgYXJyYXkyID0gc3RyaW5nMi5zcGxpdChzdHJpbmczICsgJy4nKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdhcnJheTIgJyArIGFycmF5Mik7XHJcblxyXG4gICAgICBzdHJpbmcyID0gYXJyYXkyWzBdLnNsaWNlKCcuJywgLTEpO1xyXG5cclxuICAgICAgYXJyYXkyID0gYXJyYXkyWzFdLnNwbGl0KCcuJyk7XHJcblxyXG4gICAgICBhcnJheTEucHVzaChzdHJpbmcyLCBzdHJpbmczKTtcclxuXHJcbiAgICAgIGFycmF5MSA9IGFycmF5MS5jb25jYXQoYXJyYXkyKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcnJheTEucHVzaChzdHJpbmcyKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChhcnJheTEuZmlsdGVyKEJvb2xlYW4pKTtcclxuXHJcbiAgfVxyXG5cclxufVxyXG4vKlxyXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKG9iaiwga2V5UGF0aCwgdmFsdWUpIHtcclxuXHJcbiAgaWYgKCFvYmopIG9iaiA9IHt9O1xyXG4gIGlmICh0eXBlb2Yoa2V5UGF0aCkgPT09ICdzdHJpbmcnKSBrZXlQYXRoID0gcGFyc2VBdHRyaWJ1dGVzKGtleVBhdGgpO1xyXG5cclxuICBsZXQgbGFzdEtleUluZGV4ID0ga2V5UGF0aC5sZW5ndGggLSAxO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RLZXlJbmRleDsgKytpKSB7XHJcbiAgICBsZXQga2V5ID0ga2V5UGF0aFtpXTtcclxuICAgIGlmICghKGtleSBpbiBvYmopKSB7XHJcbiAgICAgIG9ialtrZXldID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgb2JqID0gb2JqW2tleV07XHJcblxyXG4gIH1cclxuXHJcbiAgb2JqW2tleVBhdGhbbGFzdEtleUluZGV4XV0gPSB2YWx1ZTtcclxufSovXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy91dGlscy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(45);\nvar enumBugKeys = __webpack_require__(37);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzPzk2NGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n")},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcz80N2QzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    "use strict";\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module === \'object\' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    "use strict";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = "undefined";\n\n    var logMethods = [\n        "trace",\n        "debug",\n        "info",\n        "warn",\n        "error"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === \'function\') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === \'debug\') {\n            methodName = \'log\';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, \'log\');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn\'t present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = "loglevel";\n      if (name) {\n        storageKey += ":" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || \'silent\').toUpperCase();\n\n          if (typeof window === undefinedType) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + "=" + levelName + ";";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + "=");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { "TRACE": 0, "DEBUG": 1, "INFO": 2, "WARN": 3,\n          "ERROR": 4, "SILENT": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === "string" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === "number" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return "No console available for logging";\n              }\n          } else {\n              throw "log.setLevel() called with invalid level: " + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? "WARN" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== "string" || name === "") {\n          throw new TypeError("You must supply a name when creating a logger.");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    return defaultLogger;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzPzA2ZmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiogbG9nbGV2ZWwgLSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWxcbipcbiogQ29weXJpZ2h0IChjKSAyMDEzIFRpbSBQZXJyeVxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4qL1xuKGZ1bmN0aW9uIChyb290LCBkZWZpbml0aW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmxvZyA9IGRlZmluaXRpb24oKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIFNsaWdodGx5IGR1YmlvdXMgdHJpY2tzIHRvIGN1dCBkb3duIG1pbmltaXplZCBmaWxlIHNpemVcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG4gICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBcInVuZGVmaW5lZFwiO1xuXG4gICAgdmFyIGxvZ01ldGhvZHMgPSBbXG4gICAgICAgIFwidHJhY2VcIixcbiAgICAgICAgXCJkZWJ1Z1wiLFxuICAgICAgICBcImluZm9cIixcbiAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgIFwiZXJyb3JcIlxuICAgIF07XG5cbiAgICAvLyBDcm9zcy1icm93c2VyIGJpbmQgZXF1aXZhbGVudCB0aGF0IHdvcmtzIGF0IGxlYXN0IGJhY2sgdG8gSUU2XG4gICAgZnVuY3Rpb24gYmluZE1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IG9ialttZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKG1ldGhvZCwgb2JqKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KG1ldGhvZCwgW29iaiwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJ1aWxkIHRoZSBiZXN0IGxvZ2dpbmcgbWV0aG9kIHBvc3NpYmxlIGZvciB0aGlzIGVudlxuICAgIC8vIFdoZXJldmVyIHBvc3NpYmxlIHdlIHdhbnQgdG8gYmluZCwgbm90IHdyYXAsIHRvIHByZXNlcnZlIHN0YWNrIHRyYWNlc1xuICAgIGZ1bmN0aW9uIHJlYWxNZXRob2QobWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAobWV0aG9kTmFtZSA9PT0gJ2RlYnVnJykge1xuICAgICAgICAgICAgbWV0aG9kTmFtZSA9ICdsb2cnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG1ldGhvZCBwb3NzaWJsZSwgZm9yIG5vdyAtIGZpeGVkIGxhdGVyIGJ5IGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXNcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlW21ldGhvZE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBiaW5kTWV0aG9kKGNvbnNvbGUsIG1ldGhvZE5hbWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGUubG9nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBiaW5kTWV0aG9kKGNvbnNvbGUsICdsb2cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhlc2UgcHJpdmF0ZSBmdW5jdGlvbnMgYWx3YXlzIG5lZWQgYHRoaXNgIHRvIGJlIHNldCBwcm9wZXJseVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKGxldmVsLCBsb2dnZXJOYW1lKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9nTWV0aG9kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBsb2dNZXRob2RzW2ldO1xuICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXSA9IChpIDwgbGV2ZWwpID9cbiAgICAgICAgICAgICAgICBub29wIDpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZEZhY3RvcnkobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmaW5lIGxvZy5sb2cgYXMgYW4gYWxpYXMgZm9yIGxvZy5kZWJ1Z1xuICAgICAgICB0aGlzLmxvZyA9IHRoaXMuZGVidWc7XG4gICAgfVxuXG4gICAgLy8gSW4gb2xkIElFIHZlcnNpb25zLCB0aGUgY29uc29sZSBpc24ndCBwcmVzZW50IHVudGlsIHlvdSBmaXJzdCBvcGVuIGl0LlxuICAgIC8vIFdlIGJ1aWxkIHJlYWxNZXRob2QoKSByZXBsYWNlbWVudHMgaGVyZSB0aGF0IHJlZ2VuZXJhdGUgbG9nZ2luZyBtZXRob2RzXG4gICAgZnVuY3Rpb24gZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcyhtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwodGhpcywgbGV2ZWwsIGxvZ2dlck5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0LCB3ZSB1c2UgY2xvc2VseSBib3VuZCByZWFsIG1ldGhvZHMgd2hlcmV2ZXIgcG9zc2libGUsIGFuZFxuICAgIC8vIG90aGVyd2lzZSB3ZSB3YWl0IGZvciBhIGNvbnNvbGUgdG8gYXBwZWFyLCBhbmQgdGhlbiB0cnkgYWdhaW4uXG4gICAgZnVuY3Rpb24gZGVmYXVsdE1ldGhvZEZhY3RvcnkobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgcmV0dXJuIHJlYWxNZXRob2QobWV0aG9kTmFtZSkgfHxcbiAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSwgZGVmYXVsdExldmVsLCBmYWN0b3J5KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgY3VycmVudExldmVsO1xuICAgICAgdmFyIHN0b3JhZ2VLZXkgPSBcImxvZ2xldmVsXCI7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBzdG9yYWdlS2V5ICs9IFwiOlwiICsgbmFtZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGVyc2lzdExldmVsSWZQb3NzaWJsZShsZXZlbE51bSkge1xuICAgICAgICAgIHZhciBsZXZlbE5hbWUgPSAobG9nTWV0aG9kc1tsZXZlbE51bV0gfHwgJ3NpbGVudCcpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gdW5kZWZpbmVkVHlwZSkgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gVXNlIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGVcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldID0gbGV2ZWxOYW1lO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gVXNlIHNlc3Npb24gY29va2llIGFzIGZhbGxiYWNrXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9XG4gICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VLZXkpICsgXCI9XCIgKyBsZXZlbE5hbWUgKyBcIjtcIjtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBlcnNpc3RlZExldmVsKCkge1xuICAgICAgICAgIHZhciBzdG9yZWRMZXZlbDtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSB1bmRlZmluZWRUeXBlKSByZXR1cm47XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleV07XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29va2llcyBpZiBsb2NhbCBzdG9yYWdlIGdpdmVzIHVzIG5vdGhpbmdcbiAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZExldmVsID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB2YXIgY29va2llID0gd2luZG93LmRvY3VtZW50LmNvb2tpZTtcbiAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNvb2tpZS5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IC9eKFteO10rKS8uZXhlYyhjb29raWUuc2xpY2UobG9jYXRpb24pKVsxXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBzdG9yZWQgbGV2ZWwgaXMgbm90IHZhbGlkLCB0cmVhdCBpdCBhcyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG4gICAgICAgICAgaWYgKHNlbGYubGV2ZWxzW3N0b3JlZExldmVsXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHN0b3JlZExldmVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdG9yZWRMZXZlbDtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqXG4gICAgICAgKiBQdWJsaWMgbG9nZ2VyIEFQSSAtIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWwgZm9yIGRldGFpbHNcbiAgICAgICAqXG4gICAgICAgKi9cblxuICAgICAgc2VsZi5uYW1lID0gbmFtZTtcblxuICAgICAgc2VsZi5sZXZlbHMgPSB7IFwiVFJBQ0VcIjogMCwgXCJERUJVR1wiOiAxLCBcIklORk9cIjogMiwgXCJXQVJOXCI6IDMsXG4gICAgICAgICAgXCJFUlJPUlwiOiA0LCBcIlNJTEVOVFwiOiA1fTtcblxuICAgICAgc2VsZi5tZXRob2RGYWN0b3J5ID0gZmFjdG9yeSB8fCBkZWZhdWx0TWV0aG9kRmFjdG9yeTtcblxuICAgICAgc2VsZi5nZXRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY3VycmVudExldmVsO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5zZXRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCwgcGVyc2lzdCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09IFwic3RyaW5nXCIgJiYgc2VsZi5sZXZlbHNbbGV2ZWwudG9VcHBlckNhc2UoKV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBsZXZlbCA9IHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcIm51bWJlclwiICYmIGxldmVsID49IDAgJiYgbGV2ZWwgPD0gc2VsZi5sZXZlbHMuU0lMRU5UKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IGxldmVsO1xuICAgICAgICAgICAgICBpZiAocGVyc2lzdCAhPT0gZmFsc2UpIHsgIC8vIGRlZmF1bHRzIHRvIHRydWVcbiAgICAgICAgICAgICAgICAgIHBlcnNpc3RMZXZlbElmUG9zc2libGUobGV2ZWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHNlbGYsIGxldmVsLCBuYW1lKTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlICYmIGxldmVsIDwgc2VsZi5sZXZlbHMuU0lMRU5UKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgXCJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiBcIiArIGxldmVsO1xuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlbGYuc2V0RGVmYXVsdExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgICAgaWYgKCFnZXRQZXJzaXN0ZWRMZXZlbCgpKSB7XG4gICAgICAgICAgICAgIHNlbGYuc2V0TGV2ZWwobGV2ZWwsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmVuYWJsZUFsbCA9IGZ1bmN0aW9uKHBlcnNpc3QpIHtcbiAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlRSQUNFLCBwZXJzaXN0KTtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZGlzYWJsZUFsbCA9IGZ1bmN0aW9uKHBlcnNpc3QpIHtcbiAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlNJTEVOVCwgcGVyc2lzdCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbml0aWFsaXplIHdpdGggdGhlIHJpZ2h0IGxldmVsXG4gICAgICB2YXIgaW5pdGlhbExldmVsID0gZ2V0UGVyc2lzdGVkTGV2ZWwoKTtcbiAgICAgIGlmIChpbml0aWFsTGV2ZWwgPT0gbnVsbCkge1xuICAgICAgICAgIGluaXRpYWxMZXZlbCA9IGRlZmF1bHRMZXZlbCA9PSBudWxsID8gXCJXQVJOXCIgOiBkZWZhdWx0TGV2ZWw7XG4gICAgICB9XG4gICAgICBzZWxmLnNldExldmVsKGluaXRpYWxMZXZlbCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICpcbiAgICAgKiBUb3AtbGV2ZWwgQVBJXG4gICAgICpcbiAgICAgKi9cblxuICAgIHZhciBkZWZhdWx0TG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG4gICAgdmFyIF9sb2dnZXJzQnlOYW1lID0ge307XG4gICAgZGVmYXVsdExvZ2dlci5nZXRMb2dnZXIgPSBmdW5jdGlvbiBnZXRMb2dnZXIobmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIgfHwgbmFtZSA9PT0gXCJcIikge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBzdXBwbHkgYSBuYW1lIHdoZW4gY3JlYXRpbmcgYSBsb2dnZXIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdO1xuICAgICAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgICAgIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdID0gbmV3IExvZ2dlcihcbiAgICAgICAgICAgIG5hbWUsIGRlZmF1bHRMb2dnZXIuZ2V0TGV2ZWwoKSwgZGVmYXVsdExvZ2dlci5tZXRob2RGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nZ2VyO1xuICAgIH07XG5cbiAgICAvLyBHcmFiIHRoZSBjdXJyZW50IGdsb2JhbCBsb2cgdmFyaWFibGUgaW4gY2FzZSBvZiBvdmVyd3JpdGVcbiAgICB2YXIgX2xvZyA9ICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlKSA/IHdpbmRvdy5sb2cgOiB1bmRlZmluZWQ7XG4gICAgZGVmYXVsdExvZ2dlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlICYmXG4gICAgICAgICAgICAgICB3aW5kb3cubG9nID09PSBkZWZhdWx0TG9nZ2VyKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9nID0gX2xvZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xuICAgIH07XG5cbiAgICBkZWZhdWx0TG9nZ2VyLmdldExvZ2dlcnMgPSBmdW5jdGlvbiBnZXRMb2dnZXJzKCkge1xuICAgICAgICByZXR1cm4gX2xvZ2dlcnNCeU5hbWU7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n')},function(module,exports){eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcz9kYzRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n")},function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanM/OTRlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(91), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzPzY3MWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n')},function(module,exports,__webpack_require__){eval("var def = __webpack_require__(8).f;\nvar has = __webpack_require__(10);\nvar TAG = __webpack_require__(2)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzPzdiYTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLGlDQUFpQztBQUNyRyIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n")},function(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(7);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcz8zMjYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///27\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(7);\nvar document = __webpack_require__(1).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanM/MzhkZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n")},function(module,exports){eval("exports.f = {}.propertyIsEnumerable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanM/MzY5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n")},function(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanM/ZTc2OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n')},function(module,exports){eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanM/NTJlMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n")},function(module,exports,__webpack_require__){eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(30);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcz9iMDFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(47);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n  }\n\n  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanM/Y2YwYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(93);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(97);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(47);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzPzNkZmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///34\n')},function(module,exports,__webpack_require__){eval("var shared = __webpack_require__(36)('keys');\nvar uid = __webpack_require__(23);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanM/NmIxZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(0);\nvar global = __webpack_require__(1);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(15) ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcz83YmMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDs7QUFFbEQ7QUFDQSxxRUFBcUU7QUFDckUsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246IGNvcmUudmVyc2lvbixcbiAgbW9kZTogcmVxdWlyZSgnLi9fbGlicmFyeScpID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTggRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36\n")},function(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanM/YzY3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///37\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(9);\nvar dPs = __webpack_require__(72);\nvar enumBugKeys = __webpack_require__(37);\nvar IE_PROTO = __webpack_require__(35)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(28)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(56).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanM/NjI4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSIsImZpbGUiOiIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){eval("module.exports = !__webpack_require__(4) && !__webpack_require__(13)(function () {\n  return Object.defineProperty(__webpack_require__(28)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzPzQ5ZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxxRUFBc0UsbUJBQW1CLFVBQVUsRUFBRSxFQUFFO0FBQ3ZHLENBQUMiLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39\n")},function(module,exports,__webpack_require__){eval("exports.f = __webpack_require__(2);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanM/MmExZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar LIBRARY = __webpack_require__(15);\nvar wksExt = __webpack_require__(40);\nvar defineProperty = __webpack_require__(8).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanM/NzJiOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsc0JBQXNCO0FBQ2hGLGtGQUFrRix3QkFBd0I7QUFDMUciLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///41\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(89), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzPzdkOTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjQyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNSA2IDcgOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n')},function(module,exports){eval("exports.f = Object.getOwnPropertySymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzP2Q2NDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///43\n")},function(module,exports,__webpack_require__){eval("// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(6);\nvar core = __webpack_require__(0);\nvar fails = __webpack_require__(13);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanM/YmFhNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxxREFBcUQsT0FBTyxFQUFFO0FBQzlEIiwiZmlsZSI6IjQ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZLCBleGVjKSB7XG4gIHZhciBmbiA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXTtcbiAgdmFyIGV4cCA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uICgpIHsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1xuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///44\n")},function(module,exports,__webpack_require__){eval("var has = __webpack_require__(10);\nvar toIObject = __webpack_require__(12);\nvar arrayIndexOf = __webpack_require__(64)(false);\nvar IE_PROTO = __webpack_require__(35)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzPzIxYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQ1LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbi8vIG1vZHVsZSBpZCA9IDQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45\n")},function(module,exports,__webpack_require__){eval("var pIE = __webpack_require__(29);\nvar createDesc = __webpack_require__(16);\nvar toIObject = __webpack_require__(12);\nvar toPrimitive = __webpack_require__(27);\nvar has = __webpack_require__(10);\nvar IE8_DOM_DEFINE = __webpack_require__(39);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(4) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzPzJjYTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWTtBQUNmO0FBQ0EiLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(79);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(81);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {\n  return typeof obj === "undefined" ? "undefined" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcz9hNDU2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLGlIQUFpSCxtQkFBbUIsRUFBRSxtQkFBbUIsNEpBQTRKOztBQUVyVCxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBIiwiZmlsZSI6IjQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qc1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(15);\nvar $export = __webpack_require__(6);\nvar redefine = __webpack_require__(50);\nvar hide = __webpack_require__(11);\nvar Iterators = __webpack_require__(17);\nvar $iterCreate = __webpack_require__(71);\nvar setToStringTag = __webpack_require__(26);\nvar getPrototypeOf = __webpack_require__(53);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzP2JjODAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixhQUFhOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9DQUFvQztBQUM3RSw2Q0FBNkMsb0NBQW9DO0FBQ2pGLEtBQUssNEJBQTRCLG9DQUFvQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0Esa0NBQWtDLDJCQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48\n")},function(module,exports,__webpack_require__){eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(31);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcz80MTExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEIiwiZmlsZSI6IjQ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(11);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzP2YzY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = __webpack_require__(24);\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX25ldy1wcm9taXNlLWNhcGFiaWxpdHkuanM/YTgwNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyAyNS40LjEuNSBOZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcblxuZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbmV3LXByb21pc2UtY2FwYWJpbGl0eS5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///51\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $at = __webpack_require__(70)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(48)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcz9jZDA0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixjQUFjO0FBQ2Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsQ0FBQyIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(10);\nvar toObject = __webpack_require__(32);\nvar IE_PROTO = __webpack_require__(35)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanM/M2YzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoTykge1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmIChoYXMoTywgSUVfUFJPVE8pKSByZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///53\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(73);\nvar global = __webpack_require__(1);\nvar hide = __webpack_require__(11);\nvar Iterators = __webpack_require__(17);\nvar TO_STRING_TAG = __webpack_require__(2)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcz9mYWQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHlCQUF5QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///54\n")},function(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(21);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanM/MzE0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///55\n")},function(module,exports,__webpack_require__){eval("var document = __webpack_require__(1).document;\nmodule.exports = document && document.documentElement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanM/NDRmMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwiZmlsZSI6IjU2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4vLyBtb2R1bGUgaWQgPSA1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///56\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(45);\nvar hiddenKeys = __webpack_require__(37).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzPzlmNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///57\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(76), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzPzlhZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDEwIDEyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58\n')},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(61), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanM/MGI4MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///59\n')},function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///60\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(62);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanM/ZjViMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTIgMTMgMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///61\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(4), 'Object', { defineProperty: __webpack_require__(8).f });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanM/OTgyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0Esb0VBQXVFLDJDQUE0QyIsImZpbGUiOiI2Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYgfSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDEyIDEzIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///62\n")},function(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(21);\nvar TAG = __webpack_require__(2)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanM/NDU4ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrQkFBa0IsRUFBRTs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFlBQVk7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI2My5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIEFSRyA9IGNvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4vLyBtb2R1bGUgaWQgPSA2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63\n")},function(module,exports,__webpack_require__){eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(12);\nvar toLength = __webpack_require__(49);\nvar toAbsoluteIndex = __webpack_require__(65);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzP2JjNTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxZQUFZLGVBQWU7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsImZpbGUiOiI2NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(31);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzPzdlNDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///65\n")},function(module,exports,__webpack_require__){eval("// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(9);\nvar aFunction = __webpack_require__(24);\nvar SPECIES = __webpack_require__(2)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NwZWNpZXMtY29uc3RydWN0b3IuanM/YjdjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBTUEVDSUVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIEQpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66\n")},function(module,exports,__webpack_require__){eval("var ctx = __webpack_require__(14);\nvar invoke = __webpack_require__(108);\nvar html = __webpack_require__(56);\nvar cel = __webpack_require__(28);\nvar global = __webpack_require__(1);\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(21)(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanM/MmY4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjY3LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGludm9rZSA9IHJlcXVpcmUoJy4vX2ludm9rZScpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuL19odG1sJyk7XG52YXIgY2VsID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBzZXRUYXNrID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbnZhciBjbGVhclRhc2sgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGU7XG52YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG52YXIgRGlzcGF0Y2ggPSBnbG9iYWwuRGlzcGF0Y2g7XG52YXIgY291bnRlciA9IDA7XG52YXIgcXVldWUgPSB7fTtcbnZhciBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbnZhciBkZWZlciwgY2hhbm5lbCwgcG9ydDtcbnZhciBydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpZCA9ICt0aGlzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gIGlmIChxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICBmbigpO1xuICB9XG59O1xudmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmICghc2V0VGFzayB8fCAhY2xlYXJUYXNrKSB7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIHZhciBpID0gMTtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmIChyZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2VzcycpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIFNwaGVyZSAoSlMgZ2FtZSBlbmdpbmUpIERpc3BhdGNoIEFQSVxuICB9IGVsc2UgaWYgKERpc3BhdGNoICYmIERpc3BhdGNoLm5vdykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBEaXNwYXRjaC5ub3coY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0ZW5lcjtcbiAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0JykpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcbiAgICB9O1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanNcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///67\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3BlcmZvcm0uanM/NzRkMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLEdBQUc7QUFDSCxZQUFZO0FBQ1o7QUFDQSIsImZpbGUiOiI2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlOiBmYWxzZSwgdjogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyBlOiB0cnVlLCB2OiBlIH07XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcGVyZm9ybS5qc1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///68\n")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(7);\nvar newPromiseCapability = __webpack_require__(51);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb21pc2UtcmVzb2x2ZS5qcz83Yzk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjY5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IHJlcXVpcmUoJy4vX25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQywgeCkge1xuICBhbk9iamVjdChDKTtcbiAgaWYgKGlzT2JqZWN0KHgpICYmIHguY29uc3RydWN0b3IgPT09IEMpIHJldHVybiB4O1xuICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eS5mKEMpO1xuICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG4gIHJlc29sdmUoeCk7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9taXNlLXJlc29sdmUuanNcbi8vIG1vZHVsZSBpZCA9IDY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///69\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(31);\nvar defined = __webpack_require__(30);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcz84N2FlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuLy8gbW9kdWxlIGlkID0gNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///70\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar create = __webpack_require__(38);\nvar descriptor = __webpack_require__(16);\nvar setToStringTag = __webpack_require__(26);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(11)(IteratorPrototype, __webpack_require__(2)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzP2Y3ODUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUFrRixhQUFhLEVBQUU7O0FBRWpHO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBIiwiZmlsZSI6IjcxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBkZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///71\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(8);\nvar anObject = __webpack_require__(9);\nvar getKeys = __webpack_require__(20);\n\nmodule.exports = __webpack_require__(4) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanM/YWEyYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjcyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///72\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(74);\nvar step = __webpack_require__(75);\nvar Iterators = __webpack_require__(17);\nvar toIObject = __webpack_require__(12);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(48)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzP2M0NjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGNBQWM7QUFDZCxpQkFBaUI7QUFDakI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6IjczLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///73\n")},function(module,exports){eval("module.exports = function () { /* empty */ };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcz9lMjY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QiIsImZpbGUiOiI3NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuLy8gbW9kdWxlIGlkID0gNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74\n")},function(module,exports){eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcz8xMDY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsVUFBVTtBQUNWIiwiZmlsZSI6Ijc1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///75\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(0);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzP2FhNDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSx1Q0FBdUMsNEJBQTRCO0FBQ25FLHlDQUF5QztBQUN6QztBQUNBIiwiZmlsZSI6Ijc2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJyk7XG52YXIgJEpTT04gPSBjb3JlLkpTT04gfHwgKGNvcmUuSlNPTiA9IHsgc3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeSB9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggMTAgMTIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///76\n")},function(module,exports,__webpack_require__){eval("var META = __webpack_require__(23)('meta');\nvar isObject = __webpack_require__(7);\nvar has = __webpack_require__(10);\nvar setDesc = __webpack_require__(8).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(13)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanM/ZDNhMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsQ0FBQztBQUNEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsU0FBUztBQUNULEdBQUcsRUFBRTtBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzXG4vLyBtb2R1bGUgaWQgPSA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///77\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(119), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanM/YzI4MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiNzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzXG4vLyBtb2R1bGUgaWQgPSA3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgOSAxMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///78\n')},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(80), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qcz82NzM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQiIsImZpbGUiOiI3OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///79\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(52);\n__webpack_require__(54);\nmodule.exports = __webpack_require__(40).f('iterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcz9mZTdlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSIsImZpbGUiOiI4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gODBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///80\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(82), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcz9lNTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQiIsImZpbGUiOiI4MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(83);\n__webpack_require__(60);\n__webpack_require__(87);\n__webpack_require__(88);\nmodule.exports = __webpack_require__(0).Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcz8wNzA3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiODIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///82\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(1);\nvar has = __webpack_require__(10);\nvar DESCRIPTORS = __webpack_require__(4);\nvar $export = __webpack_require__(6);\nvar redefine = __webpack_require__(50);\nvar META = __webpack_require__(77).KEY;\nvar $fails = __webpack_require__(13);\nvar shared = __webpack_require__(36);\nvar setToStringTag = __webpack_require__(26);\nvar uid = __webpack_require__(23);\nvar wks = __webpack_require__(2);\nvar wksExt = __webpack_require__(40);\nvar wksDefine = __webpack_require__(41);\nvar enumKeys = __webpack_require__(84);\nvar isArray = __webpack_require__(85);\nvar anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(7);\nvar toIObject = __webpack_require__(12);\nvar toPrimitive = __webpack_require__(27);\nvar createDesc = __webpack_require__(16);\nvar _create = __webpack_require__(38);\nvar gOPNExt = __webpack_require__(86);\nvar $GOPD = __webpack_require__(46);\nvar $DP = __webpack_require__(8);\nvar $keys = __webpack_require__(20);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(57).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(29).f = $propertyIsEnumerable;\n  __webpack_require__(43).f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(15)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(11)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcz83ZDY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsc0JBQXNCLHVCQUF1QixXQUFXLElBQUk7QUFDNUQsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsbUNBQW1DO0FBQ3pELEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnQ0FBZ0M7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBEQUEwRCxrQkFBa0I7O0FBRTVFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7O0FBRTNDLG9EQUFvRCw2QkFBNkI7O0FBRWpGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEIsZUFBZSxFQUFFO0FBQzNDLDBCQUEwQixnQkFBZ0I7QUFDMUMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU8sUUFBUSxpQ0FBaUM7QUFDcEcsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4My5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBnT1BORXh0ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0Jyk7XG52YXIgJEdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRQKHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChpdCwga2V5LCBEKSB7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmIChwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKSBkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpIHtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90bykgJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzKGl0LCBISURERU4pKSBkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkgaXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7IGVudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYgKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkgRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICB2YXIgbmFtZXMgPSBnT1BOKHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5JykpIHtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFN5bWJvbDogJFN5bWJvbCB9KTtcblxuZm9yICh2YXIgZXM2U3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBqID0gMDsgZXM2U3ltYm9scy5sZW5ndGggPiBqOyl3a3MoZXM2U3ltYm9sc1tqKytdKTtcblxuZm9yICh2YXIgd2VsbEtub3duU3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSB3a3NEZWZpbmUod2VsbEtub3duU3ltYm9sc1trKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gU3ltYm9sUmVnaXN0cnkpIGlmIChTeW1ib2xSZWdpc3RyeVtrZXldID09PSBzeW0pIHJldHVybiBrZXk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7IGE6IFMgfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7XG4gICAgdmFyIGFyZ3MgPSBbaXRdO1xuICAgIHZhciBpID0gMTtcbiAgICB2YXIgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgJHJlcGxhY2VyID0gcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmICghaXNPYmplY3QocmVwbGFjZXIpICYmIGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mICRyZXBsYWNlciA9PSAnZnVuY3Rpb24nKSB2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzXG4vLyBtb2R1bGUgaWQgPSA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83\n")},function(module,exports,__webpack_require__){eval("// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(20);\nvar gOPS = __webpack_require__(43);\nvar pIE = __webpack_require__(29);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcz81ZGNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwiZmlsZSI6Ijg0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0S2V5cyhpdCk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZiAoZ2V0U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdCk7XG4gICAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///84\n")},function(module,exports,__webpack_require__){eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(21);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzP2VkNDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85\n")},function(module,exports,__webpack_require__){eval("// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(12);\nvar gOPN = __webpack_require__(57).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcz80NmI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiI4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgZ09QTiA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZjtcbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1xuLy8gbW9kdWxlIGlkID0gODZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///86\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(41)('asyncIterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcz8zOTg5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijg3LmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///87\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(41)('observable');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzPzQxNjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiODguanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///88\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(90);\nmodule.exports = __webpack_require__(0).Object.keys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzPzhjNTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsImZpbGUiOiI4OS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5cztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDUgNiA3IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///89\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(32);\nvar $keys = __webpack_require__(20);\n\n__webpack_require__(44)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzPzA5ZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiI5MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KSB7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDUgNiA3IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(92);\nmodule.exports = __webpack_require__(0).Object.getPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzPzdkMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsImZpbGUiOiI5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///91\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(32);\nvar $getPrototypeOf = __webpack_require__(53);\n\n__webpack_require__(44)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzPzJhMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiI5Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///92\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(94), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzPzkyMjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjkzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///93\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(95);\nmodule.exports = __webpack_require__(0).Object.setPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzPzhiZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsImZpbGUiOiI5NC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///94\n")},function(module,exports,__webpack_require__){eval("// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(6);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(96).set });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzPzdiMTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBOEMiLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0IH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///95\n")},function(module,exports,__webpack_require__){eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(7);\nvar anObject = __webpack_require__(9);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(14)(Function.call, __webpack_require__(46).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcz82NWE0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxZQUFZLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQSIsImZpbGUiOiI5Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbiAoTywgcHJvdG8pIHtcbiAgYW5PYmplY3QoTyk7XG4gIGlmICghaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKSB0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiAodGVzdCwgYnVnZ3ksIHNldCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZiAoYnVnZ3kpIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcbi8vIG1vZHVsZSBpZCA9IDk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///96\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(98), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanM/M2FmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiOTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///97\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(99);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanM/YTBjZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ijk4LmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(38) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanM/YjA1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFzQyIsImZpbGUiOiI5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKSB9KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///99\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = __webpack_require__(25);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = __webpack_require__(125);\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if ("value" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldC5qcz9jODRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgZGVzYyA9ICgwLCBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMi5kZWZhdWx0KShvYmplY3QsIHByb3BlcnR5KTtcblxuICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHBhcmVudCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKG9iamVjdCk7XG5cbiAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XG5cbiAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzXG4vLyBtb2R1bGUgaWQgPSAxMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///100\n')},function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(63);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar Iterators = __webpack_require__(17);\nmodule.exports = __webpack_require__(0).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzP2RkZmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qc1xuLy8gbW9kdWxlIGlkID0gMTAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///101\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(60);\n__webpack_require__(52);\n__webpack_require__(54);\n__webpack_require__(103);\n__webpack_require__(114);\n__webpack_require__(115);\nmodule.exports = __webpack_require__(0).Promise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanM/NTM5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcucHJvbWlzZS5maW5hbGx5Jyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNy5wcm9taXNlLnRyeScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///102\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(15);\nvar global = __webpack_require__(1);\nvar ctx = __webpack_require__(14);\nvar classof = __webpack_require__(63);\nvar $export = __webpack_require__(6);\nvar isObject = __webpack_require__(7);\nvar aFunction = __webpack_require__(24);\nvar anInstance = __webpack_require__(104);\nvar forOf = __webpack_require__(105);\nvar speciesConstructor = __webpack_require__(66);\nvar task = __webpack_require__(67).set;\nvar microtask = __webpack_require__(109)();\nvar newPromiseCapabilityModule = __webpack_require__(51);\nvar perform = __webpack_require__(68);\nvar userAgent = __webpack_require__(110);\nvar promiseResolve = __webpack_require__(69);\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[__webpack_require__(2)('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(111)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(26)($Promise, PROMISE);\n__webpack_require__(112)(PROMISE);\nWrapper = __webpack_require__(0)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(113)(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanM/MDk3YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWTtBQUNmLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUJBQW1CLGtDQUFrQztBQUNyRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlLHVDQUF1QztBQUN0RDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBCQUEwQjtBQUNqRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtCQUFrQix5QkFBeUIsS0FBSztBQUNoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHdCQUF3QjtBQUN4QixnQkFBZ0I7QUFDaEIsb0JBQW9CO0FBQ3BCLHdCQUF3QjtBQUN4QixnQkFBZ0I7QUFDaEIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMERBQTBELG9CQUFvQjtBQUM5RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMTAzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJyk7XG52YXIgZm9yT2YgPSByZXF1aXJlKCcuL19mb3Itb2YnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgbWljcm90YXNrID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4vX25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcbnZhciBwZXJmb3JtID0gcmVxdWlyZSgnLi9fcGVyZm9ybScpO1xudmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4vX3VzZXItYWdlbnQnKTtcbnZhciBwcm9taXNlUmVzb2x2ZSA9IHJlcXVpcmUoJy4vX3Byb21pc2UtcmVzb2x2ZScpO1xudmFyIFBST01JU0UgPSAnUHJvbWlzZSc7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnM7XG52YXIgdjggPSB2ZXJzaW9ucyAmJiB2ZXJzaW9ucy52OCB8fCAnJztcbnZhciAkUHJvbWlzZSA9IGdsb2JhbFtQUk9NSVNFXTtcbnZhciBpc05vZGUgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJztcbnZhciBlbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBJbnRlcm5hbCwgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBPd25Qcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7XG5cbnZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgPSAkUHJvbWlzZS5yZXNvbHZlKDEpO1xuICAgIHZhciBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICAgIGV4ZWMoZW1wdHksIGVtcHR5KTtcbiAgICB9O1xuICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpXG4gICAgICAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2VcbiAgICAgIC8vIHY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXNcbiAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTgzMDU2NVxuICAgICAgLy8gd2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnNcbiAgICAgICYmIHY4LmluZGV4T2YoJzYuNicpICE9PSAwXG4gICAgICAmJiB1c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lLzY2JykgPT09IC0xO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHByb21pc2UsIGlzUmVqZWN0KSB7XG4gIGlmIChwcm9taXNlLl9uKSByZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIG9rID0gcHJvbWlzZS5fcyA9PSAxO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKHJlYWN0aW9uKSB7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICAgICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgICAgIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gICAgICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLl9oID09IDIpIG9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuICAgICAgICAgICAgcHJvbWlzZS5faCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYW5kbGVyID09PSB0cnVlKSByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkb21haW4pIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIG1heSB0aHJvd1xuICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGRvbWFpbiAmJiAhZXhpdGVkKSBkb21haW4uZXhpdCgpO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkgcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHByb21pc2UuX2MgPSBbXTtcbiAgICBwcm9taXNlLl9uID0gZmFsc2U7XG4gICAgaWYgKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKSBvblVuaGFuZGxlZChwcm9taXNlKTtcbiAgfSk7XG59O1xudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIHVuaGFuZGxlZCA9IGlzVW5oYW5kbGVkKHByb21pc2UpO1xuICAgIHZhciByZXN1bHQsIGhhbmRsZXIsIGNvbnNvbGU7XG4gICAgaWYgKHVuaGFuZGxlZCkge1xuICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKSB7XG4gICAgICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWUgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodW5oYW5kbGVkICYmIHJlc3VsdC5lKSB0aHJvdyByZXN1bHQudjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgcmV0dXJuIHByb21pc2UuX2ggIT09IDEgJiYgKHByb21pc2UuX2EgfHwgcHJvbWlzZS5fYykubGVuZ3RoID09PSAwO1xufTtcbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKSB7XG4gICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92IH0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICBpZiAocHJvbWlzZS5fZCkgcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fcyA9IDI7XG4gIGlmICghcHJvbWlzZS5fYSkgcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIHZhciB0aGVuO1xuICBpZiAocHJvbWlzZS5fZCkgcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICBpZiAodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKSB7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9OyAvLyB3cmFwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgICRyZWplY3QuY2FsbCh7IF93OiBwcm9taXNlLCBfZDogZmFsc2UgfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmICghVVNFX05BVElWRSkge1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBhbkluc3RhbmNlKHRoaXMsICRQcm9taXNlLCBQUk9NSVNFLCAnX2gnKTtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIEludGVybmFsLmNhbGwodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgdGhpcywgMSksIGN0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG4gICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSB2YWx1ZVxuICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcbiAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgIHZhciByZWFjdGlvbiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZiAodGhpcy5fYSkgdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9zKSBub3RpZnkodGhpcywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gICAgfSxcbiAgICAvLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKVxuICAgICdjYXRjaCc6IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgSW50ZXJuYWwoKTtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG4gIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgcmV0dXJuIEMgPT09ICRQcm9taXNlIHx8IEMgPT09IFdyYXBwZXJcbiAgICAgID8gbmV3IE93blByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICA6IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBQcm9taXNlOiAkUHJvbWlzZSB9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcyk7XG4gICAgdmFyICQkcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKExJQlJBUlkgJiYgdGhpcyA9PT0gV3JhcHBlciA/ICRQcm9taXNlIDogdGhpcywgeCk7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbiAoaXRlcikge1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciAkaW5kZXggPSBpbmRleCsrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbJGluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9LFxuICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpXG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmUpIHJlamVjdChyZXN1bHQudik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qc1xuLy8gbW9kdWxlIGlkID0gMTAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///103\n")},function(module,exports){eval("module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzP2Q4YWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwiZmlsZSI6IjEwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///104\n")},function(module,exports,__webpack_require__){eval("var ctx = __webpack_require__(14);\nvar call = __webpack_require__(106);\nvar isArrayIter = __webpack_require__(107);\nvar anObject = __webpack_require__(9);\nvar toLength = __webpack_require__(49);\nvar getIterFn = __webpack_require__(101);\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcz8zNTZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxpQkFBaUIsRUFBRTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGdCQUFnQjtBQUNuRjtBQUNBO0FBQ0EsR0FBRyw0Q0FBNEMsZ0NBQWdDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIEJSRUFLID0ge307XG52YXIgUkVUVVJOID0ge307XG52YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1IpIHtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpO1xuICB2YXIgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZiAoaXNBcnJheUl0ZXIoaXRlckZuKSkgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmV4cG9ydHMuQlJFQUsgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMTA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///105\n")},function(module,exports,__webpack_require__){eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(9);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcz85YWM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEwNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkgYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1xuLy8gbW9kdWxlIGlkID0gMTA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///106\n")},function(module,exports,__webpack_require__){eval("// check on default Array iterator\nvar Iterators = __webpack_require__(17);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanM/MzIxYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTA3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuLy8gbW9kdWxlIGlkID0gMTA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///107\n")},function(module,exports){eval("// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qcz85MjdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiMTA4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgYXJncywgdGhhdCkge1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJncyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qc1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///108\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar macrotask = __webpack_require__(67).set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = __webpack_require__(21)(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcz9mMzYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0IsRUFBRTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsImZpbGUiOiIxMDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgbWFjcm90YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBPYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBQcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG52YXIgaXNOb2RlID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYgKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKSBwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICBmbiA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGhlYWQpIG5vdGlmeSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgIGlmIChwYXJlbnQpIHBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYgKGlzTm9kZSkge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyBTYWZhcmkgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG4gIH0gZWxzZSBpZiAoT2JzZXJ2ZXIgJiYgIShnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSkpIHtcbiAgICB2YXIgdG9nZ2xlID0gdHJ1ZTtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmIChQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSkge1xuICAgIC8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuICAgIHZhciB0YXNrID0geyBmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCB9O1xuICAgIGlmIChsYXN0KSBsYXN0Lm5leHQgPSB0YXNrO1xuICAgIGlmICghaGVhZCkge1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19taWNyb3Rhc2suanNcbi8vIG1vZHVsZSBpZCA9IDEwOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///109\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VzZXItYWdlbnQuanM/ODk0NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBIiwiZmlsZSI6IjExMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBuYXZpZ2F0b3IgPSBnbG9iYWwubmF2aWdhdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VzZXItYWdlbnQuanNcbi8vIG1vZHVsZSBpZCA9IDExMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///110\n")},function(module,exports,__webpack_require__){eval("var hide = __webpack_require__(11);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qcz9jNDdmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiMTExLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///111\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar dP = __webpack_require__(8);\nvar DESCRIPTORS = __webpack_require__(4);\nvar SPECIES = __webpack_require__(2)('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzPzZkMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGFBQWE7QUFDbkMsR0FBRztBQUNIIiwiZmlsZSI6IjExMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pIGRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///112\n")},function(module,exports,__webpack_require__){eval("var ITERATOR = __webpack_require__(2)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzPzc1OGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDLHFCQUFxQjtBQUN0RDtBQUNBLGlDQUFpQyxTQUFTLEVBQUU7QUFDNUMsQ0FBQyxZQUFZOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTLHFCQUFxQjtBQUMzRCxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBLEdBQUcsWUFBWTtBQUNmO0FBQ0EiLCJmaWxlIjoiMTEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24gKCkgeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbiAoKSB7IHRocm93IDI7IH0pO1xufSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gIGlmICghc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBbN107XG4gICAgdmFyIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4geyBkb25lOiBzYWZlID0gdHJ1ZSB9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMTEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///113\n")},function(module,exports,__webpack_require__){"use strict";eval("// https://github.com/tc39/proposal-promise-finally\n\nvar $export = __webpack_require__(6);\nvar core = __webpack_require__(0);\nvar global = __webpack_require__(1);\nvar speciesConstructor = __webpack_require__(66);\nvar promiseResolve = __webpack_require__(69);\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseS5qcz8xMmEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxVQUFVLEVBQUU7QUFDMUUsS0FBSztBQUNMO0FBQ0EsOERBQThELFNBQVMsRUFBRTtBQUN6RSxLQUFLO0FBQ0w7QUFDQSxDQUFDLEVBQUUiLCJmaWxlIjoiMTE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5XG4ndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi9fcHJvbWlzZS1yZXNvbHZlJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5SLCAnUHJvbWlzZScsIHsgJ2ZpbmFsbHknOiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGNvcmUuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZSk7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIG9uRmluYWxseSA9PSAnZnVuY3Rpb24nO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgIH0gOiBvbkZpbmFsbHksXG4gICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB0aHJvdyBlOyB9KTtcbiAgICB9IDogb25GaW5hbGx5XG4gICk7XG59IH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseS5qc1xuLy8gbW9kdWxlIGlkID0gMTE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///114\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// https://github.com/tc39/proposal-promise-try\nvar $export = __webpack_require__(6);\nvar newPromiseCapability = __webpack_require__(51);\nvar perform = __webpack_require__(68);\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzPzhjYTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUUiLCJmaWxlIjoiMTE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdQcm9taXNlJywgeyAndHJ5JzogZnVuY3Rpb24gKGNhbGxiYWNrZm4pIHtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZih0aGlzKTtcbiAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oY2FsbGJhY2tmbik7XG4gIChyZXN1bHQuZSA/IHByb21pc2VDYXBhYmlsaXR5LnJlamVjdCA6IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmUpKHJlc3VsdC52KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59IH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///115\n")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ObjectType = exports.ChangeType = undefined;\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\n__webpack_require__(123);\n\nvar _utils = __webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar objectType = { ARRAY: '[object Array]', OBJECT: '[object Object]' };\n\n/**\r\n * @access private\r\n * Main class that maintains a JSON object, and observes changes in this object, recursively.\r\n * Internal objects and arrays are also observed.\r\n */\n\nvar SyncObject = function () {\n  function SyncObject(initialData) {\n    (0, _classCallCheck3.default)(this, SyncObject);\n\n    var _this = this;\n\n    _this._observers = [];\n    _this._filters = {};\n\n    this._data = initialData || {};\n\n    this._internalObserve(this._data);\n  }\n\n  (0, _createClass3.default)(SyncObject, [{\n    key: 'observe',\n    value: function observe(callback) {\n      this._observers.push(callback);\n    }\n  }, {\n    key: 'find',\n    value: function find(path) {\n      var list = (0, _utils.parseAttributes)(path);\n\n      return this._findWithSplit(list);\n    }\n  }, {\n    key: 'findBefore',\n    value: function findBefore(path) {\n      var result = {};\n      var list = (0, _utils.parseAttributes)(path);\n      result.last = list.pop();\n      result.obj = this._findWithSplit(list);\n\n      return result;\n    }\n  }, {\n    key: '_findWithSplit',\n    value: function _findWithSplit(list) {\n      var obj = this._data;\n      list.forEach(function (value) {\n        obj = obj[value];\n      });\n\n      return obj;\n    }\n  }, {\n    key: '_internalObserve',\n    value: function _internalObserve(object) {\n      var _this2 = this;\n\n      var handler = function handler(changeset) {\n\n        changeset.every(function (change) {\n          _this2._onChanges(change);\n        });\n      };\n\n      this._data = Object.deepObserve(object, handler);\n    }\n  }, {\n    key: '_fireEvent',\n    value: function _fireEvent(event) {\n      this._observers.forEach(function (callback) {\n        callback(event);\n      });\n    }\n  }, {\n    key: '_onChanges',\n    value: function _onChanges(change) {\n\n      var obj = change.object;\n      var objType = void 0;\n\n      if (obj.constructor === Object) {\n        objType = ObjectType.OBJECT;\n      }\n\n      if (obj.constructor === Array) {\n        objType = ObjectType.ARRAY;\n      }\n\n      var fieldString = change.keypath;\n\n      // console.log('Field:', fieldString);\n      // console.log('type:', change.type);\n\n      //let oldValue = change.oldValue;\n      var newValue = obj[change.name];\n\n      // console.info(change.type + ' | Field: ' + fieldString + ' | New Value:', JSON.stringify(newValue), fieldString.includes('length'));\n\n      if (change.type === 'update' && !fieldString.includes('.length')) {\n        this._fireEvent({\n          cType: ChangeType.UPDATE,\n          oType: objType,\n          field: fieldString,\n          data: newValue\n        });\n      }\n\n      if (change.type === 'add') {\n        this._fireEvent({\n          cType: ChangeType.ADD,\n          oType: objType,\n          field: fieldString,\n          data: newValue\n        });\n      }\n\n      if (change.type === 'delete') {\n        this._fireEvent({\n          cType: ChangeType.REMOVE,\n          oType: objType,\n          field: fieldString\n        });\n      }\n    }\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._data;\n    }\n  }]);\n  return SyncObject;\n}();\n\nvar ChangeType = exports.ChangeType = { UPDATE: 'update', ADD: 'add', REMOVE: 'remove' };\nvar ObjectType = exports.ObjectType = { OBJECT: 'object', ARRAY: 'array' };\nexports.default = SyncObject;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9Qcm94eU9iamVjdC5qcz85OGI3Il0sIm5hbWVzIjpbIm9iamVjdFR5cGUiLCJBUlJBWSIsIk9CSkVDVCIsIlN5bmNPYmplY3QiLCJpbml0aWFsRGF0YSIsIl90aGlzIiwiX29ic2VydmVycyIsIl9maWx0ZXJzIiwiX2RhdGEiLCJfaW50ZXJuYWxPYnNlcnZlIiwiY2FsbGJhY2siLCJwdXNoIiwicGF0aCIsImxpc3QiLCJfZmluZFdpdGhTcGxpdCIsInJlc3VsdCIsImxhc3QiLCJwb3AiLCJvYmoiLCJmb3JFYWNoIiwidmFsdWUiLCJvYmplY3QiLCJoYW5kbGVyIiwiY2hhbmdlc2V0IiwiZXZlcnkiLCJjaGFuZ2UiLCJfb25DaGFuZ2VzIiwiT2JqZWN0IiwiZGVlcE9ic2VydmUiLCJldmVudCIsIm9ialR5cGUiLCJjb25zdHJ1Y3RvciIsIk9iamVjdFR5cGUiLCJBcnJheSIsImZpZWxkU3RyaW5nIiwia2V5cGF0aCIsIm5ld1ZhbHVlIiwibmFtZSIsInR5cGUiLCJpbmNsdWRlcyIsIl9maXJlRXZlbnQiLCJjVHlwZSIsIkNoYW5nZVR5cGUiLCJVUERBVEUiLCJvVHlwZSIsImZpZWxkIiwiZGF0YSIsIkFERCIsIlJFTU9WRSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxhQUFhLEVBQUNDLE9BQU8sZ0JBQVIsRUFBMEJDLFFBQVEsaUJBQWxDLEVBQW5COztBQUVBOzs7Ozs7SUFLTUMsVTtBQUVKLHNCQUFZQyxXQUFaLEVBQXlCO0FBQUE7O0FBQ3ZCLFFBQUlDLFFBQVEsSUFBWjs7QUFFQUEsVUFBTUMsVUFBTixHQUFtQixFQUFuQjtBQUNBRCxVQUFNRSxRQUFOLEdBQWlCLEVBQWpCOztBQUVBLFNBQUtDLEtBQUwsR0FBYUosZUFBZSxFQUE1Qjs7QUFFQSxTQUFLSyxnQkFBTCxDQUFzQixLQUFLRCxLQUEzQjtBQUNEOzs7OzRCQUlPRSxRLEVBQVU7QUFDaEIsV0FB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cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdwcm94eS1vYnNlcnZlJztcclxuaW1wb3J0IHtwYXJzZUF0dHJpYnV0ZXN9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmNvbnN0IG9iamVjdFR5cGUgPSB7QVJSQVk6ICdbb2JqZWN0IEFycmF5XScsIE9CSkVDVDogJ1tvYmplY3QgT2JqZWN0XScgfTtcclxuXHJcbi8qKlxyXG4gKiBAYWNjZXNzIHByaXZhdGVcclxuICogTWFpbiBjbGFzcyB0aGF0IG1haW50YWlucyBhIEpTT04gb2JqZWN0LCBhbmQgb2JzZXJ2ZXMgY2hhbmdlcyBpbiB0aGlzIG9iamVjdCwgcmVjdXJzaXZlbHkuXHJcbiAqIEludGVybmFsIG9iamVjdHMgYW5kIGFycmF5cyBhcmUgYWxzbyBvYnNlcnZlZC5cclxuICovXHJcbmNsYXNzIFN5bmNPYmplY3Qge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpbml0aWFsRGF0YSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fb2JzZXJ2ZXJzID0gW107XHJcbiAgICBfdGhpcy5fZmlsdGVycyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2RhdGEgPSBpbml0aWFsRGF0YSB8fCB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnRlcm5hbE9ic2VydmUodGhpcy5fZGF0YSk7XHJcbiAgfVxyXG5cclxuICBnZXQgZGF0YSgpIHsgcmV0dXJuIHRoaXMuX2RhdGE7IH1cclxuXHJcbiAgb2JzZXJ2ZShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgZmluZChwYXRoKSB7XHJcbiAgICBsZXQgbGlzdCA9IHBhcnNlQXR0cmlidXRlcyhwYXRoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdChsaXN0KTtcclxuICB9XHJcblxyXG4gIGZpbmRCZWZvcmUocGF0aCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgbGV0IGxpc3QgPSBwYXJzZUF0dHJpYnV0ZXMocGF0aCk7XHJcbiAgICByZXN1bHQubGFzdCA9IGxpc3QucG9wKCk7XHJcbiAgICByZXN1bHQub2JqID0gdGhpcy5fZmluZFdpdGhTcGxpdChsaXN0KTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgX2ZpbmRXaXRoU3BsaXQobGlzdCkge1xyXG4gICAgbGV0IG9iaiA9IHRoaXMuX2RhdGE7XHJcbiAgICBsaXN0LmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgIG9iaiA9IG9ialt2YWx1ZV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgX2ludGVybmFsT2JzZXJ2ZShvYmplY3QpIHtcclxuXHJcbiAgICBsZXQgaGFuZGxlciA9IChjaGFuZ2VzZXQpID0+IHtcclxuXHJcbiAgICAgIGNoYW5nZXNldC5ldmVyeSgoY2hhbmdlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fb25DaGFuZ2VzKGNoYW5nZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fZGF0YSA9IE9iamVjdC5kZWVwT2JzZXJ2ZShvYmplY3QsIGhhbmRsZXIpO1xyXG5cclxuICB9XHJcblxyXG4gIF9maXJlRXZlbnQoZXZlbnQpIHtcclxuICAgIHRoaXMuX29ic2VydmVycy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xyXG4gICAgICBjYWxsYmFjayhldmVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9vbkNoYW5nZXMoY2hhbmdlKSB7XHJcblxyXG4gICAgbGV0IG9iaiA9IGNoYW5nZS5vYmplY3Q7XHJcbiAgICBsZXQgb2JqVHlwZTtcclxuXHJcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuICAgICAgb2JqVHlwZSA9IE9iamVjdFR5cGUuT0JKRUNUO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgIG9ialR5cGUgPSBPYmplY3RUeXBlLkFSUkFZO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBmaWVsZFN0cmluZyA9IGNoYW5nZS5rZXlwYXRoO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdGaWVsZDonLCBmaWVsZFN0cmluZyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygndHlwZTonLCBjaGFuZ2UudHlwZSk7XHJcblxyXG4gICAgLy9sZXQgb2xkVmFsdWUgPSBjaGFuZ2Uub2xkVmFsdWU7XHJcbiAgICBsZXQgbmV3VmFsdWUgPSBvYmpbY2hhbmdlLm5hbWVdO1xyXG5cclxuICAgIC8vIGNvbnNvbGUuaW5mbyhjaGFuZ2UudHlwZSArICcgfCBGaWVsZDogJyArIGZpZWxkU3RyaW5nICsgJyB8IE5ldyBWYWx1ZTonLCBKU09OLnN0cmluZ2lmeShuZXdWYWx1ZSksIGZpZWxkU3RyaW5nLmluY2x1ZGVzKCdsZW5ndGgnKSk7XHJcblxyXG4gICAgaWYgKGNoYW5nZS50eXBlID09PSAndXBkYXRlJyAmJiAhZmllbGRTdHJpbmcuaW5jbHVkZXMoJy5sZW5ndGgnKSkge1xyXG4gICAgICB0aGlzLl9maXJlRXZlbnQoe1xyXG4gICAgICAgIGNUeXBlOiBDaGFuZ2VUeXBlLlVQREFURSxcclxuICAgICAgICBvVHlwZTogb2JqVHlwZSxcclxuICAgICAgICBmaWVsZDogZmllbGRTdHJpbmcsXHJcbiAgICAgICAgZGF0YTogbmV3VmFsdWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZS50eXBlID09PSAnYWRkJykge1xyXG4gICAgICB0aGlzLl9maXJlRXZlbnQoe1xyXG4gICAgICAgIGNUeXBlOiBDaGFuZ2VUeXBlLkFERCxcclxuICAgICAgICBvVHlwZTogb2JqVHlwZSxcclxuICAgICAgICBmaWVsZDogZmllbGRTdHJpbmcsXHJcbiAgICAgICAgZGF0YTogbmV3VmFsdWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZS50eXBlID09PSAnZGVsZXRlJykge1xyXG4gICAgICB0aGlzLl9maXJlRXZlbnQoe1xyXG4gICAgICAgIGNUeXBlOiBDaGFuZ2VUeXBlLlJFTU9WRSxcclxuICAgICAgICBvVHlwZTogb2JqVHlwZSxcclxuICAgICAgICBmaWVsZDogZmllbGRTdHJpbmdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGxldCBDaGFuZ2VUeXBlID0ge1VQREFURTogJ3VwZGF0ZScsIEFERDogJ2FkZCcsIFJFTU9WRTogJ3JlbW92ZSd9O1xyXG5leHBvcnQgbGV0IE9iamVjdFR5cGUgPSB7T0JKRUNUOiAnb2JqZWN0JywgQVJSQVk6ICdhcnJheSd9O1xyXG5leHBvcnQgZGVmYXVsdCBTeW5jT2JqZWN0O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3luY2hlci9Qcm94eU9iamVjdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///117\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _ProxyObject = __webpack_require__(117);\n\nvar _ProxyObject2 = _interopRequireDefault(_ProxyObject);\n\nvar _utils = __webpack_require__(19);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObjectChild'); /**\r\n                                               * Copyright 2016 PT Inovação e Sistemas SA\r\n                                               * Copyright 2016 INESC-ID\r\n                                               * Copyright 2016 QUOBIS NETWORKS SL\r\n                                               * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                               * Copyright 2016 ORANGE SA\r\n                                               * Copyright 2016 Deutsche Telekom AG\r\n                                               * Copyright 2016 Apizee\r\n                                               * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                               *\r\n                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                               * you may not use this file except in compliance with the License.\r\n                                               * You may obtain a copy of the License at\r\n                                               *\r\n                                               *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                               *\r\n                                               * Unless required by applicable law or agreed to in writing, software\r\n                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                               * See the License for the specific language governing permissions and\r\n                                               * limitations under the License.\r\n                                               **/\n// Log System\n\n/**\r\n * The class returned from the DataObject addChildren call or from onAddChildren if remotely created.\r\n */\nvar DataObjectChild /* implements SyncStatus */ = function () {\n  /* private\r\n    ----event handlers----\r\n  _onResponseHandler: (event) => void\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the DataObject.addChild\r\n   */\n  function DataObjectChild(input) {\n    (0, _classCallCheck3.default)(this, DataObjectChild);\n\n    var _this = this;\n\n    function throwMandatoryParmMissingError(par) {\n      throw '[DataObjectChild] ' + par + ' mandatory parameter is missing';\n    }\n\n    input.parent ? _this._parent = input.parent : throwMandatoryParmMissingError('parent');\n    input.url ? _this._url = input.url : throwMandatoryParmMissingError('url');\n    input.created ? _this._created = input.created : throwMandatoryParmMissingError('created');\n    input.reporter ? _this._reporter = input.reporter : throwMandatoryParmMissingError('reporter');\n    input.runtime ? _this._runtime = input.runtime : throwMandatoryParmMissingError('runtime');\n    input.schema ? _this._schema = input.schema : throwMandatoryParmMissingError('schema');\n    input.parentObject ? _this._parentObject = input.parentObject : throwMandatoryParmMissingError('parentObject');\n\n    if (input.name) _this._name = input.name;\n    if (input.description) _this._description = input.description;\n    if (input.tags) _this._tags = input.tags;\n    if (input.resources) _this._resources = input.resources;\n    if (input.observerStorage) _this._observerStorage = input.observerStorage;\n    if (input.publicObservation) _this._publicObservation = input.publicObservation;\n\n    _this._childId = input.url;\n\n    if (input.data) {\n      _this._syncObj = new _ProxyObject2.default(input.data);\n    } else {\n      _this._syncObj = new _ProxyObject2.default({});\n    }\n\n    log.log('[DataObjectChild -  Constructor] - ', _this._syncObj);\n\n    _this._bus = _this._parentObject._bus;\n    _this._owner = _this._parentObject._owner;\n\n    _this._allocateListeners();\n\n    _this._metadata = input;\n\n    // delete _this._metadata.data;\n    delete _this._metadata.parentObject;\n\n    _this._sharingStatus = false;\n  }\n\n  (0, _createClass3.default)(DataObjectChild, [{\n    key: 'share',\n\n\n    /**\r\n     * This function is used to share the child Object among authorised Hyperties\r\n     * @param  {boolean}     reporter  If true the child object is only shared to Parent reporter\r\n     * @return {Promise<JSON>}        It returns a promise with the sharing results.\r\n     */\n\n    value: function share(toReporter) {\n      var _this = this;\n\n      _this._sharingStatus = new _promise2.default(function (resolve, reject) {\n\n        var to = void 0;\n        var reporter = toReporter;\n\n        if (reporter) {\n          to = _this.metadata.parent;\n        } else to = _this.metadata.parent + '/children/' + _this.metadata.children;\n\n        var childValue = _this.metadata;\n        childValue.data = _this.data;\n\n        //FLOW-OUT: this message will be sent directly to a resource child address: MessageBus\n        var requestMsg = {\n          type: 'create', from: _this.metadata.reporter, to: to,\n          body: { resource: childValue.url, value: childValue }\n        };\n\n        if (_this.identity) {\n          requestMsg.body.identity = _this.identity;\n        }\n\n        //to be used to disable mutual authentication for legacy users\n\n        if (_this._parentObject.data.hasOwnProperty('mutual')) requestMsg.body.mutual = _this._parentObject.data.mutual;\n\n        if (_this._parentObject.metadata.reporter === _this.metadata.reporter) {\n          _this._bus.postMessage((0, _utils.deepClone)(requestMsg));\n          return resolve();\n        } else {\n\n          var callback = function callback(reply) {\n\n            if (reply.to === _this._reporter) {\n              _this._bus.removeResponseListener(requestMsg.from, reply.id);\n\n              log.log('[Syncher.DataObjectChild.share] Parent reporter reply ', reply);\n\n              var result = {\n                code: reply.body && reply.body.code ? reply.body.code : 500,\n                desc: reply.body && reply.body.desc ? reply.body.desc : 'Unknown'\n              };\n\n              if (reply.body.code < 300) {\n                return resolve(result);\n              } else return reject(result);\n            }\n          };\n\n          var id = _this._bus.postMessage((0, _utils.deepClone)(requestMsg), callback, false);\n\n          setTimeout(function () {\n\n            // If Reporter does  not reply the promise is rejected\n            _this._bus.removeResponseListener(requestMsg.from, id);\n\n            var result = {\n              code: 408,\n              desc: 'timout'\n            };\n            return reject(result);\n          }, 3000);\n        }\n      });\n    }\n\n    /**\r\n       * This function is used to share the child Object among authorised Hyperties\r\n       * @param  {boolean}     reporter  If true the child object is only shared to Parent reporter\r\n       * @return {Promise<JSON>}        It returns a promise with the sharing results.\r\n       */\n\n  }, {\n    key: 'store',\n    value: function store() {\n      var _this = this;\n\n      var child = {};\n      var key = _this.metadata.children + '.' + _this.metadata.url;\n\n      child.value = _this.metadata;\n      child.identity = _this.identity;\n\n      var msg = {\n\n        from: _this.metadata.reporter,\n        to: _this._parentObject._syncher._subURL,\n        type: 'create',\n        body: {\n          resource: _this.metadata.parent,\n          attribute: key,\n          value: child\n        }\n      };\n\n      log.log('[DataObjectChild.store]:', msg);\n\n      _this._bus.postMessage(msg);\n    }\n  }, {\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this = this;\n\n      //this is only needed for children reporters\n      if (_this._reporter === _this._owner) {\n        _this._listener = _this._bus.addListener(_this._reporter, function (msg) {\n          if (msg.type === 'response' && msg.id === _this._msgId) {\n            log.log('DataObjectChild.onResponse:', msg);\n            _this._onResponse(msg);\n          }\n        });\n      }\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      if (_this._listener) {\n        _this._listener.remove();\n      }\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._releaseListeners();\n\n      //TODO: send delete message ?\n\n      // nothing to be done\n      // return new Promise((resolve) => {\n      //   log.log('[DataObjectChild.delete]');\n      //   resolve();\n      // });\n    }\n\n    /**\r\n     * All Metadata about the Child Data Object\r\n     * @type {Object} -\r\n     */\n\n  }, {\n    key: 'onChange',\n\n\n    /**\r\n     * Register the change listeners sent by the reporter child\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n    value: function onChange(callback) {\n      this._syncObj.observe(function (event) {\n        log.log('[DataObjectChild - observer] - ', event);\n        callback(event);\n      });\n    }\n\n    /**\r\n     * Setup the callback to process response notifications of the creates\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      this._onResponseHandler = callback;\n    }\n\n    //FLOW-IN: message received from a remote DataObject -> _onChildCreate\n\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.body.source,\n        code: msg.body.code\n      };\n\n      if (_this._onResponseHandler) {\n        _this._onResponseHandler(event);\n      }\n    }\n  }, {\n    key: 'shareable',\n    get: function get() {\n      var shareable = this.metadata;\n      shareable.data = this.data;\n\n      return shareable;\n    }\n  }, {\n    key: 'metadata',\n    get: function get() {\n      return this._metadata;\n    }\n\n    /**\r\n     * Children ID generated on addChildren. Unique identifier\r\n     * @type {URL} - URL of the format <HypertyURL>#<numeric-sequence>\r\n     */\n\n  }, {\n    key: 'childId',\n    get: function get() {\n      return this._childId;\n    }\n\n    /**\r\n     * Data Structure to be synchronized.\r\n     * @type {JSON} - JSON structure that should follow the defined schema, if any.\r\n     */\n\n  }, {\n    key: 'sharingStatus',\n    get: function get() {\n      return this._sharingStatus;\n    }\n\n    /**\r\n      * Data Structure to be synchronized.\r\n      * @type {JSON} - JSON structure that should follow the defined schema, if any.\r\n      */\n\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._syncObj.data;\n    }\n\n    /**\r\n     * Set for this dataObjectChild an identity\r\n     * @method identity\r\n     * @param  {Identity} identity identity from who created the message\r\n     */\n\n  }, {\n    key: 'identity',\n    set: function set(identity) {\n      this._identity = identity;\n    }\n\n    /**\r\n     * Get for this dataObjectChild an identity\r\n     * @method identity\r\n     * @return {Identity} identity from who created the message\r\n     */\n    ,\n    get: function get() {\n      return this._identity;\n    }\n  }]);\n  return DataObjectChild;\n}();\n\nexports.default = DataObjectChild;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0Q2hpbGQuanM/MDViYSJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJEYXRhT2JqZWN0Q2hpbGQiLCJpbnB1dCIsIl90aGlzIiwidGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yIiwicGFyIiwicGFyZW50IiwiX3BhcmVudCIsInVybCIsIl91cmwiLCJjcmVhdGVkIiwiX2NyZWF0ZWQiLCJyZXBvcnRlciIsIl9yZXBvcnRlciIsInJ1bnRpbWUiLCJfcnVudGltZSIsInNjaGVtYSIsIl9zY2hlbWEiLCJwYXJlbnRPYmplY3QiLCJfcGFyZW50T2JqZWN0IiwibmFtZSIsIl9uYW1lIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJ0YWdzIiwiX3RhZ3MiLCJyZXNvdXJjZXMiLCJfcmVzb3VyY2VzIiwib2JzZXJ2ZXJTdG9yYWdlIiwiX29ic2VydmVyU3RvcmFnZSIsInB1YmxpY09ic2VydmF0aW9uIiwiX3B1YmxpY09ic2VydmF0aW9uIiwiX2NoaWxkSWQiLCJkYXRhIiwiX3N5bmNPYmoiLCJTeW5jT2JqZWN0IiwiX2J1cyIsIl9vd25lciIsIl9hbGxvY2F0ZUxpc3RlbmVycyIsIl9tZXRhZGF0YSIsIl9zaGFyaW5nU3RhdHVzIiwidG9SZXBvcnRlciIsInJlc29sdmUiLCJyZWplY3QiLCJ0byIsIm1ldGFkYXRhIiwiY2hpbGRyZW4iLCJjaGlsZFZhbHVlIiwicmVxdWVzdE1zZyIsInR5cGUiLCJmcm9tIiwiYm9keSIsInJlc291cmNlIiwidmFsdWUiLCJpZGVudGl0eSIsImhhc093blByb3BlcnR5IiwibXV0dWFsIiwicG9zdE1lc3NhZ2UiLCJjYWxsYmFjayIsInJlcGx5IiwicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsImlkIiwicmVzdWx0IiwiY29kZSIsImRlc2MiLCJzZXRUaW1lb3V0IiwiY2hpbGQiLCJrZXkiLCJtc2ciLCJfc3luY2hlciIsIl9zdWJVUkwiLCJhdHRyaWJ1dGUiLCJfbGlzdGVuZXIiLCJhZGRMaXN0ZW5lciIsIl9tc2dJZCIsIl9vblJlc3BvbnNlIiwicmVtb3ZlIiwiX3JlbGVhc2VMaXN0ZW5lcnMiLCJvYnNlcnZlIiwiZXZlbnQiLCJfb25SZXNwb25zZUhhbmRsZXIiLCJzb3VyY2UiLCJzaGFyZWFibGUiLCJfaWRlbnRpdHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7SUFBWUEsTTs7QUFHWjs7OztBQUVBOzs7Ozs7QUFKQSxJQUFJQyxNQUFNRCxPQUFPRSxTQUFQLENBQWlCLGlCQUFqQixDQUFWLEMsQ0F4QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzQkE7O0FBUUE7OztJQUdNQyxlLENBQWdCLDJCO0FBQ3BCOzs7OztBQU1BOzs7O0FBSUEsMkJBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFDakIsUUFBSUMsUUFBUSxJQUFaOztBQUVBLGFBQVNDLDhCQUFULENBQXdDQyxHQUF4QyxFQUE2QztBQUMzQyxZQUFNLHVCQUF1QkEsR0FBdkIsR0FBNkIsaUNBQW5DO0FBQ0Q7O0FBRURILFVBQU1JLE1BQU4sR0FBZ0JILE1BQU1JLE9BQU4sR0FBZ0JMLE1BQU1JLE1BQXRDLEdBQStDRiwrQkFBK0IsUUFBL0IsQ0FBL0M7QUFDQUYsVUFBTU0sR0FBTixHQUFhTCxNQUFNTSxJQUFOLEdBQWFQLE1BQU1NLEdBQWhDLEdBQXNDSiwrQkFBK0IsS0FBL0IsQ0FBdEM7QUFDQUYsVUFBTVEsT0FBTixHQUFnQlAsTUFBTVEsUUFBTixHQUFpQlQsTUFBTVEsT0FBdkMsR0FBaUROLCtCQUErQixTQUEvQixDQUFqRDtBQUNBRixVQUFNVSxRQUFOLEdBQWlCVCxNQUFNVSxTQUFOLEdBQWtCWCxNQUFNVSxRQUF6QyxHQUFvRFIsK0JBQStCLFVBQS9CLENBQXBEO0FBQ0FGLFVBQU1ZLE9BQU4sR0FBZ0JYLE1BQU1ZLFFBQU4sR0FBaUJiLE1BQU1ZLE9BQXZDLEdBQWlEViwrQkFBK0IsU0FBL0IsQ0FBakQ7QUFDQUYsVUFBTWMsTUFB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QUFJRyxZQUFZLEtBQUtyQyxRQUFyQjtBQUNBcUMsZ0JBQVVqRCxJQUFWLEdBQWlCLEtBQUtBLElBQXRCOztBQUVBLGFBQU9pRCxTQUFQO0FBQ0Q7Ozt3QkE2SmM7QUFBRSxhQUFPLEtBQUszQyxTQUFaO0FBQXdCOztBQUV6Qzs7Ozs7Ozt3QkFJYztBQUFFLGFBQU8sS0FBS1AsUUFBWjtBQUF1Qjs7QUFFdkM7Ozs7Ozs7d0JBS29CO0FBQ2xCLGFBQU8sS0FBS1EsY0FBWjtBQUNEOztBQUVEOzs7Ozs7O3dCQUtXO0FBQUUsYUFBTyxLQUFLTixRQUFMLENBQWNELElBQXJCO0FBQTRCOztBQUV6Qzs7Ozs7Ozs7c0JBS2FxQixRLEVBQVU7QUFBRSxXQUFLNkIsU0FBTCxHQUFpQjdCLFFBQWpCO0FBQTRCOztBQUVyRDs7Ozs7O3dCQUtlO0FBQUUsYUFBTyxLQUFLNkIsU0FBWjtBQUF3Qjs7Ozs7a0JBc0M1QmxGLGUiLCJmaWxlIjoiMTE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG4vLyBMb2cgU3lzdGVtXHJcbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XHJcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdEYXRhT2JqZWN0Q2hpbGQnKTtcclxuXHJcbmltcG9ydCBTeW5jT2JqZWN0IGZyb20gJy4vUHJveHlPYmplY3QnO1xyXG5cclxuaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBjbGFzcyByZXR1cm5lZCBmcm9tIHRoZSBEYXRhT2JqZWN0IGFkZENoaWxkcmVuIGNhbGwgb3IgZnJvbSBvbkFkZENoaWxkcmVuIGlmIHJlbW90ZWx5IGNyZWF0ZWQuXHJcbiAqL1xyXG5jbGFzcyBEYXRhT2JqZWN0Q2hpbGQgLyogaW1wbGVtZW50cyBTeW5jU3RhdHVzICovIHtcclxuICAvKiBwcml2YXRlXHJcblxyXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cclxuICBfb25SZXNwb25zZUhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxyXG4gICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBpZ25vcmVcclxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYnkgSHlwZXJ0aWVzLiBJdCdzIGNhbGxlZCBieSB0aGUgRGF0YU9iamVjdC5hZGRDaGlsZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGlucHV0KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcihwYXIpIHtcclxuICAgICAgdGhyb3cgJ1tEYXRhT2JqZWN0Q2hpbGRdICcgKyBwYXIgKyAnIG1hbmRhdG9yeSBwYXJhbWV0ZXIgaXMgbWlzc2luZyc7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXQucGFyZW50ID8gIF90aGlzLl9wYXJlbnQgPSBpbnB1dC5wYXJlbnQgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3BhcmVudCcpO1xyXG4gICAgaW5wdXQudXJsID8gIF90aGlzLl91cmwgPSBpbnB1dC51cmwgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3VybCcpO1xyXG4gICAgaW5wdXQuY3JlYXRlZCA/IF90aGlzLl9jcmVhdGVkID0gaW5wdXQuY3JlYXRlZCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcignY3JlYXRlZCcpO1xyXG4gICAgaW5wdXQucmVwb3J0ZXIgPyBfdGhpcy5fcmVwb3J0ZXIgPSBpbnB1dC5yZXBvcnRlciA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigncmVwb3J0ZXInKTtcclxuICAgIGlucHV0LnJ1bnRpbWUgPyBfdGhpcy5fcnVudGltZSA9IGlucHV0LnJ1bnRpbWUgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3J1bnRpbWUnKTtcclxuICAgIGlucHV0LnNjaGVtYSA/IF90aGlzLl9zY2hlbWEgPSBpbnB1dC5zY2hlbWEgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3NjaGVtYScpO1xyXG4gICAgaW5wdXQucGFyZW50T2JqZWN0ID8gX3RoaXMuX3BhcmVudE9iamVjdCA9IGlucHV0LnBhcmVudE9iamVjdCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigncGFyZW50T2JqZWN0Jyk7XHJcblxyXG4gICAgaWYgKGlucHV0Lm5hbWUpIF90aGlzLl9uYW1lID0gaW5wdXQubmFtZTtcclxuICAgIGlmIChpbnB1dC5kZXNjcmlwdGlvbikgX3RoaXMuX2Rlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XHJcbiAgICBpZiAoaW5wdXQudGFncykgX3RoaXMuX3RhZ3MgPSBpbnB1dC50YWdzO1xyXG4gICAgaWYgKGlucHV0LnJlc291cmNlcykgX3RoaXMuX3Jlc291cmNlcyA9IGlucHV0LnJlc291cmNlcztcclxuICAgIGlmIChpbnB1dC5vYnNlcnZlclN0b3JhZ2UpIF90aGlzLl9vYnNlcnZlclN0b3JhZ2UgPSBpbnB1dC5vYnNlcnZlclN0b3JhZ2U7XHJcbiAgICBpZiAoaW5wdXQucHVibGljT2JzZXJ2YXRpb24pIF90aGlzLl9wdWJsaWNPYnNlcnZhdGlvbiA9IGlucHV0LnB1YmxpY09ic2VydmF0aW9uO1xyXG5cclxuICAgIF90aGlzLl9jaGlsZElkID0gaW5wdXQudXJsO1xyXG5cclxuICAgIGlmIChpbnB1dC5kYXRhKSB7XHJcbiAgICAgIF90aGlzLl9zeW5jT2JqID0gbmV3IFN5bmNPYmplY3QoaW5wdXQuZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfdGhpcy5fc3luY09iaiA9IG5ldyBTeW5jT2JqZWN0KHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBsb2cubG9nKCdbRGF0YU9iamVjdENoaWxkIC0gIENvbnN0cnVjdG9yXSAtICcsIF90aGlzLl9zeW5jT2JqKTtcclxuXHJcbiAgICBfdGhpcy5fYnVzID0gX3RoaXMuX3BhcmVudE9iamVjdC5fYnVzO1xyXG4gICAgX3RoaXMuX293bmVyID0gX3RoaXMuX3BhcmVudE9iamVjdC5fb3duZXI7XHJcblxyXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XHJcblxyXG4gICAgX3RoaXMuX21ldGFkYXRhID0gaW5wdXQ7XHJcblxyXG4gICAgLy8gZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5kYXRhO1xyXG4gICAgZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5wYXJlbnRPYmplY3Q7XHJcblxyXG4gICAgX3RoaXMuX3NoYXJpbmdTdGF0dXMgPSBmYWxzZTtcclxuXHJcbiAgfVxyXG5cclxuICBnZXQgc2hhcmVhYmxlKCkge1xyXG4gICAgbGV0IHNoYXJlYWJsZSA9IHRoaXMubWV0YWRhdGE7XHJcbiAgICBzaGFyZWFibGUuZGF0YSA9IHRoaXMuZGF0YTtcclxuXHJcbiAgICByZXR1cm4gc2hhcmVhYmxlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNoYXJlIHRoZSBjaGlsZCBPYmplY3QgYW1vbmcgYXV0aG9yaXNlZCBIeXBlcnRpZXNcclxuICAgKiBAcGFyYW0gIHtib29sZWFufSAgICAgcmVwb3J0ZXIgIElmIHRydWUgdGhlIGNoaWxkIG9iamVjdCBpcyBvbmx5IHNoYXJlZCB0byBQYXJlbnQgcmVwb3J0ZXJcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEpTT04+fSAgICAgICAgSXQgcmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgc2hhcmluZyByZXN1bHRzLlxyXG4gICAqL1xyXG5cclxuICBzaGFyZSh0b1JlcG9ydGVyKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9zaGFyaW5nU3RhdHVzID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgbGV0IHRvO1xyXG4gICAgICBsZXQgcmVwb3J0ZXIgPSB0b1JlcG9ydGVyO1xyXG5cclxuICAgICAgaWYgKHJlcG9ydGVyKSB7XHJcbiAgICAgICAgdG8gPSBfdGhpcy5tZXRhZGF0YS5wYXJlbnQ7XHJcbiAgICAgIH0gZWxzZSB0byA9IF90aGlzLm1ldGFkYXRhLnBhcmVudCArICcvY2hpbGRyZW4vJyArIF90aGlzLm1ldGFkYXRhLmNoaWxkcmVuO1xyXG5cclxuICAgICAgbGV0IGNoaWxkVmFsdWUgPSBfdGhpcy5tZXRhZGF0YTtcclxuICAgICAgY2hpbGRWYWx1ZS5kYXRhID0gX3RoaXMuZGF0YTtcclxuXHJcbiAgICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgZGlyZWN0bHkgdG8gYSByZXNvdXJjZSBjaGlsZCBhZGRyZXNzOiBNZXNzYWdlQnVzXHJcbiAgICAgIGxldCByZXF1ZXN0TXNnID0ge1xyXG4gICAgICAgIHR5cGU6ICdjcmVhdGUnLCBmcm9tOiBfdGhpcy5tZXRhZGF0YS5yZXBvcnRlciwgdG86IHRvLFxyXG4gICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IGNoaWxkVmFsdWUudXJsLCB2YWx1ZTogY2hpbGRWYWx1ZSB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoX3RoaXMuaWRlbnRpdHkpICAgICAge1xyXG4gICAgICAgIHJlcXVlc3RNc2cuYm9keS5pZGVudGl0eSA9IF90aGlzLmlkZW50aXR5O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3RvIGJlIHVzZWQgdG8gZGlzYWJsZSBtdXR1YWwgYXV0aGVudGljYXRpb24gZm9yIGxlZ2FjeSB1c2Vyc1xyXG5cclxuICAgICAgaWYgKF90aGlzLl9wYXJlbnRPYmplY3QuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnbXV0dWFsJykpIHJlcXVlc3RNc2cuYm9keS5tdXR1YWwgPSBfdGhpcy5fcGFyZW50T2JqZWN0LmRhdGEubXV0dWFsO1xyXG5cclxuICAgICAgaWYgKF90aGlzLl9wYXJlbnRPYmplY3QubWV0YWRhdGEucmVwb3J0ZXIgPT09IF90aGlzLm1ldGFkYXRhLnJlcG9ydGVyKSB7XHJcbiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShkZWVwQ2xvbmUocmVxdWVzdE1zZykpO1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGxldCBjYWxsYmFjayA9IChyZXBseSkgPT4ge1xyXG5cclxuICAgICAgICAgIGlmIChyZXBseS50byA9PT0gX3RoaXMuX3JlcG9ydGVyKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyZXF1ZXN0TXNnLmZyb20sIHJlcGx5LmlkKTtcclxuXHJcbiAgICAgICAgICAgIGxvZy5sb2coJ1tTeW5jaGVyLkRhdGFPYmplY3RDaGlsZC5zaGFyZV0gUGFyZW50IHJlcG9ydGVyIHJlcGx5ICcsIHJlcGx5KTtcclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgY29kZTogcmVwbHkuYm9keSAmJiByZXBseS5ib2R5LmNvZGUgPyByZXBseS5ib2R5LmNvZGUgOiA1MDAsXHJcbiAgICAgICAgICAgICAgZGVzYzogcmVwbHkuYm9keSAmJiByZXBseS5ib2R5LmRlc2MgPyByZXBseS5ib2R5LmRlc2MgOiAnVW5rbm93bidcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPCAzMDApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHJlamVjdChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgaWQgPSBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKGRlZXBDbG9uZShyZXF1ZXN0TXNnKSwgY2FsbGJhY2ssIGZhbHNlKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcclxuXHJcbiAgICAgICAgICAvLyBJZiBSZXBvcnRlciBkb2VzICBub3QgcmVwbHkgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWRcclxuICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyZXF1ZXN0TXNnLmZyb20sIGlkKTtcclxuXHJcbiAgICAgICAgICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiA0MDgsXHJcbiAgICAgICAgICAgIGRlc2M6ICd0aW1vdXQnXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmV0dXJuIHJlamVjdChyZXN1bHQpO1xyXG5cclxuICAgICAgICB9LCAzMDAwKTtcclxuXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNoYXJlIHRoZSBjaGlsZCBPYmplY3QgYW1vbmcgYXV0aG9yaXNlZCBIeXBlcnRpZXNcclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICAgICByZXBvcnRlciAgSWYgdHJ1ZSB0aGUgY2hpbGQgb2JqZWN0IGlzIG9ubHkgc2hhcmVkIHRvIFBhcmVudCByZXBvcnRlclxyXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxKU09OPn0gICAgICAgIEl0IHJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIHNoYXJpbmcgcmVzdWx0cy5cclxuICAgICAqL1xyXG5cclxuICBzdG9yZSgpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IGNoaWxkID0ge307XHJcbiAgICBsZXQga2V5ID0gX3RoaXMubWV0YWRhdGEuY2hpbGRyZW4gKyAnLicgKyBfdGhpcy5tZXRhZGF0YS51cmw7XHJcblxyXG4gICAgY2hpbGQudmFsdWUgPSBfdGhpcy5tZXRhZGF0YTtcclxuICAgIGNoaWxkLmlkZW50aXR5ID0gX3RoaXMuaWRlbnRpdHk7XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuXHJcbiAgICAgIGZyb206IF90aGlzLm1ldGFkYXRhLnJlcG9ydGVyLFxyXG4gICAgICB0bzogX3RoaXMuX3BhcmVudE9iamVjdC5fc3luY2hlci5fc3ViVVJMLFxyXG4gICAgICB0eXBlOiAnY3JlYXRlJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiBfdGhpcy5tZXRhZGF0YS5wYXJlbnQsXHJcbiAgICAgICAgYXR0cmlidXRlOiBrZXksXHJcbiAgICAgICAgdmFsdWU6IGNoaWxkXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbG9nLmxvZygnW0RhdGFPYmplY3RDaGlsZC5zdG9yZV06JywgbXNnKTtcclxuXHJcbiAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKG1zZyk7XHJcbiAgfVxyXG5cclxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vdGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgY2hpbGRyZW4gcmVwb3J0ZXJzXHJcbiAgICBpZiAoX3RoaXMuX3JlcG9ydGVyID09PSBfdGhpcy5fb3duZXIpIHtcclxuICAgICAgX3RoaXMuX2xpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihfdGhpcy5fcmVwb3J0ZXIsIChtc2cpID0+IHtcclxuICAgICAgICBpZiAobXNnLnR5cGUgPT09ICdyZXNwb25zZScgJiYgbXNnLmlkID09PSBfdGhpcy5fbXNnSWQpIHtcclxuICAgICAgICAgIGxvZy5sb2coJ0RhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOicsIG1zZyk7XHJcbiAgICAgICAgICBfdGhpcy5fb25SZXNwb25zZShtc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF90aGlzLl9saXN0ZW5lcikge1xyXG4gICAgICBfdGhpcy5fbGlzdGVuZXIucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcclxuICAgKi9cclxuICBkZWxldGUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuXHJcbiAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG5cclxuICAgIC8vVE9ETzogc2VuZCBkZWxldGUgbWVzc2FnZSA/XHJcblxyXG4gICAgLy8gbm90aGluZyB0byBiZSBkb25lXHJcbiAgICAvLyByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgIC8vICAgbG9nLmxvZygnW0RhdGFPYmplY3RDaGlsZC5kZWxldGVdJyk7XHJcbiAgICAvLyAgIHJlc29sdmUoKTtcclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWxsIE1ldGFkYXRhIGFib3V0IHRoZSBDaGlsZCBEYXRhIE9iamVjdFxyXG4gICAqIEB0eXBlIHtPYmplY3R9IC1cclxuICAgKi9cclxuICBnZXQgbWV0YWRhdGEoKSB7IHJldHVybiB0aGlzLl9tZXRhZGF0YTsgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGlsZHJlbiBJRCBnZW5lcmF0ZWQgb24gYWRkQ2hpbGRyZW4uIFVuaXF1ZSBpZGVudGlmaWVyXHJcbiAgICogQHR5cGUge1VSTH0gLSBVUkwgb2YgdGhlIGZvcm1hdCA8SHlwZXJ0eVVSTD4jPG51bWVyaWMtc2VxdWVuY2U+XHJcbiAgICovXHJcbiAgZ2V0IGNoaWxkSWQoKSB7IHJldHVybiB0aGlzLl9jaGlsZElkOyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERhdGEgU3RydWN0dXJlIHRvIGJlIHN5bmNocm9uaXplZC5cclxuICAgKiBAdHlwZSB7SlNPTn0gLSBKU09OIHN0cnVjdHVyZSB0aGF0IHNob3VsZCBmb2xsb3cgdGhlIGRlZmluZWQgc2NoZW1hLCBpZiBhbnkuXHJcbiAgICovXHJcblxyXG4gIGdldCBzaGFyaW5nU3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NoYXJpbmdTdGF0dXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgICogRGF0YSBTdHJ1Y3R1cmUgdG8gYmUgc3luY2hyb25pemVkLlxyXG4gICAgKiBAdHlwZSB7SlNPTn0gLSBKU09OIHN0cnVjdHVyZSB0aGF0IHNob3VsZCBmb2xsb3cgdGhlIGRlZmluZWQgc2NoZW1hLCBpZiBhbnkuXHJcbiAgICAqL1xyXG5cclxuICBnZXQgZGF0YSgpIHsgcmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YTsgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgZm9yIHRoaXMgZGF0YU9iamVjdENoaWxkIGFuIGlkZW50aXR5XHJcbiAgICogQG1ldGhvZCBpZGVudGl0eVxyXG4gICAqIEBwYXJhbSAge0lkZW50aXR5fSBpZGVudGl0eSBpZGVudGl0eSBmcm9tIHdobyBjcmVhdGVkIHRoZSBtZXNzYWdlXHJcbiAgICovXHJcbiAgc2V0IGlkZW50aXR5KGlkZW50aXR5KSB7IHRoaXMuX2lkZW50aXR5ID0gaWRlbnRpdHk7IH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGZvciB0aGlzIGRhdGFPYmplY3RDaGlsZCBhbiBpZGVudGl0eVxyXG4gICAqIEBtZXRob2QgaWRlbnRpdHlcclxuICAgKiBAcmV0dXJuIHtJZGVudGl0eX0gaWRlbnRpdHkgZnJvbSB3aG8gY3JlYXRlZCB0aGUgbWVzc2FnZVxyXG4gICAqL1xyXG4gIGdldCBpZGVudGl0eSgpIHsgcmV0dXJuIHRoaXMuX2lkZW50aXR5OyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRoZSBjaGFuZ2UgbGlzdGVuZXJzIHNlbnQgYnkgdGhlIHJlcG9ydGVyIGNoaWxkXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xyXG4gICAqL1xyXG4gIG9uQ2hhbmdlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9zeW5jT2JqLm9ic2VydmUoKGV2ZW50KSA9PiB7XHJcbiAgICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0Q2hpbGQgLSBvYnNlcnZlcl0gLSAnLCBldmVudCk7XHJcbiAgICAgIGNhbGxiYWNrKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVzcG9uc2Ugbm90aWZpY2F0aW9ucyBvZiB0aGUgY3JlYXRlc1xyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2tcclxuICAgKi9cclxuICBvblJlc3BvbnNlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9vblJlc3BvbnNlSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdCAtPiBfb25DaGlsZENyZWF0ZVxyXG4gIF9vblJlc3BvbnNlKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxyXG4gICAgICB1cmw6IG1zZy5ib2R5LnNvdXJjZSxcclxuICAgICAgY29kZTogbXNnLmJvZHkuY29kZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoX3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyKSB7XHJcbiAgICAgIF90aGlzLl9vblJlc3BvbnNlSGFuZGxlcihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdENoaWxkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0Q2hpbGQuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///118\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(120);\nmodule.exports = __webpack_require__(0).Object.assign;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanM/NTc3YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwiZmlsZSI6IjExOS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5hc3NpZ247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qc1xuLy8gbW9kdWxlIGlkID0gMTE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA5IDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///119\n")},function(module,exports,__webpack_require__){eval("// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(6);\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(121) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanM/NDc4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBLDBDQUEwQyxtQ0FBc0MiLCJmaWxlIjoiMTIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0JywgeyBhc3NpZ246IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKSB9KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDkgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///120\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = __webpack_require__(20);\nvar gOPS = __webpack_require__(43);\nvar pIE = __webpack_require__(29);\nvar toObject = __webpack_require__(32);\nvar IObject = __webpack_require__(55);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(13)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanM/NGU4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsVUFBVSxFQUFFO0FBQ2hELG1CQUFtQixzQ0FBc0M7QUFDekQsQ0FBQyxxQ0FBcUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJmaWxlIjoiMTIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICB2YXIgaXNFbnVtID0gcElFLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWFzc2lnbi5qc1xuLy8gbW9kdWxlIGlkID0gMTIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA5IDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///121\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = __webpack_require__(47);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _assign = __webpack_require__(78);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _ProxyObject = __webpack_require__(117);\n\nvar _ProxyObject2 = _interopRequireDefault(_ProxyObject);\n\nvar _DataObjectChild = __webpack_require__(118);\n\nvar _DataObjectChild2 = _interopRequireDefault(_DataObjectChild);\n\nvar _utils = __webpack_require__(19);\n\nvar _HypertyResourceFactory = __webpack_require__(128);\n\nvar _HypertyResourceFactory2 = _interopRequireDefault(_HypertyResourceFactory);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObject'); /**\r\n                                          * Copyright 2016 PT Inovação e Sistemas SA\r\n                                          * Copyright 2016 INESC-ID\r\n                                          * Copyright 2016 QUOBIS NETWORKS SL\r\n                                          * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                          * Copyright 2016 ORANGE SA\r\n                                          * Copyright 2016 Deutsche Telekom AG\r\n                                          * Copyright 2016 Apizee\r\n                                          * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                          *\r\n                                          * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                          * you may not use this file except in compliance with the License.\r\n                                          * You may obtain a copy of the License at\r\n                                          *\r\n                                          *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                          *\r\n                                          * Unless required by applicable law or agreed to in writing, software\r\n                                          * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                          * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                          * See the License for the specific language governing permissions and\r\n                                          * limitations under the License.\r\n                                          **/\n\n// Log System\n\n/**\r\n * Main extension class for observers and reporters, with common properties and methods.\r\n * Children management is common for observers and reporters.\r\n */\nvar DataObject = function () {\n  /* private\r\n  _version: number\r\n    _owner: HypertyURL\r\n  _url: ObjectURL\r\n  _schema: Schema\r\n  _bus: MiniBus\r\n  _status: on | paused\r\n  _syncObj: SyncData\r\n    _children: { id: DataObjectChild }\r\n  _childrenListeners: [MsgListener]\r\n    ----event handlers----\r\n  _onAddChildHandler: (event) => void\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the Syncher create or subscribe method's\r\n   */\n\n  function DataObject(input) {\n    (0, _classCallCheck3.default)(this, DataObject);\n\n    var _this = this;\n\n    function throwMandatoryParmMissingError(par) {\n      throw '[DataObject] ' + par + ' mandatory parameter is missing';\n    }\n\n    input.syncher ? _this._syncher = input.syncher : throwMandatoryParmMissingError('syncher');\n    input.url ? _this._url = input.url : throwMandatoryParmMissingError('url');\n    input.created ? _this._created = input.created : throwMandatoryParmMissingError('created');\n    input.reporter ? _this._reporter = input.reporter : throwMandatoryParmMissingError('reporter');\n    input.runtime ? _this._runtime = input.runtime : throwMandatoryParmMissingError('runtime');\n    input.schema ? _this._schema = input.schema : throwMandatoryParmMissingError('schema');\n    input.name ? _this._name = input.name : throwMandatoryParmMissingError('name');\n\n    _this._status = input.status;\n\n    if (input.data) {\n      _this._syncObj = new _ProxyObject2.default(input.data);\n    } else {\n      _this._syncObj = new _ProxyObject2.default({});\n    }\n    _this._childrens = input.childrens;\n\n    //TODO: For Further Study\n    _this._mutual = input.mutual;\n\n    _this._version = 0;\n    _this._childId = 0;\n    _this._childrenListeners = []; //bus listeners per children\n    _this._onAddChildrenHandler; //Hyperty side handlers to process child objects created by remote Hyperties\n\n    _this._resumed = input.resume;\n\n    if (input.resume) {\n      _this._version = input.version;\n    }\n\n    _this._owner = input.syncher._owner;\n    _this._bus = input.syncher._bus;\n\n    if (input.description) _this._description = input.description;\n    if (input.tags) _this._tags = input.tags;\n    if (input.resources) _this._resources = input.resources;\n    if (input.observerStorage) _this._observerStorage = input.observerStorage;\n    if (input.publicObservation) _this._publicObservation = input.publicObservation;\n\n    _this._metadata = (0, _assign2.default)(input);\n    _this._metadata.lastModified = _this._metadata.created;\n\n    delete _this._metadata.data;\n    delete _this._metadata.syncher;\n    delete _this._metadata.authorise;\n\n    _this._hypertyResourceFactory = new _HypertyResourceFactory2.default();\n    _this._childrenObjects = {};\n    _this._sharedChilds = []; //childObjects that were not sent yet to Reporters\n  }\n\n  (0, _createClass3.default)(DataObject, [{\n    key: '_getLastChildId',\n    value: function _getLastChildId() {\n      var _this = this;\n\n      var childIdInt = 0;\n      var childIdString = _this._owner + '#' + childIdInt;\n\n      (0, _keys2.default)(_this._childrens).filter(function (key) {\n        if (_this._childrens[key].childId > childIdString) {\n          childIdString = _this._childrens[key].childId;\n        }\n      });\n\n      return childIdInt = Number(childIdString.split('#')[1]);\n    }\n  }, {\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this2 = this;\n\n      var _this = this;\n\n      var childBaseURL = _this._url + '/children/';\n      log.log('[Data Object - AllocateListeners] - ', _this._childrens);\n      if (_this._childrens) {\n        _this._childrens.forEach(function (child) {\n          var childURL = childBaseURL + child;\n          var listener = _this._bus.addListener(childURL, function (msg) {\n            //ignore msg sent by himself\n            if (msg.from !== _this2._owner) {\n              log.log('DataObject-Children-RCV: ', msg);\n              switch (msg.type) {\n                case 'create':\n                  _this._onChildCreate(msg);break;\n                case 'delete':\n                  log.log(msg);break;\n                default:\n                  _this._changeChildren(msg);break;\n              }\n            }\n          });\n\n          _this._childrenListeners.push(listener);\n        });\n      }\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      _this._childrenListeners.forEach(function (listener) {\n        listener.remove();\n      });\n\n      (0, _keys2.default)(_this._childrenObjects).forEach(function (children) {\n        (0, _keys2.default)(_this._childrenObjects[children]).forEach(function (child) {\n          _this._childrenObjects[children][child]._releaseListeners();\n        });\n      });\n    }\n\n    /**\r\n     *\r\n     */\n\n  }, {\n    key: 'resumeChildrens',\n    value: function resumeChildrens(childrens) {\n      var _this3 = this;\n\n      var _this = this;\n\n      var childIdString = this._owner + '#' + this._childId;\n\n      //setup childrens data from subscription\n      (0, _keys2.default)(childrens).forEach(function (childrenResource) {\n        var children = childrens[childrenResource];\n\n        //_this._childrenObjects[childrenResource] = {};\n        (0, _keys2.default)(children).forEach(function (childId) {\n          var newChild = false;\n\n          if (!_this._childrenObjects.hasOwnProperty(childrenResource)) _this._childrenObjects[childrenResource] = {};\n\n          if (children[childId].value.resourceType && !_this._childrenObjects[childrenResource].hasOwnProperty(childId)) {\n            _this._childrenObjects[childrenResource][childId] = _this._resumeHypertyResource(children[childId]);\n            newChild = true;\n          } else if (!_this._childrenObjects[childrenResource].hasOwnProperty(childId)) {\n\n            _this._childrenObjects[childrenResource][childId] = _this._resumeChild(children[childId]);\n            log.log('[DataObject.resumeChildrens] new DataObjectChild: ', _this._childrenObjects[childrenResource][childId]);\n            newChild = true;\n          }\n\n          if (newChild && childId > childIdString) {\n            childIdString = childId;\n            log.log('[DataObjectReporter.resumeChildrens] - resuming: ', _this3._childrenObjects[childrenResource][childId]);\n          }\n        });\n      });\n\n      this._childId = Number(childIdString.split('#')[1]);\n    }\n  }, {\n    key: '_resumeChild',\n    value: function _resumeChild(input) {\n      var _this = this;\n      var childInput = input.value;\n      childInput.parentObject = _this;\n      childInput.parent = _this._url;\n\n      var child = new _DataObjectChild2.default(childInput);\n\n      child.identity = input.identity;\n\n      var event = {\n        type: 'create',\n        from: child.reporter,\n        url: child.parent,\n        value: child.data,\n        childId: child.url,\n        identity: child.identity,\n        child: child\n      };\n\n      if (child.resourceType) {\n        event.resource = child;\n      }\n\n      if (_this._onAddChildrenHandler) _this._onAddChildrenHandler(event);\n\n      return child;\n    }\n  }, {\n    key: '_resumeHypertyResource',\n    value: function _resumeHypertyResource(input) {\n      var _this = this;\n      var childInput = input.value;\n      childInput.parentObject = _this;\n      childInput.parent = _this._url;\n\n      var hypertyResource = _this._hypertyResourceFactory.createHypertyResource(false, childInput.resourceType, childInput);\n\n      hypertyResource.identity = input.identity;\n\n      var event = {\n        type: 'create',\n        from: hypertyResource.reporter,\n        url: hypertyResource.parent,\n        value: hypertyResource.data,\n        childId: hypertyResource.url,\n        identity: hypertyResource.identity,\n        child: hypertyResource\n      };\n\n      if (hypertyResource.resourceType) {\n        event.resource = hypertyResource;\n      }\n\n      if (_this._onAddChildrenHandler) _this._onAddChildrenHandler(event);\n\n      return hypertyResource;\n    }\n\n    /**\r\n     * All Metadata about the Data Object\r\n     * @type {Object} -\r\n     */\n\n  }, {\n    key: 'pause',\n\n\n    /**\r\n     * @ignore\r\n     */\n    value: function pause() {\n      //TODO: this feature needs more analise\n      throw 'Not implemented';\n    }\n\n    /**\r\n     * @ignore\r\n     */\n\n  }, {\n    key: 'resume',\n    value: function resume() {\n      //TODO: this feature needs more analise\n      throw 'Not implemented';\n    }\n\n    /**\r\n     * @ignore\r\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      //TODO: should remove the subscription and send message unsubscribe?\n      throw 'Not implemented';\n    }\n\n    /**\r\n     * Create and add a DataObjectChild to a children collection.\r\n     * @param {String} children - Children name where the child is added.\r\n     * @param {JSON} initialData - Initial data of the child\r\n     * @param  {MessageBodyIdentity} identity - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n     * @param  {SyncChildMetadata} input - (optional) All additional metadata about the DataObjectChild.\r\n     * @return {Promise<DataObjectChild>} - Return Promise to a new DataObjectChild.\r\n     */\n\n  }, {\n    key: 'addChild',\n    value: function addChild(children, initialData, identity, input) {\n      var _this = this;\n      var newChild = void 0;\n\n      //returns promise, in the future, the API may change to asynchronous call\n      return new _promise2.default(function (resolve) {\n\n        var msgChildPath = _this._url + '/children/' + children;\n\n        var childInput = _this._getChildInput(input);\n        childInput.data = initialData;\n        childInput.children = children;\n        newChild = new _DataObjectChild2.default(childInput);\n\n        if (identity) newChild.identity = identity;\n\n        newChild.share();\n\n        log.log('[DataObject.addChild] added ', newChild);\n\n        newChild.onChange(function (event) {\n          _this._onChange(event, { path: msgChildPath, childId: childInput.url });\n        });\n\n        if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n        _this._childrenObjects[children][childInput.url] = newChild;\n\n        resolve(newChild);\n      });\n    }\n  }, {\n    key: '_deleteChildrens',\n    value: function _deleteChildrens() {\n\n      var _this = this;\n      var deletePromises = [];\n\n      return new _promise2.default(function (resolve) {\n        if (_this.childrens) {\n          log.log('[DataObject.deleteChildrens]', _this.childrens);\n          var children = void 0;\n\n          for (children in _this.childrens) {\n            var child = void 0;\n            for (child in _this.childrens[children]) {\n              var childObj = _this.childrens[children][child];\n              log.log('[DataObject._deleteChildrens] child', childObj);\n              if (childObj.metadata.hasOwnProperty('resourceType')) deletePromises.push(_this.childrens[children][child].delete());\n            }\n          }\n        }\n\n        log.log('[DataObject._deleteChildrens] promises ', deletePromises);\n\n        if (deletePromises.length > 0) {\n          _promise2.default.all(deletePromises).then(function () {\n            resolve('[DataObject._deleteChildrens] done');\n          });\n        } else resolve('[DataObject._deleteChildrens] nothing to delete');\n      });\n    }\n  }, {\n    key: '_getChildInput',\n    value: function _getChildInput(input) {\n      var _this = this;\n      var childInput = (0, _assign2.default)({}, input);\n\n      _this._childId++;\n      childInput.url = _this._owner + '#' + _this._childId;\n\n      childInput.parentObject = _this;\n      childInput.reporter = _this._owner;\n      childInput.created = new Date().toISOString();\n      childInput.runtime = _this._syncher._runtimeUrl;\n      childInput.p2pHandler = _this._syncher._p2pHandler;\n      childInput.p2pRequester = _this._syncher._p2pRequester;\n      childInput.schema = _this._schema;\n      childInput.parent = _this.url;\n\n      return childInput;\n    }\n  }, {\n    key: 'addHypertyResource',\n    value: function addHypertyResource(children, type, resource, identity, input) {\n      var _this = this;\n\n      //returns promise, in the future, the API may change to asynchronous call\n      return new _promise2.default(function (resolve) {\n\n        var hypertyResource = void 0;\n        var msgChildPath = _this._url + '/children/' + children;\n\n        var childInput = _this._getChildInput(input);\n        childInput.children = children;\n\n        _this._hypertyResourceFactory.createHypertyResourceWithContent(true, type, resource, childInput).then(function (resource) {\n          hypertyResource = resource;\n\n          if (identity) hypertyResource.identity = identity;\n\n          hypertyResource.share();\n\n          log.log('[DataObject.addHypertyResource] added ', hypertyResource);\n\n          hypertyResource.onChange(function (event) {\n            _this._onChange(event, { path: msgChildPath, childId: hypertyResource.childId });\n          });\n\n          if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n          _this._childrenObjects[children][hypertyResource.childId] = hypertyResource;\n\n          resolve(hypertyResource);\n        });\n      });\n    }\n\n    /**\r\n     * Setup the callback to process create and delete of childrens.\r\n     * @param {function(event: MsgEvent)} callback\r\n     * TODO: add childrenId to support different handlers per children\r\n     */\n\n  }, {\n    key: 'onAddChild',\n    value: function onAddChild(callback) {\n\n      this._onAddChildrenHandler = callback;\n    }\n\n    //FLOW-IN: message received from a remote DataObject -> addChild\n\n  }, {\n    key: '_onChildCreate',\n    value: function _onChildCreate(msg) {\n      var _this = this;\n\n      log.log('[DataObject._onChildCreate] receivedBy ' + _this._owner + ' : ', msg);\n\n      var response = {\n        from: msg.to,\n        to: msg.from,\n        type: 'response',\n        id: msg.id,\n        body: {\n          code: 100\n        }\n      };\n\n      _this._bus.postMessage(response);\n\n      if (msg.body.value.resourceType) {\n        _this._onHypertyResourceAdded(msg);\n      } else _this._onChildAdded(msg);\n    }\n  }, {\n    key: '_onChildAdded',\n    value: function _onChildAdded(msg) {\n      var _this = this;\n      var childInput = (0, _utils.deepClone)(msg.body.value);\n      childInput.parentObject = _this;\n\n      var children = childInput.children;\n\n      var newChild = new _DataObjectChild2.default(childInput);\n      newChild.identity = msg.body.identity;\n\n      if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n      _this._childrenObjects[children][childInput.url] = newChild;\n\n      if (msg.to === _this.metadata.url) newChild.store();\n\n      _this._hypertyEvt(msg, newChild);\n    }\n  }, {\n    key: '_onHypertyResourceAdded',\n    value: function _onHypertyResourceAdded(msg) {\n      var _this = this;\n      var input = msg.body.value;\n      var hypertyResource = void 0;\n\n      var children = input.children;\n\n      input.parentObject = _this;\n\n      hypertyResource = _this._hypertyResourceFactory.createHypertyResource(false, input.resourceType, input);\n      hypertyResource.identity = msg.body.identity;\n\n      if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n      _this._childrenObjects[children][hypertyResource.childId] = hypertyResource;\n\n      _this._hypertyEvt(msg, hypertyResource);\n\n      // locally store messages that are directly sent to the hyperty\n      // ie to sync with messages sent when offline\n\n      if (msg.to === _this.metadata.url) hypertyResource.store();\n    }\n  }, {\n    key: '_hypertyEvt',\n    value: function _hypertyEvt(msg, child) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        from: msg.from,\n        url: msg.to,\n        value: child.data,\n        childId: child.url,\n        identity: msg.body.identity,\n        child: child\n      };\n\n      if (child.resourceType) {\n        event.resource = child;\n      }\n\n      if (_this._onAddChildrenHandler) _this._onAddChildrenHandler(event);\n    }\n\n    //send delta messages to subscriptions\n\n  }, {\n    key: '_onChange',\n    value: function _onChange(event, childInfo) {\n      var _this = this;\n\n      _this._metadata.lastModified = new Date().toISOString();\n\n      _this._version++;\n\n      if (_this._status === 'live') {\n        //FLOW-OUT: this message will be sent directly to a resource changes address: MessageBus\n        var changeMsg = {\n          type: 'update', from: _this._url, to: _this._url + '/changes',\n          body: { version: _this._version, source: _this._owner, attribute: event.field, lastModified: _this._metadata.lastModified }\n        };\n\n        log.log('[DataObject - _onChange] - ', event, childInfo, changeMsg);\n\n        if (event.oType === _ProxyObject.ObjectType.OBJECT) {\n          if (event.cType !== _ProxyObject.ChangeType.REMOVE) {\n            changeMsg.body.value = (0, _utils.deepClone)(event.data);\n          }\n        } else {\n          changeMsg.body.attributeType = event.oType;\n          changeMsg.body.value = event.data;\n          if (event.cType !== _ProxyObject.ChangeType.UPDATE) {\n            changeMsg.body.operation = event.cType;\n          }\n        }\n\n        //childInfo must have (path, childId)\n        if (childInfo) {\n          changeMsg.to = childInfo.path;\n          changeMsg.body.resource = childInfo.childId;\n        }\n\n        //TODO: For Further Study\n        if (!_this.data._mutual) changeMsg.body.mutual = _this._mutual;\n\n        _this._bus.postMessage(changeMsg);\n      }\n    }\n\n    //FLOW-IN: delta message received from a remote DataObjectReporter or DataObjectChild when changing data\n\n  }, {\n    key: '_changeObject',\n    value: function _changeObject(syncObj, msg) {\n      var _this = this;\n\n      //TODO: update version ?\n      //how to handle an incorrect version ? Example: receive a version 3 when the observer is in version 1, where is the version 2 ?\n      //will we need to confirm the reception ?\n      if (_this._version + 1 <= msg.body.version) {\n        _this._version = msg.body.version;\n        var path = msg.body.attribute;\n        var value = void 0;\n        if ((0, _typeof3.default)(msg.body.value) === 'object') value = (0, _utils.deepClone)(msg.body.value);else value = msg.body.value;\n\n        var findResult = syncObj.findBefore(path);\n\n        if (msg.body.lastModified) {\n          _this._metadata.lastModified = msg.body.lastModified;\n        } else {\n          _this._metadata.lastModified = new Date().toISOString();\n        }\n\n        if (msg.body.attributeType === _ProxyObject.ObjectType.ARRAY) {\n          if (msg.body.operation === _ProxyObject.ChangeType.ADD) {\n            var arr = findResult.obj;\n            var index = findResult.last;\n            Array.prototype.splice.apply(arr, [index, 0].concat(value));\n          } else if (msg.body.operation === _ProxyObject.ChangeType.REMOVE) {\n            var _arr = findResult.obj;\n            var _index = findResult.last;\n            _arr.splice(_index, value);\n          } else {\n            findResult.obj[findResult.last] = value; // UPDATE\n          }\n        } else {\n          if (msg.body.hasOwnProperty('value')) {\n            findResult.obj[findResult.last] = value; // UPDATE or ADD\n          } else {\n            delete findResult.obj[findResult.last]; // REMOVE\n          }\n        }\n      } else {\n        //TODO: how to handle unsynchronized versions?\n        log.log('UNSYNCHRONIZED VERSION: (data => ' + _this._version + ', msg => ' + msg.body.version + ')');\n      }\n    }\n\n    //FLOW-IN: message received from a remote DataObjectChild when changing data\n\n  }, {\n    key: '_changeChildren',\n    value: function _changeChildren(msg) {\n      var _this = this;\n      var dividedURL = (0, _utils.divideURL)(msg.to);\n      var identity = dividedURL.identity;\n      var resource = identity ? identity.substring(identity.lastIndexOf('/') + 1) : undefined;\n\n      var childId = msg.body.resource;\n      var children = _this._childrenObjects[resource][childId];\n\n      log.log('Change children: ', _this._owner, msg, resource);\n\n      if (children) {\n        _this._changeObject(children._syncObj, msg);\n      } else {\n        log.warn('No children found for: ', childId);\n      }\n    }\n  }, {\n    key: 'metadata',\n    get: function get() {\n      return this._metadata;\n    }\n\n    /**\r\n     * Object URL of reporter or observer\r\n     * @type {ObjectURL}\r\n     */\n\n  }, {\n    key: 'url',\n    get: function get() {\n      return this._url;\n    }\n\n    /**\r\n     * Object schema URL (this field is not yet stable, and is subsject to change)\r\n     * @type {SchemaURL}\r\n     */\n\n  }, {\n    key: 'schema',\n    get: function get() {\n      return this._schema;\n    }\n\n    /**\r\n     * Status of the reporter or observer connection (this field is not yet stable, and is subsject to change)\r\n     * @type {Status} - Enum of: on | paused\r\n     */\n\n  }, {\n    key: 'status',\n    get: function get() {\n      return this._status;\n    }\n\n    /**\r\n     * Data structure to be synchronized.\r\n     * @type {JSON} - JSON structure that should follow the defined schema, if any.\r\n     */\n\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._syncObj.data;\n    }\n\n    /**\r\n     * All created children's since the subscription, doesn't contain all children's since reporter creation.\r\n     * @type {Object<ChildId, DataObjectChild>}\r\n     */\n\n  }, {\n    key: 'childrens',\n    get: function get() {\n      return this._childrenObjects;\n    }\n  }]);\n  return DataObject;\n}();\n\nexports.default = DataObject;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0LmpzP2QyZGIiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nIiwiZ2V0TG9nZ2VyIiwiRGF0YU9iamVjdCIsImlucHV0IiwiX3RoaXMiLCJ0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IiLCJwYXIiLCJzeW5jaGVyIiwiX3N5bmNoZXIiLCJ1cmwiLCJfdXJsIiwiY3JlYXRlZCIsIl9jcmVhdGVkIiwicmVwb3J0ZXIiLCJfcmVwb3J0ZXIiLCJydW50aW1lIiwiX3J1bnRpbWUiLCJzY2hlbWEiLCJfc2NoZW1hIiwibmFtZSIsIl9uYW1lIiwiX3N0YXR1cyIsInN0YXR1cyIsImRhdGEiLCJfc3luY09iaiIsIlN5bmNPYmplY3QiLCJfY2hpbGRyZW5zIiwiY2hpbGRyZW5zIiwiX211dHVhbCIsIm11dHVhbCIsIl92ZXJzaW9uIiwiX2NoaWxkSWQiLCJfY2hpbGRyZW5MaXN0ZW5lcnMiLCJfb25BZGRDaGlsZHJlbkhhbmRsZXIiLCJfcmVzdW1lZCIsInJlc3VtZSIsInZlcnNpb24iLCJfb3duZXIiLCJfYnVzIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJ0YWdzIiwiX3RhZ3MiLCJyZXNvdXJjZXMiLCJfcmVzb3VyY2VzIiwib2JzZXJ2ZXJTdG9yYWdlIiwiX29ic2VydmVyU3RvcmFnZSIsInB1YmxpY09ic2VydmF0aW9uIiwiX3B1YmxpY09ic2VydmF0aW9uIiwiX21ldGFkYXRhIiwibGFzdE1vZGlmaWVkIiwiYXV0aG9yaXNlIiwiX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkiLCJIeXBlcnR5UmVzb3VyY2VGYWN0b3J5IiwiX2NoaWxkcmVuT2JqZWN0cyIsIl9zaGFyZWRDaGlsZHMiLCJjaGlsZElkSW50IiwiY2hpbGRJZFN0cmluZyIsImZpbHRlciIsImtleSIsImNoaWxkSWQiLCJOdW1iZXIiLCJzcGxpdCIsImNoaWxkQmFzZVVSTCIsImZvckVhY2giLCJjaGlsZCIsImNoaWxkVVJMIiwibGlzdGVuZXIiLCJhZGRMaXN0ZW5lciIsIm1zZyIsImZyb20iLCJ0eXBlIiwiX29uQ2hpbGRDcmVhdGUiLCJfY2hhbmdlQ2hpbGRyZW4iLCJwdXNoIiwicmVtb3ZlIiwiY2hpbGRyZW4iLCJfcmVsZWFzZUxpc3RlbmVycyIsImNoaWxkcmVuUmVzb3VyY2UiLCJuZXdDaGlsZCIsImhhc093blByb3BlcnR5IiwidmFsdWUiLCJyZXNvdXJjZVR5cGUiLCJfcmVzdW1lSHlwZXJ0eVJlc291cmNlIiwiX3Jlc3VtZUNoaWxkIiwiY2hpbGRJbnB1dCIsInBhcmVudE9iamVjdCIsInBhcmVudCIsIkRhdGFPYmplY3RDaGlsZCIsImlkZW50aXR5IiwiZXZlbnQiLCJyZXNvdXJjZSIsImh5cGVydHlSZXNvdXJjZSIsImNyZWF0ZUh5cGVydHlSZXNvdXJjZSIsImluaXRpYWxEYXRhIiwicmVzb2x2ZSIsIm1zZ0NoaWxkUGF0aCIsIl9nZXRDaGlsZElucHV0Iiwic2hhcmUiLCJvbkNoYW5nZSIsIl9vbkNoYW5nZSIsInBhdGgiLCJkZWxldGVQcm9taXNlcyIsImNoaWxkT2JqIiwibWV0YWRhdGEiLCJkZWxldGUiLCJsZW5ndGgiLCJhbGwiLCJ0aGVuIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiX3J1bnRpbWVVcmwiLCJwMnBIYW5kbGVyIiwiX3AycEhhbmRsZXIiLCJwMnBSZXF1ZXN0ZXIiLCJfcDJwUmVxdWVzdGVyIiwiY3JlYXRlSHlwZXJ0eVJlc291cmNlV2l0aENvbnRlbnQiLCJjYWxsYmFjayIsInJlc3BvbnNlIiwidG8iLCJpZCIsImJvZHkiLCJjb2RlIiwicG9zdE1lc3NhZ2UiLCJfb25IeXBlcnR5UmVzb3VyY2VBZGRlZCIsIl9vbkNoaWxkQWRkZWQiLCJzdG9yZSIsIl9oeXBlcnR5RXZ0IiwiY2hpbGRJbmZvIiwiY2hhbmdlTXNnIiwic291cmNlIiwiYXR0cmlidXRlIiwiZmllbGQiLCJvVHlwZSIsIk9iamVjdFR5cGUiLCJPQkpFQ1QiLCJjVHlwZSIsIkNoYW5nZVR5cGUiLCJSRU1PVkUiLCJhdHRyaWJ1dGVUeXBlIiwiVVBEQVRFIiwib3BlcmF0aW9uIiwic3luY09iaiIsImZpbmRSZXN1bHQiLCJmaW5kQmVmb3JlIiwiQVJSQVkiLCJBREQiLCJhcnIiLCJvYmoiLCJpbmRleCIsImxhc3QiLCJBcnJheSIsInByb3RvdHlwZSIsInNwbGljZSIsImFwcGx5IiwiY29uY2F0IiwiZGl2aWRlZFVSTCIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwidW5kZWZpbmVkIiwiX2NoYW5nZU9iamVjdCIsIndhcm4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7SUFBWUEsTTs7QUFHWjs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBTEEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixZQUFqQixDQUFWLEMsQ0F6QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztBQVNBOzs7O0lBSU1DLFU7QUFDSjs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7Ozs7O0FBS0Esc0JBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFDakIsUUFBSUMsUUFBUSxJQUFaOztBQUVBLGFBQVNDLDhCQUFULENBQXdDQyxHQUF4QyxFQUE2QztBQUMzQyxZQUFNLGtCQUFrQkEsR0FBbEIsR0FBd0IsaUNBQTlCO0FBQ0Q7O0FBRURILFVBQU1JLE9BQU4sR0FBZ0JILE1BQU1JLFFBQU4sR0FBaUJMLE1BQU1JLE9BQXZDLEdBQWlERiwrQkFBK0IsU0FBL0IsQ0FBakQ7QUFDQUYsVUFBTU0sR0FBTixHQUFhTCxNQUFNTSxJQUFOLEdBQWFQLE1BQU1NLEdBQWhDLEdBQXNDSiwrQkFBK0IsS0FBL0IsQ0FBdEM7QUFDQUYsVUFBTVEsT0FBTixHQUFnQlAsTUFBTVEsUUFBTixHQUFpQlQsTUFBTVEsT0FBdkMsR0FBaUROLCtCQUErQixTQUEvQixDQUFqRDtBQUNBRixVQUFNVSxRQUFOLEdBQWlCVCxNQUFNVSxTQUFOLEdBQWtCWCxNQUFNVSxRQUF6QyxHQUFvRFIsK0JBQStCLFVBQS9CLENBQXBEO0FB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cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG5cclxuLy8gTG9nIFN5c3RlbVxyXG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnbG9nbGV2ZWwnO1xyXG5sZXQgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignRGF0YU9iamVjdCcpO1xyXG5cclxuaW1wb3J0IFN5bmNPYmplY3QsIHtDaGFuZ2VUeXBlLCBPYmplY3RUeXBlfSBmcm9tICcuL1Byb3h5T2JqZWN0JztcclxuaW1wb3J0IERhdGFPYmplY3RDaGlsZCBmcm9tICcuL0RhdGFPYmplY3RDaGlsZCc7XHJcbmltcG9ydCB7IGRlZXBDbG9uZSwgZGl2aWRlVVJMIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnO1xyXG5pbXBvcnQgSHlwZXJ0eVJlc291cmNlRmFjdG9yeSBmcm9tICcuLi9oeXBlcnR5LXJlc291cmNlL0h5cGVydHlSZXNvdXJjZUZhY3RvcnkuanMnO1xyXG5cclxuLyoqXHJcbiAqIE1haW4gZXh0ZW5zaW9uIGNsYXNzIGZvciBvYnNlcnZlcnMgYW5kIHJlcG9ydGVycywgd2l0aCBjb21tb24gcHJvcGVydGllcyBhbmQgbWV0aG9kcy5cclxuICogQ2hpbGRyZW4gbWFuYWdlbWVudCBpcyBjb21tb24gZm9yIG9ic2VydmVycyBhbmQgcmVwb3J0ZXJzLlxyXG4gKi9cclxuY2xhc3MgRGF0YU9iamVjdCB7XHJcbiAgLyogcHJpdmF0ZVxyXG4gIF92ZXJzaW9uOiBudW1iZXJcclxuXHJcbiAgX293bmVyOiBIeXBlcnR5VVJMXHJcbiAgX3VybDogT2JqZWN0VVJMXHJcbiAgX3NjaGVtYTogU2NoZW1hXHJcbiAgX2J1czogTWluaUJ1c1xyXG4gIF9zdGF0dXM6IG9uIHwgcGF1c2VkXHJcbiAgX3N5bmNPYmo6IFN5bmNEYXRhXHJcblxyXG4gIF9jaGlsZHJlbjogeyBpZDogRGF0YU9iamVjdENoaWxkIH1cclxuICBfY2hpbGRyZW5MaXN0ZW5lcnM6IFtNc2dMaXN0ZW5lcl1cclxuXHJcbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxyXG4gIF9vbkFkZENoaWxkSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXHJcbiAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQGlnbm9yZVxyXG4gICAqIFNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseSBieSBIeXBlcnRpZXMuIEl0J3MgY2FsbGVkIGJ5IHRoZSBTeW5jaGVyIGNyZWF0ZSBvciBzdWJzY3JpYmUgbWV0aG9kJ3NcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gdGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKHBhcikge1xyXG4gICAgICB0aHJvdyAnW0RhdGFPYmplY3RdICcgKyBwYXIgKyAnIG1hbmRhdG9yeSBwYXJhbWV0ZXIgaXMgbWlzc2luZyc7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXQuc3luY2hlciA/IF90aGlzLl9zeW5jaGVyID0gaW5wdXQuc3luY2hlciA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcignc3luY2hlcicpO1xyXG4gICAgaW5wdXQudXJsID8gIF90aGlzLl91cmwgPSBpbnB1dC51cmwgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3VybCcpO1xyXG4gICAgaW5wdXQuY3JlYXRlZCA/IF90aGlzLl9jcmVhdGVkID0gaW5wdXQuY3JlYXRlZCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcignY3JlYXRlZCcpO1xyXG4gICAgaW5wdXQucmVwb3J0ZXIgPyBfdGhpcy5fcmVwb3J0ZXIgPSBpbnB1dC5yZXBvcnRlciA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigncmVwb3J0ZXInKTtcclxuICAgIGlucHV0LnJ1bnRpbWUgPyBfdGhpcy5fcnVudGltZSA9IGlucHV0LnJ1bnRpbWUgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3J1bnRpbWUnKTtcclxuICAgIGlucHV0LnNjaGVtYSA/IF90aGlzLl9zY2hlbWEgPSBpbnB1dC5zY2hlbWEgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3NjaGVtYScpO1xyXG4gICAgaW5wdXQubmFtZSA/IF90aGlzLl9uYW1lID0gaW5wdXQubmFtZSA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcignbmFtZScpO1xyXG5cclxuXHJcbiAgICBfdGhpcy5fc3RhdHVzID0gaW5wdXQuc3RhdHVzO1xyXG5cclxuICAgIGlmIChpbnB1dC5kYXRhKSB7XHJcbiAgICAgIF90aGlzLl9zeW5jT2JqID0gbmV3IFN5bmNPYmplY3QoaW5wdXQuZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfdGhpcy5fc3luY09iaiA9IG5ldyBTeW5jT2JqZWN0KHt9KTtcclxuICAgIH1cclxuICAgIF90aGlzLl9jaGlsZHJlbnMgPSBpbnB1dC5jaGlsZHJlbnM7XHJcblxyXG4gICAgLy9UT0RPOiBGb3IgRnVydGhlciBTdHVkeVxyXG4gICAgX3RoaXMuX211dHVhbCA9IGlucHV0Lm11dHVhbDtcclxuXHJcbiAgICBfdGhpcy5fdmVyc2lvbiA9IDA7XHJcbiAgICBfdGhpcy5fY2hpbGRJZCA9IDA7XHJcbiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTsgLy9idXMgbGlzdGVuZXJzIHBlciBjaGlsZHJlblxyXG4gICAgX3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyOyAvL0h5cGVydHkgc2lkZSBoYW5kbGVycyB0byBwcm9jZXNzIGNoaWxkIG9iamVjdHMgY3JlYXRlZCBieSByZW1vdGUgSHlwZXJ0aWVzXHJcblxyXG4gICAgX3RoaXMuX3Jlc3VtZWQgPSBpbnB1dC5yZXN1bWU7XHJcblxyXG4gICAgaWYgKGlucHV0LnJlc3VtZSkgeyBfdGhpcy5fdmVyc2lvbiA9IGlucHV0LnZlcnNpb247IH1cclxuXHJcbiAgICBfdGhpcy5fb3duZXIgPSBpbnB1dC5zeW5jaGVyLl9vd25lcjtcclxuICAgIF90aGlzLl9idXMgPSBpbnB1dC5zeW5jaGVyLl9idXM7XHJcblxyXG4gICAgaWYgKGlucHV0LmRlc2NyaXB0aW9uKSBfdGhpcy5fZGVzY3JpcHRpb24gPSBpbnB1dC5kZXNjcmlwdGlvbjtcclxuICAgIGlmIChpbnB1dC50YWdzKSBfdGhpcy5fdGFncyA9IGlucHV0LnRhZ3M7XHJcbiAgICBpZiAoaW5wdXQucmVzb3VyY2VzKSBfdGhpcy5fcmVzb3VyY2VzID0gaW5wdXQucmVzb3VyY2VzO1xyXG4gICAgaWYgKGlucHV0Lm9ic2VydmVyU3RvcmFnZSkgX3RoaXMuX29ic2VydmVyU3RvcmFnZSA9IGlucHV0Lm9ic2VydmVyU3RvcmFnZTtcclxuICAgIGlmIChpbnB1dC5wdWJsaWNPYnNlcnZhdGlvbikgX3RoaXMuX3B1YmxpY09ic2VydmF0aW9uID0gaW5wdXQucHVibGljT2JzZXJ2YXRpb247XHJcblxyXG4gICAgX3RoaXMuX21ldGFkYXRhID0gT2JqZWN0LmFzc2lnbihpbnB1dCk7XHJcbiAgICBfdGhpcy5fbWV0YWRhdGEubGFzdE1vZGlmaWVkID0gX3RoaXMuX21ldGFkYXRhLmNyZWF0ZWQ7XHJcblxyXG4gICAgZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5kYXRhO1xyXG4gICAgZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5zeW5jaGVyO1xyXG4gICAgZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5hdXRob3Jpc2U7XHJcblxyXG4gICAgX3RoaXMuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkgPSBuZXcgSHlwZXJ0eVJlc291cmNlRmFjdG9yeSgpO1xyXG4gICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0cyA9IHt9O1xyXG4gICAgX3RoaXMuX3NoYXJlZENoaWxkcyA9IFtdOyAvL2NoaWxkT2JqZWN0cyB0aGF0IHdlcmUgbm90IHNlbnQgeWV0IHRvIFJlcG9ydGVyc1xyXG4gIH1cclxuXHJcbiAgX2dldExhc3RDaGlsZElkKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsZXQgY2hpbGRJZEludCA9IDA7XHJcbiAgICBsZXQgY2hpbGRJZFN0cmluZyA9IF90aGlzLl9vd25lciArICcjJyArIGNoaWxkSWRJbnQ7XHJcblxyXG5cclxuICAgIE9iamVjdC5rZXlzKF90aGlzLl9jaGlsZHJlbnMpLmZpbHRlcigoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChfdGhpcy5fY2hpbGRyZW5zW2tleV0uY2hpbGRJZCA+IGNoaWxkSWRTdHJpbmcpIHtcclxuICAgICAgICBjaGlsZElkU3RyaW5nID0gX3RoaXMuX2NoaWxkcmVuc1trZXldLmNoaWxkSWQ7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjaGlsZElkSW50ID0gTnVtYmVyKGNoaWxkSWRTdHJpbmcuc3BsaXQoJyMnKVsxXSk7XHJcbiAgfVxyXG5cclxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBjaGlsZEJhc2VVUkwgPSBfdGhpcy5fdXJsICsgJy9jaGlsZHJlbi8nO1xyXG4gICAgbG9nLmxvZygnW0RhdGEgT2JqZWN0IC0gQWxsb2NhdGVMaXN0ZW5lcnNdIC0gJywgX3RoaXMuX2NoaWxkcmVucyk7XHJcbiAgICBpZiAoX3RoaXMuX2NoaWxkcmVucykge1xyXG4gICAgICBfdGhpcy5fY2hpbGRyZW5zLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgbGV0IGNoaWxkVVJMID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7XHJcbiAgICAgICAgbGV0IGxpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihjaGlsZFVSTCwgKG1zZykgPT4ge1xyXG4gICAgICAgICAgLy9pZ25vcmUgbXNnIHNlbnQgYnkgaGltc2VsZlxyXG4gICAgICAgICAgaWYgKG1zZy5mcm9tICE9PSB0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICBsb2cubG9nKCdEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogJywgbXNnKTtcclxuICAgICAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xyXG4gICAgICAgICAgICAgIGNhc2UgJ2NyZWF0ZSc6IF90aGlzLl9vbkNoaWxkQ3JlYXRlKG1zZyk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6IGxvZy5sb2cobXNnKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDogX3RoaXMuX2NoYW5nZUNoaWxkcmVuKG1zZyk7IGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgIGxpc3RlbmVyLnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoY2hpbGRyZW4pID0+IHtcclxuICAgICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0pLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRdLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqL1xyXG4gIHJlc3VtZUNoaWxkcmVucyhjaGlsZHJlbnMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IGNoaWxkSWRTdHJpbmcgPSB0aGlzLl9vd25lciArICcjJyArIHRoaXMuX2NoaWxkSWQ7XHJcblxyXG5cclxuICAgIC8vc2V0dXAgY2hpbGRyZW5zIGRhdGEgZnJvbSBzdWJzY3JpcHRpb25cclxuICAgIE9iamVjdC5rZXlzKGNoaWxkcmVucykuZm9yRWFjaCgoY2hpbGRyZW5SZXNvdXJjZSkgPT4ge1xyXG4gICAgICBsZXQgY2hpbGRyZW4gPSBjaGlsZHJlbnNbY2hpbGRyZW5SZXNvdXJjZV07XHJcblxyXG4gICAgICAvL190aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5SZXNvdXJjZV0gPSB7fTtcclxuICAgICAgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmZvckVhY2goKGNoaWxkSWQpID0+IHtcclxuICAgICAgICBsZXQgbmV3Q2hpbGQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKCFfdGhpcy5fY2hpbGRyZW5PYmplY3RzLmhhc093blByb3BlcnR5KGNoaWxkcmVuUmVzb3VyY2UpKVxyXG4gICAgICAgICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlblJlc291cmNlXSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAoY2hpbGRyZW5bY2hpbGRJZF0udmFsdWUucmVzb3VyY2VUeXBlICYmICFfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuUmVzb3VyY2VdLmhhc093blByb3BlcnR5KGNoaWxkSWQpKSB7XHJcbiAgICAgICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdID0gX3RoaXMuX3Jlc3VtZUh5cGVydHlSZXNvdXJjZShjaGlsZHJlbltjaGlsZElkXSk7XHJcbiAgICAgICAgICBuZXdDaGlsZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICghX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlblJlc291cmNlXS5oYXNPd25Qcm9wZXJ0eShjaGlsZElkKSkge1xyXG5cclxuICAgICAgICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5SZXNvdXJjZV1bY2hpbGRJZF0gPSBfdGhpcy5fcmVzdW1lQ2hpbGQoY2hpbGRyZW5bY2hpbGRJZF0pO1xyXG4gICAgICAgICAgbG9nLmxvZygnW0RhdGFPYmplY3QucmVzdW1lQ2hpbGRyZW5zXSBuZXcgRGF0YU9iamVjdENoaWxkOiAnLCBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdKTtcclxuICAgICAgICAgIG5ld0NoaWxkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuZXdDaGlsZCAmJiBjaGlsZElkID4gY2hpbGRJZFN0cmluZykge1xyXG4gICAgICAgICAgY2hpbGRJZFN0cmluZyA9IGNoaWxkSWQ7XHJcbiAgICAgICAgICBsb2cubG9nKCdbRGF0YU9iamVjdFJlcG9ydGVyLnJlc3VtZUNoaWxkcmVuc10gLSByZXN1bWluZzogJywgdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NoaWxkSWQgPSBOdW1iZXIoY2hpbGRJZFN0cmluZy5zcGxpdCgnIycpWzFdKTtcclxuXHJcbiAgfVxyXG5cclxuICBfcmVzdW1lQ2hpbGQoaW5wdXQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgY2hpbGRJbnB1dCA9IGlucHV0LnZhbHVlO1xyXG4gICAgY2hpbGRJbnB1dC5wYXJlbnRPYmplY3QgPSBfdGhpcztcclxuICAgIGNoaWxkSW5wdXQucGFyZW50ID0gX3RoaXMuX3VybDtcclxuXHJcbiAgICBsZXQgY2hpbGQgPSBuZXcgRGF0YU9iamVjdENoaWxkKGNoaWxkSW5wdXQpO1xyXG5cclxuICAgIGNoaWxkLmlkZW50aXR5ID0gaW5wdXQuaWRlbnRpdHk7XHJcblxyXG4gICAgbGV0IGV2ZW50ID0ge1xyXG4gICAgICB0eXBlOiAnY3JlYXRlJyxcclxuICAgICAgZnJvbTogY2hpbGQucmVwb3J0ZXIsXHJcbiAgICAgIHVybDogY2hpbGQucGFyZW50LFxyXG4gICAgICB2YWx1ZTogY2hpbGQuZGF0YSxcclxuICAgICAgY2hpbGRJZDogY2hpbGQudXJsLFxyXG4gICAgICBpZGVudGl0eTogY2hpbGQuaWRlbnRpdHksXHJcbiAgICAgIGNoaWxkOiBjaGlsZFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoY2hpbGQucmVzb3VyY2VUeXBlKSB7XHJcbiAgICAgIGV2ZW50LnJlc291cmNlID0gY2hpbGQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChfdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIpIF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcihldmVudCk7XHJcblxyXG4gICAgcmV0dXJuIGNoaWxkO1xyXG5cclxuICB9XHJcblxyXG4gIF9yZXN1bWVIeXBlcnR5UmVzb3VyY2UoaW5wdXQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgY2hpbGRJbnB1dCA9IGlucHV0LnZhbHVlO1xyXG4gICAgY2hpbGRJbnB1dC5wYXJlbnRPYmplY3QgPSBfdGhpcztcclxuICAgIGNoaWxkSW5wdXQucGFyZW50ID0gX3RoaXMuX3VybDtcclxuXHJcbiAgICBsZXQgaHlwZXJ0eVJlc291cmNlID0gX3RoaXMuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlKGZhbHNlLCBjaGlsZElucHV0LnJlc291cmNlVHlwZSwgY2hpbGRJbnB1dClcclxuXHJcbiAgICBoeXBlcnR5UmVzb3VyY2UuaWRlbnRpdHkgPSBpbnB1dC5pZGVudGl0eTtcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6ICdjcmVhdGUnLFxyXG4gICAgICBmcm9tOiBoeXBlcnR5UmVzb3VyY2UucmVwb3J0ZXIsXHJcbiAgICAgIHVybDogaHlwZXJ0eVJlc291cmNlLnBhcmVudCxcclxuICAgICAgdmFsdWU6IGh5cGVydHlSZXNvdXJjZS5kYXRhLFxyXG4gICAgICBjaGlsZElkOiBoeXBlcnR5UmVzb3VyY2UudXJsLFxyXG4gICAgICBpZGVudGl0eTogaHlwZXJ0eVJlc291cmNlLmlkZW50aXR5LFxyXG4gICAgICBjaGlsZDogaHlwZXJ0eVJlc291cmNlXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChoeXBlcnR5UmVzb3VyY2UucmVzb3VyY2VUeXBlKSB7XHJcbiAgICAgIGV2ZW50LnJlc291cmNlID0gaHlwZXJ0eVJlc291cmNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKSBfdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIoZXZlbnQpO1xyXG5cclxuICAgIHJldHVybiBoeXBlcnR5UmVzb3VyY2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBbGwgTWV0YWRhdGEgYWJvdXQgdGhlIERhdGEgT2JqZWN0XHJcbiAgICogQHR5cGUge09iamVjdH0gLVxyXG4gICAqL1xyXG5cclxuICBnZXQgbWV0YWRhdGEoKSB7IHJldHVybiB0aGlzLl9tZXRhZGF0YTsgfVxyXG5cclxuICAvKipcclxuICAgKiBPYmplY3QgVVJMIG9mIHJlcG9ydGVyIG9yIG9ic2VydmVyXHJcbiAgICogQHR5cGUge09iamVjdFVSTH1cclxuICAgKi9cclxuICBnZXQgdXJsKCkgeyByZXR1cm4gdGhpcy5fdXJsOyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9iamVjdCBzY2hlbWEgVVJMICh0aGlzIGZpZWxkIGlzIG5vdCB5ZXQgc3RhYmxlLCBhbmQgaXMgc3Vic2plY3QgdG8gY2hhbmdlKVxyXG4gICAqIEB0eXBlIHtTY2hlbWFVUkx9XHJcbiAgICovXHJcbiAgZ2V0IHNjaGVtYSgpIHsgcmV0dXJuIHRoaXMuX3NjaGVtYTsgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGF0dXMgb2YgdGhlIHJlcG9ydGVyIG9yIG9ic2VydmVyIGNvbm5lY3Rpb24gKHRoaXMgZmllbGQgaXMgbm90IHlldCBzdGFibGUsIGFuZCBpcyBzdWJzamVjdCB0byBjaGFuZ2UpXHJcbiAgICogQHR5cGUge1N0YXR1c30gLSBFbnVtIG9mOiBvbiB8IHBhdXNlZFxyXG4gICAqL1xyXG4gIGdldCBzdGF0dXMoKSB7IHJldHVybiB0aGlzLl9zdGF0dXM7IH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGF0YSBzdHJ1Y3R1cmUgdG8gYmUgc3luY2hyb25pemVkLlxyXG4gICAqIEB0eXBlIHtKU09OfSAtIEpTT04gc3RydWN0dXJlIHRoYXQgc2hvdWxkIGZvbGxvdyB0aGUgZGVmaW5lZCBzY2hlbWEsIGlmIGFueS5cclxuICAgKi9cclxuICBnZXQgZGF0YSgpIHsgcmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YTsgfVxyXG5cclxuICAvKipcclxuICAgKiBBbGwgY3JlYXRlZCBjaGlsZHJlbidzIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIGRvZXNuJ3QgY29udGFpbiBhbGwgY2hpbGRyZW4ncyBzaW5jZSByZXBvcnRlciBjcmVhdGlvbi5cclxuICAgKiBAdHlwZSB7T2JqZWN0PENoaWxkSWQsIERhdGFPYmplY3RDaGlsZD59XHJcbiAgICovXHJcbiAgZ2V0IGNoaWxkcmVucygpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0czsgfVxyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICovXHJcbiAgcGF1c2UoKSB7XHJcbiAgICAvL1RPRE86IHRoaXMgZmVhdHVyZSBuZWVkcyBtb3JlIGFuYWxpc2VcclxuICAgIHRocm93ICdOb3QgaW1wbGVtZW50ZWQnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGlnbm9yZVxyXG4gICAqL1xyXG4gIHJlc3VtZSgpIHtcclxuICAgIC8vVE9ETzogdGhpcyBmZWF0dXJlIG5lZWRzIG1vcmUgYW5hbGlzZVxyXG4gICAgdGhyb3cgJ05vdCBpbXBsZW1lbnRlZCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICovXHJcbiAgc3RvcCgpIHtcclxuICAgIC8vVE9ETzogc2hvdWxkIHJlbW92ZSB0aGUgc3Vic2NyaXB0aW9uIGFuZCBzZW5kIG1lc3NhZ2UgdW5zdWJzY3JpYmU/XHJcbiAgICB0aHJvdyAnTm90IGltcGxlbWVudGVkJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbmQgYWRkIGEgRGF0YU9iamVjdENoaWxkIHRvIGEgY2hpbGRyZW4gY29sbGVjdGlvbi5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hpbGRyZW4gLSBDaGlsZHJlbiBuYW1lIHdoZXJlIHRoZSBjaGlsZCBpcyBhZGRlZC5cclxuICAgKiBAcGFyYW0ge0pTT059IGluaXRpYWxEYXRhIC0gSW5pdGlhbCBkYXRhIG9mIHRoZSBjaGlsZFxyXG4gICAqIEBwYXJhbSAge01lc3NhZ2VCb2R5SWRlbnRpdHl9IGlkZW50aXR5IC0gKG9wdGlvbmFsKSBpZGVudGl0eSBkYXRhIHRvIGJlIGFkZGVkIHRvIGlkZW50aXR5IHRoZSB1c2VyIHJlcG9ydGVyLiBUbyBiZSB1c2VkIGZvciBsZWdhY3kgaWRlbnRpdGllcy5cclxuICAgKiBAcGFyYW0gIHtTeW5jQ2hpbGRNZXRhZGF0YX0gaW5wdXQgLSAob3B0aW9uYWwpIEFsbCBhZGRpdGlvbmFsIG1ldGFkYXRhIGFib3V0IHRoZSBEYXRhT2JqZWN0Q2hpbGQuXHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxEYXRhT2JqZWN0Q2hpbGQ+fSAtIFJldHVybiBQcm9taXNlIHRvIGEgbmV3IERhdGFPYmplY3RDaGlsZC5cclxuICAgKi9cclxuXHJcbiAgYWRkQ2hpbGQoY2hpbGRyZW4sIGluaXRpYWxEYXRhLCBpZGVudGl0eSwgaW5wdXQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgbmV3Q2hpbGQ7XHJcblxyXG4gICAgLy9yZXR1cm5zIHByb21pc2UsIGluIHRoZSBmdXR1cmUsIHRoZSBBUEkgbWF5IGNoYW5nZSB0byBhc3luY2hyb25vdXMgY2FsbFxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcblxyXG4gICAgICBsZXQgbXNnQ2hpbGRQYXRoID0gX3RoaXMuX3VybCArICcvY2hpbGRyZW4vJyArIGNoaWxkcmVuO1xyXG5cclxuXHJcbiAgICAgIGxldCBjaGlsZElucHV0ID0gX3RoaXMuX2dldENoaWxkSW5wdXQoaW5wdXQpO1xyXG4gICAgICBjaGlsZElucHV0LmRhdGEgPSBpbml0aWFsRGF0YTtcclxuICAgICAgY2hpbGRJbnB1dC5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICBuZXdDaGlsZCA9IG5ldyBEYXRhT2JqZWN0Q2hpbGQoY2hpbGRJbnB1dCk7XHJcblxyXG4gICAgICBpZiAoaWRlbnRpdHkpIG5ld0NoaWxkLmlkZW50aXR5ID0gaWRlbnRpdHk7XHJcblxyXG4gICAgICBuZXdDaGlsZC5zaGFyZSgpO1xyXG5cclxuICAgICAgbG9nLmxvZygnW0RhdGFPYmplY3QuYWRkQ2hpbGRdIGFkZGVkICcsIG5ld0NoaWxkKTtcclxuXHJcbiAgICAgIG5ld0NoaWxkLm9uQ2hhbmdlKChldmVudCkgPT4ge1xyXG4gICAgICAgIF90aGlzLl9vbkNoYW5nZShldmVudCwgeyBwYXRoOiBtc2dDaGlsZFBhdGgsIGNoaWxkSWQ6IGNoaWxkSW5wdXQudXJsIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghX3RoaXMuX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShjaGlsZHJlbikpIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5dID0ge307XHJcblxyXG4gICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXVtjaGlsZElucHV0LnVybF0gPSBuZXdDaGlsZDtcclxuXHJcbiAgICAgIHJlc29sdmUobmV3Q2hpbGQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZGVsZXRlQ2hpbGRyZW5zKCkge1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgZGVsZXRlUHJvbWlzZXMgPSBbXTtcclxuXHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGlmIChfdGhpcy5jaGlsZHJlbnMpIHtcclxuICAgICAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5kZWxldGVDaGlsZHJlbnNdJywgX3RoaXMuY2hpbGRyZW5zKTtcclxuICAgICAgICBsZXQgY2hpbGRyZW47XHJcblxyXG4gICAgICAgIGZvciAoY2hpbGRyZW4gaW4gX3RoaXMuY2hpbGRyZW5zKSB7XHJcbiAgICAgICAgICBsZXQgY2hpbGQ7XHJcbiAgICAgICAgICBmb3IgKGNoaWxkIGluIF90aGlzLmNoaWxkcmVuc1tjaGlsZHJlbl0pIHtcclxuICAgICAgICAgICAgbGV0IGNoaWxkT2JqID0gX3RoaXMuY2hpbGRyZW5zW2NoaWxkcmVuXVtjaGlsZF07XHJcbiAgICAgICAgICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0Ll9kZWxldGVDaGlsZHJlbnNdIGNoaWxkJyxjaGlsZE9iaik7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZE9iai5tZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eSgncmVzb3VyY2VUeXBlJykpXHJcbiAgICAgICAgICAgICAgZGVsZXRlUHJvbWlzZXMucHVzaChfdGhpcy5jaGlsZHJlbnNbY2hpbGRyZW5dW2NoaWxkXS5kZWxldGUoKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBwcm9taXNlcyAnLCBkZWxldGVQcm9taXNlcyk7XHJcblxyXG4gICAgICBpZiAoZGVsZXRlUHJvbWlzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIFByb21pc2UuYWxsKGRlbGV0ZVByb21pc2VzKS50aGVuKCgpPT57XHJcbiAgICAgICAgICByZXNvbHZlKCdbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBkb25lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSByZXNvbHZlKCdbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBub3RoaW5nIHRvIGRlbGV0ZScpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIF9nZXRDaGlsZElucHV0KGlucHV0KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGNoaWxkSW5wdXQgID0gT2JqZWN0LmFzc2lnbih7fSwgaW5wdXQpO1xyXG5cclxuICAgIF90aGlzLl9jaGlsZElkKys7XHJcbiAgICBjaGlsZElucHV0LnVybCA9IF90aGlzLl9vd25lciArICcjJyArIF90aGlzLl9jaGlsZElkO1xyXG5cclxuICAgIGNoaWxkSW5wdXQucGFyZW50T2JqZWN0ID0gX3RoaXM7XHJcbiAgICBjaGlsZElucHV0LnJlcG9ydGVyID0gX3RoaXMuX293bmVyO1xyXG4gICAgY2hpbGRJbnB1dC5jcmVhdGVkID0gKG5ldyBEYXRlKS50b0lTT1N0cmluZygpO1xyXG4gICAgY2hpbGRJbnB1dC5ydW50aW1lID0gX3RoaXMuX3N5bmNoZXIuX3J1bnRpbWVVcmw7XHJcbiAgICBjaGlsZElucHV0LnAycEhhbmRsZXIgPSBfdGhpcy5fc3luY2hlci5fcDJwSGFuZGxlcjtcclxuICAgIGNoaWxkSW5wdXQucDJwUmVxdWVzdGVyID0gX3RoaXMuX3N5bmNoZXIuX3AycFJlcXVlc3RlcjtcclxuICAgIGNoaWxkSW5wdXQuc2NoZW1hID0gX3RoaXMuX3NjaGVtYTtcclxuICAgIGNoaWxkSW5wdXQucGFyZW50ID0gX3RoaXMudXJsO1xyXG5cclxuICAgIHJldHVybiBjaGlsZElucHV0O1xyXG4gIH1cclxuXHJcbiAgYWRkSHlwZXJ0eVJlc291cmNlKGNoaWxkcmVuLCB0eXBlLCByZXNvdXJjZSwgaWRlbnRpdHksIGlucHV0KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vcmV0dXJucyBwcm9taXNlLCBpbiB0aGUgZnV0dXJlLCB0aGUgQVBJIG1heSBjaGFuZ2UgdG8gYXN5bmNocm9ub3VzIGNhbGxcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG5cclxuICAgICAgbGV0IGh5cGVydHlSZXNvdXJjZTtcclxuICAgICAgbGV0IG1zZ0NoaWxkUGF0aCA9IF90aGlzLl91cmwgKyAnL2NoaWxkcmVuLycgKyBjaGlsZHJlbjtcclxuXHJcbiAgICAgIGxldCBjaGlsZElucHV0ID0gX3RoaXMuX2dldENoaWxkSW5wdXQoaW5wdXQpO1xyXG4gICAgICBjaGlsZElucHV0LmNoaWxkcmVuID0gY2hpbGRyZW47XHJcblxyXG4gICAgICBfdGhpcy5faHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2VXaXRoQ29udGVudCh0cnVlLCB0eXBlLCByZXNvdXJjZSwgY2hpbGRJbnB1dCkudGhlbigocmVzb3VyY2UpPT57XHJcbiAgICAgICAgaHlwZXJ0eVJlc291cmNlID0gcmVzb3VyY2U7XHJcblxyXG4gICAgICAgIGlmIChpZGVudGl0eSkgaHlwZXJ0eVJlc291cmNlLmlkZW50aXR5ID0gaWRlbnRpdHk7XHJcblxyXG4gICAgICAgIGh5cGVydHlSZXNvdXJjZS5zaGFyZSgpO1xyXG5cclxuICAgICAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5hZGRIeXBlcnR5UmVzb3VyY2VdIGFkZGVkICcsIGh5cGVydHlSZXNvdXJjZSk7XHJcblxyXG4gICAgICAgIGh5cGVydHlSZXNvdXJjZS5vbkNoYW5nZSgoZXZlbnQpID0+IHtcclxuICAgICAgICAgIF90aGlzLl9vbkNoYW5nZShldmVudCwgeyBwYXRoOiBtc2dDaGlsZFBhdGgsIGNoaWxkSWQ6IGh5cGVydHlSZXNvdXJjZS5jaGlsZElkIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIV90aGlzLl9jaGlsZHJlbk9iamVjdHMuaGFzT3duUHJvcGVydHkoY2hpbGRyZW4pKSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXSA9IHt9O1xyXG5cclxuICAgICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXVtoeXBlcnR5UmVzb3VyY2UuY2hpbGRJZF0gPSBoeXBlcnR5UmVzb3VyY2U7XHJcblxyXG4gICAgICAgIHJlc29sdmUoaHlwZXJ0eVJlc291cmNlKTtcclxuICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgY3JlYXRlIGFuZCBkZWxldGUgb2YgY2hpbGRyZW5zLlxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2tcclxuICAgKiBUT0RPOiBhZGQgY2hpbGRyZW5JZCB0byBzdXBwb3J0IGRpZmZlcmVudCBoYW5kbGVycyBwZXIgY2hpbGRyZW5cclxuICAgKi9cclxuICBvbkFkZENoaWxkKGNhbGxiYWNrKSB7XHJcblxyXG4gICAgdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3QgLT4gYWRkQ2hpbGRcclxuICBfb25DaGlsZENyZWF0ZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbG9nLmxvZygnW0RhdGFPYmplY3QuX29uQ2hpbGRDcmVhdGVdIHJlY2VpdmVkQnkgJyArIF90aGlzLl9vd25lciArICcgOiAnLCBtc2cpO1xyXG5cclxuICAgIGxldCByZXNwb25zZSA9IHtcclxuICAgICAgZnJvbTogbXNnLnRvLFxyXG4gICAgICB0bzogbXNnLmZyb20sXHJcbiAgICAgIHR5cGU6ICdyZXNwb25zZScsXHJcbiAgICAgIGlkOiBtc2cuaWQsXHJcbiAgICAgIGJvZHk6IHtcclxuICAgICAgICBjb2RlOiAxMDBcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVzcG9uc2UpO1xyXG5cclxuICAgIGlmIChtc2cuYm9keS52YWx1ZS5yZXNvdXJjZVR5cGUpIHtcclxuICAgICAgX3RoaXMuX29uSHlwZXJ0eVJlc291cmNlQWRkZWQobXNnKTtcclxuICAgIH0gZWxzZSBfdGhpcy5fb25DaGlsZEFkZGVkKG1zZyk7XHJcbiAgfVxyXG5cclxuICBfb25DaGlsZEFkZGVkKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBjaGlsZElucHV0ID0gZGVlcENsb25lKG1zZy5ib2R5LnZhbHVlKTtcclxuICAgIGNoaWxkSW5wdXQucGFyZW50T2JqZWN0ID0gX3RoaXM7XHJcblxyXG4gICAgbGV0IGNoaWxkcmVuID0gY2hpbGRJbnB1dC5jaGlsZHJlbjtcclxuXHJcbiAgICBsZXQgbmV3Q2hpbGQgPSBuZXcgRGF0YU9iamVjdENoaWxkKGNoaWxkSW5wdXQpO1xyXG4gICAgbmV3Q2hpbGQuaWRlbnRpdHkgPSBtc2cuYm9keS5pZGVudGl0eTtcclxuXHJcblxyXG4gICAgaWYgKCFfdGhpcy5fY2hpbGRyZW5PYmplY3RzLmhhc093blByb3BlcnR5KGNoaWxkcmVuKSkgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0gPSB7fTtcclxuXHJcbiAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXVtjaGlsZElucHV0LnVybF0gPSBuZXdDaGlsZDtcclxuXHJcbiAgICBpZiAobXNnLnRvID09PSBfdGhpcy5tZXRhZGF0YS51cmwpIG5ld0NoaWxkLnN0b3JlKCk7XHJcblxyXG4gICAgX3RoaXMuX2h5cGVydHlFdnQobXNnLCBuZXdDaGlsZCk7XHJcbiAgfVxyXG5cclxuICBfb25IeXBlcnR5UmVzb3VyY2VBZGRlZChtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgaW5wdXQgPSBtc2cuYm9keS52YWx1ZTtcclxuICAgIGxldCBoeXBlcnR5UmVzb3VyY2U7XHJcblxyXG4gICAgbGV0IGNoaWxkcmVuID0gaW5wdXQuY2hpbGRyZW47XHJcblxyXG4gICAgaW5wdXQucGFyZW50T2JqZWN0ID0gX3RoaXM7XHJcblxyXG4gICAgaHlwZXJ0eVJlc291cmNlID0gX3RoaXMuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlKGZhbHNlLCBpbnB1dC5yZXNvdXJjZVR5cGUsIGlucHV0KTtcclxuICAgIGh5cGVydHlSZXNvdXJjZS5pZGVudGl0eSA9IG1zZy5ib2R5LmlkZW50aXR5O1xyXG5cclxuICAgIGlmICghX3RoaXMuX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShjaGlsZHJlbikpIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5dID0ge307XHJcblxyXG4gICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1baHlwZXJ0eVJlc291cmNlLmNoaWxkSWRdID0gaHlwZXJ0eVJlc291cmNlO1xyXG5cclxuICAgIF90aGlzLl9oeXBlcnR5RXZ0KG1zZywgaHlwZXJ0eVJlc291cmNlKTtcclxuXHJcbiAgICAvLyBsb2NhbGx5IHN0b3JlIG1lc3NhZ2VzIHRoYXQgYXJlIGRpcmVjdGx5IHNlbnQgdG8gdGhlIGh5cGVydHlcclxuICAgIC8vIGllIHRvIHN5bmMgd2l0aCBtZXNzYWdlcyBzZW50IHdoZW4gb2ZmbGluZVxyXG5cclxuICAgIGlmIChtc2cudG8gPT09IF90aGlzLm1ldGFkYXRhLnVybCkgaHlwZXJ0eVJlc291cmNlLnN0b3JlKCk7XHJcbiAgfVxyXG5cclxuICBfaHlwZXJ0eUV2dChtc2csIGNoaWxkKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgIGZyb206IG1zZy5mcm9tLFxyXG4gICAgICB1cmw6IG1zZy50byxcclxuICAgICAgdmFsdWU6IGNoaWxkLmRhdGEsXHJcbiAgICAgIGNoaWxkSWQ6IGNoaWxkLnVybCxcclxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5LFxyXG4gICAgICBjaGlsZDogY2hpbGRcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGNoaWxkLnJlc291cmNlVHlwZSkge1xyXG4gICAgICBldmVudC5yZXNvdXJjZSA9IGNoaWxkO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKSBfdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLy9zZW5kIGRlbHRhIG1lc3NhZ2VzIHRvIHN1YnNjcmlwdGlvbnNcclxuICBfb25DaGFuZ2UoZXZlbnQsIGNoaWxkSW5mbykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fbWV0YWRhdGEubGFzdE1vZGlmaWVkID0gKG5ldyBEYXRlKS50b0lTT1N0cmluZygpO1xyXG5cclxuICAgIF90aGlzLl92ZXJzaW9uKys7XHJcblxyXG4gICAgaWYgKF90aGlzLl9zdGF0dXMgPT09ICdsaXZlJykge1xyXG4gICAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IGRpcmVjdGx5IHRvIGEgcmVzb3VyY2UgY2hhbmdlcyBhZGRyZXNzOiBNZXNzYWdlQnVzXHJcbiAgICAgIGxldCBjaGFuZ2VNc2cgPSB7XHJcbiAgICAgICAgdHlwZTogJ3VwZGF0ZScsIGZyb206IF90aGlzLl91cmwsIHRvOiBfdGhpcy5fdXJsICsgJy9jaGFuZ2VzJyxcclxuICAgICAgICBib2R5OiB7IHZlcnNpb246IF90aGlzLl92ZXJzaW9uLCBzb3VyY2U6IF90aGlzLl9vd25lciwgYXR0cmlidXRlOiBldmVudC5maWVsZCwgbGFzdE1vZGlmaWVkOiBfdGhpcy5fbWV0YWRhdGEubGFzdE1vZGlmaWVkIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0IC0gX29uQ2hhbmdlXSAtICcsIGV2ZW50LCBjaGlsZEluZm8sIGNoYW5nZU1zZyk7XHJcblxyXG4gICAgICBpZiAoZXZlbnQub1R5cGUgPT09IE9iamVjdFR5cGUuT0JKRUNUKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmNUeXBlICE9PSBDaGFuZ2VUeXBlLlJFTU9WRSkge1xyXG4gICAgICAgICAgY2hhbmdlTXNnLmJvZHkudmFsdWUgPSBkZWVwQ2xvbmUoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYW5nZU1zZy5ib2R5LmF0dHJpYnV0ZVR5cGUgPSBldmVudC5vVHlwZTtcclxuICAgICAgICBjaGFuZ2VNc2cuYm9keS52YWx1ZSA9IGV2ZW50LmRhdGE7XHJcbiAgICAgICAgaWYgKGV2ZW50LmNUeXBlICE9PSBDaGFuZ2VUeXBlLlVQREFURSkge1xyXG4gICAgICAgICAgY2hhbmdlTXNnLmJvZHkub3BlcmF0aW9uID0gZXZlbnQuY1R5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL2NoaWxkSW5mbyBtdXN0IGhhdmUgKHBhdGgsIGNoaWxkSWQpXHJcbiAgICAgIGlmIChjaGlsZEluZm8pIHtcclxuICAgICAgICBjaGFuZ2VNc2cudG8gPSBjaGlsZEluZm8ucGF0aDtcclxuICAgICAgICBjaGFuZ2VNc2cuYm9keS5yZXNvdXJjZSA9IGNoaWxkSW5mby5jaGlsZElkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgICAgIGlmICghX3RoaXMuZGF0YS5fbXV0dWFsKSBjaGFuZ2VNc2cuYm9keS5tdXR1YWwgPSBfdGhpcy5fbXV0dWFsO1xyXG5cclxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShjaGFuZ2VNc2cpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBkZWx0YSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdFJlcG9ydGVyIG9yIERhdGFPYmplY3RDaGlsZCB3aGVuIGNoYW5naW5nIGRhdGFcclxuICBfY2hhbmdlT2JqZWN0KHN5bmNPYmosIG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICAvL1RPRE86IHVwZGF0ZSB2ZXJzaW9uID9cclxuICAgIC8vaG93IHRvIGhhbmRsZSBhbiBpbmNvcnJlY3QgdmVyc2lvbiA/IEV4YW1wbGU6IHJlY2VpdmUgYSB2ZXJzaW9uIDMgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgaW4gdmVyc2lvbiAxLCB3aGVyZSBpcyB0aGUgdmVyc2lvbiAyID9cclxuICAgIC8vd2lsbCB3ZSBuZWVkIHRvIGNvbmZpcm0gdGhlIHJlY2VwdGlvbiA/XHJcbiAgICBpZiAoX3RoaXMuX3ZlcnNpb24gKyAxIDw9IG1zZy5ib2R5LnZlcnNpb24pIHtcclxuICAgICAgX3RoaXMuX3ZlcnNpb24gPSBtc2cuYm9keS52ZXJzaW9uO1xyXG4gICAgICBsZXQgcGF0aCA9IG1zZy5ib2R5LmF0dHJpYnV0ZTtcclxuICAgICAgbGV0IHZhbHVlO1xyXG4gICAgICBpZiAodHlwZW9mIG1zZy5ib2R5LnZhbHVlID09PSAnb2JqZWN0JykgdmFsdWUgPSBkZWVwQ2xvbmUobXNnLmJvZHkudmFsdWUpO1xyXG4gICAgICBlbHNlIHZhbHVlID0gbXNnLmJvZHkudmFsdWU7XHJcblxyXG4gICAgICBsZXQgZmluZFJlc3VsdCA9IHN5bmNPYmouZmluZEJlZm9yZShwYXRoKTtcclxuXHJcbiAgICAgIGlmIChtc2cuYm9keS5sYXN0TW9kaWZpZWQpIHtcclxuICAgICAgICBfdGhpcy5fbWV0YWRhdGEubGFzdE1vZGlmaWVkID0gbXNnLmJvZHkubGFzdE1vZGlmaWVkO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIF90aGlzLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWQgPSAobmV3IERhdGUpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtc2cuYm9keS5hdHRyaWJ1dGVUeXBlID09PSBPYmplY3RUeXBlLkFSUkFZKSB7XHJcbiAgICAgICAgaWYgKG1zZy5ib2R5Lm9wZXJhdGlvbiA9PT0gQ2hhbmdlVHlwZS5BREQpIHtcclxuICAgICAgICAgIGxldCBhcnIgPSBmaW5kUmVzdWx0Lm9iajtcclxuICAgICAgICAgIGxldCBpbmRleCA9IGZpbmRSZXN1bHQubGFzdDtcclxuICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYXJyLCBbaW5kZXgsIDBdLmNvbmNhdCh2YWx1ZSkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobXNnLmJvZHkub3BlcmF0aW9uID09PSBDaGFuZ2VUeXBlLlJFTU9WRSkge1xyXG4gICAgICAgICAgbGV0IGFyciA9IGZpbmRSZXN1bHQub2JqO1xyXG4gICAgICAgICAgbGV0IGluZGV4ID0gZmluZFJlc3VsdC5sYXN0O1xyXG4gICAgICAgICAgYXJyLnNwbGljZShpbmRleCwgdmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmaW5kUmVzdWx0Lm9ialtmaW5kUmVzdWx0Lmxhc3RdID0gdmFsdWU7IC8vIFVQREFURVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobXNnLmJvZHkuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcclxuICAgICAgICAgIGZpbmRSZXN1bHQub2JqW2ZpbmRSZXN1bHQubGFzdF0gPSB2YWx1ZTsgLy8gVVBEQVRFIG9yIEFERFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkZWxldGUgZmluZFJlc3VsdC5vYmpbZmluZFJlc3VsdC5sYXN0XTsgLy8gUkVNT1ZFXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvL1RPRE86IGhvdyB0byBoYW5kbGUgdW5zeW5jaHJvbml6ZWQgdmVyc2lvbnM/XHJcbiAgICAgIGxvZy5sb2coJ1VOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICcgKyBfdGhpcy5fdmVyc2lvbiArICcsIG1zZyA9PiAnICsgbXNnLmJvZHkudmVyc2lvbiArICcpJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBhIHJlbW90ZSBEYXRhT2JqZWN0Q2hpbGQgd2hlbiBjaGFuZ2luZyBkYXRhXHJcbiAgX2NoYW5nZUNoaWxkcmVuKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGNvbnN0IGRpdmlkZWRVUkwgPSBkaXZpZGVVUkwobXNnLnRvKTtcclxuICAgIGNvbnN0IGlkZW50aXR5ID0gZGl2aWRlZFVSTC5pZGVudGl0eTtcclxuICAgIGNvbnN0IHJlc291cmNlID0gaWRlbnRpdHkgPyBpZGVudGl0eS5zdWJzdHJpbmcoaWRlbnRpdHkubGFzdEluZGV4T2YoJy8nKSArIDEpIDogdW5kZWZpbmVkO1xyXG5cclxuICAgIGxldCBjaGlsZElkID0gbXNnLmJvZHkucmVzb3VyY2U7XHJcbiAgICBsZXQgY2hpbGRyZW4gPSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW3Jlc291cmNlXVtjaGlsZElkXTtcclxuXHJcbiAgICBsb2cubG9nKCdDaGFuZ2UgY2hpbGRyZW46ICcsIF90aGlzLl9vd25lciwgbXNnLCByZXNvdXJjZSk7XHJcblxyXG4gICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgIF90aGlzLl9jaGFuZ2VPYmplY3QoY2hpbGRyZW4uX3N5bmNPYmosIG1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsb2cud2FybignTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAnLCBjaGlsZElkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///122\n")},function(module,exports){eval('//     proxy-observe v0.0.18\r\n//     Copyright (c) 2015, 2016 Simon Y. Blackwell, AnyWhichWay\r\n//     MIT License - http://opensource.org/licenses/mit-license.php\r\n(function() {\r\n\t"use strict";\r\n\t// Creates and returns a Proxy wrapping a target so that all changes can be trapped and forwarded to\r\n\t// a callback. The callback takes an array of changes just like the traditional original Chrome Object.observe\r\n\t// {object:<object changed>,name:<field changed>,type:add|update|delete|reconfigure|preventExtensions|setPrototype,oldValue:<old value if update | delete>}\r\n\t// The acceptlist can be add|update|delete|reconfigure|preventExtensions|setPrototype.\r\n\t// v 0.0.10 to support pausing and restarting observation two additional constructor arguments are available to Object.observe:\r\n\t// pausable - create the Observer so it can be paused\r\n\t// pause - create observer in paused state\r\n\t// if pausable is true then an additional method deliver(ignorePrevious) is available to start delivery\r\n\t// to pause delivery set a property called pause on the function deliver to true\r\n\t// pausable is optional to reduce the chance of shadowing a property or method on any existing code called deliver\r\n\tif(!Object.observe && typeof(Proxy)==="function") {\r\n\t\tfunction Observer(target,callback,acceptlist,pausable,pause,delay) {\r\n\t    \tvar me = this, proxy;\r\n\t    \tfunction deliver(ignorePrevious,delay) {\r\n\t    \t\tdeliver.delay = delay;\r\n\t    \t\tif(!deliver.pause) {\r\n\t        \t\tif(me.changeset.length>0) {\r\n\t        \t\t\tif(!ignorePrevious) {\r\n\t\t    \t    \t\tvar changes = me.changeset.filter(function(change) { return !acceptlist || acceptlist.indexOf(change.type)>=0; });\r\n\t\t        \t\t\tif(changes.length>0) {\r\n\t\t        \t\t\t\tcallback(changes);\r\n\t\t        \t\t\t}\r\n\t        \t\t\t}\r\n\t        \t\t\tme.changeset = [];\r\n\t        \t\t}\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \tdeliver.pause = pause;\r\n\t    \tdeliver.delay = delay;\r\n\t\t    me.get = function(target, property) {\r\n\t\t    \tif(property==="__observer__") {\r\n\t\t    \t\treturn me;\r\n\t\t    \t}\r\n\t\t    \tif(property==="unobserve") {\r\n\t\t    \t\treturn function() {\r\n\t\t    \t\t\tObject.unobserve(target);\r\n\t\t    \t\t\treturn target;\r\n\t\t    \t\t};\r\n\t\t    \t}\r\n\t\t    \tif(property==="deliver") {\r\n\t\t    \t\treturn deliver;\r\n\t\t    \t}\r\n\t\t    \treturn target[property];\r\n\t\t    }\r\n\t    \tme.target = target;\r\n\t    \tme.changeset = [];\r\n\t    \tif(!me.target.__observerCallbacks__) {\r\n\t    \t\t// __observerCallbacks__ is used as an index to get at the proxy which is the observer, so we can unobserve\r\n\t    \t\tObject.defineProperty(target,"__observerCallbacks__",{enumerable:false,configurable:true,writable:false,value:[]});\r\n\t    \t\tObject.defineProperty(target,"__observers__",{enumerable:false,configurable:true,writable:false,value:[]});\r\n\t    \t}\r\n\t    \tme.target.__observerCallbacks__.push(callback);\r\n\t    \tme.target.__observers__.push(this);\r\n\t    \tproxy = new Proxy(target,me);\r\n\t    \tdeliver(false,delay);\r\n\t    \treturn proxy;\r\n\t    }\r\n\t\tObserver.prototype.deliver = function() {\r\n\t\t\treturn this.get(null,"deliver");\r\n\t\t}\r\n\t    Observer.prototype.set = function(target, property, value) { // , receiver\r\n\t    \tvar oldvalue = target[property];\r\n\t    \tvar type = (oldvalue===undefined ? "add" : "update");\r\n\t    \ttarget[property] = value;\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && (!this.acceptlist || this.acceptlist.indexOf(type)>=0)) {\r\n\t        \tvar change = {object:target,name:property,type:type},\r\n\t        \t\tstart = this.changeset.length === 0,\r\n\t        \t\tdeliver = this.deliver();\r\n\t        \tif(type==="update") {\r\n\t        \t\tchange.oldValue = oldvalue;\r\n\t        \t}\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.deleteProperty = function(target, property) {\r\n\t    \tvar oldvalue = target[property];\r\n\t    \t//if(typeof(oldvalue)!=="undefined") {\r\n\t\t    \tdelete target[property];\r\n\t\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("delete")>=0) {\r\n\t\t        \tvar change = {object:target,name:property,type:"delete",oldValue:oldvalue},\r\n\t\t        \t\tstart = this.changeset.length === 0,\r\n\t\t        \t\tdeliver = this.deliver();\r\n\t\t        \tthis.changeset.push(change);\r\n\t\t        \tif(start) {\r\n\t\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t\t        \t}\r\n\t\t    \t}\r\n\t    \t//}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.defineProperty = function(target, property, descriptor) {\r\n\t    \tObject.defineProperty(target, property, descriptor);\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("reconfigure")>=0) {\r\n\t        \tvar change = {object:target,name:property,type:"reconfigure"},\r\n        \t\t\tstart = this.changeset.length === 0,\r\n        \t\t\tdeliver = this.deliver();\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.setPrototypeOf = function(target, prototype) {\r\n\t    \tvar oldvalue = Object.getPrototypeOf(target);\r\n\t    \tObject.setPrototypeOf(target, prototype);\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("setPrototype")>=0) {\r\n\t        \tvar change = {object:target,name:"__proto__",type:"setPrototype",oldValue:oldvalue},\r\n    \t\t\t\tstart = this.changeset.length === 0,\r\n    \t\t\t\tdeliver = this.deliver();\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.preventExtensions = function(target) {\r\n\t        Object.preventExtensions(target);\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("preventExtensions")>=0) {\r\n\t        \tvar change = {object:target,type:"preventExtensions"},\r\n\t\t\t\t\tstart = this.changeset.length === 0,\r\n\t\t\t\t\tdeliver = this.deliver();\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Object.observe = function(object,callback,acceptlist,pausable,pause,delay) {\r\n\t    \treturn new Observer(object,callback,acceptlist,pausable,pause,delay);\r\n\t    };\r\n\t    Object.unobserve = function(object,callback) {\r\n\t    \tif(object.__observerCallbacks__) {\r\n\t    \t\tif(!callback) {\r\n\t    \t\t\tobject.__observerCallbacks__.splice(0,object.__observerCallbacks__.length);\r\n\t    \t\t\tobject.__observers__.splice(0,object.__observers__.length);\r\n\t    \t\t\treturn;\r\n\t    \t\t}\r\n\t    \t\tobject.__observerCallbacks__.forEach(function(observercallback,i) {\r\n\t    \t\t\tif(callback===observercallback) {\r\n\t    \t\t\t\tobject.__observerCallbacks__.splice(i,1);\r\n\t    \t\t\t\tdelete object.__observers__[i].callback;\r\n\t    \t\t\t\tobject.__observers__.splice(i,1);\r\n\t    \t\t\t}\r\n\t    \t\t});\r\n\t    \t}\r\n\t    };\r\n\t    Array.observe = function(object,callback,acceptlist,pausable,pause,delay) {\r\n\t    \tif(!(object instanceof Array) && !Array.isArray(object)) {\r\n\t    \t\tthrow new TypeError("First argument to Array.observer is not an Array");\r\n\t    \t}\r\n            \tacceptlist = acceptlist || ["add", "update", "delete", "splice"];\r\n\t    \tvar arrayproxy = new Proxy(object,{get: function(target,property) {\r\n\t    \t\tif(property==="unobserve") {\r\n\t\t    \t\treturn function(callback) {\r\n\t\t    \t\t\tif(callback) {\r\n\t\t    \t\t\t\treturn Object.unobserve(target,callback);\r\n\t\t    \t\t\t}\r\n\t\t    \t\t\treturn target.unobserve();\r\n\t\t    \t\t};\r\n\t\t    \t}\r\n\t    \t\tif(property==="splice") {\r\n\t    \t\t\treturn function(start,end) {\r\n\t    \t\t\t\tif(typeof(start)!=="number" || typeof(end)!=="number") {\r\n\t    \t\t\t\t\tthrow new TypeError("First two arguments to Array splice are not number, number");\r\n\t    \t\t\t\t}\r\n\t    \t    \t\tvar removed = this.slice(start,start+end),\r\n\t    \t    \t\t\taddedCount = (arguments.length > 1 ? arguments.length-2 : 0),\r\n\t    \t    \t\t\tchange =  {object:object,type:"splice",index:start,removed:removed,addedCount:addedCount};\r\n\t    \t    \t\ttarget.splice.apply(target,arguments);\r\n\t    \t    \t\tif(acceptlist.indexOf("splice")>=0) {\r\n\t    \t    \t\t\tvar start = proxy.__observer__.changeset.length === 0,\r\n\t    \t        \t\t\tdeliver = proxy.__observer__.deliver();\r\n\t    \t    \t\t\tproxy.__observer__.changeset.push(change);\r\n\t    \t    \t\t\tif(start) {\r\n\t    \t\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t    \t\t        \t}\r\n\t    \t    \t\t}\r\n\t    \t    \t}\r\n\t    \t\t}\r\n\t    \t\tif(property==="push") {\r\n\t    \t\t\t return function(item) {\r\n\t    \t\t    \treturn this.splice(this.length,0,item);\r\n\t    \t\t    }\r\n\t    \t\t}\r\n\t    \t\tif(property==="pop") {\r\n\t    \t\t\t return function() {\r\n\t    \t\t    \treturn this.splice(this.length-1,1);\r\n\t    \t\t    }\r\n\t    \t\t}\r\n\t    \t\tif(property==="unshift") {\r\n\t    \t\t\t return function(item) {\r\n    \t\t    \t\treturn this.splice(0,0,item);\r\n    \t\t    \t}\r\n\t    \t\t}\r\n\t    \t\tif(property==="shift") {\r\n\t    \t\t\treturn function() {\r\n\t    \t    \t\treturn this.splice(0,1);\r\n\t    \t    \t}\r\n\t    \t\t}\r\n\t    \t\treturn target[property];\r\n\t    \t}});\r\n\t    \tvar proxy = Object.observe(arrayproxy,function(changeset) { \r\n\t    \t\tvar changes = changeset.filter(function(change) { return change.name!=="length" && change.name!=="add" && (!acceptlist || acceptlist.indexOf(change.type)>=0); });\r\n\t    \t\tif(changes.length>0) {\r\n\t    \t\t\tcallback(changes);\r\n\t    \t\t}\r\n\t    \t},acceptlist,pausable,pause,delay);\r\n\t    \treturn proxy;\r\n\t    };\r\n\t    Array.unobserve = function(object,callback) {\r\n\t\t  return object.unobserve(callback);\r\n\t    }\r\n\t}\r\n\tObject.deepObserve = function(object,callback,parts) {\r\n\r\n\t\tparts = (parts ? parts : []);\r\n\r\n\t\tvar toTypeName = function(obj) {\r\n\t\t\treturn ({}).toString.call(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()\r\n\t\t}\r\n\r\n\t\tfunction reobserve(value, parts) {\r\n\t\t\tvar keys = Object.keys(value);\r\n\t\t\tkeys.forEach(function(key) {\r\n\t\t\t\tif((toTypeName(value[key]) === \'object\' || toTypeName(value[key]) === \'array\') && !value[key].hasOwnProperty(\'__observers__\')) {\r\n\t\t\t\t\tvar newparts = parts.slice(0);\r\n\t\t\t\t\tnewparts.push(key);\r\n\t\t\t\t\tvalue[key] = Object.deepObserve(value[key],callback,newparts);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treobserve(object, parts);\r\n\r\n\t\tvar observed = Object.observe(object,function(changeset) {\r\n\t\t\tvar changes = [];\r\n\t\t\tfunction recurse(name,rootObject,oldObject,newObject,path) {\r\n\t\t\t\tif(newObject instanceof Object) {\r\n\t\t\t\t\tvar newkeys = Object.keys(newObject);\r\n\t\t\t\t\tnewkeys.forEach(function(key) {\r\n\t\t\t\t\t\tif(!oldObject || (oldObject[key]!==newObject[key])) {\r\n\t\t\t\t\t\t\tvar oldvalue = (oldObject && oldObject[key]!==undefined ? oldObject[key] : undefined),\r\n\t\t\t\t\t\t\t\tchange = (oldvalue===undefined ? "add" : "update"),\r\n\t\t\t\t\t\t\t\tkeypath = path + "." + key;\r\n\r\n\t\t\t\t\t\t\tchanges.push({name:name,object:rootObject,type:change,oldValue:oldvalue,newValue:newObject[key],keypath:keypath});\r\n\t\t\t\t\t\t\trecurse(name,rootObject,oldvalue,newObject[key],keypath);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if(oldObject instanceof Object) {\r\n\t\t\t\t\tvar oldkeys = Object.keys(oldObject);\r\n\t\t\t\t\toldkeys.forEach(function(key) {\r\n\t\t\t\t\t\tvar change = (newObject===null ? "update" : "delete"),\r\n\t\t\t\t\t\t\tkeypath = path + "." + key;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tchanges.push({name:name,object:rootObject,type:change,oldValue:oldObject[key],newValue:newObject,keypath:keypath});\r\n\t\t\t\t\t\trecurse(name,rootObject,oldObject[key],undefined,keypath);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tchangeset.forEach(function(change) {\r\n\t\t\t\tvar keypath = (parts.length>0 ? parts.join(".") + "." : "") + change.name;\r\n\r\n\t\t\t\tif (change.type === "update" || change.type === "add") { \r\n\t\t\t\t\treobserve(change.object, parts);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchanges.push({name:change.name,object:change.object,type:change.type,oldValue:change.oldValue,newValue:change.object[change.name],keypath:keypath});\r\n\t\t\t\trecurse(change.name,change.object,change.oldValue,change.object[change.name],keypath);\r\n\t\t\t});\r\n\t\t\tcallback(changes);\r\n\t\t});\r\n\t\treturn observed;\r\n\t};\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJveHktb2JzZXJ2ZS9pbmRleC5qcz8xMjBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwwREFBMEQsRUFBRTtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDJEQUEyRDtBQUN4SCxxREFBcUQsMkRBQTJEO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNDQUFzQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDREQUE0RDtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrQ0FBK0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUVBQXFFO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1Q0FBdUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsaUU7QUFDQSx3REFBd0QsNkdBQTZHLEVBQUU7QUFDdks7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLGtHQUFrRztBQUN2SDtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsbUdBQW1HO0FBQ3ZIO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0Isb0lBQW9JO0FBQ3RKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjEyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBwcm94eS1vYnNlcnZlIHYwLjAuMThcclxuLy8gICAgIENvcHlyaWdodCAoYykgMjAxNSwgMjAxNiBTaW1vbiBZLiBCbGFja3dlbGwsIEFueVdoaWNoV2F5XHJcbi8vICAgICBNSVQgTGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuKGZ1bmN0aW9uKCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdC8vIENyZWF0ZXMgYW5kIHJldHVybnMgYSBQcm94eSB3cmFwcGluZyBhIHRhcmdldCBzbyB0aGF0IGFsbCBjaGFuZ2VzIGNhbiBiZSB0cmFwcGVkIGFuZCBmb3J3YXJkZWQgdG9cclxuXHQvLyBhIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgdGFrZXMgYW4gYXJyYXkgb2YgY2hhbmdlcyBqdXN0IGxpa2UgdGhlIHRyYWRpdGlvbmFsIG9yaWdpbmFsIENocm9tZSBPYmplY3Qub2JzZXJ2ZVxyXG5cdC8vIHtvYmplY3Q6PG9iamVjdCBjaGFuZ2VkPixuYW1lOjxmaWVsZCBjaGFuZ2VkPix0eXBlOmFkZHx1cGRhdGV8ZGVsZXRlfHJlY29uZmlndXJlfHByZXZlbnRFeHRlbnNpb25zfHNldFByb3RvdHlwZSxvbGRWYWx1ZTo8b2xkIHZhbHVlIGlmIHVwZGF0ZSB8IGRlbGV0ZT59XHJcblx0Ly8gVGhlIGFjY2VwdGxpc3QgY2FuIGJlIGFkZHx1cGRhdGV8ZGVsZXRlfHJlY29uZmlndXJlfHByZXZlbnRFeHRlbnNpb25zfHNldFByb3RvdHlwZS5cclxuXHQvLyB2IDAuMC4xMCB0byBzdXBwb3J0IHBhdXNpbmcgYW5kIHJlc3RhcnRpbmcgb2JzZXJ2YXRpb24gdHdvIGFkZGl0aW9uYWwgY29uc3RydWN0b3IgYXJndW1lbnRzIGFyZSBhdmFpbGFibGUgdG8gT2JqZWN0Lm9ic2VydmU6XHJcblx0Ly8gcGF1c2FibGUgLSBjcmVhdGUgdGhlIE9ic2VydmVyIHNvIGl0IGNhbiBiZSBwYXVzZWRcclxuXHQvLyBwYXVzZSAtIGNyZWF0ZSBvYnNlcnZlciBpbiBwYXVzZWQgc3RhdGVcclxuXHQvLyBpZiBwYXVzYWJsZSBpcyB0cnVlIHRoZW4gYW4gYWRkaXRpb25hbCBtZXRob2QgZGVsaXZlcihpZ25vcmVQcmV2aW91cykgaXMgYXZhaWxhYmxlIHRvIHN0YXJ0IGRlbGl2ZXJ5XHJcblx0Ly8gdG8gcGF1c2UgZGVsaXZlcnkgc2V0IGEgcHJvcGVydHkgY2FsbGVkIHBhdXNlIG9uIHRoZSBmdW5jdGlvbiBkZWxpdmVyIHRvIHRydWVcclxuXHQvLyBwYXVzYWJsZSBpcyBvcHRpb25hbCB0byByZWR1Y2UgdGhlIGNoYW5jZSBvZiBzaGFkb3dpbmcgYSBwcm9wZXJ0eSBvciBtZXRob2Qgb24gYW55IGV4aXN0aW5nIGNvZGUgY2FsbGVkIGRlbGl2ZXJcclxuXHRpZighT2JqZWN0Lm9ic2VydmUgJiYgdHlwZW9mKFByb3h5KT09PVwiZnVuY3Rpb25cIikge1xyXG5cdFx0ZnVuY3Rpb24gT2JzZXJ2ZXIodGFyZ2V0LGNhbGxiYWNrLGFjY2VwdGxpc3QscGF1c2FibGUscGF1c2UsZGVsYXkpIHtcclxuXHQgICAgXHR2YXIgbWUgPSB0aGlzLCBwcm94eTtcclxuXHQgICAgXHRmdW5jdGlvbiBkZWxpdmVyKGlnbm9yZVByZXZpb3VzLGRlbGF5KSB7XHJcblx0ICAgIFx0XHRkZWxpdmVyLmRlbGF5ID0gZGVsYXk7XHJcblx0ICAgIFx0XHRpZighZGVsaXZlci5wYXVzZSkge1xyXG5cdCAgICAgICAgXHRcdGlmKG1lLmNoYW5nZXNldC5sZW5ndGg+MCkge1xyXG5cdCAgICAgICAgXHRcdFx0aWYoIWlnbm9yZVByZXZpb3VzKSB7XHJcblx0XHQgICAgXHQgICAgXHRcdHZhciBjaGFuZ2VzID0gbWUuY2hhbmdlc2V0LmZpbHRlcihmdW5jdGlvbihjaGFuZ2UpIHsgcmV0dXJuICFhY2NlcHRsaXN0IHx8IGFjY2VwdGxpc3QuaW5kZXhPZihjaGFuZ2UudHlwZSk+PTA7IH0pO1xyXG5cdFx0ICAgICAgICBcdFx0XHRpZihjaGFuZ2VzLmxlbmd0aD4wKSB7XHJcblx0XHQgICAgICAgIFx0XHRcdFx0Y2FsbGJhY2soY2hhbmdlcyk7XHJcblx0XHQgICAgICAgIFx0XHRcdH1cclxuXHQgICAgICAgIFx0XHRcdH1cclxuXHQgICAgICAgIFx0XHRcdG1lLmNoYW5nZXNldCA9IFtdO1xyXG5cdCAgICAgICAgXHRcdH1cclxuXHQgICAgXHRcdH1cclxuXHQgICAgXHR9XHJcblx0ICAgIFx0ZGVsaXZlci5wYXVzZSA9IHBhdXNlO1xyXG5cdCAgICBcdGRlbGl2ZXIuZGVsYXkgPSBkZWxheTtcclxuXHRcdCAgICBtZS5nZXQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5KSB7XHJcblx0XHQgICAgXHRpZihwcm9wZXJ0eT09PVwiX19vYnNlcnZlcl9fXCIpIHtcclxuXHRcdCAgICBcdFx0cmV0dXJuIG1lO1xyXG5cdFx0ICAgIFx0fVxyXG5cdFx0ICAgIFx0aWYocHJvcGVydHk9PT1cInVub2JzZXJ2ZVwiKSB7XHJcblx0XHQgICAgXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdCAgICBcdFx0XHRPYmplY3QudW5vYnNlcnZlKHRhcmdldCk7XHJcblx0XHQgICAgXHRcdFx0cmV0dXJuIHRhcmdldDtcclxuXHRcdCAgICBcdFx0fTtcclxuXHRcdCAgICBcdH1cclxuXHRcdCAgICBcdGlmKHByb3BlcnR5PT09XCJkZWxpdmVyXCIpIHtcclxuXHRcdCAgICBcdFx0cmV0dXJuIGRlbGl2ZXI7XHJcblx0XHQgICAgXHR9XHJcblx0XHQgICAgXHRyZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XTtcclxuXHRcdCAgICB9XHJcblx0ICAgIFx0bWUudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdCAgICBcdG1lLmNoYW5nZXNldCA9IFtdO1xyXG5cdCAgICBcdGlmKCFtZS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fKSB7XHJcblx0ICAgIFx0XHQvLyBfX29ic2VydmVyQ2FsbGJhY2tzX18gaXMgdXNlZCBhcyBhbiBpbmRleCB0byBnZXQgYXQgdGhlIHByb3h5IHdoaWNoIGlzIHRoZSBvYnNlcnZlciwgc28gd2UgY2FuIHVub2JzZXJ2ZVxyXG5cdCAgICBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxcIl9fb2JzZXJ2ZXJDYWxsYmFja3NfX1wiLHtlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlLHdyaXRhYmxlOmZhbHNlLHZhbHVlOltdfSk7XHJcblx0ICAgIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LFwiX19vYnNlcnZlcnNfX1wiLHtlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlLHdyaXRhYmxlOmZhbHNlLHZhbHVlOltdfSk7XHJcblx0ICAgIFx0fVxyXG5cdCAgICBcdG1lLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX18ucHVzaChjYWxsYmFjayk7XHJcblx0ICAgIFx0bWUudGFyZ2V0Ll9fb2JzZXJ2ZXJzX18ucHVzaCh0aGlzKTtcclxuXHQgICAgXHRwcm94eSA9IG5ldyBQcm94eSh0YXJnZXQsbWUpO1xyXG5cdCAgICBcdGRlbGl2ZXIoZmFsc2UsZGVsYXkpO1xyXG5cdCAgICBcdHJldHVybiBwcm94eTtcclxuXHQgICAgfVxyXG5cdFx0T2JzZXJ2ZXIucHJvdG90eXBlLmRlbGl2ZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KG51bGwsXCJkZWxpdmVyXCIpO1xyXG5cdFx0fVxyXG5cdCAgICBPYnNlcnZlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHsgLy8gLCByZWNlaXZlclxyXG5cdCAgICBcdHZhciBvbGR2YWx1ZSA9IHRhcmdldFtwcm9wZXJ0eV07XHJcblx0ICAgIFx0dmFyIHR5cGUgPSAob2xkdmFsdWU9PT11bmRlZmluZWQgPyBcImFkZFwiIDogXCJ1cGRhdGVcIik7XHJcblx0ICAgIFx0dGFyZ2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cdCAgICBcdGlmKHRhcmdldC5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAgJiYgKCF0aGlzLmFjY2VwdGxpc3QgfHwgdGhpcy5hY2NlcHRsaXN0LmluZGV4T2YodHlwZSk+PTApKSB7XHJcblx0ICAgICAgICBcdHZhciBjaGFuZ2UgPSB7b2JqZWN0OnRhcmdldCxuYW1lOnByb3BlcnR5LHR5cGU6dHlwZX0sXHJcblx0ICAgICAgICBcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcblx0ICAgICAgICBcdFx0ZGVsaXZlciA9IHRoaXMuZGVsaXZlcigpO1xyXG5cdCAgICAgICAgXHRpZih0eXBlPT09XCJ1cGRhdGVcIikge1xyXG5cdCAgICAgICAgXHRcdGNoYW5nZS5vbGRWYWx1ZSA9IG9sZHZhbHVlO1xyXG5cdCAgICAgICAgXHR9XHJcblx0ICAgICAgICBcdHRoaXMuY2hhbmdlc2V0LnB1c2goY2hhbmdlKTtcclxuXHQgICAgICAgIFx0aWYoc3RhcnQpIHtcclxuXHQgICAgICAgIFx0XHRkZWxpdmVyKGZhbHNlLCh0eXBlb2YoZGVsaXZlci5kZWxheSk9PT1cIm51bWJlclwiID8gZGVsaXZlci5kZWxheSA6IDEwKSk7XHJcblx0ICAgICAgICBcdH1cclxuXHQgICAgXHR9XHJcblx0ICAgIFx0cmV0dXJuIHRydWU7XHJcblx0ICAgIH07XHJcblx0ICAgIE9ic2VydmVyLnByb3RvdHlwZS5kZWxldGVQcm9wZXJ0eSA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcclxuXHQgICAgXHR2YXIgb2xkdmFsdWUgPSB0YXJnZXRbcHJvcGVydHldO1xyXG5cdCAgICBcdC8vaWYodHlwZW9mKG9sZHZhbHVlKSE9PVwidW5kZWZpbmVkXCIpIHtcclxuXHRcdCAgICBcdGRlbGV0ZSB0YXJnZXRbcHJvcGVydHldO1xyXG5cdFx0ICAgIFx0aWYodGFyZ2V0Ll9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCAmJiAhdGhpcy5hY2NlcHRsaXN0IHx8IHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKFwiZGVsZXRlXCIpPj0wKSB7XHJcblx0XHQgICAgICAgIFx0dmFyIGNoYW5nZSA9IHtvYmplY3Q6dGFyZ2V0LG5hbWU6cHJvcGVydHksdHlwZTpcImRlbGV0ZVwiLG9sZFZhbHVlOm9sZHZhbHVlfSxcclxuXHRcdCAgICAgICAgXHRcdHN0YXJ0ID0gdGhpcy5jaGFuZ2VzZXQubGVuZ3RoID09PSAwLFxyXG5cdFx0ICAgICAgICBcdFx0ZGVsaXZlciA9IHRoaXMuZGVsaXZlcigpO1xyXG5cdFx0ICAgICAgICBcdHRoaXMuY2hhbmdlc2V0LnB1c2goY2hhbmdlKTtcclxuXHRcdCAgICAgICAgXHRpZihzdGFydCkge1xyXG5cdFx0ICAgICAgICBcdFx0ZGVsaXZlcihmYWxzZSwodHlwZW9mKGRlbGl2ZXIuZGVsYXkpPT09XCJudW1iZXJcIiA/IGRlbGl2ZXIuZGVsYXkgOiAxMCkpO1xyXG5cdFx0ICAgICAgICBcdH1cclxuXHRcdCAgICBcdH1cclxuXHQgICAgXHQvL31cclxuXHQgICAgXHRyZXR1cm4gdHJ1ZTtcclxuXHQgICAgfTtcclxuXHQgICAgT2JzZXJ2ZXIucHJvdG90eXBlLmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG5cdCAgICBcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcclxuXHQgICAgXHRpZih0YXJnZXQuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wICYmICF0aGlzLmFjY2VwdGxpc3QgfHwgdGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoXCJyZWNvbmZpZ3VyZVwiKT49MCkge1xyXG5cdCAgICAgICAgXHR2YXIgY2hhbmdlID0ge29iamVjdDp0YXJnZXQsbmFtZTpwcm9wZXJ0eSx0eXBlOlwicmVjb25maWd1cmVcIn0sXHJcbiAgICAgICAgXHRcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcbiAgICAgICAgXHRcdFx0ZGVsaXZlciA9IHRoaXMuZGVsaXZlcigpO1xyXG5cdCAgICAgICAgXHR0aGlzLmNoYW5nZXNldC5wdXNoKGNoYW5nZSk7XHJcblx0ICAgICAgICBcdGlmKHN0YXJ0KSB7XHJcblx0ICAgICAgICBcdFx0ZGVsaXZlcihmYWxzZSwodHlwZW9mKGRlbGl2ZXIuZGVsYXkpPT09XCJudW1iZXJcIiA/IGRlbGl2ZXIuZGVsYXkgOiAxMCkpO1xyXG5cdCAgICAgICAgXHR9XHJcblx0ICAgIFx0fVxyXG5cdCAgICBcdHJldHVybiB0cnVlO1xyXG5cdCAgICB9O1xyXG5cdCAgICBPYnNlcnZlci5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbih0YXJnZXQsIHByb3RvdHlwZSkge1xyXG5cdCAgICBcdHZhciBvbGR2YWx1ZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpO1xyXG5cdCAgICBcdE9iamVjdC5zZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSk7XHJcblx0ICAgIFx0aWYodGFyZ2V0Ll9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCAmJiAhdGhpcy5hY2NlcHRsaXN0IHx8IHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKFwic2V0UHJvdG90eXBlXCIpPj0wKSB7XHJcblx0ICAgICAgICBcdHZhciBjaGFuZ2UgPSB7b2JqZWN0OnRhcmdldCxuYW1lOlwiX19wcm90b19fXCIsdHlwZTpcInNldFByb3RvdHlwZVwiLG9sZFZhbHVlOm9sZHZhbHVlfSxcclxuICAgIFx0XHRcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcbiAgICBcdFx0XHRcdGRlbGl2ZXIgPSB0aGlzLmRlbGl2ZXIoKTtcclxuXHQgICAgICAgIFx0dGhpcy5jaGFuZ2VzZXQucHVzaChjaGFuZ2UpO1xyXG5cdCAgICAgICAgXHRpZihzdGFydCkge1xyXG5cdCAgICAgICAgXHRcdGRlbGl2ZXIoZmFsc2UsKHR5cGVvZihkZWxpdmVyLmRlbGF5KT09PVwibnVtYmVyXCIgPyBkZWxpdmVyLmRlbGF5IDogMTApKTtcclxuXHQgICAgICAgIFx0fVxyXG5cdCAgICBcdH1cclxuXHQgICAgXHRyZXR1cm4gdHJ1ZTtcclxuXHQgICAgfTtcclxuXHQgICAgT2JzZXJ2ZXIucHJvdG90eXBlLnByZXZlbnRFeHRlbnNpb25zID0gZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0ICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnModGFyZ2V0KTtcclxuXHQgICAgXHRpZih0YXJnZXQuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wICYmICF0aGlzLmFjY2VwdGxpc3QgfHwgdGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKT49MCkge1xyXG5cdCAgICAgICAgXHR2YXIgY2hhbmdlID0ge29iamVjdDp0YXJnZXQsdHlwZTpcInByZXZlbnRFeHRlbnNpb25zXCJ9LFxyXG5cdFx0XHRcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcblx0XHRcdFx0XHRkZWxpdmVyID0gdGhpcy5kZWxpdmVyKCk7XHJcblx0ICAgICAgICBcdHRoaXMuY2hhbmdlc2V0LnB1c2goY2hhbmdlKTtcclxuXHQgICAgICAgIFx0aWYoc3RhcnQpIHtcclxuXHQgICAgICAgIFx0XHRkZWxpdmVyKGZhbHNlLCh0eXBlb2YoZGVsaXZlci5kZWxheSk9PT1cIm51bWJlclwiID8gZGVsaXZlci5kZWxheSA6IDEwKSk7XHJcblx0ICAgICAgICBcdH1cclxuXHQgICAgXHR9XHJcblx0ICAgIFx0cmV0dXJuIHRydWU7XHJcblx0ICAgIH07XHJcblx0ICAgIE9iamVjdC5vYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LGNhbGxiYWNrLGFjY2VwdGxpc3QscGF1c2FibGUscGF1c2UsZGVsYXkpIHtcclxuXHQgICAgXHRyZXR1cm4gbmV3IE9ic2VydmVyKG9iamVjdCxjYWxsYmFjayxhY2NlcHRsaXN0LHBhdXNhYmxlLHBhdXNlLGRlbGF5KTtcclxuXHQgICAgfTtcclxuXHQgICAgT2JqZWN0LnVub2JzZXJ2ZSA9IGZ1bmN0aW9uKG9iamVjdCxjYWxsYmFjaykge1xyXG5cdCAgICBcdGlmKG9iamVjdC5fX29ic2VydmVyQ2FsbGJhY2tzX18pIHtcclxuXHQgICAgXHRcdGlmKCFjYWxsYmFjaykge1xyXG5cdCAgICBcdFx0XHRvYmplY3QuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZSgwLG9iamVjdC5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKTtcclxuXHQgICAgXHRcdFx0b2JqZWN0Ll9fb2JzZXJ2ZXJzX18uc3BsaWNlKDAsb2JqZWN0Ll9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtcclxuXHQgICAgXHRcdFx0cmV0dXJuO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdFx0b2JqZWN0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKG9ic2VydmVyY2FsbGJhY2ssaSkge1xyXG5cdCAgICBcdFx0XHRpZihjYWxsYmFjaz09PW9ic2VydmVyY2FsbGJhY2spIHtcclxuXHQgICAgXHRcdFx0XHRvYmplY3QuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZShpLDEpO1xyXG5cdCAgICBcdFx0XHRcdGRlbGV0ZSBvYmplY3QuX19vYnNlcnZlcnNfX1tpXS5jYWxsYmFjaztcclxuXHQgICAgXHRcdFx0XHRvYmplY3QuX19vYnNlcnZlcnNfXy5zcGxpY2UoaSwxKTtcclxuXHQgICAgXHRcdFx0fVxyXG5cdCAgICBcdFx0fSk7XHJcblx0ICAgIFx0fVxyXG5cdCAgICB9O1xyXG5cdCAgICBBcnJheS5vYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LGNhbGxiYWNrLGFjY2VwdGxpc3QscGF1c2FibGUscGF1c2UsZGVsYXkpIHtcclxuXHQgICAgXHRpZighKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSAmJiAhQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XHJcblx0ICAgIFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gQXJyYXkub2JzZXJ2ZXIgaXMgbm90IGFuIEFycmF5XCIpO1xyXG5cdCAgICBcdH1cclxuICAgICAgICAgICAgXHRhY2NlcHRsaXN0ID0gYWNjZXB0bGlzdCB8fCBbXCJhZGRcIiwgXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJzcGxpY2VcIl07XHJcblx0ICAgIFx0dmFyIGFycmF5cHJveHkgPSBuZXcgUHJveHkob2JqZWN0LHtnZXQ6IGZ1bmN0aW9uKHRhcmdldCxwcm9wZXJ0eSkge1xyXG5cdCAgICBcdFx0aWYocHJvcGVydHk9PT1cInVub2JzZXJ2ZVwiKSB7XHJcblx0XHQgICAgXHRcdHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0ICAgIFx0XHRcdGlmKGNhbGxiYWNrKSB7XHJcblx0XHQgICAgXHRcdFx0XHRyZXR1cm4gT2JqZWN0LnVub2JzZXJ2ZSh0YXJnZXQsY2FsbGJhY2spO1xyXG5cdFx0ICAgIFx0XHRcdH1cclxuXHRcdCAgICBcdFx0XHRyZXR1cm4gdGFyZ2V0LnVub2JzZXJ2ZSgpO1xyXG5cdFx0ICAgIFx0XHR9O1xyXG5cdFx0ICAgIFx0fVxyXG5cdCAgICBcdFx0aWYocHJvcGVydHk9PT1cInNwbGljZVwiKSB7XHJcblx0ICAgIFx0XHRcdHJldHVybiBmdW5jdGlvbihzdGFydCxlbmQpIHtcclxuXHQgICAgXHRcdFx0XHRpZih0eXBlb2Yoc3RhcnQpIT09XCJudW1iZXJcIiB8fCB0eXBlb2YoZW5kKSE9PVwibnVtYmVyXCIpIHtcclxuXHQgICAgXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCB0d28gYXJndW1lbnRzIHRvIEFycmF5IHNwbGljZSBhcmUgbm90IG51bWJlciwgbnVtYmVyXCIpO1xyXG5cdCAgICBcdFx0XHRcdH1cclxuXHQgICAgXHQgICAgXHRcdHZhciByZW1vdmVkID0gdGhpcy5zbGljZShzdGFydCxzdGFydCtlbmQpLFxyXG5cdCAgICBcdCAgICBcdFx0XHRhZGRlZENvdW50ID0gKGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzLmxlbmd0aC0yIDogMCksXHJcblx0ICAgIFx0ICAgIFx0XHRcdGNoYW5nZSA9ICB7b2JqZWN0Om9iamVjdCx0eXBlOlwic3BsaWNlXCIsaW5kZXg6c3RhcnQscmVtb3ZlZDpyZW1vdmVkLGFkZGVkQ291bnQ6YWRkZWRDb3VudH07XHJcblx0ICAgIFx0ICAgIFx0XHR0YXJnZXQuc3BsaWNlLmFwcGx5KHRhcmdldCxhcmd1bWVudHMpO1xyXG5cdCAgICBcdCAgICBcdFx0aWYoYWNjZXB0bGlzdC5pbmRleE9mKFwic3BsaWNlXCIpPj0wKSB7XHJcblx0ICAgIFx0ICAgIFx0XHRcdHZhciBzdGFydCA9IHByb3h5Ll9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQubGVuZ3RoID09PSAwLFxyXG5cdCAgICBcdCAgICAgICAgXHRcdFx0ZGVsaXZlciA9IHByb3h5Ll9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7XHJcblx0ICAgIFx0ICAgIFx0XHRcdHByb3h5Ll9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQucHVzaChjaGFuZ2UpO1xyXG5cdCAgICBcdCAgICBcdFx0XHRpZihzdGFydCkge1xyXG5cdCAgICBcdFx0ICAgICAgICBcdFx0ZGVsaXZlcihmYWxzZSwodHlwZW9mKGRlbGl2ZXIuZGVsYXkpPT09XCJudW1iZXJcIiA/IGRlbGl2ZXIuZGVsYXkgOiAxMCkpO1xyXG5cdCAgICBcdFx0ICAgICAgICBcdH1cclxuXHQgICAgXHQgICAgXHRcdH1cclxuXHQgICAgXHQgICAgXHR9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRpZihwcm9wZXJ0eT09PVwicHVzaFwiKSB7XHJcblx0ICAgIFx0XHRcdCByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xyXG5cdCAgICBcdFx0ICAgIFx0cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLDAsaXRlbSk7XHJcblx0ICAgIFx0XHQgICAgfVxyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdFx0aWYocHJvcGVydHk9PT1cInBvcFwiKSB7XHJcblx0ICAgIFx0XHRcdCByZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0ICAgIFx0XHQgICAgXHRyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKTtcclxuXHQgICAgXHRcdCAgICB9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRpZihwcm9wZXJ0eT09PVwidW5zaGlmdFwiKSB7XHJcblx0ICAgIFx0XHRcdCByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgXHRcdCAgICBcdFx0cmV0dXJuIHRoaXMuc3BsaWNlKDAsMCxpdGVtKTtcclxuICAgIFx0XHQgICAgXHR9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRpZihwcm9wZXJ0eT09PVwic2hpZnRcIikge1xyXG5cdCAgICBcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0ICAgIFx0ICAgIFx0XHRyZXR1cm4gdGhpcy5zcGxpY2UoMCwxKTtcclxuXHQgICAgXHQgICAgXHR9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRyZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XTtcclxuXHQgICAgXHR9fSk7XHJcblx0ICAgIFx0dmFyIHByb3h5ID0gT2JqZWN0Lm9ic2VydmUoYXJyYXlwcm94eSxmdW5jdGlvbihjaGFuZ2VzZXQpIHsgXHJcblx0ICAgIFx0XHR2YXIgY2hhbmdlcyA9IGNoYW5nZXNldC5maWx0ZXIoZnVuY3Rpb24oY2hhbmdlKSB7IHJldHVybiBjaGFuZ2UubmFtZSE9PVwibGVuZ3RoXCIgJiYgY2hhbmdlLm5hbWUhPT1cImFkZFwiICYmICghYWNjZXB0bGlzdCB8fCBhY2NlcHRsaXN0LmluZGV4T2YoY2hhbmdlLnR5cGUpPj0wKTsgfSk7XHJcblx0ICAgIFx0XHRpZihjaGFuZ2VzLmxlbmd0aD4wKSB7XHJcblx0ICAgIFx0XHRcdGNhbGxiYWNrKGNoYW5nZXMpO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdH0sYWNjZXB0bGlzdCxwYXVzYWJsZSxwYXVzZSxkZWxheSk7XHJcblx0ICAgIFx0cmV0dXJuIHByb3h5O1xyXG5cdCAgICB9O1xyXG5cdCAgICBBcnJheS51bm9ic2VydmUgPSBmdW5jdGlvbihvYmplY3QsY2FsbGJhY2spIHtcclxuXHRcdCAgcmV0dXJuIG9iamVjdC51bm9ic2VydmUoY2FsbGJhY2spO1xyXG5cdCAgICB9XHJcblx0fVxyXG5cdE9iamVjdC5kZWVwT2JzZXJ2ZSA9IGZ1bmN0aW9uKG9iamVjdCxjYWxsYmFjayxwYXJ0cykge1xyXG5cclxuXHRcdHBhcnRzID0gKHBhcnRzID8gcGFydHMgOiBbXSk7XHJcblxyXG5cdFx0dmFyIHRvVHlwZU5hbWUgPSBmdW5jdGlvbihvYmopIHtcclxuXHRcdFx0cmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKClcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW9ic2VydmUodmFsdWUsIHBhcnRzKSB7XHJcblx0XHRcdHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xyXG5cdFx0XHRrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRcdFx0aWYoKHRvVHlwZU5hbWUodmFsdWVba2V5XSkgPT09ICdvYmplY3QnIHx8IHRvVHlwZU5hbWUodmFsdWVba2V5XSkgPT09ICdhcnJheScpICYmICF2YWx1ZVtrZXldLmhhc093blByb3BlcnR5KCdfX29ic2VydmVyc19fJykpIHtcclxuXHRcdFx0XHRcdHZhciBuZXdwYXJ0cyA9IHBhcnRzLnNsaWNlKDApO1xyXG5cdFx0XHRcdFx0bmV3cGFydHMucHVzaChrZXkpO1xyXG5cdFx0XHRcdFx0dmFsdWVba2V5XSA9IE9iamVjdC5kZWVwT2JzZXJ2ZSh2YWx1ZVtrZXldLGNhbGxiYWNrLG5ld3BhcnRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlb2JzZXJ2ZShvYmplY3QsIHBhcnRzKTtcclxuXHJcblx0XHR2YXIgb2JzZXJ2ZWQgPSBPYmplY3Qub2JzZXJ2ZShvYmplY3QsZnVuY3Rpb24oY2hhbmdlc2V0KSB7XHJcblx0XHRcdHZhciBjaGFuZ2VzID0gW107XHJcblx0XHRcdGZ1bmN0aW9uIHJlY3Vyc2UobmFtZSxyb290T2JqZWN0LG9sZE9iamVjdCxuZXdPYmplY3QscGF0aCkge1xyXG5cdFx0XHRcdGlmKG5ld09iamVjdCBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG5cdFx0XHRcdFx0dmFyIG5ld2tleXMgPSBPYmplY3Qua2V5cyhuZXdPYmplY3QpO1xyXG5cdFx0XHRcdFx0bmV3a2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRcdFx0XHRpZighb2xkT2JqZWN0IHx8IChvbGRPYmplY3Rba2V5XSE9PW5ld09iamVjdFtrZXldKSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBvbGR2YWx1ZSA9IChvbGRPYmplY3QgJiYgb2xkT2JqZWN0W2tleV0hPT11bmRlZmluZWQgPyBvbGRPYmplY3Rba2V5XSA6IHVuZGVmaW5lZCksXHJcblx0XHRcdFx0XHRcdFx0XHRjaGFuZ2UgPSAob2xkdmFsdWU9PT11bmRlZmluZWQgPyBcImFkZFwiIDogXCJ1cGRhdGVcIiksXHJcblx0XHRcdFx0XHRcdFx0XHRrZXlwYXRoID0gcGF0aCArIFwiLlwiICsga2V5O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRjaGFuZ2VzLnB1c2goe25hbWU6bmFtZSxvYmplY3Q6cm9vdE9iamVjdCx0eXBlOmNoYW5nZSxvbGRWYWx1ZTpvbGR2YWx1ZSxuZXdWYWx1ZTpuZXdPYmplY3Rba2V5XSxrZXlwYXRoOmtleXBhdGh9KTtcclxuXHRcdFx0XHRcdFx0XHRyZWN1cnNlKG5hbWUscm9vdE9iamVjdCxvbGR2YWx1ZSxuZXdPYmplY3Rba2V5XSxrZXlwYXRoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG9sZE9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG5cdFx0XHRcdFx0dmFyIG9sZGtleXMgPSBPYmplY3Qua2V5cyhvbGRPYmplY3QpO1xyXG5cdFx0XHRcdFx0b2xka2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgY2hhbmdlID0gKG5ld09iamVjdD09PW51bGwgPyBcInVwZGF0ZVwiIDogXCJkZWxldGVcIiksXHJcblx0XHRcdFx0XHRcdFx0a2V5cGF0aCA9IHBhdGggKyBcIi5cIiArIGtleTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y2hhbmdlcy5wdXNoKHtuYW1lOm5hbWUsb2JqZWN0OnJvb3RPYmplY3QsdHlwZTpjaGFuZ2Usb2xkVmFsdWU6b2xkT2JqZWN0W2tleV0sbmV3VmFsdWU6bmV3T2JqZWN0LGtleXBhdGg6a2V5cGF0aH0pO1xyXG5cdFx0XHRcdFx0XHRyZWN1cnNlKG5hbWUscm9vdE9iamVjdCxvbGRPYmplY3Rba2V5XSx1bmRlZmluZWQsa2V5cGF0aCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hhbmdlc2V0LmZvckVhY2goZnVuY3Rpb24oY2hhbmdlKSB7XHJcblx0XHRcdFx0dmFyIGtleXBhdGggPSAocGFydHMubGVuZ3RoPjAgPyBwYXJ0cy5qb2luKFwiLlwiKSArIFwiLlwiIDogXCJcIikgKyBjaGFuZ2UubmFtZTtcclxuXHJcblx0XHRcdFx0aWYgKGNoYW5nZS50eXBlID09PSBcInVwZGF0ZVwiIHx8IGNoYW5nZS50eXBlID09PSBcImFkZFwiKSB7IFxyXG5cdFx0XHRcdFx0cmVvYnNlcnZlKGNoYW5nZS5vYmplY3QsIHBhcnRzKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNoYW5nZXMucHVzaCh7bmFtZTpjaGFuZ2UubmFtZSxvYmplY3Q6Y2hhbmdlLm9iamVjdCx0eXBlOmNoYW5nZS50eXBlLG9sZFZhbHVlOmNoYW5nZS5vbGRWYWx1ZSxuZXdWYWx1ZTpjaGFuZ2Uub2JqZWN0W2NoYW5nZS5uYW1lXSxrZXlwYXRoOmtleXBhdGh9KTtcclxuXHRcdFx0XHRyZWN1cnNlKGNoYW5nZS5uYW1lLGNoYW5nZS5vYmplY3QsY2hhbmdlLm9sZFZhbHVlLGNoYW5nZS5vYmplY3RbY2hhbmdlLm5hbWVdLGtleXBhdGgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y2FsbGJhY2soY2hhbmdlcyk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBvYnNlcnZlZDtcclxuXHR9O1xyXG59KSgpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9wcm94eS1vYnNlcnZlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDUgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///123\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(25);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(33);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(34);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _HypertyResource2 = __webpack_require__(129);\n\nvar _HypertyResource3 = _interopRequireDefault(_HypertyResource2);\n\nvar _utils = __webpack_require__(19);\n\nvar _ImageTools = __webpack_require__(130);\n\nvar _ImageTools2 = _interopRequireDefault(_ImageTools);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('FileHypertyResource'); /**\r\n                                                   * The Hyperty Resource Data Model is used to model resouces handled by Hyperties and Data Objects including chat messages, files, real time human audio and video..\r\n                                                   *\r\n                                                   */\n\n// Log System\n\nvar FileHypertyResource = function (_HypertyResource) {\n  (0, _inherits3.default)(FileHypertyResource, _HypertyResource);\n\n  /**\r\n  * FileHypertyResource constructor\r\n  *\r\n  * @param  {URL} owner HypertyURL of the Hyperty handling this resource\r\n  * @param  {URL} runtime Runtime URL where this resource is hosted\r\n  * @param  {Bus} bus sandbox message bus\r\n  * @param  {DataObject} parent Parent Data Object where the HypertyResource is handled as a child\r\n  * @param  {File} file file to be encoded as HypertyResource\r\n  * @param  {Boolean} isReporter indicates if parent is Reporter or an Observer\r\n  * @param  {Array} input optional input parameters\r\n  */\n\n  function FileHypertyResource(isSender, input) {\n    (0, _classCallCheck3.default)(this, FileHypertyResource);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (FileHypertyResource.__proto__ || (0, _getPrototypeOf2.default)(FileHypertyResource)).call(this, isSender, input));\n\n    var _this = _this2;\n\n    _this.metadata.resourceType = 'file';\n\n    return _this2;\n  }\n\n  (0, _createClass3.default)(FileHypertyResource, [{\n    key: 'init',\n    value: function init(file) {\n      var _this = this;\n\n      if (!file) throw new Error('[FileHypertyResource.constructor] missing mandatory *file* input ');\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this._metadata.name = file.name;\n        _this._metadata.lastModified = file.lastModified;\n        _this._metadata.size = file.size;\n        _this._metadata.mimetype = file.type;\n\n        log.log('[FileHypertyResource.init] file: ', file);\n\n        if (_this._isSender) {\n\n          var mimetype = file.type.split('/')[0];\n\n          switch (mimetype) {\n            case 'image':\n              _this._getImagePreview(file).then(function (preview) {\n                _this._metadata.preview = preview;\n                _this._content = file;\n                resolve();\n              });\n              break;\n            default:\n              _this._content = file;\n              resolve();\n              break;\n          }\n\n          // if too big lets store as File and asArray Buffer\n\n          //  if (file.size > _this.arraybufferSizeLimit) {\n          /*  } else {\r\n                let reader = new FileReader();\r\n                reader.onload = function(theFile) {\r\n                  log.log('[FileHypertyResource.init] file loaded ', theFile);\r\n                  _this._content = theFile.target.result;\r\n                resolve();\r\n                }\r\n                reader.readAsArrayBuffer(file);\r\n              }*/\n        } else {\n          _this._content = file.content;\n          if (file.preview) _this._metadata.preview = file.preview;\n          resolve();\n        }\n      });\n    }\n  }, {\n    key: '_getImagePreview',\n    value: function _getImagePreview(image) {\n      var reader = new FileReader();\n      return new _promise2.default(function (resolve, reject) {\n\n        _ImageTools2.default.resize(image, {\n          width: 100, // maximum width\n          height: 100 // maximum height\n        }, function (blob, didItResize) {\n          // didItResize will be true if it managed to resize it, otherwise false (and will return the original file as 'blob')\n          if (didItResize) {\n            reader.readAsDataURL(blob);\n\n            reader.onload = function (theImage) {\n              resolve(theImage.target.result);\n            };\n          } else {\n            log.warn('[FileHypertyResource._getImagePreview] unable to create image preview from original image ');\n            resolve(undefined);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'toMessage',\n\n\n    /**\r\n    * Share file as a data object child of a data object parent\r\n    *\r\n    * @param  {string} children Data Object Parent children name where the file is shared\r\n    */\n\n    /*  share(children) {\r\n        let _this = this;\r\n    \r\n        return new Promise(function(resolve, reject) {\r\n          //to be improved and adapted\r\n    \r\n          if (!_this._isSender) return reject('[FileHypertyResource.share] Observers can not share files');\r\n    \r\n          let file2share = _this._metadata;\r\n          file2share.type = _this._type;\r\n    \r\n          _this._parent.addChild(children, file2share).then(function(dataObjectChild) {\r\n            log.log('[FileHypertyResource.share] object child: ', dataObjectChild);\r\n    \r\n            let sharedFile = dataObjectChild.data;\r\n    \r\n            resolve(sharedFile);\r\n    \r\n          }).catch(function(reason) {\r\n            log.error('Reason:', reason);\r\n            reject(reason);\r\n          });\r\n    \r\n        });\r\n    \r\n      }*/\n\n    /**\r\n    * Returns file content optimised to be displayed in a message line\r\n    *\r\n    * @param  {string} children Data Object Parent children name where the file is shared\r\n    */\n\n    value: function toMessage() {\n      //TODO: to be implemented. It should return HTML with img attribute as a thumbnail plus the name.\n    }\n  }, {\n    key: 'name',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.name;\n    }\n  }, {\n    key: 'preview',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.preview;\n    }\n  }]);\n  return FileHypertyResource;\n}(_HypertyResource3.default);\n\nexports.default = FileHypertyResource;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9GaWxlSHlwZXJ0eVJlc291cmNlLmpzPzhiZjYiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nIiwiZ2V0TG9nZ2VyIiwiRmlsZUh5cGVydHlSZXNvdXJjZSIsImlzU2VuZGVyIiwiaW5wdXQiLCJfdGhpcyIsIm1ldGFkYXRhIiwicmVzb3VyY2VUeXBlIiwiZmlsZSIsIkVycm9yIiwicmVzb2x2ZSIsInJlamVjdCIsIl9tZXRhZGF0YSIsIm5hbWUiLCJsYXN0TW9kaWZpZWQiLCJzaXplIiwibWltZXR5cGUiLCJ0eXBlIiwiX2lzU2VuZGVyIiwic3BsaXQiLCJfZ2V0SW1hZ2VQcmV2aWV3IiwidGhlbiIsInByZXZpZXciLCJfY29udGVudCIsImNvbnRlbnQiLCJpbWFnZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJJbWFnZVRvb2xzIiwicmVzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJibG9iIiwiZGlkSXRSZXNpemUiLCJyZWFkQXNEYXRhVVJMIiwib25sb2FkIiwidGhlSW1hZ2UiLCJ0YXJnZXQiLCJyZXN1bHQiLCJ3YXJuIiwidW5kZWZpbmVkIiwiSHlwZXJ0eVJlc291cmNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQTs7SUFBWUEsTTs7QUFHWjs7OztBQUNBOztBQUNBOzs7Ozs7OztBQUpBLElBQUlDLE1BQU1ELE9BQU9FLFNBQVAsQ0FBaUIscUJBQWpCLENBQVYsQyxDQVBBOzs7OztBQUtBOztJQVNNQyxtQjs7O0FBRUo7Ozs7Ozs7Ozs7OztBQVlBLCtCQUFZQyxRQUFaLEVBQXNCQyxLQUF0QixFQUE2QjtBQUFBOztBQUFBLGlLQUVyQkQsUUFGcUIsRUFFWEMsS0FGVzs7QUFJM0IsUUFBSUMsY0FBSjs7QUFFQUEsVUFBTUMsUUFBTixDQUFlQyxZQUFmLEdBQThCLE1BQTlCOztBQU4yQjtBQVE1Qjs7Ozt5QkFFSUMsSSxFQUFNO0FBQ1QsVUFBSUgsUUFBUSxJQUFaOztBQUVBLFVBQUksQ0FBQ0csSUFBTCxFQUFXLE1BQU0sSUFBSUMsS0FBSixDQUFVLG1FQUFWLENBQU47O0FBRVgsYUFBTyxzQkFBWSxVQUFTQyxPQUFULEVBQWtCQyxNQUFsQixFQUEwQjs7QUFFM0NOLGNBQU1PLFNBQU4sQ0FBZ0JDLElBQWhCLEdBQXVCTCxLQUFLSyxJQUE1QjtBQUNBUixjQUFNTyxTQUFOLENBQWdCRSxZQUFoQixHQUErQk4sS0FBS00sWUFBcEM7QUFDQVQsY0FBTU8sU0FBTixDQUFnQkcsSUFBaEIsR0FBdUJQLEtBQUtPLElBQTVCO0FBQ0FWLGNBQU1PLFNBQU4sQ0FBZ0JJLFFBQWhCLEdBQTJCUixLQUFLUyxJQUFoQzs7QUFFQWpCLFlBQUlBLEdBQUosQ0FBUSxtQ0FBUixFQUE2Q1EsSUFBN0M7O0FBRUEsWUFBSUgsTUFBTWEsU0FBVixFQUFxQjs7QUFFbkIsY0FBSUYsV0FBV1IsS0FBS1MsSUFBTCxDQUFVRSxLQUFWLENBQWdCLEdBQWhCLEVBQXFCLENBQXJCLENBQWY7O0FBRUEsa0JBQVFILFFBQVI7QUFDRSxpQkFBSyxPQUFMO0FBQ0VYLG9CQUFNZSxnQkFBTixDQUF1QlosSUFBdkIsRUFBNkJhLElBQTdCLENBQWtDLFVBQUNDLE9BQUQsRUFBVztBQUMzQ2pCLHNCQUFNTyxTQUFOLENBQWdCVSxPQUFoQixHQUEwQkEsT0FBMUI7QUFDQWpCLHNCQUFNa0IsUUFBTixHQUFpQmYsSUFBakI7QUFDQUU7QUFDRCxlQUpEO0FBS0E7QUFDRjtBQUNFTCxvQkFBTWtCLFFBQU4sR0FBaUJmLElBQWpCO0FBQ0FFO0FBQ0E7QUFYSjs7QUFjQTs7QUFFRjtBQUNBOzs7Ozs7Ozs7QUFnQkMsU0FyQ0QsTUFxQ087QUFDUEwsZ0JBQU1rQixRQUFOLEdBQWlCZixLQUFLZ0IsT0FBdEI7QUFDQSxjQUFJaEIsS0FBS2MsT0FBVCxFQUFrQmpCLE1BQU1PLFNBQU4sQ0FBZ0JVLE9BQWhCLEdBQTBCZCxLQUFLYyxPQUEvQjtBQUNsQlo7QUFDRDtBQUVBLE9BcERNLENBQVA7QUFzREQ7OztxQ0FFZWUsSyxFQUFNO0FBQ3JCLFVBQUlDLFNBQVMsSUFBSUMsVUFBSixFQUFiO0FBQ0EsYUFBTyxzQkFBWSxVQUFDakIsT0FBRCxFQUFTQyxNQUFULEVBQWtCOztBQUVyQ2lCLDZCQUFXQyxNQUFYLENBQWtCSixLQUFsQixFQUF5QjtBQUNwQkssaUJBQU8sR0FEYSxFQUNSO0FBQ1pDLGtCQUFRLEdBRlksQ0FFUjtBQUZRLFNBQXpCLEVBR0ksVUFBU0MsSUFBVCxFQUFlQyxXQUFmLEVBQTRCO0FBQzNCO0FBQ0EsY0FBSUEsV0FBSixFQUFpQjtBQUNmUCxtQkFBT1EsYUFBUCxDQUFxQkYsSUFBckI7O0FBRUFOLG1CQUFPUyxNQUFQLEdBQWdCLFVBQVNDLFFBQVQsRUFBbUI7QUFDakMxQixzQkFBUTBCLFNBQVNDLE1BQVQsQ0FBZ0JDLE1BQXhCO0FBQ0gsYUFGQztBQUdILFdBTkMsTUFNSztBQUNMdEMsZ0JBQUl1QyxJQUFKLENBQVMsNEZBQVQ7QUFDQTdCLG9CQUFROEIsU0FBUjtBQUNEO0FBQ0YsU0FmRjtBQWdCQSxPQWxCTyxDQUFQO0FBbUJEOzs7OztBQWNBOzs7Ozs7QUFNRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMkJFOzs7Ozs7Z0NBTVk7QUFDVjtBQUNEOzs7d0JBbkRVO0FBQ1QsVUFBSW5DLFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU1PLFNBQU4sQ0FBZ0JDLElBQXZCO0FBQ0Q7Ozt3QkFFYTtBQUNaLFVBQUlSLFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU1PLFNBQU4sQ0FBZ0JVLE9BQXZCO0FBQ0Q7OztFQXRIK0JtQix5Qjs7a0JBc0tuQnZDLG1CIiwiZmlsZSI6IjEyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIFRoZSBIeXBlcnR5IFJlc291cmNlIERhdGEgTW9kZWwgaXMgdXNlZCB0byBtb2RlbCByZXNvdWNlcyBoYW5kbGVkIGJ5IEh5cGVydGllcyBhbmQgRGF0YSBPYmplY3RzIGluY2x1ZGluZyBjaGF0IG1lc3NhZ2VzLCBmaWxlcywgcmVhbCB0aW1lIGh1bWFuIGF1ZGlvIGFuZCB2aWRlby4uXHJcbipcclxuKi9cclxuXHJcbi8vIExvZyBTeXN0ZW1cclxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcclxubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ0ZpbGVIeXBlcnR5UmVzb3VyY2UnKTtcclxuXHJcbmltcG9ydCBIeXBlcnR5UmVzb3VyY2UgZnJvbSAnLi9IeXBlcnR5UmVzb3VyY2UnO1xyXG5pbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XHJcbmltcG9ydCBJbWFnZVRvb2xzIGZyb20gJy4uL3V0aWxzL0ltYWdlVG9vbHMuanMnO1xyXG5cclxuXHJcbmNsYXNzIEZpbGVIeXBlcnR5UmVzb3VyY2UgZXh0ZW5kcyBIeXBlcnR5UmVzb3VyY2Uge1xyXG5cclxuICAvKipcclxuICAqIEZpbGVIeXBlcnR5UmVzb3VyY2UgY29uc3RydWN0b3JcclxuICAqXHJcbiAgKiBAcGFyYW0gIHtVUkx9IG93bmVyIEh5cGVydHlVUkwgb2YgdGhlIEh5cGVydHkgaGFuZGxpbmcgdGhpcyByZXNvdXJjZVxyXG4gICogQHBhcmFtICB7VVJMfSBydW50aW1lIFJ1bnRpbWUgVVJMIHdoZXJlIHRoaXMgcmVzb3VyY2UgaXMgaG9zdGVkXHJcbiAgKiBAcGFyYW0gIHtCdXN9IGJ1cyBzYW5kYm94IG1lc3NhZ2UgYnVzXHJcbiAgKiBAcGFyYW0gIHtEYXRhT2JqZWN0fSBwYXJlbnQgUGFyZW50IERhdGEgT2JqZWN0IHdoZXJlIHRoZSBIeXBlcnR5UmVzb3VyY2UgaXMgaGFuZGxlZCBhcyBhIGNoaWxkXHJcbiAgKiBAcGFyYW0gIHtGaWxlfSBmaWxlIGZpbGUgdG8gYmUgZW5jb2RlZCBhcyBIeXBlcnR5UmVzb3VyY2VcclxuICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUmVwb3J0ZXIgaW5kaWNhdGVzIGlmIHBhcmVudCBpcyBSZXBvcnRlciBvciBhbiBPYnNlcnZlclxyXG4gICogQHBhcmFtICB7QXJyYXl9IGlucHV0IG9wdGlvbmFsIGlucHV0IHBhcmFtZXRlcnNcclxuICAqL1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1NlbmRlciwgaW5wdXQpIHtcclxuXHJcbiAgICBzdXBlcihpc1NlbmRlciwgaW5wdXQpO1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMubWV0YWRhdGEucmVzb3VyY2VUeXBlID0gJ2ZpbGUnO1xyXG5cclxuICB9XHJcblxyXG4gIGluaXQoZmlsZSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoIWZpbGUpIHRocm93IG5ldyBFcnJvcignW0ZpbGVIeXBlcnR5UmVzb3VyY2UuY29uc3RydWN0b3JdIG1pc3NpbmcgbWFuZGF0b3J5ICpmaWxlKiBpbnB1dCAnKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBfdGhpcy5fbWV0YWRhdGEubmFtZSA9IGZpbGUubmFtZTtcclxuICAgICAgX3RoaXMuX21ldGFkYXRhLmxhc3RNb2RpZmllZCA9IGZpbGUubGFzdE1vZGlmaWVkO1xyXG4gICAgICBfdGhpcy5fbWV0YWRhdGEuc2l6ZSA9IGZpbGUuc2l6ZTtcclxuICAgICAgX3RoaXMuX21ldGFkYXRhLm1pbWV0eXBlID0gZmlsZS50eXBlO1xyXG5cclxuICAgICAgbG9nLmxvZygnW0ZpbGVIeXBlcnR5UmVzb3VyY2UuaW5pdF0gZmlsZTogJywgZmlsZSk7XHJcblxyXG4gICAgICBpZiAoX3RoaXMuX2lzU2VuZGVyKSB7XHJcblxyXG4gICAgICAgIGxldCBtaW1ldHlwZSA9IGZpbGUudHlwZS5zcGxpdCgnLycpWzBdO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG1pbWV0eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdpbWFnZScgOlxyXG4gICAgICAgICAgICBfdGhpcy5fZ2V0SW1hZ2VQcmV2aWV3KGZpbGUpLnRoZW4oKHByZXZpZXcpPT57XHJcbiAgICAgICAgICAgICAgX3RoaXMuX21ldGFkYXRhLnByZXZpZXcgPSBwcmV2aWV3O1xyXG4gICAgICAgICAgICAgIF90aGlzLl9jb250ZW50ID0gZmlsZTtcclxuICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGRlZmF1bHQgOlxyXG4gICAgICAgICAgICBfdGhpcy5fY29udGVudCA9IGZpbGU7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiB0b28gYmlnIGxldHMgc3RvcmUgYXMgRmlsZSBhbmQgYXNBcnJheSBCdWZmZXJcclxuXHJcbiAgICAgIC8vICBpZiAoZmlsZS5zaXplID4gX3RoaXMuYXJyYXlidWZmZXJTaXplTGltaXQpIHtcclxuICAgICAgLyogIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKHRoZUZpbGUpIHtcclxuXHJcbiAgICAgICAgICAgIGxvZy5sb2coJ1tGaWxlSHlwZXJ0eVJlc291cmNlLmluaXRdIGZpbGUgbG9hZGVkICcsIHRoZUZpbGUpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMuX2NvbnRlbnQgPSB0aGVGaWxlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xyXG5cclxuICAgICAgICB9Ki9cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgX3RoaXMuX2NvbnRlbnQgPSBmaWxlLmNvbnRlbnQ7XHJcbiAgICAgIGlmIChmaWxlLnByZXZpZXcpIF90aGlzLl9tZXRhZGF0YS5wcmV2aWV3ID0gZmlsZS5wcmV2aWV3O1xyXG4gICAgICByZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiBfZ2V0SW1hZ2VQcmV2aWV3KGltYWdlKXtcclxuICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XHJcblxyXG4gICBJbWFnZVRvb2xzLnJlc2l6ZShpbWFnZSwge1xyXG4gICAgICAgIHdpZHRoOiAxMDAsIC8vIG1heGltdW0gd2lkdGhcclxuICAgICAgICBoZWlnaHQ6IDEwMCAvLyBtYXhpbXVtIGhlaWdodFxyXG4gICAgfSwgZnVuY3Rpb24oYmxvYiwgZGlkSXRSZXNpemUpIHtcclxuICAgICAgICAvLyBkaWRJdFJlc2l6ZSB3aWxsIGJlIHRydWUgaWYgaXQgbWFuYWdlZCB0byByZXNpemUgaXQsIG90aGVyd2lzZSBmYWxzZSAoYW5kIHdpbGwgcmV0dXJuIHRoZSBvcmlnaW5hbCBmaWxlIGFzICdibG9iJylcclxuICAgICAgICBpZiAoZGlkSXRSZXNpemUpIHtcclxuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG5cclxuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbih0aGVJbWFnZSkge1xyXG4gICAgICAgICAgICByZXNvbHZlKHRoZUltYWdlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9nLndhcm4oJ1tGaWxlSHlwZXJ0eVJlc291cmNlLl9nZXRJbWFnZVByZXZpZXddIHVuYWJsZSB0byBjcmVhdGUgaW1hZ2UgcHJldmlldyBmcm9tIG9yaWdpbmFsIGltYWdlICcpO1xyXG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiB9XHJcblxyXG5cclxuXHJcbiAgZ2V0IG5hbWUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIF90aGlzLl9tZXRhZGF0YS5uYW1lO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHByZXZpZXcoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIF90aGlzLl9tZXRhZGF0YS5wcmV2aWV3O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBTaGFyZSBmaWxlIGFzIGEgZGF0YSBvYmplY3QgY2hpbGQgb2YgYSBkYXRhIG9iamVjdCBwYXJlbnRcclxuICAqXHJcbiAgKiBAcGFyYW0gIHtzdHJpbmd9IGNoaWxkcmVuIERhdGEgT2JqZWN0IFBhcmVudCBjaGlsZHJlbiBuYW1lIHdoZXJlIHRoZSBmaWxlIGlzIHNoYXJlZFxyXG4gICovXHJcblxyXG4vKiAgc2hhcmUoY2hpbGRyZW4pIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAvL3RvIGJlIGltcHJvdmVkIGFuZCBhZGFwdGVkXHJcblxyXG4gICAgICBpZiAoIV90aGlzLl9pc1NlbmRlcikgcmV0dXJuIHJlamVjdCgnW0ZpbGVIeXBlcnR5UmVzb3VyY2Uuc2hhcmVdIE9ic2VydmVycyBjYW4gbm90IHNoYXJlIGZpbGVzJyk7XHJcblxyXG4gICAgICBsZXQgZmlsZTJzaGFyZSA9IF90aGlzLl9tZXRhZGF0YTtcclxuICAgICAgZmlsZTJzaGFyZS50eXBlID0gX3RoaXMuX3R5cGU7XHJcblxyXG4gICAgICBfdGhpcy5fcGFyZW50LmFkZENoaWxkKGNoaWxkcmVuLCBmaWxlMnNoYXJlKS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3RDaGlsZCkge1xyXG4gICAgICAgIGxvZy5sb2coJ1tGaWxlSHlwZXJ0eVJlc291cmNlLnNoYXJlXSBvYmplY3QgY2hpbGQ6ICcsIGRhdGFPYmplY3RDaGlsZCk7XHJcblxyXG4gICAgICAgIGxldCBzaGFyZWRGaWxlID0gZGF0YU9iamVjdENoaWxkLmRhdGE7XHJcblxyXG4gICAgICAgIHJlc29sdmUoc2hhcmVkRmlsZSk7XHJcblxyXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICBsb2cuZXJyb3IoJ1JlYXNvbjonLCByZWFzb24pO1xyXG4gICAgICAgIHJlamVjdChyZWFzb24pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgfSovXHJcblxyXG4gIC8qKlxyXG4gICogUmV0dXJucyBmaWxlIGNvbnRlbnQgb3B0aW1pc2VkIHRvIGJlIGRpc3BsYXllZCBpbiBhIG1lc3NhZ2UgbGluZVxyXG4gICpcclxuICAqIEBwYXJhbSAge3N0cmluZ30gY2hpbGRyZW4gRGF0YSBPYmplY3QgUGFyZW50IGNoaWxkcmVuIG5hbWUgd2hlcmUgdGhlIGZpbGUgaXMgc2hhcmVkXHJcbiAgKi9cclxuXHJcbiAgdG9NZXNzYWdlKCkge1xyXG4gICAgLy9UT0RPOiB0byBiZSBpbXBsZW1lbnRlZC4gSXQgc2hvdWxkIHJldHVybiBIVE1MIHdpdGggaW1nIGF0dHJpYnV0ZSBhcyBhIHRodW1ibmFpbCBwbHVzIHRoZSBuYW1lLlxyXG4gIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBGaWxlSHlwZXJ0eVJlc291cmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9GaWxlSHlwZXJ0eVJlc291cmNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///124\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(126), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/MmJhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiMTI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qc1xuLy8gbW9kdWxlIGlkID0gMTI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA1Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///125\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(127);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/NzI3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgcmV0dXJuICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///126\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = __webpack_require__(12);\nvar $getOwnPropertyDescriptor = __webpack_require__(46).f;\n\n__webpack_require__(44)('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/ODg4OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjEyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZjtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///127\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _FileHypertyResource = __webpack_require__(124);\n\nvar _FileHypertyResource2 = _interopRequireDefault(_FileHypertyResource);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HypertyResourceFactory = function () {\n\n  /**\r\n  * HypertyResourceFactory constructor\r\n  *\r\n  */\n\n  function HypertyResourceFactory() {\n    (0, _classCallCheck3.default)(this, HypertyResourceFactory);\n  }\n\n  (0, _createClass3.default)(HypertyResourceFactory, [{\n    key: 'createHypertyResource',\n    value: function createHypertyResource(isSender, type, metadata) {\n      var newHypertyResource = void 0;\n\n      switch (type) {\n        case 'file':\n          newHypertyResource = new _FileHypertyResource2.default(isSender, metadata);\n          break;\n        default:\n          throw new Error('[HypertyResourceFactory.createHypertyResource] not supported type: ', type);\n          break;\n      }\n\n      return newHypertyResource;\n    }\n  }, {\n    key: 'createHypertyResourceWithContent',\n    value: function createHypertyResourceWithContent(isSender, type, content, metadata) {\n      var newHypertyResource = void 0;\n\n      return new _promise2.default(function (resolve) {\n\n        switch (type) {\n          case 'file':\n            newHypertyResource = new _FileHypertyResource2.default(isSender, metadata);\n            break;\n          default:\n            reject();\n            break;\n        }\n\n        newHypertyResource.init(content).then(function () {\n          return newHypertyResource.save(); // skip save?\n        }).then(function () {\n          resolve(newHypertyResource);\n        });\n      });\n    }\n  }]);\n  return HypertyResourceFactory;\n}(); /**\r\n     * The Hyperty Resource Data Model is used to model resouces handled by Hyperties and Data Objects including chat messages, files, real time human audio and video..\r\n     *\r\n     */\n\nexports.default = HypertyResourceFactory;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2VGYWN0b3J5LmpzPzhlZTciXSwibmFtZXMiOlsiSHlwZXJ0eVJlc291cmNlRmFjdG9yeSIsImlzU2VuZGVyIiwidHlwZSIsIm1ldGFkYXRhIiwibmV3SHlwZXJ0eVJlc291cmNlIiwiRmlsZUh5cGVydHlSZXNvdXJjZSIsIkVycm9yIiwiY29udGVudCIsInJlc29sdmUiLCJyZWplY3QiLCJpbml0IiwidGhlbiIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtBOzs7Ozs7SUFFTUEsc0I7O0FBRUo7Ozs7O0FBS0Esb0NBQWM7QUFBQTtBQUViOzs7OzBDQUVxQkMsUSxFQUFVQyxJLEVBQU1DLFEsRUFBVTtBQUM5QyxVQUFJQywyQkFBSjs7QUFFQSxjQUFRRixJQUFSO0FBQ0UsYUFBSyxNQUFMO0FBQ0VFLCtCQUFxQixJQUFJQyw2QkFBSixDQUF3QkosUUFBeEIsRUFBa0NFLFFBQWxDLENBQXJCO0FBQ0E7QUFDRjtBQUNFLGdCQUFNLElBQUlHLEtBQUosQ0FBVSxxRUFBVixFQUFpRkosSUFBakYsQ0FBTjtBQUNBO0FBTko7O0FBU0UsYUFBT0Usa0JBQVA7QUFFSDs7O3FEQUVnQ0gsUSxFQUFVQyxJLEVBQU1LLE8sRUFBU0osUSxFQUFVO0FBQ2xFLFVBQUlDLDJCQUFKOztBQUVBLGFBQU8sc0JBQVksVUFBQ0ksT0FBRCxFQUFhOztBQUVoQyxnQkFBUU4sSUFBUjtBQUNFLGVBQUssTUFBTDtBQUNFRSxpQ0FBcUIsSUFBSUMsNkJBQUosQ0FBd0JKLFFBQXhCLEVBQWtDRSxRQUFsQyxDQUFyQjtBQUNBO0FBQ0Y7QUFDRU07QUFDQTtBQU5KOztBQVNFTCwyQkFBbUJNLElBQW5CLENBQXdCSCxPQUF4QixFQUFpQ0ksSUFBakMsQ0FBc0MsWUFBSTtBQUN4QyxpQkFBT1AsbUJBQW1CUSxJQUFuQixFQUFQLENBRHdDLENBQ1A7QUFDbEMsU0FGRCxFQUVHRCxJQUZILENBRVEsWUFBSTtBQUNWSCxrQkFBUUosa0JBQVI7QUFDRCxTQUpEO0FBTUgsT0FqQlEsQ0FBUDtBQW1CRDs7O0tBeERIOzs7OztrQkEyRGVKLHNCIiwiZmlsZSI6IjEyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIFRoZSBIeXBlcnR5IFJlc291cmNlIERhdGEgTW9kZWwgaXMgdXNlZCB0byBtb2RlbCByZXNvdWNlcyBoYW5kbGVkIGJ5IEh5cGVydGllcyBhbmQgRGF0YSBPYmplY3RzIGluY2x1ZGluZyBjaGF0IG1lc3NhZ2VzLCBmaWxlcywgcmVhbCB0aW1lIGh1bWFuIGF1ZGlvIGFuZCB2aWRlby4uXHJcbipcclxuKi9cclxuXHJcbmltcG9ydCBGaWxlSHlwZXJ0eVJlc291cmNlIGZyb20gJy4vRmlsZUh5cGVydHlSZXNvdXJjZSc7XHJcblxyXG5jbGFzcyBIeXBlcnR5UmVzb3VyY2VGYWN0b3J5IHtcclxuXHJcbiAgLyoqXHJcbiAgKiBIeXBlcnR5UmVzb3VyY2VGYWN0b3J5IGNvbnN0cnVjdG9yXHJcbiAgKlxyXG4gICovXHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG4gIGNyZWF0ZUh5cGVydHlSZXNvdXJjZShpc1NlbmRlciwgdHlwZSwgbWV0YWRhdGEpIHtcclxuICAgIGxldCBuZXdIeXBlcnR5UmVzb3VyY2U7XHJcblxyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ2ZpbGUnOlxyXG4gICAgICAgIG5ld0h5cGVydHlSZXNvdXJjZSA9IG5ldyBGaWxlSHlwZXJ0eVJlc291cmNlKGlzU2VuZGVyLCBtZXRhZGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbSHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2VdIG5vdCBzdXBwb3J0ZWQgdHlwZTogJywgdHlwZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybihuZXdIeXBlcnR5UmVzb3VyY2UpO1xyXG5cclxuICB9XHJcblxyXG4gIGNyZWF0ZUh5cGVydHlSZXNvdXJjZVdpdGhDb250ZW50KGlzU2VuZGVyLCB0eXBlLCBjb250ZW50LCBtZXRhZGF0YSkge1xyXG4gICAgbGV0IG5ld0h5cGVydHlSZXNvdXJjZTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnZmlsZSc6XHJcbiAgICAgICAgbmV3SHlwZXJ0eVJlc291cmNlID0gbmV3IEZpbGVIeXBlcnR5UmVzb3VyY2UoaXNTZW5kZXIsIG1ldGFkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZWplY3QoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3SHlwZXJ0eVJlc291cmNlLmluaXQoY29udGVudCkudGhlbigoKT0+e1xyXG4gICAgICAgIHJldHVybiBuZXdIeXBlcnR5UmVzb3VyY2Uuc2F2ZSgpOy8vIHNraXAgc2F2ZT9cclxuICAgICAgfSkudGhlbigoKT0+e1xyXG4gICAgICAgIHJlc29sdmUobmV3SHlwZXJ0eVJlc291cmNlKTtcclxuICAgICAgfSk7XHJcblxyXG4gIH0pO1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEh5cGVydHlSZXNvdXJjZUZhY3Rvcnk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9oeXBlcnR5LXJlc291cmNlL0h5cGVydHlSZXNvdXJjZUZhY3RvcnkuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///128\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(25);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(33);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(100);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(34);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(19);\n\nvar _DataObjectChild2 = __webpack_require__(118);\n\nvar _DataObjectChild3 = _interopRequireDefault(_DataObjectChild2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('HypertyResource'); /**\r\n                                               * The Hyperty Resource Data Model is used to model resouces handled by Hyperties and Data Objects including chat messages, files, real time human audio and video..\r\n                                               *\r\n                                               */\n\n// Log System\n\nvar HypertyResource = function (_DataObjectChild) {\n  (0, _inherits3.default)(HypertyResource, _DataObjectChild);\n\n  /**\r\n  * HypertyResource constructor\r\n  *\r\n  * @param  {URL} localRuntimeURL RuntimeURL of local runtime\r\n  * @param  {URL} input.owner HypertyURL of the Hyperty handling this resource\r\n  * @param  {URL} input.runtime Runtime URL where this resource is hosted\r\n  * @param  {Bus} input.bus sandbox message bus\r\n  * @param  {DataObject} input.parent Parent Data Object where the HypertyResource is handled as a child\r\n  * @param  {Boolean} isSender indicates if parent is Reporter or an Observer\r\n  * @param  {Array} input optional input parameters\r\n  */\n\n  function HypertyResource(isSender, input) {\n    (0, _classCallCheck3.default)(this, HypertyResource);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (HypertyResource.__proto__ || (0, _getPrototypeOf2.default)(HypertyResource)).call(this, input));\n\n    var _this = _this2;\n\n    _this.arraybufferSizeLimit = 5242880; //above this limit content is not saved as ArrayBuffer\n\n    _this._isSender = isSender;\n\n    _this._localStorageURL = _this._parentObject._syncher._runtimeUrl + '/storage';\n\n    return _this2;\n  }\n\n  (0, _createClass3.default)(HypertyResource, [{\n    key: 'save',\n\n\n    /*\r\n    set parent(parent) {\r\n      let _this = this;\r\n      _this._parent = parent;\r\n    }*/\n\n    value: function save() {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          from: _this._owner,\n          to: _this._localStorageURL,\n          type: 'create',\n          body: { value: (0, _utils.deepClone)(_this._metadata) }\n        };\n\n        var callback = function callback(reply) {\n          log.info('[HypertyResource.save] reply: ', reply);\n          _this._bus.removeResponseListener(_this._owner, reply.id);\n          if (reply.body.code === 200) {\n            if (reply.body.value) {\n              if (!_this._metadata.contentURL) _this._metadata.contentURL = [];\n              _this._metadata.contentURL.push(reply.body.value);\n            }\n            resolve();\n          } else reject(reply.body.code + ' ' + reply.body.desc);\n        };\n\n        msg.body.value.content = _this._content;\n\n        _this._bus.postMessage(msg, callback, false);\n      });\n    }\n\n    /**\r\n    * Function to Read HypertyResource\r\n    *\r\n    * @param  {} callback callback to be called with progress information in terms of percentage\r\n    * @return  {Promise}  input optional input parameters\r\n    */\n\n  }, {\n    key: 'read',\n    value: function read(callback) {\n      var _this = this;\n      log.info('[HypertyResource.read] ', this);\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (_this.content) {\n          resolve(_this);\n        } else {\n\n          //TODO: use an iteration to get online runtime storages when some are offline\n          var storage = _this._getBestContentURL(_this._metadata.contentURL);\n\n          log.log('Storage:', storage);\n\n          var msg = {\n            from: _this._owner,\n            to: storage.url,\n            type: 'read',\n            body: { resource: storage.url + '/' + storage.resource, p2p: true }\n          };\n\n          if (_this.metadata.p2pRequester && _this.metadata.p2pHandler) {\n            msg.body.p2pRequester = _this.metadata.p2pRequester;\n            msg.body.p2pHandler = _this.metadata.p2pHandler;\n          }\n\n          // get the resource first on the Local Hyperty Resource Storage;\n          _this._getBestResource(msg, callback).then(function (reply) {\n            log.info('[HypertyResource] - get locally the resource:', reply);\n            resolve(_this);\n          }).catch(function (reply) {\n\n            log.warn('[HypertyResource] - get locally the resource fail', reply);\n\n            // Generate new message to not use the same id of the last one;\n            var msg = {\n              from: _this._owner,\n              to: storage.remoteURL,\n              type: 'read',\n              body: { resource: storage.remoteURL + '/' + storage.resource, p2p: true }\n            };\n\n            if (_this.metadata.p2pRequester && _this.metadata.p2pHandler) {\n              msg.body.p2pRequester = _this.metadata.p2pRequester;\n              msg.body.p2pHandler = _this.metadata.p2pHandler;\n            }\n\n            // get the resource on the Remote Hyperty Resource Storage;\n            _this._getBestResource(msg, callback).then(function (reply) {\n              log.warn('[HypertyResource] - get remotely the resource', reply);\n              resolve(_this);\n            }).catch(function (reply) {\n              log.warn('[HypertyResource] - get remotely the resource fail', reply);\n              reject(reply.body.code + ' ' + reply.body.desc);\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: '_getBestResource',\n    value: function _getBestResource(msg, inProgressCallback) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var waitForResponse = setTimeout(function () {\n\n          // If Reporter does  not reply the promise is rejected\n          _this._bus.removeResponseListener(_this._owner, id);\n\n          msg.body.code = 408;\n          msg.body.desc = 'Response timeout';\n\n          return reject(msg);\n        }, 3000);\n\n        var callback = function callback(reply) {\n          log.log('[HypertyResource.read] reply: ', reply);\n          var id = reply.id;\n\n          clearTimeout(waitForResponse);\n\n          switch (reply.body.code) {\n            case 200:\n              _this._content = reply.body.value.content;\n\n              // save locally if not too big\n              if (reply.body.value.size < _this.arraybufferSizeLimit) {\n                _this.save();\n              }\n\n              _this._bus.removeResponseListener(_this._owner, id);\n              resolve(reply);\n\n              break;\n\n            case 183:\n              inProgressCallback(reply.body.value);\n              break;\n\n            default:\n              _this._bus.removeResponseListener(_this._owner, id);\n              reject(reply);\n              break;\n          }\n        };\n\n        var id = _this._bus.postMessage(msg, callback, false);\n      });\n    }\n\n    // Remove Hyperty from the local storage\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      log.info('[HypertyResource.delete]', _this.metadata);\n\n      var msg = {\n        from: _this._owner,\n        to: _this._localStorageURL,\n        type: 'delete',\n        body: { resources: _this.metadata.contentURL }\n      };\n\n      return new _promise2.default(function (resolve) {\n        _this._bus.postMessage(msg, function (reply) {\n          if (reply.body.code < 300) resolve(true);else resolve(false);\n        });\n      });\n    }\n  }, {\n    key: '_getBestContentURL',\n    value: function _getBestContentURL(contentURLList) {\n\n      var _this = this;\n\n      var contentURL = contentURLList[0];\n      var splitedResource = contentURL.substr(contentURL.lastIndexOf('/') + 1);\n      var url = _this._localStorageURL; // contentURL.substr(0, contentURL.lastIndexOf('/'));\n      var remoteResource = contentURL.substr(0, contentURL.lastIndexOf('/'));\n\n      return { url: url, resource: splitedResource, remoteURL: remoteResource };\n    }\n  }, {\n    key: 'resourceType',\n    get: function get() {\n      var _this = this;\n      return _this.metadata.resourceType;\n    }\n  }, {\n    key: 'mimetype',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.type;\n    }\n  }, {\n    key: 'content',\n    get: function get() {\n      var _this = this;\n      return _this._content;\n    }\n  }, {\n    key: 'contentURL',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.contentURL;\n    }\n  }, {\n    key: 'shareable',\n    get: function get() {\n      var _this = this;\n      var shareable = (0, _get3.default)(HypertyResource.prototype.__proto__ || (0, _getPrototypeOf2.default)(HypertyResource.prototype), 'metadata', this);\n      shareable.resourceType = _this.resourceType;\n      return shareable;\n    }\n  }]);\n  return HypertyResource;\n}(_DataObjectChild3.default);\n\nexports.default = HypertyResource;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2UuanM/YzM5ZCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJIeXBlcnR5UmVzb3VyY2UiLCJpc1NlbmRlciIsImlucHV0IiwiX3RoaXMiLCJhcnJheWJ1ZmZlclNpemVMaW1pdCIsIl9pc1NlbmRlciIsIl9sb2NhbFN0b3JhZ2VVUkwiLCJfcGFyZW50T2JqZWN0IiwiX3N5bmNoZXIiLCJfcnVudGltZVVybCIsInJlc29sdmUiLCJyZWplY3QiLCJtc2ciLCJmcm9tIiwiX293bmVyIiwidG8iLCJ0eXBlIiwiYm9keSIsInZhbHVlIiwiX21ldGFkYXRhIiwiY2FsbGJhY2siLCJyZXBseSIsImluZm8iLCJfYnVzIiwicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsImlkIiwiY29kZSIsImNvbnRlbnRVUkwiLCJwdXNoIiwiZGVzYyIsImNvbnRlbnQiLCJfY29udGVudCIsInBvc3RNZXNzYWdlIiwic3RvcmFnZSIsIl9nZXRCZXN0Q29udGVudFVSTCIsInVybCIsInJlc291cmNlIiwicDJwIiwibWV0YWRhdGEiLCJwMnBSZXF1ZXN0ZXIiLCJwMnBIYW5kbGVyIiwiX2dldEJlc3RSZXNvdXJjZSIsInRoZW4iLCJjYXRjaCIsIndhcm4iLCJyZW1vdGVVUkwiLCJpblByb2dyZXNzQ2FsbGJhY2siLCJ3YWl0Rm9yUmVzcG9uc2UiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2l6ZSIsInNhdmUiLCJyZXNvdXJjZXMiLCJjb250ZW50VVJMTGlzdCIsInNwbGl0ZWRSZXNvdXJjZSIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwicmVtb3RlUmVzb3VyY2UiLCJyZXNvdXJjZVR5cGUiLCJzaGFyZWFibGUiLCJEYXRhT2JqZWN0Q2hpbGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQTs7SUFBWUEsTTs7QUFHWjs7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QUVqQyxVQUFJbEQsUUFBUSxJQUFaOztBQUVBLFVBQU13QixhQUFhMEIsZUFBZSxDQUFmLENBQW5CO0FBQ0EsVUFBTUMsa0JBQWtCM0IsV0FBVzRCLE1BQVgsQ0FBa0I1QixXQUFXNkIsV0FBWCxDQUF1QixHQUF2QixJQUE4QixDQUFoRCxDQUF4QjtBQUNBLFVBQU1yQixNQUFNaEMsTUFBTUcsZ0JBQWxCLENBTmlDLENBTUc7QUFDcEMsVUFBTW1ELGlCQUFpQjlCLFdBQVc0QixNQUFYLENBQWtCLENBQWxCLEVBQXFCNUIsV0FBVzZCLFdBQVgsQ0FBdUIsR0FBdkIsQ0FBckIsQ0FBdkI7O0FBRUEsYUFBTyxFQUFDckIsS0FBS0EsR0FBTixFQUFXQyxVQUFVa0IsZUFBckIsRUFBc0NULFdBQVdZLGNBQWpELEVBQVA7QUFFRDs7O3dCQWxPa0I7QUFDakIsVUFBSXRELFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU1tQyxRQUFOLENBQWVvQixZQUF0QjtBQUNEOzs7d0JBRWM7QUFDYixVQUFJdkQsUUFBUSxJQUFaO0FBQ0EsYUFBT0EsTUFBTWdCLFNBQU4sQ0FBZ0JILElBQXZCO0FBQ0Q7Ozt3QkFFYTtBQUNaLFVBQUliLFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU00QixRQUFiO0FBQ0Q7Ozt3QkFFZ0I7QUFDZixVQUFJNUIsUUFBUSxJQUFaO0FBQ0EsYUFBT0EsTUFBTWdCLFNBQU4sQ0FBZ0JRLFVBQXZCO0FBQ0Q7Ozt3QkFFZTtBQUNkLFVBQUl4QixRQUFRLElBQVo7QUFDQSxVQUFJd0QsaUpBQUo7QUFDQUEsZ0JBQVVELFlBQVYsR0FBeUJ2RCxNQUFNdUQsWUFBL0I7QUFDQSxhQUFPQyxTQUFQO0FBQ0Q7OztFQW5EMkJDLHlCOztrQkFpUWY1RCxlIiwiZmlsZSI6IjEyOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIFRoZSBIeXBlcnR5IFJlc291cmNlIERhdGEgTW9kZWwgaXMgdXNlZCB0byBtb2RlbCByZXNvdWNlcyBoYW5kbGVkIGJ5IEh5cGVydGllcyBhbmQgRGF0YSBPYmplY3RzIGluY2x1ZGluZyBjaGF0IG1lc3NhZ2VzLCBmaWxlcywgcmVhbCB0aW1lIGh1bWFuIGF1ZGlvIGFuZCB2aWRlby4uXHJcbipcclxuKi9cclxuXHJcbi8vIExvZyBTeXN0ZW1cclxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcclxubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ0h5cGVydHlSZXNvdXJjZScpO1xyXG5cclxuaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnO1xyXG5pbXBvcnQgRGF0YU9iamVjdENoaWxkIGZyb20gJy4uL3N5bmNoZXIvRGF0YU9iamVjdENoaWxkLmpzJztcclxuXHJcbmNsYXNzIEh5cGVydHlSZXNvdXJjZSBleHRlbmRzIERhdGFPYmplY3RDaGlsZCB7XHJcblxyXG4gIC8qKlxyXG4gICogSHlwZXJ0eVJlc291cmNlIGNvbnN0cnVjdG9yXHJcbiAgKlxyXG4gICogQHBhcmFtICB7VVJMfSBsb2NhbFJ1bnRpbWVVUkwgUnVudGltZVVSTCBvZiBsb2NhbCBydW50aW1lXHJcbiAgKiBAcGFyYW0gIHtVUkx9IGlucHV0Lm93bmVyIEh5cGVydHlVUkwgb2YgdGhlIEh5cGVydHkgaGFuZGxpbmcgdGhpcyByZXNvdXJjZVxyXG4gICogQHBhcmFtICB7VVJMfSBpbnB1dC5ydW50aW1lIFJ1bnRpbWUgVVJMIHdoZXJlIHRoaXMgcmVzb3VyY2UgaXMgaG9zdGVkXHJcbiAgKiBAcGFyYW0gIHtCdXN9IGlucHV0LmJ1cyBzYW5kYm94IG1lc3NhZ2UgYnVzXHJcbiAgKiBAcGFyYW0gIHtEYXRhT2JqZWN0fSBpbnB1dC5wYXJlbnQgUGFyZW50IERhdGEgT2JqZWN0IHdoZXJlIHRoZSBIeXBlcnR5UmVzb3VyY2UgaXMgaGFuZGxlZCBhcyBhIGNoaWxkXHJcbiAgKiBAcGFyYW0gIHtCb29sZWFufSBpc1NlbmRlciBpbmRpY2F0ZXMgaWYgcGFyZW50IGlzIFJlcG9ydGVyIG9yIGFuIE9ic2VydmVyXHJcbiAgKiBAcGFyYW0gIHtBcnJheX0gaW5wdXQgb3B0aW9uYWwgaW5wdXQgcGFyYW1ldGVyc1xyXG4gICovXHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzU2VuZGVyLCBpbnB1dCkge1xyXG4gICAgc3VwZXIoaW5wdXQpO1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5hcnJheWJ1ZmZlclNpemVMaW1pdCA9IDUyNDI4ODA7IC8vYWJvdmUgdGhpcyBsaW1pdCBjb250ZW50IGlzIG5vdCBzYXZlZCBhcyBBcnJheUJ1ZmZlclxyXG5cclxuICAgIF90aGlzLl9pc1NlbmRlciA9IGlzU2VuZGVyO1xyXG5cclxuICAgIF90aGlzLl9sb2NhbFN0b3JhZ2VVUkwgPSBfdGhpcy5fcGFyZW50T2JqZWN0Ll9zeW5jaGVyLl9ydW50aW1lVXJsICsgJy9zdG9yYWdlJztcclxuXHJcbiAgfVxyXG5cclxuICBnZXQgcmVzb3VyY2VUeXBlKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIHJldHVybiBfdGhpcy5tZXRhZGF0YS5yZXNvdXJjZVR5cGU7XHJcbiAgfVxyXG5cclxuICBnZXQgbWltZXR5cGUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIF90aGlzLl9tZXRhZGF0YS50eXBlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbnRlbnQoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIF90aGlzLl9jb250ZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbnRlbnRVUkwoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIF90aGlzLl9tZXRhZGF0YS5jb250ZW50VVJMO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNoYXJlYWJsZSgpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgc2hhcmVhYmxlID0gc3VwZXIubWV0YWRhdGE7XHJcbiAgICBzaGFyZWFibGUucmVzb3VyY2VUeXBlID0gX3RoaXMucmVzb3VyY2VUeXBlO1xyXG4gICAgcmV0dXJuIHNoYXJlYWJsZTtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgc2V0IHBhcmVudChwYXJlbnQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBfdGhpcy5fcGFyZW50ID0gcGFyZW50O1xyXG4gIH0qL1xyXG5cclxuICBzYXZlKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgIGZyb206IF90aGlzLl9vd25lcixcclxuICAgICAgICB0bzogX3RoaXMuX2xvY2FsU3RvcmFnZVVSTCxcclxuICAgICAgICB0eXBlOiAnY3JlYXRlJyxcclxuICAgICAgICBib2R5OiB7IHZhbHVlOiBkZWVwQ2xvbmUoX3RoaXMuX21ldGFkYXRhKSB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBsZXQgY2FsbGJhY2sgPSAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cuaW5mbygnW0h5cGVydHlSZXNvdXJjZS5zYXZlXSByZXBseTogJywgcmVwbHkpO1xyXG4gICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihfdGhpcy5fb3duZXIsIHJlcGx5LmlkKTtcclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcclxuICAgICAgICAgIGlmIChyZXBseS5ib2R5LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuX21ldGFkYXRhLmNvbnRlbnRVUkwpIF90aGlzLl9tZXRhZGF0YS5jb250ZW50VVJMID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLl9tZXRhZGF0YS5jb250ZW50VVJMLnB1c2gocmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSBlbHNlIHJlamVjdChyZXBseS5ib2R5LmNvZGUgKyAnICcgKyByZXBseS5ib2R5LmRlc2MpO1xyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAgIG1zZy5ib2R5LnZhbHVlLmNvbnRlbnQgPSBfdGhpcy5fY29udGVudDtcclxuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UobXNnLCBjYWxsYmFjaywgZmFsc2UpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogRnVuY3Rpb24gdG8gUmVhZCBIeXBlcnR5UmVzb3VyY2VcclxuICAqXHJcbiAgKiBAcGFyYW0gIHt9IGNhbGxiYWNrIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIHByb2dyZXNzIGluZm9ybWF0aW9uIGluIHRlcm1zIG9mIHBlcmNlbnRhZ2VcclxuICAqIEByZXR1cm4gIHtQcm9taXNlfSAgaW5wdXQgb3B0aW9uYWwgaW5wdXQgcGFyYW1ldGVyc1xyXG4gICovXHJcblxyXG5cclxuICByZWFkKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbG9nLmluZm8oJ1tIeXBlcnR5UmVzb3VyY2UucmVhZF0gJywgdGhpcyk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgaWYgKF90aGlzLmNvbnRlbnQpIHtcclxuICAgICAgICByZXNvbHZlKF90aGlzKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy9UT0RPOiB1c2UgYW4gaXRlcmF0aW9uIHRvIGdldCBvbmxpbmUgcnVudGltZSBzdG9yYWdlcyB3aGVuIHNvbWUgYXJlIG9mZmxpbmVcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IF90aGlzLl9nZXRCZXN0Q29udGVudFVSTChfdGhpcy5fbWV0YWRhdGEuY29udGVudFVSTCk7XHJcblxyXG4gICAgICAgIGxvZy5sb2coJ1N0b3JhZ2U6Jywgc3RvcmFnZSk7XHJcblxyXG4gICAgICAgIGxldCBtc2cgPSB7XHJcbiAgICAgICAgICBmcm9tOiBfdGhpcy5fb3duZXIsXHJcbiAgICAgICAgICB0bzogc3RvcmFnZS51cmwsXHJcbiAgICAgICAgICB0eXBlOiAncmVhZCcsXHJcbiAgICAgICAgICBib2R5OiB7IHJlc291cmNlOiBzdG9yYWdlLnVybCArICcvJyArIHN0b3JhZ2UucmVzb3VyY2UsIHAycDogdHJ1ZSB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKF90aGlzLm1ldGFkYXRhLnAycFJlcXVlc3RlciAmJiBfdGhpcy5tZXRhZGF0YS5wMnBIYW5kbGVyKSB7XHJcbiAgICAgICAgICBtc2cuYm9keS5wMnBSZXF1ZXN0ZXIgPSBfdGhpcy5tZXRhZGF0YS5wMnBSZXF1ZXN0ZXI7XHJcbiAgICAgICAgICBtc2cuYm9keS5wMnBIYW5kbGVyID0gX3RoaXMubWV0YWRhdGEucDJwSGFuZGxlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgcmVzb3VyY2UgZmlyc3Qgb24gdGhlIExvY2FsIEh5cGVydHkgUmVzb3VyY2UgU3RvcmFnZTtcclxuICAgICAgICBfdGhpcy5fZ2V0QmVzdFJlc291cmNlKG1zZywgY2FsbGJhY2spLnRoZW4oKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgICBsb2cuaW5mbygnW0h5cGVydHlSZXNvdXJjZV0gLSBnZXQgbG9jYWxseSB0aGUgcmVzb3VyY2U6JywgcmVwbHkpO1xyXG4gICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XHJcbiAgICAgICAgfSkuY2F0Y2goKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgICAgbG9nLndhcm4oJ1tIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IGxvY2FsbHkgdGhlIHJlc291cmNlIGZhaWwnLCByZXBseSk7XHJcblxyXG4gICAgICAgICAgLy8gR2VuZXJhdGUgbmV3IG1lc3NhZ2UgdG8gbm90IHVzZSB0aGUgc2FtZSBpZCBvZiB0aGUgbGFzdCBvbmU7XHJcbiAgICAgICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBfdGhpcy5fb3duZXIsXHJcbiAgICAgICAgICAgIHRvOiBzdG9yYWdlLnJlbW90ZVVSTCxcclxuICAgICAgICAgICAgdHlwZTogJ3JlYWQnLFxyXG4gICAgICAgICAgICBib2R5OiB7IHJlc291cmNlOiBzdG9yYWdlLnJlbW90ZVVSTCArICcvJyArIHN0b3JhZ2UucmVzb3VyY2UsIHAycDogdHJ1ZSB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGlmIChfdGhpcy5tZXRhZGF0YS5wMnBSZXF1ZXN0ZXIgJiYgX3RoaXMubWV0YWRhdGEucDJwSGFuZGxlcikge1xyXG4gICAgICAgICAgICBtc2cuYm9keS5wMnBSZXF1ZXN0ZXIgPSBfdGhpcy5tZXRhZGF0YS5wMnBSZXF1ZXN0ZXI7XHJcbiAgICAgICAgICAgIG1zZy5ib2R5LnAycEhhbmRsZXIgPSBfdGhpcy5tZXRhZGF0YS5wMnBIYW5kbGVyO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIGdldCB0aGUgcmVzb3VyY2Ugb24gdGhlIFJlbW90ZSBIeXBlcnR5IFJlc291cmNlIFN0b3JhZ2U7XHJcbiAgICAgICAgICBfdGhpcy5fZ2V0QmVzdFJlc291cmNlKG1zZywgY2FsbGJhY2spLnRoZW4oKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgICAgIGxvZy53YXJuKCdbSHlwZXJ0eVJlc291cmNlXSAtIGdldCByZW1vdGVseSB0aGUgcmVzb3VyY2UnLCByZXBseSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xyXG4gICAgICAgICAgfSkuY2F0Y2goKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgICAgIGxvZy53YXJuKCdbSHlwZXJ0eVJlc291cmNlXSAtIGdldCByZW1vdGVseSB0aGUgcmVzb3VyY2UgZmFpbCcsIHJlcGx5KTtcclxuICAgICAgICAgICAgcmVqZWN0KHJlcGx5LmJvZHkuY29kZSArICcgJyArIHJlcGx5LmJvZHkuZGVzYyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9nZXRCZXN0UmVzb3VyY2UobXNnLCBpblByb2dyZXNzQ2FsbGJhY2spIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIGxldCB3YWl0Rm9yUmVzcG9uc2UgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gSWYgUmVwb3J0ZXIgZG9lcyAgbm90IHJlcGx5IHRoZSBwcm9taXNlIGlzIHJlamVjdGVkXHJcbiAgICAgICAgX3RoaXMuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKF90aGlzLl9vd25lciwgaWQpO1xyXG5cclxuICAgICAgICBtc2cuYm9keS5jb2RlID0gNDA4O1xyXG4gICAgICAgIG1zZy5ib2R5LmRlc2MgPSAnUmVzcG9uc2UgdGltZW91dCdcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlamVjdChtc2cpO1xyXG5cclxuICAgICAgfSwgMzAwMCk7XHJcblxyXG4gICAgICBsZXQgY2FsbGJhY2sgPSAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdbSHlwZXJ0eVJlc291cmNlLnJlYWRdIHJlcGx5OiAnLCByZXBseSk7XHJcbiAgICAgICAgbGV0IGlkID0gcmVwbHkuaWQ7XHJcblxyXG4gICAgICAgIGNsZWFyVGltZW91dCh3YWl0Rm9yUmVzcG9uc2UpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHJlcGx5LmJvZHkuY29kZSkge1xyXG4gICAgICAgICAgY2FzZSAyMDA6XHJcbiAgICAgICAgICAgIF90aGlzLl9jb250ZW50ID0gcmVwbHkuYm9keS52YWx1ZS5jb250ZW50O1xyXG5cclxuICAgICAgICAgICAgLy8gc2F2ZSBsb2NhbGx5IGlmIG5vdCB0b28gYmlnXHJcbiAgICAgICAgICAgIGlmIChyZXBseS5ib2R5LnZhbHVlLnNpemUgPCBfdGhpcy5hcnJheWJ1ZmZlclNpemVMaW1pdCkge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX3RoaXMuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKF90aGlzLl9vd25lciwgaWQpO1xyXG4gICAgICAgICAgICByZXNvbHZlKHJlcGx5KTtcclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMTgzOlxyXG4gICAgICAgICAgICBpblByb2dyZXNzQ2FsbGJhY2socmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihfdGhpcy5fb3duZXIsIGlkKTtcclxuICAgICAgICAgICAgcmVqZWN0KHJlcGx5KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBpZCA9IF90aGlzLl9idXMucG9zdE1lc3NhZ2UobXNnLCBjYWxsYmFjaywgZmFsc2UpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBIeXBlcnR5IGZyb20gdGhlIGxvY2FsIHN0b3JhZ2VcclxuXHJcbiAgZGVsZXRlKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsb2cuaW5mbygnW0h5cGVydHlSZXNvdXJjZS5kZWxldGVdJywgX3RoaXMubWV0YWRhdGEpO1xyXG5cclxuXHJcbiAgICBsZXQgbXNnID0ge1xyXG4gICAgICBmcm9tOiBfdGhpcy5fb3duZXIsXHJcbiAgICAgIHRvOiBfdGhpcy5fbG9jYWxTdG9yYWdlVVJMLFxyXG4gICAgICB0eXBlOiAnZGVsZXRlJyxcclxuICAgICAgYm9keTogeyByZXNvdXJjZXM6IF90aGlzLm1ldGFkYXRhLmNvbnRlbnRVUkwgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPCAzMDApIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgZWxzZSByZXNvbHZlKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9nZXRCZXN0Q29udGVudFVSTChjb250ZW50VVJMTGlzdCkge1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgY29uc3QgY29udGVudFVSTCA9IGNvbnRlbnRVUkxMaXN0WzBdO1xyXG4gICAgY29uc3Qgc3BsaXRlZFJlc291cmNlID0gY29udGVudFVSTC5zdWJzdHIoY29udGVudFVSTC5sYXN0SW5kZXhPZignLycpICsgMSk7XHJcbiAgICBjb25zdCB1cmwgPSBfdGhpcy5fbG9jYWxTdG9yYWdlVVJMOyAvLyBjb250ZW50VVJMLnN1YnN0cigwLCBjb250ZW50VVJMLmxhc3RJbmRleE9mKCcvJykpO1xyXG4gICAgY29uc3QgcmVtb3RlUmVzb3VyY2UgPSBjb250ZW50VVJMLnN1YnN0cigwLCBjb250ZW50VVJMLmxhc3RJbmRleE9mKCcvJykpO1xyXG5cclxuICAgIHJldHVybiB7dXJsOiB1cmwsIHJlc291cmNlOiBzcGxpdGVkUmVzb3VyY2UsIHJlbW90ZVVSTDogcmVtb3RlUmVzb3VyY2UgfTtcclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEh5cGVydHlSZXNvdXJjZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2h5cGVydHktcmVzb3VyY2UvSHlwZXJ0eVJlc291cmNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///129\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasBlobConstructor = typeof Blob !== 'undefined' && function () {\n    try {\n        return Boolean(new Blob());\n    } catch (e) {\n        return false;\n    }\n}();\n\nvar hasArrayBufferViewSupport = hasBlobConstructor && typeof Uint8Array !== 'undefined' && function () {\n    try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n    } catch (e) {\n        return false;\n    }\n}();\n\nvar hasToBlobSupport = typeof HTMLCanvasElement !== \"undefined\" ? HTMLCanvasElement.prototype.toBlob : false;\n\nvar hasBlobSupport = hasToBlobSupport || typeof Uint8Array !== 'undefined' && typeof ArrayBuffer !== 'undefined' && typeof atob !== 'undefined';\n\nvar hasReaderSupport = typeof FileReader !== 'undefined' || typeof URL !== 'undefined';\n\nvar ImageTools = function () {\n    function ImageTools() {\n        (0, _classCallCheck3.default)(this, ImageTools);\n    }\n\n    (0, _createClass3.default)(ImageTools, null, [{\n        key: 'resize',\n        value: function resize(file, maxDimensions, callback) {\n            if (typeof maxDimensions === 'function') {\n                callback = maxDimensions;\n                maxDimensions = {\n                    width: 640,\n                    height: 480\n                };\n            }\n\n            var maxWidth = maxDimensions.width;\n            var maxHeight = maxDimensions.height;\n\n            if (!ImageTools.isSupported() || !file.type.match(/image.*/)) {\n                callback(file, false);\n                return false;\n            }\n\n            if (file.type.match(/image\\/gif/)) {\n                // Not attempting, could be an animated gif\n                callback(file, false);\n                // TODO: use https://github.com/antimatter15/whammy to convert gif to webm\n                return false;\n            }\n\n            var image = document.createElement('img');\n\n            image.onload = function (imgEvt) {\n                var width = image.width;\n                var height = image.height;\n                var isTooLarge = false;\n\n                if (width >= height && width > maxDimensions.width) {\n                    // width is the largest dimension, and it's too big.\n                    height *= maxDimensions.width / width;\n                    width = maxDimensions.width;\n                    isTooLarge = true;\n                } else if (height > maxDimensions.height) {\n                    // either width wasn't over-size or height is the largest dimension\n                    // and the height is over-size\n                    width *= maxDimensions.height / height;\n                    height = maxDimensions.height;\n                    isTooLarge = true;\n                }\n\n                if (!isTooLarge) {\n                    // early exit; no need to resize\n                    callback(file, false);\n                    return;\n                }\n\n                var canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(image, 0, 0, width, height);\n\n                if (hasToBlobSupport) {\n                    canvas.toBlob(function (blob) {\n                        callback(blob, true);\n                    }, file.type);\n                } else {\n                    var blob = ImageTools._toBlob(canvas, file.type);\n                    callback(blob, true);\n                }\n            };\n            ImageTools._loadImage(image, file);\n\n            return true;\n        }\n    }, {\n        key: '_toBlob',\n        value: function _toBlob(canvas, type) {\n            var dataURI = canvas.toDataURL(type);\n            var dataURIParts = dataURI.split(',');\n            var byteString = void 0;\n            if (dataURIParts[0].indexOf('base64') >= 0) {\n                // Convert base64 to raw binary data held in a string:\n                byteString = atob(dataURIParts[1]);\n            } else {\n                // Convert base64/URLEncoded data component to raw binary data:\n                byteString = decodeURIComponent(dataURIParts[1]);\n            }\n            var arrayBuffer = new ArrayBuffer(byteString.length);\n            var intArray = new Uint8Array(arrayBuffer);\n\n            for (var i = 0; i < byteString.length; i += 1) {\n                intArray[i] = byteString.charCodeAt(i);\n            }\n\n            var mimeString = dataURIParts[0].split(':')[1].split(';')[0];\n            var blob = null;\n\n            if (hasBlobConstructor) {\n                blob = new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], { type: mimeString });\n            } else {\n                var bb = new BlobBuilder();\n                bb.append(arrayBuffer);\n                blob = bb.getBlob(mimeString);\n            }\n\n            return blob;\n        }\n    }, {\n        key: '_loadImage',\n        value: function _loadImage(image, file, callback) {\n            if (typeof URL === 'undefined') {\n                var reader = new FileReader();\n                reader.onload = function (evt) {\n                    image.src = evt.target.result;\n                    if (callback) {\n                        callback();\n                    }\n                };\n                reader.readAsDataURL(file);\n            } else {\n                image.src = URL.createObjectURL(file);\n                if (callback) {\n                    callback();\n                }\n            }\n        }\n    }, {\n        key: 'isSupported',\n        value: function isSupported() {\n            return typeof HTMLCanvasElement !== 'undefined' && hasBlobSupport && hasReaderSupport;\n        }\n    }]);\n    return ImageTools;\n}();\n\nexports.default = ImageTools;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvSW1hZ2VUb29scy5qcz8xMWFlIl0sIm5hbWVzIjpbImhhc0Jsb2JDb25zdHJ1Y3RvciIsIkJsb2IiLCJCb29sZWFuIiwiZSIsImhhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQiLCJVaW50OEFycmF5Iiwic2l6ZSIsImhhc1RvQmxvYlN1cHBvcnQiLCJIVE1MQ2FudmFzRWxlbWVudCIsInByb3RvdHlwZSIsInRvQmxvYiIsImhhc0Jsb2JTdXBwb3J0IiwiQXJyYXlCdWZmZXIiLCJhdG9iIiwiaGFzUmVhZGVyU3VwcG9ydCIsIkZpbGVSZWFkZXIiLCJVUkwiLCJJbWFnZVRvb2xzIiwiZmlsZSIsIm1heERpbWVuc2lvbnMiLCJjYWxsYmFjayIsIndpZHRoIiwiaGVpZ2h0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJpc1N1cHBvcnRlZCIsInR5cGUiLCJtYXRjaCIsImltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25sb2FkIiwiaW1nRXZ0IiwiaXNUb29MYXJnZSIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJibG9iIiwiX3RvQmxvYiIsIl9sb2FkSW1hZ2UiLCJkYXRhVVJJIiwidG9EYXRhVVJMIiwiZGF0YVVSSVBhcnRzIiwic3BsaXQiLCJieXRlU3RyaW5nIiwiaW5kZXhPZiIsImRlY29kZVVSSUNvbXBvbmVudCIsImFycmF5QnVmZmVyIiwibGVuZ3RoIiwiaW50QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIm1pbWVTdHJpbmciLCJiYiIsIkJsb2JCdWlsZGVyIiwiYXBwZW5kIiwiZ2V0QmxvYiIsInJlYWRlciIsImV2dCIsInNyYyIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJjcmVhdGVPYmplY3RVUkwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxxQkFBcUIsT0FBT0MsSUFBUCxLQUFpQixXQUFqQixJQUFpQyxZQUFZ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QUcsZ0JBSFA7QUFLSDs7Ozs7a0JBL0hnQkcsVSIsImZpbGUiOiIxMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaGFzQmxvYkNvbnN0cnVjdG9yID0gdHlwZW9mKEJsb2IpICE9PSAndW5kZWZpbmVkJyAmJiAoZnVuY3Rpb24gKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gQm9vbGVhbihuZXcgQmxvYigpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0oKSk7XHJcblxyXG5sZXQgaGFzQXJyYXlCdWZmZXJWaWV3U3VwcG9ydCA9IGhhc0Jsb2JDb25zdHJ1Y3RvciAmJiB0eXBlb2YoVWludDhBcnJheSkgIT09ICd1bmRlZmluZWQnICYmIChmdW5jdGlvbiAoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoMTAwKV0pLnNpemUgPT09IDEwMDtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0oKSk7XHJcblxyXG5sZXQgaGFzVG9CbG9iU3VwcG9ydCA9ICh0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUudG9CbG9iIDogZmFsc2UpO1xyXG5cclxubGV0IGhhc0Jsb2JTdXBwb3J0ID0gKGhhc1RvQmxvYlN1cHBvcnQgfHwgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBhdG9iICE9PSAndW5kZWZpbmVkJykpO1xyXG5cclxubGV0IGhhc1JlYWRlclN1cHBvcnQgPSAodHlwZW9mIEZpbGVSZWFkZXIgIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBVUkwgIT09ICd1bmRlZmluZWQnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlVG9vbHMge1xyXG4gICAgc3RhdGljIHJlc2l6ZShmaWxlLCBtYXhEaW1lbnNpb25zLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbWF4RGltZW5zaW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IG1heERpbWVuc2lvbnM7XHJcbiAgICAgICAgICAgIG1heERpbWVuc2lvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNjQwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA0ODBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtYXhXaWR0aCAgPSBtYXhEaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSBtYXhEaW1lbnNpb25zLmhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKCFJbWFnZVRvb2xzLmlzU3VwcG9ydGVkKCkgfHwgIWZpbGUudHlwZS5tYXRjaCgvaW1hZ2UuKi8pKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGZpbGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpbGUudHlwZS5tYXRjaCgvaW1hZ2VcXC9naWYvKSkge1xyXG4gICAgICAgICAgICAvLyBOb3QgYXR0ZW1wdGluZywgY291bGQgYmUgYW4gYW5pbWF0ZWQgZ2lmXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGZpbGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gVE9ETzogdXNlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRpbWF0dGVyMTUvd2hhbW15IHRvIGNvbnZlcnQgZ2lmIHRvIHdlYm1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGltYWdlLm9ubG9hZCA9IChpbWdFdnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHdpZHRoICA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICBsZXQgaXNUb29MYXJnZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHdpZHRoID49IGhlaWdodCAmJiB3aWR0aCA+IG1heERpbWVuc2lvbnMud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdpZHRoIGlzIHRoZSBsYXJnZXN0IGRpbWVuc2lvbiwgYW5kIGl0J3MgdG9vIGJpZy5cclxuICAgICAgICAgICAgICAgIGhlaWdodCAqPSBtYXhEaW1lbnNpb25zLndpZHRoIC8gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG1heERpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpc1Rvb0xhcmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPiBtYXhEaW1lbnNpb25zLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZWl0aGVyIHdpZHRoIHdhc24ndCBvdmVyLXNpemUgb3IgaGVpZ2h0IGlzIHRoZSBsYXJnZXN0IGRpbWVuc2lvblxyXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZSBoZWlnaHQgaXMgb3Zlci1zaXplXHJcbiAgICAgICAgICAgICAgICB3aWR0aCAqPSBtYXhEaW1lbnNpb25zLmhlaWdodCAvIGhlaWdodDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IG1heERpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaXNUb29MYXJnZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghaXNUb29MYXJnZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZWFybHkgZXhpdDsgbm8gbmVlZCB0byByZXNpemVcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZpbGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzVG9CbG9iU3VwcG9ydCkge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGJsb2IsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSwgZmlsZS50eXBlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBibG9iID0gSW1hZ2VUb29scy5fdG9CbG9iKGNhbnZhcywgZmlsZS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGJsb2IsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBJbWFnZVRvb2xzLl9sb2FkSW1hZ2UoaW1hZ2UsIGZpbGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgX3RvQmxvYihjYW52YXMsIHR5cGUpIHtcclxuICAgICAgICBsZXQgZGF0YVVSSSA9IGNhbnZhcy50b0RhdGFVUkwodHlwZSk7XHJcbiAgICAgICAgbGV0IGRhdGFVUklQYXJ0cyA9IGRhdGFVUkkuc3BsaXQoJywnKTtcclxuICAgICAgICBsZXQgYnl0ZVN0cmluZztcclxuICAgICAgICBpZiAoZGF0YVVSSVBhcnRzWzBdLmluZGV4T2YoJ2Jhc2U2NCcpID49IDApIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQgdG8gcmF3IGJpbmFyeSBkYXRhIGhlbGQgaW4gYSBzdHJpbmc6XHJcbiAgICAgICAgICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUklQYXJ0c1sxXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQvVVJMRW5jb2RlZCBkYXRhIGNvbXBvbmVudCB0byByYXcgYmluYXJ5IGRhdGE6XHJcbiAgICAgICAgICAgIGJ5dGVTdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YVVSSVBhcnRzWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTtcclxuICAgICAgICBsZXQgaW50QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpbnRBcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtaW1lU3RyaW5nID0gZGF0YVVSSVBhcnRzWzBdLnNwbGl0KCc6JylbMV0uc3BsaXQoJzsnKVswXTtcclxuICAgICAgICBsZXQgYmxvYiA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChoYXNCbG9iQ29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFxyXG4gICAgICAgICAgICAgICAgW2hhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQgPyBpbnRBcnJheSA6IGFycmF5QnVmZmVyXSxcclxuICAgICAgICAgICAgICAgIHt0eXBlOiBtaW1lU3RyaW5nfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBiYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xyXG4gICAgICAgICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICBibG9iID0gYmIuZ2V0QmxvYihtaW1lU3RyaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBibG9iO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfbG9hZEltYWdlKGltYWdlLCBmaWxlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0eXBlb2YoVVJMKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IGV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7IGNhbGxiYWNrKCk7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHsgY2FsbGJhY2soKTsgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICh0eXBlb2YoSFRNTENhbnZhc0VsZW1lbnQpICE9PSAndW5kZWZpbmVkJykgXHJcbiAgICAgICAgICAgICYmIGhhc0Jsb2JTdXBwb3J0XHJcbiAgICAgICAgICAgICYmIGhhc1JlYWRlclN1cHBvcnRcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9JbWFnZVRvb2xzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///130\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _assign = __webpack_require__(78);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(19);\n\nvar _DataObjectReporter = __webpack_require__(132);\n\nvar _DataObjectReporter2 = _interopRequireDefault(_DataObjectReporter);\n\nvar _DataObjectObserver = __webpack_require__(133);\n\nvar _DataObjectObserver2 = _interopRequireDefault(_DataObjectObserver);\n\nvar _DataProvisional = __webpack_require__(135);\n\nvar _DataProvisional2 = _interopRequireDefault(_DataProvisional);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('Syncher'); /**\r\n                                       * Copyright 2016 PT Inovação e Sistemas SA\r\n                                       * Copyright 2016 INESC-ID\r\n                                       * Copyright 2016 QUOBIS NETWORKS SL\r\n                                       * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                       * Copyright 2016 ORANGE SA\r\n                                       * Copyright 2016 Deutsche Telekom AG\r\n                                       * Copyright 2016 Apizee\r\n                                       * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                       *\r\n                                       * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                       * you may not use this file except in compliance with the License.\r\n                                       * You may obtain a copy of the License at\r\n                                       *\r\n                                       *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                       *\r\n                                       * Unless required by applicable law or agreed to in writing, software\r\n                                       * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                       * See the License for the specific language governing permissions and\r\n                                       * limitations under the License.\r\n                                       **/\n\n// Log System\n\n/**\r\n* The main class for the syncher package.\r\n* The Syncher is a singleton class per Hyperty/URL and it is the owner of all created Data Sync Objects according to the Reporter - Observer pattern.\r\n* Main functionality is to create reporters and to subscribe to existing ones.\r\n*/\nvar Syncher = function () {\n  /* private\r\n  _owner: URL\r\n  _bus: MiniBus\r\n    _subURL: URL\r\n    _reporters: <url: DataObjectReporter>\r\n  _observers: <url: DataObjectObserver>\r\n  _provisionals: <url: DataProvisional>\r\n    ----event handlers----\r\n  _onNotificationHandler: (event) => void\r\n  _onResume: (event) => void\r\n  */\n\n  /**\r\n  * Constructor that should be used by the Hyperty owner\r\n  * @param {HypertyURL} owner - Hyperty URL owner. An URL allocated by the runtime that uniquely identifies the Hyperty.\r\n  * @param {MiniBus} bus - An instance of the MiniBus provided in the sandbox. When an object (Reporter or Observed) is created, the SyncherManager will add a listener in the MiniBus to receive/send Messages of that object.\r\n  * @param {JSON} config - Configuration data. The only required field for now is the runtimeURL.\r\n  */\n  function Syncher(owner, bus, config) {\n    (0, _classCallCheck3.default)(this, Syncher);\n\n    var _this = this;\n\n    _this._owner = owner;\n    _this._bus = bus;\n\n    _this._subURL = config.runtimeURL + '/sm';\n    _this._runtimeUrl = config.runtimeURL;\n\n    _this._p2pHandler = config.p2pHandler;\n    _this._p2pRequester = config.p2pRequester;\n\n    _this._reporters = {};\n    _this._observers = {};\n    _this._provisionals = {};\n\n    bus.addListener(owner, function (msg) {\n      //ignore msg sent by himself\n      if (msg.from !== owner) {\n        log.info('[Syncher] Syncher-RCV: ', msg, _this);\n        switch (msg.type) {\n          case 'forward':\n            _this._onForward(msg);break;\n          case 'create':\n            _this._onRemoteCreate(msg);break;\n          case 'delete':\n            _this._onRemoteDelete(msg);break;\n          case 'execute':\n            _this._onExecute(msg);break;\n        }\n      }\n    });\n  }\n\n  /**\r\n  * The owner of the Syncher and all created reporters.\r\n  * @type {HypertyURL}\r\n  */\n\n\n  (0, _createClass3.default)(Syncher, [{\n    key: 'create',\n\n\n    /**\r\n    * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\r\n    * @param  {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\r\n    * @param  {HypertyURL[]} observers - List of hyperties that are pre-authorized for subscription\r\n    * @param  {JSON} initialData - Initial data of the reporter\r\n    * @param  {boolean} store - (Optional) if true, object will be stored by the runtime\r\n    * @param  {boolean} p2p - (Optional) if true, data synchronisation stream will use p2p connection as much as possible\r\n    * @param  {string} name - (Optional) the name of the dataobject\r\n    * @param  {MessageBodyIdentity} identity - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n    * @param  {SyncMetadata} input - (optional) all metadata required to sunc the Data Object.\r\n    * @return {Promise<DataObjectReporter>} Return Promise to a new Reporter. The reporter can be accepted or rejected by the PEP\r\n    */\n    value: function create(schema, observers, initialData) {\n      var store = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var p2p = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var name = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'no name';\n      var identity = arguments[6];\n      var input = arguments[7];\n\n\n      if (!schema) throw Error('[Syncher - Create] - You need specify the data object schema');\n      if (!observers) throw Error('[Syncher - Create] -The observers should be defined');\n\n      var _this = this;\n      input = input || {};\n      var createInput = (0, _assign2.default)({}, input);\n\n      createInput.p2p = p2p;\n      createInput.store = store;\n      createInput.schema = schema;\n      createInput.authorise = observers;\n      createInput.p2pHandler = _this._p2pHandler;\n      createInput.p2pRequester = _this._p2pRequester;\n      initialData ? createInput.data = (0, _utils.deepClone)(initialData) : createInput.data = {};\n      createInput.name = name.length === 0 ? 'no name' : name;\n      createInput.reporter = input.hasOwnProperty('reporter') && typeof input.reporter !== 'boolean' ? input.reporter : _this._owner;\n      createInput.resume = false;\n      if (input) {\n        createInput.mutual = input.hasOwnProperty('mutual') ? input.mutual : true;\n        createInput.name = input.hasOwnProperty('name') ? input.name : createInput.name;\n      } else {\n        createInput.mutual = true;\n      }\n\n      if (input.hasOwnProperty('reuseURL')) {\n        createInput.resource = input.reuseURL;\n      }\n\n      if (identity) {\n        createInput.identity = identity;\n      }\n\n      //Object.assign(createInput, {resume: false});\n      //debugger;\n      log.log('[syncher - create] - create Reporter - createInput: ', createInput);\n\n      return _this._create(createInput);\n    }\n\n    /**\r\n    * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\r\n    * @param  {Object} criteria - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n    * @return {Promise<DataObjectReporter>[]} Return a promise with a list of DataObjectReporter to be resumed;\r\n    */\n\n  }, {\n    key: 'resumeReporters',\n    value: function resumeReporters(criteria) {\n      var _this = this;\n      log.log('[syncher - create] - resume Reporter - criteria: ', criteria);\n\n      (0, _assign2.default)(criteria, { resume: true });\n\n      return _this._resumeCreate(criteria);\n    }\n\n    /**\r\n    * Request a subscription to an existent reporter object.\r\n    * @param {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\r\n    * @param {ObjectURL} objURL - Address of the existent reporter object to be observed\r\n    * @param {Boolean} [store=false] - Save the subscription on the Syncher Manager for further resume (Default is false)\r\n    * @param {Boolean} [p2p=false] - Info about if should use p2p connection (Default is false)\r\n    * @param {Boolean} [mutual=true] - Info about if messages of this object should be encrypted (Default is true)\r\n    * @param  {MessageBodyIdentity} identity - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n    * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\r\n    */\n\n    //TODO: use input JSON param with all optional parameters similar to create\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(schema, objURL) {\n      var store = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var p2p = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var mutual = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      var domain_subscription = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n      var identity = arguments[6];\n\n      var _this = this;\n      var criteria = {};\n\n      criteria.p2p = p2p;\n      criteria.store = store;\n      criteria.schema = schema;\n      criteria.domain_subscription = domain_subscription;\n\n      criteria.resource = objURL;\n      if (identity) {\n        criteria.identity = identity;\n      }\n\n      //TODO: For Further Study\n      criteria.mutual = mutual;\n\n      log.log('[syncher - subscribe] - subscribe criteria: ', criteria);\n\n      (0, _assign2.default)(criteria, { resume: false });\n\n      return _this._subscribe(criteria);\n    }\n\n    /**\r\n    * Request a subscription to an existent reporter object.\r\n    * @param {criteria} criteria - Information to discovery the observer object\r\n    * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\r\n    */\n\n  }, {\n    key: 'resumeObservers',\n    value: function resumeObservers(criteria) {\n      var _this = this;\n      var _criteria = criteria || {};\n\n      (0, _assign2.default)(_criteria, { resume: true });\n\n      return _this._resumeSubscribe(_criteria);\n    }\n\n    /**\r\n    * Request a read action on the reporter object\r\n    * @param {ObjectURL} objURL - URL of the reporter object to be read\r\n    * @return {Promise<Object>} Return Promise to last available data of the reporter\r\n    */\n\n  }, {\n    key: 'read',\n    value: function read(objURL) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent directly to reporter object (maybe there is no listener available, so it will be resolved with MessageBus -> resolve)\n      //will reach the remote object in DataObjectReporter -> _onRead\n      var readMsg = {\n        type: 'read', from: _this._owner, to: objURL\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n        var callback = function callback(reply) {\n          log.log('[Syncher.read] reply: ', reply);\n\n          var childrens = {};\n          var value = {};\n          var n = 0;\n\n          if (reply.body.code < 300) {\n            if (!reply.body.value.hasOwnProperty('responses')) {\n              _this._bus.removeResponseListener(readMsg.from, reply.id);\n              resolve(reply.body.value);\n            } else {\n              //data object is sent in separated messages\n              if (n === 0) {\n                //initial response without childrens\n                value = reply.body.value;\n                ++n;\n              } else {\n                // received response contains childrens\n                delete reply.body.value.responses;\n                var children = void 0;\n                for (children in reply.body.value) {\n                  if (!childrens.hasOwnProperty(children)) childrens[children] = {};\n                  (0, _assign2.default)(childrens[children], reply.body.value[children]);\n                }\n                ++n;\n                if (n === value.responses) {\n                  value.childrenObjects = childrens;\n                  delete value.responses;\n                  _this._bus.removeResponseListener(readMsg.from, reply.id);\n                  resolve(value);\n                }\n              }\n            }\n          } else {\n            reject(reply.body.desc);\n          }\n        };\n\n        var id = _this._bus.postMessage(readMsg, callback, false);\n      });\n    }\n\n    /**\r\n    * Setup the callback to process create and delete events of remove Reporter objects.\r\n    * This is releated to the messagens sent by create to the observers Hyperty array.\r\n    * @param {function(event: MsgEvent)} callback\r\n    */\n\n  }, {\n    key: 'onNotification',\n    value: function onNotification(callback) {\n      this._onNotificationHandler = callback;\n    }\n\n    /**\r\n    * Setup the callback to process close events from the runtime.\r\n    * @param {function(event: MsgEvent)} callback\r\n    */\n\n  }, {\n    key: 'onClose',\n    value: function onClose(callback) {\n      this._onClose = callback;\n    }\n  }, {\n    key: '_create',\n    value: function _create(input) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var reporterInput = (0, _assign2.default)({}, input);\n\n        var resume = input.resume;\n\n        reporterInput.created = new Date().toISOString();\n        reporterInput.runtime = _this._runtimeUrl;\n\n        var requestValue = (0, _utils.deepClone)(reporterInput);\n\n        delete requestValue.p2p;\n        delete requestValue.store;\n        delete requestValue.observers;\n        delete requestValue.identity;\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n        //debugger;\n        var requestMsg = {\n          type: 'create', from: _this._owner, to: _this._subURL,\n          body: { resume: resume, value: requestValue }\n        };\n\n        requestMsg.body.schema = reporterInput.schema;\n\n        if (reporterInput.p2p) requestMsg.body.p2p = reporterInput.p2p;\n        if (reporterInput.store) requestMsg.body.store = reporterInput.store;\n        if (reporterInput.identity) requestMsg.body.identity = reporterInput.identity;\n\n        log.log('[syncher._create]: ', reporterInput, requestMsg);\n\n        //request create to the allocation system. Can be rejected by the PolicyEngine.\n        _this._bus.postMessage(requestMsg, function (reply) {\n          log.log('[syncher - create] - create-response: ', reply);\n          if (reply.body.code === 200) {\n            //reporter creation accepted\n            reporterInput.url = reply.body.resource;\n\n            /*          if (reply.body.p2pHandler) reporterInput.p2pHandler = reply.body.p2pHandler;\r\n                      if (reply.body.p2pRequester) reporterInput.p2pRequester = reply.body.p2pRequester;*/\n\n            reporterInput.status = 'live'; // pch: do we ned this?\n            reporterInput.syncher = _this;\n            reporterInput.childrens = reply.body.childrenResources;\n\n            var newObj = _this._reporters[reporterInput.url];\n\n            if (!newObj) {\n              newObj = new _DataObjectReporter2.default(reporterInput);\n              _this._reporters[reporterInput.url] = newObj;\n            }\n\n            newObj.inviteObservers(input.authorise, input.p2p);\n\n            resolve(newObj);\n          } else {\n            //reporter creation rejected\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_resumeCreate',\n    value: function _resumeCreate(criteria) {\n      var _this2 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        var resume = criteria.resume;\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n        var requestMsg = {\n          type: 'create', from: _this._owner, to: _this._subURL,\n          body: { resume: resume }\n        };\n\n        log.log('[syncher - create]: ', criteria, requestMsg);\n        if (criteria) {\n          requestMsg.body.value = criteria;\n          if (criteria.hasOwnProperty('reporter')) {\n            requestMsg.body.value.reporter = criteria.reporter;\n          } else {\n            requestMsg.body.value.reporter = _this._owner;\n          }\n        }\n\n        if (criteria.p2p) requestMsg.body.p2p = criteria.p2p;\n        if (criteria.store) requestMsg.body.store = criteria.store;\n        if (criteria.observers) requestMsg.body.authorise = criteria.observers;\n        if (criteria.identity) requestMsg.body.identity = criteria.identity;\n\n        log.log('[syncher._resumeCreate] - resume message: ', requestMsg);\n\n        //debugger;\n\n        //request create to the allocation system. Can be rejected by the PolicyEngine.\n\n        _this._bus.postMessage(requestMsg, function (reply) {\n          log.log('[syncher._resumeCreate] - create-resumed-response: ', reply);\n          if (reply.body.code === 200) {\n            //debugger;\n            var listOfReporters = reply.body.value;\n\n            for (var index in listOfReporters) {\n\n              var dataObject = listOfReporters[index];\n\n              //reporter creation accepted\n\n              dataObject.data = (0, _utils.deepClone)(dataObject.data) || {};\n\n              if (dataObject.childrenObjects) {\n                dataObject.childrenObjects = (0, _utils.deepClone)(dataObject.childrenObjects);\n              }\n\n              dataObject.mutual = false;\n              dataObject.resume = true;\n              dataObject.status = 'live'; // pch: do we ned this?\n              dataObject.syncher = _this;\n\n              log.log('[syncher._resumeCreate] - create-resumed-dataObjectReporter', dataObject);\n\n              var newObj = new _DataObjectReporter2.default(dataObject);\n\n              if (dataObject.childrenObjects) {\n                newObj.resumeChildrens(dataObject.childrenObjects);\n              }\n              _this._reporters[dataObject.url] = newObj;\n            }\n\n            resolve(_this._reporters);\n            if (_this2._onReportersResume) _this2._onReportersResume(_this2._reporters);\n          } else if (reply.body.code === 404) {\n            resolve({});\n          } else {\n            //reporter creation rejected\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_subscribe',\n    value: function _subscribe(input) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\n        var subscribeMsg = {\n          type: 'subscribe', from: _this._owner, to: _this._subURL,\n          body: {}\n        };\n\n        // Hyperty request to be an Observer\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#hyperty-request-to-be-an-observer\n\n        // Resume Subscriptions for the same Hyperty URL\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-the-same-hyperty-url\n\n        // Resume Subscriptions for a certain user and data schema independently of the Hyperty URL.\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-a-certain-user-and-data-schema-independently-of-the-hyperty-url\n        if (input) {\n          if (input.hasOwnProperty('p2p')) subscribeMsg.body.p2p = input.p2p;\n          if (input.hasOwnProperty('store')) subscribeMsg.body.store = input.store;\n          if (input.hasOwnProperty('schema')) subscribeMsg.body.schema = input.schema;\n          if (input.hasOwnProperty('identity')) subscribeMsg.body.identity = input.identity;\n          if (input.hasOwnProperty('resource')) subscribeMsg.body.resource = input.resource;\n          if (input.hasOwnProperty('domain_subscription')) subscribeMsg.body.domain_subscription = input.domain_subscription;\n        }\n\n        subscribeMsg.body.resume = input.resume;\n\n        //TODO: For Further Study\n        if (input.hasOwnProperty('mutual')) subscribeMsg.body.mutual = input.mutual;\n\n        log.log('[syncher_subscribe] - subscribe message: ', input, subscribeMsg);\n\n        //request subscription\n        //Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n        //for more info see the DataProvisional class documentation.\n        _this._bus.postMessage(subscribeMsg, function (reply) {\n          log.log('[syncher] - subscribe-response: ', reply);\n\n          var objURL = reply.body.resource;\n\n          var newProvisional = _this._provisionals[objURL];\n          delete _this._provisionals[objURL];\n          if (newProvisional) newProvisional._releaseListeners();\n\n          if (reply.body.code < 200) {\n            log.log('[syncher] - new DataProvisional: ', reply.body.childrenResources, objURL);\n            newProvisional = new _DataProvisional2.default(_this._owner, objURL, _this._bus, reply.body.childrenResources);\n            _this._provisionals[objURL] = newProvisional;\n          } else if (reply.body.code === 200) {\n            log.log('[syncher] - new Data Object Observer: ', reply, _this._provisionals);\n\n            var observerInput = reply.body.value;\n\n            observerInput.syncher = _this;\n            observerInput.p2p = input.p2p;\n            observerInput.store = input.store;\n            observerInput.identity = input.identity;\n            observerInput.resume = false;\n\n            // todo: For Further Study\n            observerInput.mutual = input.mutual;\n\n            //observerInput.children = newProvisional.children;\n\n            //TODO: mutual For Further Study\n            var newObj = _this._observers[objURL];\n            if (!newObj) {\n              newObj = new _DataObjectObserver2.default(observerInput);\n              _this._observers[objURL] = newObj;\n            } else {\n              newObj.sync();\n            }\n\n            log.log('[syncher] - new Data Object Observer already exist: ', newObj);\n\n            resolve(newObj);\n\n            if (newProvisional) {\n              newProvisional.apply(newObj);\n            }\n          } else {\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_resumeSubscribe',\n    value: function _resumeSubscribe(criteria) {\n      var _this3 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\n        var subscribeMsg = {\n          type: 'subscribe', from: _this._owner, to: _this._subURL,\n          body: {}\n        };\n\n        // Hyperty request to be an Observer\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#hyperty-request-to-be-an-observer\n\n        // Resume Subscriptions for the same Hyperty URL\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-the-same-hyperty-url\n\n        // Resume Subscriptions for a certain user and data schema independently of the Hyperty URL.\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-a-certain-user-and-data-schema-independently-of-the-hyperty-url\n        if (criteria) {\n          if (criteria.hasOwnProperty('p2p')) subscribeMsg.body.p2p = criteria.p2p;\n          if (criteria.hasOwnProperty('store')) subscribeMsg.body.store = criteria.store;\n          if (criteria.hasOwnProperty('schema')) subscribeMsg.body.schema = criteria.schema;\n          if (criteria.hasOwnProperty('identity')) subscribeMsg.body.identity = criteria.identity;\n          if (criteria.hasOwnProperty('resource')) subscribeMsg.body.resource = criteria.url;\n        }\n\n        subscribeMsg.body.resume = criteria.resume;\n\n        //TODO: For Further Study\n        var mutual = criteria.mutual;\n        if (criteria.hasOwnProperty('mutual')) subscribeMsg.body.mutual = mutual;\n\n        log.log('[syncher] - subscribe message: ', criteria, subscribeMsg);\n\n        //request subscription\n        //Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n        //for more info see the DataProvisional class documentation.\n        _this._bus.postMessage(subscribeMsg, function (reply) {\n          log.log('[syncher] - subscribe-resumed-response: ', reply);\n\n          var objURL = reply.body.resource;\n\n          var newProvisional = _this._provisionals[objURL];\n          delete _this._provisionals[objURL];\n          if (newProvisional) newProvisional._releaseListeners();\n\n          if (reply.body.code < 200) {\n            // todo: check if this is needed for the resume\n\n            log.log('[syncher] - resume new DataProvisional: ', reply, objURL);\n            newProvisional = new _DataProvisional2.default(_this._owner, objURL, _this._bus, reply.body.childrenResources);\n            _this._provisionals[objURL] = newProvisional;\n          } else if (reply.body.code === 200) {\n\n            var listOfObservers = reply.body.value;\n\n            for (var index in listOfObservers) {\n\n              var dataObject = listOfObservers[index];\n              log.log('[syncher] - Resume Object Observer: ', reply, dataObject, _this._provisionals);\n\n              if (dataObject.childrenObjects) {\n                dataObject.childrenObjects = (0, _utils.deepClone)(dataObject.childrenObjects);\n              }\n\n              dataObject.data = (0, _utils.deepClone)(dataObject.data) || {};\n              dataObject.resume = true;\n              dataObject.syncher = _this;\n\n              //TODO: mutual For Further Study\n              log.log('[syncher._resumeSubscribe] - create new dataObject: ', dataObject);\n              var newObj = new _DataObjectObserver2.default(dataObject);\n\n              if (dataObject.childrenObjects) {\n                newObj.resumeChildrens(dataObject.childrenObjects);\n              }\n              log.log('[syncher._resumeSubscribe] - new dataObject', newObj);\n              _this._observers[newObj.url] = newObj;\n\n              if (_this._provisionals[newObj.url]) {\n                _this._provisionals[newObj.url].apply(newObj);\n              }\n\n              //lets sync with Reporter\n              // it was commented to let hyperties decide when to sync\n              //newObj.sync();\n            }\n\n            resolve(_this._observers);\n\n            if (_this3._onObserversResume) _this3._onObserversResume(_this._observers);\n          } else if (reply.body.code === 404) {\n            resolve({});\n          } else {\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n\n    //FLOW-IN: message received from a local runtime ReporterObject -> _onRemoteSubscribe\n\n  }, {\n    key: '_onForward',\n    value: function _onForward(msg) {\n      var _this = this;\n\n      var reporter = _this._reporters[msg.body.to];\n      reporter._onForward(msg);\n    }\n\n    //FLOW-IN: message received from a remote Syncher -> create (this is actually an invitation to subscribe)\n\n  }, {\n    key: '_onRemoteCreate',\n    value: function _onRemoteCreate(msg) {\n      var _this = this;\n      var resource = msg.from.slice(0, -13); //remove \"/subscription\" from the URL\n      var dividedURL = (0, _utils.divideURL)(resource);\n      var domain = dividedURL.domain;\n\n      var event = {\n        type: msg.type,\n        from: msg.body.source,\n        url: resource,\n        domain: domain,\n        schema: msg.body.schema,\n        value: msg.body.value,\n        identity: msg.body.identity,\n\n        ack: function ack(type) {\n          var lType = 200;\n          if (type) {\n            lType = type;\n          }\n\n          //send ack response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: lType }\n          });\n        }\n      };\n\n      if (_this._onNotificationHandler) {\n        log.info('[Syncher] NOTIFICATION-EVENT: ', event);\n        _this._onNotificationHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from a remote DataObjectReporter -> delete\n\n  }, {\n    key: '_onRemoteDelete',\n    value: function _onRemoteDelete(msg) {\n      var _this = this;\n\n      //remove \"/subscription\" from the URL\n      var resource = msg.body.resource;\n\n      var object = _this._observers[resource];\n\n      var unsubscribe = {\n        from: _this.owner,\n        to: _this._subURL,\n        id: msg.id,\n        type: 'unsubscribe',\n        body: { resource: msg.body.resource }\n      };\n\n      _this._bus.postMessage(unsubscribe);\n\n      delete _this._observers[resource];\n\n      if (object) {\n        var event = {\n          type: msg.type,\n          url: resource,\n          identity: msg.body.identity,\n\n          ack: function ack(type) {\n            var lType = 200;\n            if (type) {\n              lType = type;\n            }\n\n            //TODO: any other different options for the release process, like accept but nor release local?\n            if (lType === 200) {\n              object.delete();\n            }\n\n            //send ack response message\n            _this._bus.postMessage({\n              id: msg.id, type: 'response', from: msg.to, to: msg.from,\n              body: { code: lType, source: _this._owner }\n            });\n          }\n        };\n\n        if (_this._onNotificationHandler) {\n          log.log('NOTIFICATION-EVENT: ', event);\n          _this._onNotificationHandler(event);\n        }\n      } else {\n        _this._bus.postMessage({\n          id: msg.id, type: 'response', from: msg.to, to: msg.from,\n          body: { code: 404, source: _this._owner }\n        });\n      }\n    }\n\n    // close event received from runtime registry\n\n  }, {\n    key: '_onExecute',\n    value: function _onExecute(msg) {\n      var _this = this;\n\n      var reply = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 200 }\n      };\n\n      if ((msg.from === _this._runtimeUrl + '/registry/' || msg.from === _this._runtimeUrl + '/registry') && msg.body && msg.body.method && msg.body.method === 'close' && _this._onClose) {\n        var event = {\n          type: 'close',\n\n          ack: function ack(type) {\n            if (type) {\n              reply.body.code = type;\n            }\n\n            //send ack response message\n            _this._bus.postMessage(reply);\n          }\n        };\n\n        log.info('[Syncher] Close-EVENT: ', event);\n        _this._onClose(event);\n      } else {\n        _this._bus.postMessage(reply);\n      }\n    }\n\n    /**\r\n    * Callback system to trigger the resumed reporters\r\n    * @param  {Function} callback - function callback which will be invoked\r\n    * @return {Object<URL, DataObjectReporter>} Return one object with all resumed reporters;\r\n    */\n\n  }, {\n    key: 'onReportersResume',\n    value: function onReportersResume(callback) {\n      this._onReportersResume = callback;\n    }\n\n    /**\r\n    * Callback system to trigger the resumed observers\r\n    * @param  {Function} callback - function callback which will be invoked\r\n    * @return {Object<URL, DataObjectObserver>} Return one object with all resumed observers;\r\n    */\n\n  }, {\n    key: 'onObserversResume',\n    value: function onObserversResume(callback) {\n      this._onObserversResume = callback;\n    }\n  }, {\n    key: 'owner',\n    get: function get() {\n      return this._owner;\n    }\n\n    /**\r\n    * All owned reporters, the ones that were created by a create\r\n    * @type {Object<URL, DataObjectReporter>}\r\n    */\n\n  }, {\n    key: 'reporters',\n    get: function get() {\n      return this._reporters;\n    }\n\n    /**\r\n    * All owned observers, the ones that were created by a local subscription\r\n    * @type {Object<URL, DataObjectObserver>}\r\n    */\n\n  }, {\n    key: 'observers',\n    get: function get() {\n      return this._observers;\n    }\n  }]);\n  return Syncher;\n}();\n\nexports.default = Syncher;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9TeW5jaGVyLmpzP2NhODEiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nIiwiZ2V0TG9nZ2VyIiwiU3luY2hlciIsIm93bmVyIiwiYnVzIiwiY29uZmlnIiwiX3RoaXMiLCJfb3duZXIiLCJfYnVzIiwiX3N1YlVSTCIsInJ1bnRpbWVVUkwiLCJfcnVudGltZVVybCIsIl9wMnBIYW5kbGVyIiwicDJwSGFuZGxlciIsIl9wMnBSZXF1ZXN0ZXIiLCJwMnBSZXF1ZXN0ZXIiLCJfcmVwb3J0ZXJzIiwiX29ic2VydmVycyIsIl9wcm92aXNpb25hbHMiLCJhZGRMaXN0ZW5lciIsIm1zZyIsImZyb20iLCJpbmZvIiwidHlwZSIsIl9vbkZvcndhcmQiLCJfb25SZW1vdGVDcmVhdGUiLCJfb25SZW1vdGVEZWxldGUiLCJfb25FeGVjdXRlIiwic2NoZW1hIiwib2JzZXJ2ZXJzIiwiaW5pdGlhbERhdGEiLCJzdG9yZSIsInAycCIsIm5hbWUiLCJpZGVudGl0eSIsImlucHV0IiwiRXJyb3IiLCJjcmVhdGVJbnB1dCIsImF1dGhvcmlzZSIsImRhdGEiLCJsZW5ndGgiLCJyZXBvcnRlciIsImhhc093blByb3BlcnR5IiwicmVzdW1lIiwibXV0dWFsIiwicmVzb3VyY2UiLCJyZXVzZVVSTCIsIl9jcmVhdGUiLCJjcml0ZXJpYSIsIl9yZXN1bWVDcmVhdGUiLCJvYmpVUkwiLCJkb21haW5fc3Vic2NyaXB0aW9uIiwiX3N1YnNjcmliZSIsIl9jcml0ZXJpYSIsIl9yZXN1bWVTdWJzY3JpYmUiLCJyZWFkTXNnIiwidG8iLCJyZXNvbHZlIiwicmVqZWN0IiwiY2FsbGJhY2siLCJyZXBseSIsImNoaWxkcmVucyIsInZhbHVlIiwibiIsImJvZHkiLCJjb2RlIiwicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsImlkIiwicmVzcG9uc2VzIiwiY2hpbGRyZW4iLCJjaGlsZHJlbk9iamVjdHMiLCJkZXNjIiwicG9zdE1lc3NhZ2UiLCJfb25Ob3RpZmljYXRpb25IYW5kbGVyIiwiX29uQ2xvc2UiLCJyZXBvcnRlcklucHV0IiwiY3JlYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJ1bnRpbWUiLCJyZXF1ZXN0VmFsdWUiLCJyZXF1ZXN0TXNnIiwidXJsIiwic3RhdHVzIiwic3luY2hlciIsImNoaWxkcmVuUmVzb3VyY2VzIiwibmV3T2JqIiwiRGF0YU9iamVjdFJlcG9ydGVyIiwiaW52aXRlT2JzZXJ2ZXJzIiwibGlzdE9mUmVwb3J0ZXJzIiwiaW5kZXgiLCJkYXRhT2JqZWN0IiwicmVzdW1lQ2hpbGRyZW5zIiwiX29uUmVwb3J0ZXJzUmVzdW1lIiwic3Vic2NyaWJlTXNnIiwibmV3UHJvdmlzaW9uYWwiLCJfcmVsZWFzZUxpc3RlbmVycyIsIkRhdGFQcm92aXNpb25hbCIsIm9ic2VydmVySW5wdXQiLCJEYXRhT2JqZWN0T2JzZXJ2ZXIiLCJzeW5jIiwiYXBwbHkiLCJsaXN0T2ZPYnNlcnZlcnMiLCJfb25PYnNlcnZlcnNSZXN1bWUiLCJzbGljZSIsImRpdmlkZWRVUkwiLCJkb21haW4iLCJldmVudCIsInNvdXJjZSIsImFjayIsImxUeXBlIiwib2JqZWN0IiwidW5zdWJzY3JpYmUiLCJkZWxldGUiLCJtZXRob2QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QkE7O0lBQVlBLE07O0FBR1o7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQU5BLElBQUlDLE1BQU1ELE9BQU9FLFNBQVAsQ0FBaUIsU0FBakIsQ0FBVixDLENBekJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7QUFVQTs7Ozs7SUFLTUMsTztBQUNKOzs7Ozs7Ozs7Ozs7QUFlQTs7Ozs7O0FBTUEsbUJBQVlDLEtBQVosRUFBbUJDLEdBQW5CLEVBQXdCQyxNQUF4QixFQUFnQztBQUFBOztBQUM5QixRQUFJQyxRQUFRLElBQVo7O0FBRUFBLFVBQU1DLE1BQU4sR0FBZUosS0FBZjtBQUNBRyxVQUFNRSxJQUFOLEdBQWFKLEdBQWI7O0FBRUFFLFVBQU1H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LEdBQWtCMUMsSUFBbEI7QUFDRDs7QUFFRjtBQUNDakIsa0JBQU1FLElBQU4sQ0FBV2dFLFdBQVgsQ0FBdUJaLEtBQXZCO0FBQ0Q7QUFWUyxTQUFaOztBQWFBNUQsWUFBSXNCLElBQUosQ0FBUyx5QkFBVCxFQUFvQ3FGLEtBQXBDO0FBQ0FyRyxjQUFNb0UsUUFBTixDQUFlaUMsS0FBZjtBQUVELE9BakJELE1BaUJPO0FBQ0xyRyxjQUFNRSxJQUFOLENBQVdnRSxXQUFYLENBQXVCWixLQUF2QjtBQUNEO0FBRUY7O0FBRUQ7Ozs7Ozs7O3NDQUtrQkQsUSxFQUFVO0FBQzFCLFdBQUtrQyxrQkFBTCxHQUEwQmxDLFFBQTFCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O3NDQUtrQkEsUSxFQUFVO0FBQzFCLFdBQUs0QyxrQkFBTCxHQUEwQjVDLFFBQTFCO0FBQ0Q7Ozt3QkE3cUJXO0FBQUUsYUFBTyxLQUFLcEQsTUFBWjtBQUFxQjs7QUFFbkM7Ozs7Ozs7d0JBSWdCO0FBQUUsYUFBTyxLQUFLUyxVQUFaO0FBQXlCOztBQUUzQzs7Ozs7Ozt3QkFJZ0I7QUFBRSxhQUFPLEtBQUtDLFVBQVo7QUFBeUI7Ozs7O2tCQXFxQjlCZixPIiwiZmlsZSI6IjEzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbi8vIExvZyBTeXN0ZW1cclxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcclxubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ1N5bmNoZXInKTtcclxuXHJcbmltcG9ydCB7IGRlZXBDbG9uZSwgZGl2aWRlVVJMIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuaW1wb3J0IERhdGFPYmplY3RSZXBvcnRlciBmcm9tICcuL0RhdGFPYmplY3RSZXBvcnRlcic7XHJcbmltcG9ydCBEYXRhT2JqZWN0T2JzZXJ2ZXIgZnJvbSAnLi9EYXRhT2JqZWN0T2JzZXJ2ZXInO1xyXG5pbXBvcnQgRGF0YVByb3Zpc2lvbmFsIGZyb20gJy4vRGF0YVByb3Zpc2lvbmFsJztcclxuXHJcbi8qKlxyXG4qIFRoZSBtYWluIGNsYXNzIGZvciB0aGUgc3luY2hlciBwYWNrYWdlLlxyXG4qIFRoZSBTeW5jaGVyIGlzIGEgc2luZ2xldG9uIGNsYXNzIHBlciBIeXBlcnR5L1VSTCBhbmQgaXQgaXMgdGhlIG93bmVyIG9mIGFsbCBjcmVhdGVkIERhdGEgU3luYyBPYmplY3RzIGFjY29yZGluZyB0byB0aGUgUmVwb3J0ZXIgLSBPYnNlcnZlciBwYXR0ZXJuLlxyXG4qIE1haW4gZnVuY3Rpb25hbGl0eSBpcyB0byBjcmVhdGUgcmVwb3J0ZXJzIGFuZCB0byBzdWJzY3JpYmUgdG8gZXhpc3Rpbmcgb25lcy5cclxuKi9cclxuY2xhc3MgU3luY2hlciB7XHJcbiAgLyogcHJpdmF0ZVxyXG4gIF9vd25lcjogVVJMXHJcbiAgX2J1czogTWluaUJ1c1xyXG5cclxuICBfc3ViVVJMOiBVUkxcclxuXHJcbiAgX3JlcG9ydGVyczogPHVybDogRGF0YU9iamVjdFJlcG9ydGVyPlxyXG4gIF9vYnNlcnZlcnM6IDx1cmw6IERhdGFPYmplY3RPYnNlcnZlcj5cclxuICBfcHJvdmlzaW9uYWxzOiA8dXJsOiBEYXRhUHJvdmlzaW9uYWw+XHJcblxyXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cclxuICBfb25Ob3RpZmljYXRpb25IYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcclxuICBfb25SZXN1bWU6IChldmVudCkgPT4gdm9pZFxyXG4gICovXHJcblxyXG4gIC8qKlxyXG4gICogQ29uc3RydWN0b3IgdGhhdCBzaG91bGQgYmUgdXNlZCBieSB0aGUgSHlwZXJ0eSBvd25lclxyXG4gICogQHBhcmFtIHtIeXBlcnR5VVJMfSBvd25lciAtIEh5cGVydHkgVVJMIG93bmVyLiBBbiBVUkwgYWxsb2NhdGVkIGJ5IHRoZSBydW50aW1lIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgSHlwZXJ0eS5cclxuICAqIEBwYXJhbSB7TWluaUJ1c30gYnVzIC0gQW4gaW5zdGFuY2Ugb2YgdGhlIE1pbmlCdXMgcHJvdmlkZWQgaW4gdGhlIHNhbmRib3guIFdoZW4gYW4gb2JqZWN0IChSZXBvcnRlciBvciBPYnNlcnZlZCkgaXMgY3JlYXRlZCwgdGhlIFN5bmNoZXJNYW5hZ2VyIHdpbGwgYWRkIGEgbGlzdGVuZXIgaW4gdGhlIE1pbmlCdXMgdG8gcmVjZWl2ZS9zZW5kIE1lc3NhZ2VzIG9mIHRoYXQgb2JqZWN0LlxyXG4gICogQHBhcmFtIHtKU09OfSBjb25maWcgLSBDb25maWd1cmF0aW9uIGRhdGEuIFRoZSBvbmx5IHJlcXVpcmVkIGZpZWxkIGZvciBub3cgaXMgdGhlIHJ1bnRpbWVVUkwuXHJcbiAgKi9cclxuICBjb25zdHJ1Y3Rvcihvd25lciwgYnVzLCBjb25maWcpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX293bmVyID0gb3duZXI7XHJcbiAgICBfdGhpcy5fYnVzID0gYnVzO1xyXG5cclxuICAgIF90aGlzLl9zdWJVUkwgPSBjb25maWcucnVudGltZVVSTCArICcvc20nO1xyXG4gICAgX3RoaXMuX3J1bnRpbWVVcmwgPSBjb25maWcucnVudGltZVVSTDtcclxuXHJcbiAgICBfdGhpcy5fcDJwSGFuZGxlciA9IGNvbmZpZy5wMnBIYW5kbGVyO1xyXG4gICAgX3RoaXMuX3AycFJlcXVlc3RlciA9IGNvbmZpZy5wMnBSZXF1ZXN0ZXI7XHJcblxyXG4gICAgX3RoaXMuX3JlcG9ydGVycyA9IHt9O1xyXG4gICAgX3RoaXMuX29ic2VydmVycyA9IHt9O1xyXG4gICAgX3RoaXMuX3Byb3Zpc2lvbmFscyA9IHt9O1xyXG5cclxuICAgIGJ1cy5hZGRMaXN0ZW5lcihvd25lciwgKG1zZykgPT4ge1xyXG4gICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXHJcbiAgICAgIGlmIChtc2cuZnJvbSAhPT0gb3duZXIpIHtcclxuICAgICAgICBsb2cuaW5mbygnW1N5bmNoZXJdIFN5bmNoZXItUkNWOiAnLCBtc2csIF90aGlzKTtcclxuICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdmb3J3YXJkJzogX3RoaXMuX29uRm9yd2FyZChtc2cpOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2NyZWF0ZSc6IF90aGlzLl9vblJlbW90ZUNyZWF0ZShtc2cpOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6IF90aGlzLl9vblJlbW90ZURlbGV0ZShtc2cpOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2V4ZWN1dGUnOiBfdGhpcy5fb25FeGVjdXRlKG1zZyk7IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFRoZSBvd25lciBvZiB0aGUgU3luY2hlciBhbmQgYWxsIGNyZWF0ZWQgcmVwb3J0ZXJzLlxyXG4gICogQHR5cGUge0h5cGVydHlVUkx9XHJcbiAgKi9cclxuICBnZXQgb3duZXIoKSB7IHJldHVybiB0aGlzLl9vd25lcjsgfVxyXG5cclxuICAvKipcclxuICAqIEFsbCBvd25lZCByZXBvcnRlcnMsIHRoZSBvbmVzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IGEgY3JlYXRlXHJcbiAgKiBAdHlwZSB7T2JqZWN0PFVSTCwgRGF0YU9iamVjdFJlcG9ydGVyPn1cclxuICAqL1xyXG4gIGdldCByZXBvcnRlcnMoKSB7IHJldHVybiB0aGlzLl9yZXBvcnRlcnM7IH1cclxuXHJcbiAgLyoqXHJcbiAgKiBBbGwgb3duZWQgb2JzZXJ2ZXJzLCB0aGUgb25lcyB0aGF0IHdlcmUgY3JlYXRlZCBieSBhIGxvY2FsIHN1YnNjcmlwdGlvblxyXG4gICogQHR5cGUge09iamVjdDxVUkwsIERhdGFPYmplY3RPYnNlcnZlcj59XHJcbiAgKi9cclxuICBnZXQgb2JzZXJ2ZXJzKCkgeyByZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzOyB9XHJcblxyXG4gIC8qKlxyXG4gICogUmVxdWVzdCBhIERhdGFPYmplY3RSZXBvcnRlciBjcmVhdGlvbi4gVGhlIFVSTCB3aWxsIGJlIGJlIHJlcXVlc3RlZCBieSB0aGUgYWxsb2NhdGlvbiBtZWNoYW5pc20uXHJcbiAgKiBAcGFyYW0gIHtTY2hlbWFVUkx9IHNjaGVtYSAtIEh5cGVydHkgQ2F0YWxvZ3VlIFVSTCBhZGRyZXNzIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIEpTT04tU2NoZW1hIGRlc2NyaWJpbmcgdGhlIERhdGEgT2JqZWN0IHNjaGVtYVxyXG4gICogQHBhcmFtICB7SHlwZXJ0eVVSTFtdfSBvYnNlcnZlcnMgLSBMaXN0IG9mIGh5cGVydGllcyB0aGF0IGFyZSBwcmUtYXV0aG9yaXplZCBmb3Igc3Vic2NyaXB0aW9uXHJcbiAgKiBAcGFyYW0gIHtKU09OfSBpbml0aWFsRGF0YSAtIEluaXRpYWwgZGF0YSBvZiB0aGUgcmVwb3J0ZXJcclxuICAqIEBwYXJhbSAge2Jvb2xlYW59IHN0b3JlIC0gKE9wdGlvbmFsKSBpZiB0cnVlLCBvYmplY3Qgd2lsbCBiZSBzdG9yZWQgYnkgdGhlIHJ1bnRpbWVcclxuICAqIEBwYXJhbSAge2Jvb2xlYW59IHAycCAtIChPcHRpb25hbCkgaWYgdHJ1ZSwgZGF0YSBzeW5jaHJvbmlzYXRpb24gc3RyZWFtIHdpbGwgdXNlIHAycCBjb25uZWN0aW9uIGFzIG11Y2ggYXMgcG9zc2libGVcclxuICAqIEBwYXJhbSAge3N0cmluZ30gbmFtZSAtIChPcHRpb25hbCkgdGhlIG5hbWUgb2YgdGhlIGRhdGFvYmplY3RcclxuICAqIEBwYXJhbSAge01lc3NhZ2VCb2R5SWRlbnRpdHl9IGlkZW50aXR5IC0gKG9wdGlvbmFsKSBpZGVudGl0eSBkYXRhIHRvIGJlIGFkZGVkIHRvIGlkZW50aXR5IHRoZSB1c2VyIHJlcG9ydGVyLiBUbyBiZSB1c2VkIGZvciBsZWdhY3kgaWRlbnRpdGllcy5cclxuICAqIEBwYXJhbSAge1N5bmNNZXRhZGF0YX0gaW5wdXQgLSAob3B0aW9uYWwpIGFsbCBtZXRhZGF0YSByZXF1aXJlZCB0byBzdW5jIHRoZSBEYXRhIE9iamVjdC5cclxuICAqIEByZXR1cm4ge1Byb21pc2U8RGF0YU9iamVjdFJlcG9ydGVyPn0gUmV0dXJuIFByb21pc2UgdG8gYSBuZXcgUmVwb3J0ZXIuIFRoZSByZXBvcnRlciBjYW4gYmUgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgYnkgdGhlIFBFUFxyXG4gICovXHJcbiAgY3JlYXRlKHNjaGVtYSwgb2JzZXJ2ZXJzLCBpbml0aWFsRGF0YSwgc3RvcmUgPSBmYWxzZSwgcDJwID0gZmFsc2UsIG5hbWUgPSAnbm8gbmFtZScsIGlkZW50aXR5LCBpbnB1dCkge1xyXG5cclxuICAgIGlmICghc2NoZW1hKSB0aHJvdyBFcnJvcignW1N5bmNoZXIgLSBDcmVhdGVdIC0gWW91IG5lZWQgc3BlY2lmeSB0aGUgZGF0YSBvYmplY3Qgc2NoZW1hJyk7XHJcbiAgICBpZiAoIW9ic2VydmVycykgdGhyb3cgRXJyb3IoJ1tTeW5jaGVyIC0gQ3JlYXRlXSAtVGhlIG9ic2VydmVycyBzaG91bGQgYmUgZGVmaW5lZCcpO1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBpbnB1dCA9IGlucHV0IHx8IHt9O1xyXG4gICAgbGV0IGNyZWF0ZUlucHV0ICA9IE9iamVjdC5hc3NpZ24oe30sIGlucHV0KTtcclxuXHJcbiAgICBjcmVhdGVJbnB1dC5wMnAgPSBwMnA7XHJcbiAgICBjcmVhdGVJbnB1dC5zdG9yZSA9IHN0b3JlO1xyXG4gICAgY3JlYXRlSW5wdXQuc2NoZW1hID0gc2NoZW1hO1xyXG4gICAgY3JlYXRlSW5wdXQuYXV0aG9yaXNlID0gb2JzZXJ2ZXJzO1xyXG4gICAgY3JlYXRlSW5wdXQucDJwSGFuZGxlciA9IF90aGlzLl9wMnBIYW5kbGVyO1xyXG4gICAgY3JlYXRlSW5wdXQucDJwUmVxdWVzdGVyID0gX3RoaXMuX3AycFJlcXVlc3RlcjtcclxuICAgIChpbml0aWFsRGF0YSkgPyBjcmVhdGVJbnB1dC5kYXRhID0gZGVlcENsb25lKGluaXRpYWxEYXRhKSA6IGNyZWF0ZUlucHV0LmRhdGEgPSB7fTtcclxuICAgIGNyZWF0ZUlucHV0Lm5hbWUgPSBuYW1lLmxlbmd0aCA9PT0gMCA/ICdubyBuYW1lJyA6IG5hbWU7XHJcbiAgICBjcmVhdGVJbnB1dC5yZXBvcnRlciA9IChpbnB1dC5oYXNPd25Qcm9wZXJ0eSgncmVwb3J0ZXInKSAmJiAoKHR5cGVvZiBpbnB1dC5yZXBvcnRlcikgIT09ICdib29sZWFuJykpID8gaW5wdXQucmVwb3J0ZXIgOiBfdGhpcy5fb3duZXI7XHJcbiAgICBjcmVhdGVJbnB1dC5yZXN1bWUgPSBmYWxzZTtcclxuICAgIGlmIChpbnB1dCkge1xyXG4gICAgICBjcmVhdGVJbnB1dC5tdXR1YWwgPSBpbnB1dC5oYXNPd25Qcm9wZXJ0eSgnbXV0dWFsJykgPyBpbnB1dC5tdXR1YWwgOiB0cnVlO1xyXG4gICAgICBjcmVhdGVJbnB1dC5uYW1lID0gaW5wdXQuaGFzT3duUHJvcGVydHkoJ25hbWUnKSA/IGlucHV0Lm5hbWUgOiBjcmVhdGVJbnB1dC5uYW1lO1xyXG4gICAgfSBlbHNlIHsgY3JlYXRlSW5wdXQubXV0dWFsID0gdHJ1ZTsgfVxyXG5cclxuICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eSgncmV1c2VVUkwnKSkge1xyXG4gICAgICBjcmVhdGVJbnB1dC5yZXNvdXJjZSA9IGlucHV0LnJldXNlVVJMO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpZGVudGl0eSkgICAgICB7IGNyZWF0ZUlucHV0LmlkZW50aXR5ID0gaWRlbnRpdHk7IH1cclxuXHJcbiAgICAvL09iamVjdC5hc3NpZ24oY3JlYXRlSW5wdXQsIHtyZXN1bWU6IGZhbHNlfSk7XHJcbiAgICAvL2RlYnVnZ2VyO1xyXG4gICAgbG9nLmxvZygnW3N5bmNoZXIgLSBjcmVhdGVdIC0gY3JlYXRlIFJlcG9ydGVyIC0gY3JlYXRlSW5wdXQ6ICcsIGNyZWF0ZUlucHV0KTtcclxuXHJcbiAgICByZXR1cm4gX3RoaXMuX2NyZWF0ZShjcmVhdGVJbnB1dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFJlcXVlc3QgYSBEYXRhT2JqZWN0UmVwb3J0ZXIgY3JlYXRpb24uIFRoZSBVUkwgd2lsbCBiZSBiZSByZXF1ZXN0ZWQgYnkgdGhlIGFsbG9jYXRpb24gbWVjaGFuaXNtLlxyXG4gICogQHBhcmFtICB7T2JqZWN0fSBjcml0ZXJpYSAtIChvcHRpb25hbCkgaWRlbnRpdHkgZGF0YSB0byBiZSBhZGRlZCB0byBpZGVudGl0eSB0aGUgdXNlciByZXBvcnRlci4gVG8gYmUgdXNlZCBmb3IgbGVnYWN5IGlkZW50aXRpZXMuXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RSZXBvcnRlcj5bXX0gUmV0dXJuIGEgcHJvbWlzZSB3aXRoIGEgbGlzdCBvZiBEYXRhT2JqZWN0UmVwb3J0ZXIgdG8gYmUgcmVzdW1lZDtcclxuICAqL1xyXG4gIHJlc3VtZVJlcG9ydGVycyhjcml0ZXJpYSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxvZy5sb2coJ1tzeW5jaGVyIC0gY3JlYXRlXSAtIHJlc3VtZSBSZXBvcnRlciAtIGNyaXRlcmlhOiAnLCBjcml0ZXJpYSk7XHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbihjcml0ZXJpYSwge3Jlc3VtZTogdHJ1ZX0pO1xyXG5cclxuICAgIHJldHVybiBfdGhpcy5fcmVzdW1lQ3JlYXRlKGNyaXRlcmlhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogUmVxdWVzdCBhIHN1YnNjcmlwdGlvbiB0byBhbiBleGlzdGVudCByZXBvcnRlciBvYmplY3QuXHJcbiAgKiBAcGFyYW0ge1NjaGVtYVVSTH0gc2NoZW1hIC0gSHlwZXJ0eSBDYXRhbG9ndWUgVVJMIGFkZHJlc3MgdGhhdCBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgSlNPTi1TY2hlbWEgZGVzY3JpYmluZyB0aGUgRGF0YSBPYmplY3Qgc2NoZW1hXHJcbiAgKiBAcGFyYW0ge09iamVjdFVSTH0gb2JqVVJMIC0gQWRkcmVzcyBvZiB0aGUgZXhpc3RlbnQgcmVwb3J0ZXIgb2JqZWN0IHRvIGJlIG9ic2VydmVkXHJcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdG9yZT1mYWxzZV0gLSBTYXZlIHRoZSBzdWJzY3JpcHRpb24gb24gdGhlIFN5bmNoZXIgTWFuYWdlciBmb3IgZnVydGhlciByZXN1bWUgKERlZmF1bHQgaXMgZmFsc2UpXHJcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwMnA9ZmFsc2VdIC0gSW5mbyBhYm91dCBpZiBzaG91bGQgdXNlIHAycCBjb25uZWN0aW9uIChEZWZhdWx0IGlzIGZhbHNlKVxyXG4gICogQHBhcmFtIHtCb29sZWFufSBbbXV0dWFsPXRydWVdIC0gSW5mbyBhYm91dCBpZiBtZXNzYWdlcyBvZiB0aGlzIG9iamVjdCBzaG91bGQgYmUgZW5jcnlwdGVkIChEZWZhdWx0IGlzIHRydWUpXHJcbiAgKiBAcGFyYW0gIHtNZXNzYWdlQm9keUlkZW50aXR5fSBpZGVudGl0eSAtIChvcHRpb25hbCkgaWRlbnRpdHkgZGF0YSB0byBiZSBhZGRlZCB0byBpZGVudGl0eSB0aGUgdXNlciByZXBvcnRlci4gVG8gYmUgdXNlZCBmb3IgbGVnYWN5IGlkZW50aXRpZXMuXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RPYnNlcnZlcj59IFJldHVybiBQcm9taXNlIHRvIGEgbmV3IG9ic2VydmVyLiBJdCdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVwb3J0ZXIuXHJcbiAgKi9cclxuXHJcbiAgLy9UT0RPOiB1c2UgaW5wdXQgSlNPTiBwYXJhbSB3aXRoIGFsbCBvcHRpb25hbCBwYXJhbWV0ZXJzIHNpbWlsYXIgdG8gY3JlYXRlXHJcbiAgc3Vic2NyaWJlKHNjaGVtYSwgb2JqVVJMLCBzdG9yZSA9IGZhbHNlLCBwMnAgPSBmYWxzZSwgbXV0dWFsID0gdHJ1ZSwgZG9tYWluX3N1YnNjcmlwdGlvbiA9IHRydWUsIGlkZW50aXR5KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGNyaXRlcmlhID0ge307XHJcblxyXG4gICAgY3JpdGVyaWEucDJwID0gcDJwO1xyXG4gICAgY3JpdGVyaWEuc3RvcmUgPSBzdG9yZTtcclxuICAgIGNyaXRlcmlhLnNjaGVtYSA9IHNjaGVtYTtcclxuICAgIGNyaXRlcmlhLmRvbWFpbl9zdWJzY3JpcHRpb24gPSBkb21haW5fc3Vic2NyaXB0aW9uO1xyXG5cclxuICAgIGNyaXRlcmlhLnJlc291cmNlID0gb2JqVVJMO1xyXG4gICAgaWYgKGlkZW50aXR5KSAgICAgIHsgY3JpdGVyaWEuaWRlbnRpdHkgPSBpZGVudGl0eTsgfVxyXG5cclxuICAgIC8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHlcclxuICAgIGNyaXRlcmlhLm11dHVhbCA9IG11dHVhbDtcclxuXHJcbiAgICBsb2cubG9nKCdbc3luY2hlciAtIHN1YnNjcmliZV0gLSBzdWJzY3JpYmUgY3JpdGVyaWE6ICcsIGNyaXRlcmlhKTtcclxuXHJcbiAgICBPYmplY3QuYXNzaWduKGNyaXRlcmlhLCB7cmVzdW1lOiBmYWxzZX0pO1xyXG5cclxuICAgIHJldHVybiBfdGhpcy5fc3Vic2NyaWJlKGNyaXRlcmlhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogUmVxdWVzdCBhIHN1YnNjcmlwdGlvbiB0byBhbiBleGlzdGVudCByZXBvcnRlciBvYmplY3QuXHJcbiAgKiBAcGFyYW0ge2NyaXRlcmlhfSBjcml0ZXJpYSAtIEluZm9ybWF0aW9uIHRvIGRpc2NvdmVyeSB0aGUgb2JzZXJ2ZXIgb2JqZWN0XHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RPYnNlcnZlcj59IFJldHVybiBQcm9taXNlIHRvIGEgbmV3IG9ic2VydmVyLiBJdCdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVwb3J0ZXIuXHJcbiAgKi9cclxuICByZXN1bWVPYnNlcnZlcnMoY3JpdGVyaWEpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgX2NyaXRlcmlhID0gY3JpdGVyaWEgfHwge307XHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbihfY3JpdGVyaWEsIHtyZXN1bWU6IHRydWV9KTtcclxuXHJcbiAgICByZXR1cm4gX3RoaXMuX3Jlc3VtZVN1YnNjcmliZShfY3JpdGVyaWEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBSZXF1ZXN0IGEgcmVhZCBhY3Rpb24gb24gdGhlIHJlcG9ydGVyIG9iamVjdFxyXG4gICogQHBhcmFtIHtPYmplY3RVUkx9IG9ialVSTCAtIFVSTCBvZiB0aGUgcmVwb3J0ZXIgb2JqZWN0IHRvIGJlIHJlYWRcclxuICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gUmV0dXJuIFByb21pc2UgdG8gbGFzdCBhdmFpbGFibGUgZGF0YSBvZiB0aGUgcmVwb3J0ZXJcclxuICAqL1xyXG4gIHJlYWQob2JqVVJMKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgZGlyZWN0bHkgdG8gcmVwb3J0ZXIgb2JqZWN0IChtYXliZSB0aGVyZSBpcyBubyBsaXN0ZW5lciBhdmFpbGFibGUsIHNvIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBNZXNzYWdlQnVzIC0+IHJlc29sdmUpXHJcbiAgICAvL3dpbGwgcmVhY2ggdGhlIHJlbW90ZSBvYmplY3QgaW4gRGF0YU9iamVjdFJlcG9ydGVyIC0+IF9vblJlYWRcclxuICAgIGxldCByZWFkTXNnID0ge1xyXG4gICAgICB0eXBlOiAncmVhZCcsIGZyb206IF90aGlzLl9vd25lciwgdG86IG9ialVSTFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBsZXQgY2FsbGJhY2sgPSAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdbU3luY2hlci5yZWFkXSByZXBseTogJywgcmVwbHkpO1xyXG5cclxuICAgICAgICBsZXQgY2hpbGRyZW5zID0ge307XHJcbiAgICAgICAgbGV0IHZhbHVlID0ge307XHJcbiAgICAgICAgbGV0IG4gPSAwO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlIDwgMzAwKSB7XHJcbiAgICAgICAgICBpZiAoIXJlcGx5LmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoJ3Jlc3BvbnNlcycpKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyZWFkTXNnLmZyb20sIHJlcGx5LmlkKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7IC8vZGF0YSBvYmplY3QgaXMgc2VudCBpbiBzZXBhcmF0ZWQgbWVzc2FnZXNcclxuICAgICAgICAgICAgaWYgKG4gPT09IDApIHsgLy9pbml0aWFsIHJlc3BvbnNlIHdpdGhvdXQgY2hpbGRyZW5zXHJcbiAgICAgICAgICAgICAgdmFsdWUgPSByZXBseS5ib2R5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gcmVjZWl2ZWQgcmVzcG9uc2UgY29udGFpbnMgY2hpbGRyZW5zXHJcbiAgICAgICAgICAgICAgZGVsZXRlIHJlcGx5LmJvZHkudmFsdWUucmVzcG9uc2VzO1xyXG4gICAgICAgICAgICAgIGxldCBjaGlsZHJlbjtcclxuICAgICAgICAgICAgICBmb3IgKGNoaWxkcmVuIGluIHJlcGx5LmJvZHkudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW5zLmhhc093blByb3BlcnR5KGNoaWxkcmVuKSkgY2hpbGRyZW5zW2NoaWxkcmVuXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjaGlsZHJlbnNbY2hpbGRyZW5dLCByZXBseS5ib2R5LnZhbHVlW2NoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgICBpZiAobiA9PT0gdmFsdWUucmVzcG9uc2VzKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5jaGlsZHJlbk9iamVjdHMgPSBjaGlsZHJlbnM7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWUucmVzcG9uc2VzO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHJlYWRNc2cuZnJvbSwgcmVwbHkuaWQpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBpZCA9IF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVhZE1zZywgY2FsbGJhY2ssIGZhbHNlKTtcclxuXHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGNyZWF0ZSBhbmQgZGVsZXRlIGV2ZW50cyBvZiByZW1vdmUgUmVwb3J0ZXIgb2JqZWN0cy5cclxuICAqIFRoaXMgaXMgcmVsZWF0ZWQgdG8gdGhlIG1lc3NhZ2VucyBzZW50IGJ5IGNyZWF0ZSB0byB0aGUgb2JzZXJ2ZXJzIEh5cGVydHkgYXJyYXkuXHJcbiAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXHJcbiAgKi9cclxuICBvbk5vdGlmaWNhdGlvbihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGNsb3NlIGV2ZW50cyBmcm9tIHRoZSBydW50aW1lLlxyXG4gICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xyXG4gICovXHJcbiAgb25DbG9zZShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25DbG9zZSA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZShpbnB1dCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgbGV0IHJlcG9ydGVySW5wdXQgID0gT2JqZWN0LmFzc2lnbih7fSwgaW5wdXQpO1xyXG5cclxuICAgICAgbGV0IHJlc3VtZSA9IGlucHV0LnJlc3VtZTtcclxuXHJcbiAgICAgIHJlcG9ydGVySW5wdXQuY3JlYXRlZCA9IChuZXcgRGF0ZSkudG9JU09TdHJpbmcoKTtcclxuICAgICAgcmVwb3J0ZXJJbnB1dC5ydW50aW1lID0gX3RoaXMuX3J1bnRpbWVVcmw7XHJcblxyXG4gICAgICBsZXQgcmVxdWVzdFZhbHVlID0gZGVlcENsb25lKHJlcG9ydGVySW5wdXQpO1xyXG5cclxuICAgICAgZGVsZXRlIHJlcXVlc3RWYWx1ZS5wMnA7XHJcbiAgICAgIGRlbGV0ZSByZXF1ZXN0VmFsdWUuc3RvcmU7XHJcbiAgICAgIGRlbGV0ZSByZXF1ZXN0VmFsdWUub2JzZXJ2ZXJzO1xyXG4gICAgICBkZWxldGUgcmVxdWVzdFZhbHVlLmlkZW50aXR5O1xyXG5cclxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25DcmVhdGVcclxuICAgICAgLy9kZWJ1Z2dlcjtcclxuICAgICAgbGV0IHJlcXVlc3RNc2cgPSB7XHJcbiAgICAgICAgdHlwZTogJ2NyZWF0ZScsIGZyb206IF90aGlzLl9vd25lciwgdG86IF90aGlzLl9zdWJVUkwsXHJcbiAgICAgICAgYm9keTogeyByZXN1bWU6IHJlc3VtZSwgdmFsdWU6IHJlcXVlc3RWYWx1ZSAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgIHJlcXVlc3RNc2cuYm9keS5zY2hlbWEgPSByZXBvcnRlcklucHV0LnNjaGVtYTtcclxuXHJcbiAgICAgIGlmIChyZXBvcnRlcklucHV0LnAycCkgcmVxdWVzdE1zZy5ib2R5LnAycCA9IHJlcG9ydGVySW5wdXQucDJwO1xyXG4gICAgICBpZiAocmVwb3J0ZXJJbnB1dC5zdG9yZSkgcmVxdWVzdE1zZy5ib2R5LnN0b3JlID0gcmVwb3J0ZXJJbnB1dC5zdG9yZTtcclxuICAgICAgaWYgKHJlcG9ydGVySW5wdXQuaWRlbnRpdHkpIHJlcXVlc3RNc2cuYm9keS5pZGVudGl0eSA9IHJlcG9ydGVySW5wdXQuaWRlbnRpdHk7XHJcblxyXG4gICAgICBsb2cubG9nKCdbc3luY2hlci5fY3JlYXRlXTogJywgcmVwb3J0ZXJJbnB1dCwgcmVxdWVzdE1zZyk7XHJcblxyXG4gICAgICAvL3JlcXVlc3QgY3JlYXRlIHRvIHRoZSBhbGxvY2F0aW9uIHN5c3RlbS4gQ2FuIGJlIHJlamVjdGVkIGJ5IHRoZSBQb2xpY3lFbmdpbmUuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVxdWVzdE1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgbG9nLmxvZygnW3N5bmNoZXIgLSBjcmVhdGVdIC0gY3JlYXRlLXJlc3BvbnNlOiAnLCByZXBseSk7XHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAvL3JlcG9ydGVyIGNyZWF0aW9uIGFjY2VwdGVkXHJcbiAgICAgICAgICByZXBvcnRlcklucHV0LnVybCA9IHJlcGx5LmJvZHkucmVzb3VyY2U7XHJcblxyXG4vKiAgICAgICAgICBpZiAocmVwbHkuYm9keS5wMnBIYW5kbGVyKSByZXBvcnRlcklucHV0LnAycEhhbmRsZXIgPSByZXBseS5ib2R5LnAycEhhbmRsZXI7XHJcbiAgICAgICAgICBpZiAocmVwbHkuYm9keS5wMnBSZXF1ZXN0ZXIpIHJlcG9ydGVySW5wdXQucDJwUmVxdWVzdGVyID0gcmVwbHkuYm9keS5wMnBSZXF1ZXN0ZXI7Ki9cclxuXHJcbiAgICAgICAgICByZXBvcnRlcklucHV0LnN0YXR1cyA9ICdsaXZlJzsvLyBwY2g6IGRvIHdlIG5lZCB0aGlzP1xyXG4gICAgICAgICAgcmVwb3J0ZXJJbnB1dC5zeW5jaGVyID0gX3RoaXM7XHJcbiAgICAgICAgICByZXBvcnRlcklucHV0LmNoaWxkcmVucyA9IHJlcGx5LmJvZHkuY2hpbGRyZW5SZXNvdXJjZXM7XHJcblxyXG4gICAgICAgICAgbGV0IG5ld09iaiA9IF90aGlzLl9yZXBvcnRlcnNbcmVwb3J0ZXJJbnB1dC51cmxdO1xyXG5cclxuICAgICAgICAgIGlmICghbmV3T2JqKSB7XHJcbiAgICAgICAgICAgIG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0UmVwb3J0ZXIocmVwb3J0ZXJJbnB1dCk7XHJcbiAgICAgICAgICAgIF90aGlzLl9yZXBvcnRlcnNbcmVwb3J0ZXJJbnB1dC51cmxdID0gbmV3T2JqO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG5ld09iai5pbnZpdGVPYnNlcnZlcnMoaW5wdXQuYXV0aG9yaXNlLCBpbnB1dC5wMnApO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUobmV3T2JqKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vcmVwb3J0ZXIgY3JlYXRpb24gcmVqZWN0ZWRcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBfcmVzdW1lQ3JlYXRlKGNyaXRlcmlhKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCByZXN1bWUgPSBjcml0ZXJpYS5yZXN1bWU7XHJcblxyXG4gICAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkNyZWF0ZVxyXG4gICAgICBsZXQgcmVxdWVzdE1zZyA9IHtcclxuICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N1YlVSTCxcclxuICAgICAgICBib2R5OiB7IHJlc3VtZTogcmVzdW1lIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxvZy5sb2coJ1tzeW5jaGVyIC0gY3JlYXRlXTogJywgY3JpdGVyaWEsIHJlcXVlc3RNc2cpO1xyXG4gICAgICBpZiAoY3JpdGVyaWEpIHtcclxuICAgICAgICByZXF1ZXN0TXNnLmJvZHkudmFsdWUgPSBjcml0ZXJpYTtcclxuICAgICAgICBpZiAoY3JpdGVyaWEuaGFzT3duUHJvcGVydHkoJ3JlcG9ydGVyJykpIHtcclxuICAgICAgICAgIHJlcXVlc3RNc2cuYm9keS52YWx1ZS5yZXBvcnRlciA9IGNyaXRlcmlhLnJlcG9ydGVyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXF1ZXN0TXNnLmJvZHkudmFsdWUucmVwb3J0ZXIgPSBfdGhpcy5fb3duZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY3JpdGVyaWEucDJwKSByZXF1ZXN0TXNnLmJvZHkucDJwID0gY3JpdGVyaWEucDJwO1xyXG4gICAgICBpZiAoY3JpdGVyaWEuc3RvcmUpIHJlcXVlc3RNc2cuYm9keS5zdG9yZSA9IGNyaXRlcmlhLnN0b3JlO1xyXG4gICAgICBpZiAoY3JpdGVyaWEub2JzZXJ2ZXJzKSByZXF1ZXN0TXNnLmJvZHkuYXV0aG9yaXNlID0gY3JpdGVyaWEub2JzZXJ2ZXJzO1xyXG4gICAgICBpZiAoY3JpdGVyaWEuaWRlbnRpdHkpIHJlcXVlc3RNc2cuYm9keS5pZGVudGl0eSA9IGNyaXRlcmlhLmlkZW50aXR5O1xyXG5cclxuICAgICAgbG9nLmxvZygnW3N5bmNoZXIuX3Jlc3VtZUNyZWF0ZV0gLSByZXN1bWUgbWVzc2FnZTogJywgcmVxdWVzdE1zZyk7XHJcblxyXG4gICAgICAvL2RlYnVnZ2VyO1xyXG5cclxuICAgICAgLy9yZXF1ZXN0IGNyZWF0ZSB0byB0aGUgYWxsb2NhdGlvbiBzeXN0ZW0uIENhbiBiZSByZWplY3RlZCBieSB0aGUgUG9saWN5RW5naW5lLlxyXG5cclxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZXF1ZXN0TXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdbc3luY2hlci5fcmVzdW1lQ3JlYXRlXSAtIGNyZWF0ZS1yZXN1bWVkLXJlc3BvbnNlOiAnLCByZXBseSk7XHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICAgICAgbGV0IGxpc3RPZlJlcG9ydGVycyA9IHJlcGx5LmJvZHkudmFsdWU7XHJcblxyXG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gbGlzdE9mUmVwb3J0ZXJzKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGF0YU9iamVjdCA9IGxpc3RPZlJlcG9ydGVyc1tpbmRleF07XHJcblxyXG4gICAgICAgICAgICAvL3JlcG9ydGVyIGNyZWF0aW9uIGFjY2VwdGVkXHJcblxyXG4gICAgICAgICAgICBkYXRhT2JqZWN0LmRhdGEgPSBkZWVwQ2xvbmUoZGF0YU9iamVjdC5kYXRhKSB8fCB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cykgeyBkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyA9IGRlZXBDbG9uZShkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyk7IH1cclxuXHJcbiAgICAgICAgICAgIGRhdGFPYmplY3QubXV0dWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRhdGFPYmplY3QucmVzdW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGF0YU9iamVjdC5zdGF0dXMgPSAnbGl2ZSc7Ly8gcGNoOiBkbyB3ZSBuZWQgdGhpcz9cclxuICAgICAgICAgICAgZGF0YU9iamVjdC5zeW5jaGVyID0gX3RoaXM7XHJcblxyXG4gICAgICAgICAgICBsb2cubG9nKCdbc3luY2hlci5fcmVzdW1lQ3JlYXRlXSAtIGNyZWF0ZS1yZXN1bWVkLWRhdGFPYmplY3RSZXBvcnRlcicsIGRhdGFPYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0UmVwb3J0ZXIoZGF0YU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YU9iamVjdC5jaGlsZHJlbk9iamVjdHMpIHtcclxuICAgICAgICAgICAgICBuZXdPYmoucmVzdW1lQ2hpbGRyZW5zKGRhdGFPYmplY3QuY2hpbGRyZW5PYmplY3RzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5fcmVwb3J0ZXJzW2RhdGFPYmplY3QudXJsXSA9IG5ld09iajtcclxuXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVzb2x2ZShfdGhpcy5fcmVwb3J0ZXJzKTtcclxuICAgICAgICAgIGlmICh0aGlzLl9vblJlcG9ydGVyc1Jlc3VtZSkgdGhpcy5fb25SZXBvcnRlcnNSZXN1bWUodGhpcy5fcmVwb3J0ZXJzKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDQwNCkge1xyXG4gICAgICAgICAgcmVzb2x2ZSh7fSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vcmVwb3J0ZXIgY3JlYXRpb24gcmVqZWN0ZWRcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zdWJzY3JpYmUoaW5wdXQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgU3luY2hlck1hbmFnZXIgLT4gX29uTG9jYWxTdWJzY3JpYmVcclxuICAgICAgbGV0IHN1YnNjcmliZU1zZyA9IHtcclxuICAgICAgICB0eXBlOiAnc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N1YlVSTCxcclxuICAgICAgICBib2R5OiB7fVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gSHlwZXJ0eSByZXF1ZXN0IHRvIGJlIGFuIE9ic2VydmVyXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI2h5cGVydHktcmVxdWVzdC10by1iZS1hbi1vYnNlcnZlclxyXG5cclxuICAgICAgLy8gUmVzdW1lIFN1YnNjcmlwdGlvbnMgZm9yIHRoZSBzYW1lIEh5cGVydHkgVVJMXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI3Jlc3VtZS1zdWJzY3JpcHRpb25zLWZvci10aGUtc2FtZS1oeXBlcnR5LXVybFxyXG5cclxuICAgICAgLy8gUmVzdW1lIFN1YnNjcmlwdGlvbnMgZm9yIGEgY2VydGFpbiB1c2VyIGFuZCBkYXRhIHNjaGVtYSBpbmRlcGVuZGVudGx5IG9mIHRoZSBIeXBlcnR5IFVSTC5cclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9tZXNzYWdlcy9kYXRhLXN5bmMtbWVzc2FnZXMubWQjcmVzdW1lLXN1YnNjcmlwdGlvbnMtZm9yLWEtY2VydGFpbi11c2VyLWFuZC1kYXRhLXNjaGVtYS1pbmRlcGVuZGVudGx5LW9mLXRoZS1oeXBlcnR5LXVybFxyXG4gICAgICBpZiAoaW5wdXQpIHtcclxuICAgICAgICBpZiAoaW5wdXQuaGFzT3duUHJvcGVydHkoJ3AycCcpKSBzdWJzY3JpYmVNc2cuYm9keS5wMnAgPSBpbnB1dC5wMnA7XHJcbiAgICAgICAgaWYgKGlucHV0Lmhhc093blByb3BlcnR5KCdzdG9yZScpKSBzdWJzY3JpYmVNc2cuYm9keS5zdG9yZSA9IGlucHV0LnN0b3JlO1xyXG4gICAgICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eSgnc2NoZW1hJykpIHN1YnNjcmliZU1zZy5ib2R5LnNjaGVtYSA9IGlucHV0LnNjaGVtYTtcclxuICAgICAgICBpZiAoaW5wdXQuaGFzT3duUHJvcGVydHkoJ2lkZW50aXR5JykpIHN1YnNjcmliZU1zZy5ib2R5LmlkZW50aXR5ID0gaW5wdXQuaWRlbnRpdHk7XHJcbiAgICAgICAgaWYgKGlucHV0Lmhhc093blByb3BlcnR5KCdyZXNvdXJjZScpKSBzdWJzY3JpYmVNc2cuYm9keS5yZXNvdXJjZSA9IGlucHV0LnJlc291cmNlO1xyXG4gICAgICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eSgnZG9tYWluX3N1YnNjcmlwdGlvbicpKSBzdWJzY3JpYmVNc2cuYm9keS5kb21haW5fc3Vic2NyaXB0aW9uID0gaW5wdXQuZG9tYWluX3N1YnNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgICBcclxuXHJcbiAgICAgIHN1YnNjcmliZU1zZy5ib2R5LnJlc3VtZSA9IGlucHV0LnJlc3VtZTtcclxuXHJcbiAgICAgIC8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHlcclxuICAgICAgaWYgKGlucHV0Lmhhc093blByb3BlcnR5KCdtdXR1YWwnKSkgc3Vic2NyaWJlTXNnLmJvZHkubXV0dWFsID0gaW5wdXQubXV0dWFsO1xyXG5cclxuICAgICAgbG9nLmxvZygnW3N5bmNoZXJfc3Vic2NyaWJlXSAtIHN1YnNjcmliZSBtZXNzYWdlOiAnLCBpbnB1dCwgc3Vic2NyaWJlTXNnKTtcclxuXHJcbiAgICAgIC8vcmVxdWVzdCBzdWJzY3JpcHRpb25cclxuICAgICAgLy9Qcm92aXNpb25hbCBkYXRhIGlzIGFwcGxpZWQgdG8gdGhlIERhdGFPYmplY3RPYnNlcnZlciBhZnRlciBjb25maXJtYXRpb24uIE9yIGRpc2NhcmRlZCBpZiB0aGVyZSBpcyBubyBjb25maXJtYXRpb24uXHJcbiAgICAgIC8vZm9yIG1vcmUgaW5mbyBzZWUgdGhlIERhdGFQcm92aXNpb25hbCBjbGFzcyBkb2N1bWVudGF0aW9uLlxyXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHN1YnNjcmliZU1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgbG9nLmxvZygnW3N5bmNoZXJdIC0gc3Vic2NyaWJlLXJlc3BvbnNlOiAnLCByZXBseSk7XHJcblxyXG4gICAgICAgIGxldCBvYmpVUkwgPSByZXBseS5ib2R5LnJlc291cmNlO1xyXG5cclxuICAgICAgICBsZXQgbmV3UHJvdmlzaW9uYWwgPSBfdGhpcy5fcHJvdmlzaW9uYWxzW29ialVSTF07XHJcbiAgICAgICAgZGVsZXRlIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXTtcclxuICAgICAgICBpZiAobmV3UHJvdmlzaW9uYWwpIG5ld1Byb3Zpc2lvbmFsLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPCAyMDApIHtcclxuICAgICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIG5ldyBEYXRhUHJvdmlzaW9uYWw6ICcsIHJlcGx5LmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMsIG9ialVSTCk7XHJcbiAgICAgICAgICBuZXdQcm92aXNpb25hbCA9IG5ldyBEYXRhUHJvdmlzaW9uYWwoX3RoaXMuX293bmVyLCBvYmpVUkwsIF90aGlzLl9idXMsIHJlcGx5LmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO1xyXG4gICAgICAgICAgX3RoaXMuX3Byb3Zpc2lvbmFsc1tvYmpVUkxdID0gbmV3UHJvdmlzaW9uYWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgbG9nLmxvZygnW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyOiAnLCByZXBseSwgX3RoaXMuX3Byb3Zpc2lvbmFscyk7XHJcblxyXG4gICAgICAgICAgbGV0IG9ic2VydmVySW5wdXQgPSByZXBseS5ib2R5LnZhbHVlO1xyXG5cclxuICAgICAgICAgIG9ic2VydmVySW5wdXQuc3luY2hlciA9IF90aGlzO1xyXG4gICAgICAgICAgb2JzZXJ2ZXJJbnB1dC5wMnAgPSBpbnB1dC5wMnA7XHJcbiAgICAgICAgICBvYnNlcnZlcklucHV0LnN0b3JlID0gaW5wdXQuc3RvcmU7XHJcbiAgICAgICAgICBvYnNlcnZlcklucHV0LmlkZW50aXR5ID0gaW5wdXQuaWRlbnRpdHk7XHJcbiAgICAgICAgICBvYnNlcnZlcklucHV0LnJlc3VtZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIC8vIHRvZG86IEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgICAgICAgICBvYnNlcnZlcklucHV0Lm11dHVhbCA9IGlucHV0Lm11dHVhbDtcclxuXHJcbiAgICAgICAgICAvL29ic2VydmVySW5wdXQuY2hpbGRyZW4gPSBuZXdQcm92aXNpb25hbC5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAvL1RPRE86IG11dHVhbCBGb3IgRnVydGhlciBTdHVkeVxyXG4gICAgICAgICAgbGV0IG5ld09iaiA9IF90aGlzLl9vYnNlcnZlcnNbb2JqVVJMXTtcclxuICAgICAgICAgIGlmICghbmV3T2JqKSB7XHJcbiAgICAgICAgICAgIG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0T2JzZXJ2ZXIob2JzZXJ2ZXJJbnB1dCk7XHJcbiAgICAgICAgICAgIF90aGlzLl9vYnNlcnZlcnNbb2JqVVJMXSA9IG5ld09iajtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld09iai5zeW5jKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbG9nLmxvZygnW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyIGFscmVhZHkgZXhpc3Q6ICcsIG5ld09iaik7XHJcblxyXG4gICAgICAgICAgcmVzb2x2ZShuZXdPYmopO1xyXG5cclxuICAgICAgICAgIGlmIChuZXdQcm92aXNpb25hbCkgeyBuZXdQcm92aXNpb25hbC5hcHBseShuZXdPYmopOyB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZWplY3QocmVwbHkuYm9keS5kZXNjKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfcmVzdW1lU3Vic2NyaWJlKGNyaXRlcmlhKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkxvY2FsU3Vic2NyaWJlXHJcbiAgICAgIGxldCBzdWJzY3JpYmVNc2cgPSB7XHJcbiAgICAgICAgdHlwZTogJ3N1YnNjcmliZScsIGZyb206IF90aGlzLl9vd25lciwgdG86IF90aGlzLl9zdWJVUkwsXHJcbiAgICAgICAgYm9keToge31cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIEh5cGVydHkgcmVxdWVzdCB0byBiZSBhbiBPYnNlcnZlclxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L3NwZWNzL2Jsb2IvbWFzdGVyL21lc3NhZ2VzL2RhdGEtc3luYy1tZXNzYWdlcy5tZCNoeXBlcnR5LXJlcXVlc3QtdG8tYmUtYW4tb2JzZXJ2ZXJcclxuXHJcbiAgICAgIC8vIFJlc3VtZSBTdWJzY3JpcHRpb25zIGZvciB0aGUgc2FtZSBIeXBlcnR5IFVSTFxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L3NwZWNzL2Jsb2IvbWFzdGVyL21lc3NhZ2VzL2RhdGEtc3luYy1tZXNzYWdlcy5tZCNyZXN1bWUtc3Vic2NyaXB0aW9ucy1mb3ItdGhlLXNhbWUtaHlwZXJ0eS11cmxcclxuXHJcbiAgICAgIC8vIFJlc3VtZSBTdWJzY3JpcHRpb25zIGZvciBhIGNlcnRhaW4gdXNlciBhbmQgZGF0YSBzY2hlbWEgaW5kZXBlbmRlbnRseSBvZiB0aGUgSHlwZXJ0eSBVUkwuXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI3Jlc3VtZS1zdWJzY3JpcHRpb25zLWZvci1hLWNlcnRhaW4tdXNlci1hbmQtZGF0YS1zY2hlbWEtaW5kZXBlbmRlbnRseS1vZi10aGUtaHlwZXJ0eS11cmxcclxuICAgICAgaWYgKGNyaXRlcmlhKSB7XHJcbiAgICAgICAgaWYgKGNyaXRlcmlhLmhhc093blByb3BlcnR5KCdwMnAnKSkgc3Vic2NyaWJlTXNnLmJvZHkucDJwID0gY3JpdGVyaWEucDJwO1xyXG4gICAgICAgIGlmIChjcml0ZXJpYS5oYXNPd25Qcm9wZXJ0eSgnc3RvcmUnKSkgc3Vic2NyaWJlTXNnLmJvZHkuc3RvcmUgPSBjcml0ZXJpYS5zdG9yZTtcclxuICAgICAgICBpZiAoY3JpdGVyaWEuaGFzT3duUHJvcGVydHkoJ3NjaGVtYScpKSBzdWJzY3JpYmVNc2cuYm9keS5zY2hlbWEgPSBjcml0ZXJpYS5zY2hlbWE7XHJcbiAgICAgICAgaWYgKGNyaXRlcmlhLmhhc093blByb3BlcnR5KCdpZGVudGl0eScpKSBzdWJzY3JpYmVNc2cuYm9keS5pZGVudGl0eSA9IGNyaXRlcmlhLmlkZW50aXR5O1xyXG4gICAgICAgIGlmIChjcml0ZXJpYS5oYXNPd25Qcm9wZXJ0eSgncmVzb3VyY2UnKSkgc3Vic2NyaWJlTXNnLmJvZHkucmVzb3VyY2UgPSBjcml0ZXJpYS51cmw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN1YnNjcmliZU1zZy5ib2R5LnJlc3VtZSA9IGNyaXRlcmlhLnJlc3VtZTtcclxuXHJcbiAgICAgIC8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHlcclxuICAgICAgbGV0IG11dHVhbCA9IGNyaXRlcmlhLm11dHVhbDtcclxuICAgICAgaWYgKGNyaXRlcmlhLmhhc093blByb3BlcnR5KCdtdXR1YWwnKSkgc3Vic2NyaWJlTXNnLmJvZHkubXV0dWFsID0gbXV0dWFsO1xyXG5cclxuICAgICAgbG9nLmxvZygnW3N5bmNoZXJdIC0gc3Vic2NyaWJlIG1lc3NhZ2U6ICcsIGNyaXRlcmlhLCBzdWJzY3JpYmVNc2cpO1xyXG5cclxuICAgICAgLy9yZXF1ZXN0IHN1YnNjcmlwdGlvblxyXG4gICAgICAvL1Byb3Zpc2lvbmFsIGRhdGEgaXMgYXBwbGllZCB0byB0aGUgRGF0YU9iamVjdE9ic2VydmVyIGFmdGVyIGNvbmZpcm1hdGlvbi4gT3IgZGlzY2FyZGVkIGlmIHRoZXJlIGlzIG5vIGNvbmZpcm1hdGlvbi5cclxuICAgICAgLy9mb3IgbW9yZSBpbmZvIHNlZSB0aGUgRGF0YVByb3Zpc2lvbmFsIGNsYXNzIGRvY3VtZW50YXRpb24uXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoc3Vic2NyaWJlTXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdbc3luY2hlcl0gLSBzdWJzY3JpYmUtcmVzdW1lZC1yZXNwb25zZTogJywgcmVwbHkpO1xyXG5cclxuICAgICAgICBsZXQgb2JqVVJMID0gcmVwbHkuYm9keS5yZXNvdXJjZTtcclxuXHJcbiAgICAgICAgbGV0IG5ld1Byb3Zpc2lvbmFsID0gX3RoaXMuX3Byb3Zpc2lvbmFsc1tvYmpVUkxdO1xyXG4gICAgICAgIGRlbGV0ZSBfdGhpcy5fcHJvdmlzaW9uYWxzW29ialVSTF07XHJcbiAgICAgICAgaWYgKG5ld1Byb3Zpc2lvbmFsKSBuZXdQcm92aXNpb25hbC5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlIDwgMjAwKSB7IC8vIHRvZG86IGNoZWNrIGlmIHRoaXMgaXMgbmVlZGVkIGZvciB0aGUgcmVzdW1lXHJcblxyXG4gICAgICAgICAgbG9nLmxvZygnW3N5bmNoZXJdIC0gcmVzdW1lIG5ldyBEYXRhUHJvdmlzaW9uYWw6ICcsIHJlcGx5LCBvYmpVUkwpO1xyXG4gICAgICAgICAgbmV3UHJvdmlzaW9uYWwgPSBuZXcgRGF0YVByb3Zpc2lvbmFsKF90aGlzLl9vd25lciwgb2JqVVJMLCBfdGhpcy5fYnVzLCByZXBseS5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtcclxuICAgICAgICAgIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXSA9IG5ld1Byb3Zpc2lvbmFsO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcblxyXG4gICAgICAgICAgbGV0IGxpc3RPZk9ic2VydmVycyA9IHJlcGx5LmJvZHkudmFsdWU7XHJcblxyXG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gbGlzdE9mT2JzZXJ2ZXJzKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGF0YU9iamVjdCA9IGxpc3RPZk9ic2VydmVyc1tpbmRleF07XHJcbiAgICAgICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIFJlc3VtZSBPYmplY3QgT2JzZXJ2ZXI6ICcsIHJlcGx5LCBkYXRhT2JqZWN0LCBfdGhpcy5fcHJvdmlzaW9uYWxzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cykgeyBkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyA9IGRlZXBDbG9uZShkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyk7IH1cclxuXHJcbiAgICAgICAgICAgIGRhdGFPYmplY3QuZGF0YSA9IGRlZXBDbG9uZShkYXRhT2JqZWN0LmRhdGEpIHx8IHt9O1xyXG4gICAgICAgICAgICBkYXRhT2JqZWN0LnJlc3VtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGRhdGFPYmplY3Quc3luY2hlciA9IF90aGlzO1xyXG5cclxuICAgICAgICAgICAgLy9UT0RPOiBtdXR1YWwgRm9yIEZ1cnRoZXIgU3R1ZHlcclxuICAgICAgICAgICAgbG9nLmxvZygnW3N5bmNoZXIuX3Jlc3VtZVN1YnNjcmliZV0gLSBjcmVhdGUgbmV3IGRhdGFPYmplY3Q6ICcsIGRhdGFPYmplY3QpO1xyXG4gICAgICAgICAgICBsZXQgbmV3T2JqID0gbmV3IERhdGFPYmplY3RPYnNlcnZlcihkYXRhT2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cykgeyBuZXdPYmoucmVzdW1lQ2hpbGRyZW5zKGRhdGFPYmplY3QuY2hpbGRyZW5PYmplY3RzKTsgfVxyXG4gICAgICAgICAgICBsb2cubG9nKCdbc3luY2hlci5fcmVzdW1lU3Vic2NyaWJlXSAtIG5ldyBkYXRhT2JqZWN0JywgbmV3T2JqKTtcclxuICAgICAgICAgICAgX3RoaXMuX29ic2VydmVyc1tuZXdPYmoudXJsXSA9IG5ld09iajtcclxuXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5fcHJvdmlzaW9uYWxzW25ld09iai51cmxdKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuX3Byb3Zpc2lvbmFsc1tuZXdPYmoudXJsXS5hcHBseShuZXdPYmopO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2xldHMgc3luYyB3aXRoIFJlcG9ydGVyXHJcbiAgICAgICAgICAgIC8vIGl0IHdhcyBjb21tZW50ZWQgdG8gbGV0IGh5cGVydGllcyBkZWNpZGUgd2hlbiB0byBzeW5jXHJcbiAgICAgICAgICAgIC8vbmV3T2JqLnN5bmMoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXNvbHZlKF90aGlzLl9vYnNlcnZlcnMpO1xyXG5cclxuICAgICAgICAgIGlmICh0aGlzLl9vbk9ic2VydmVyc1Jlc3VtZSkgdGhpcy5fb25PYnNlcnZlcnNSZXN1bWUoX3RoaXMuX29ic2VydmVycyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVwbHkuYm9keS5jb2RlID09PSA0MDQpIHtcclxuICAgICAgICAgIHJlc29sdmUoe30pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZWplY3QocmVwbHkuYm9keS5kZXNjKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSBsb2NhbCBydW50aW1lIFJlcG9ydGVyT2JqZWN0IC0+IF9vblJlbW90ZVN1YnNjcmliZVxyXG4gIF9vbkZvcndhcmQobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCByZXBvcnRlciA9IF90aGlzLl9yZXBvcnRlcnNbbXNnLmJvZHkudG9dO1xyXG4gICAgcmVwb3J0ZXIuX29uRm9yd2FyZChtc2cpO1xyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgU3luY2hlciAtPiBjcmVhdGUgKHRoaXMgaXMgYWN0dWFsbHkgYW4gaW52aXRhdGlvbiB0byBzdWJzY3JpYmUpXHJcbiAgX29uUmVtb3RlQ3JlYXRlKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCByZXNvdXJjZSA9IG1zZy5mcm9tLnNsaWNlKDAsIC0xMyk7IC8vcmVtb3ZlIFwiL3N1YnNjcmlwdGlvblwiIGZyb20gdGhlIFVSTFxyXG4gICAgbGV0IGRpdmlkZWRVUkwgPSBkaXZpZGVVUkwocmVzb3VyY2UpO1xyXG4gICAgbGV0IGRvbWFpbiA9IGRpdmlkZWRVUkwuZG9tYWluO1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgIGZyb206IG1zZy5ib2R5LnNvdXJjZSxcclxuICAgICAgdXJsOiByZXNvdXJjZSxcclxuICAgICAgZG9tYWluOiBkb21haW4sXHJcbiAgICAgIHNjaGVtYTogbXNnLmJvZHkuc2NoZW1hLFxyXG4gICAgICB2YWx1ZTogbXNnLmJvZHkudmFsdWUsXHJcbiAgICAgIGlkZW50aXR5OiBtc2cuYm9keS5pZGVudGl0eSxcclxuXHJcbiAgICAgIGFjazogKHR5cGUpID0+IHtcclxuICAgICAgICBsZXQgbFR5cGUgPSAyMDA7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgIGxUeXBlID0gdHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgLy9zZW5kIGFjayByZXNwb25zZSBtZXNzYWdlXHJcbiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgICAgIGJvZHk6IHsgY29kZTogbFR5cGUgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChfdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyKSB7XHJcbiAgICAgIGxvZy5pbmZvKCdbU3luY2hlcl0gTk9USUZJQ0FUSU9OLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXIoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdFJlcG9ydGVyIC0+IGRlbGV0ZVxyXG4gIF9vblJlbW90ZURlbGV0ZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAvL3JlbW92ZSBcIi9zdWJzY3JpcHRpb25cIiBmcm9tIHRoZSBVUkxcclxuICAgIGxldCByZXNvdXJjZSA9IG1zZy5ib2R5LnJlc291cmNlO1xyXG5cclxuICAgIGxldCBvYmplY3QgPSBfdGhpcy5fb2JzZXJ2ZXJzW3Jlc291cmNlXTtcclxuXHJcbiAgICBsZXQgdW5zdWJzY3JpYmUgPSB7XHJcbiAgICAgIGZyb206IF90aGlzLm93bmVyLFxyXG4gICAgICB0bzogX3RoaXMuX3N1YlVSTCxcclxuICAgICAgaWQ6IG1zZy5pZCxcclxuICAgICAgdHlwZTogJ3Vuc3Vic2NyaWJlJyxcclxuICAgICAgYm9keTogeyByZXNvdXJjZTogbXNnLmJvZHkucmVzb3VyY2UgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHVuc3Vic2NyaWJlKTtcclxuXHJcbiAgICBkZWxldGUgX3RoaXMuX29ic2VydmVyc1tyZXNvdXJjZV07XHJcblxyXG4gICAgaWYgKG9iamVjdCkge1xyXG4gICAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgICAgdXJsOiByZXNvdXJjZSxcclxuICAgICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHksXHJcblxyXG4gICAgICAgIGFjazogKHR5cGUpID0+IHtcclxuICAgICAgICAgIGxldCBsVHlwZSA9IDIwMDtcclxuICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGxUeXBlID0gdHlwZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIC8vVE9ETzogYW55IG90aGVyIGRpZmZlcmVudCBvcHRpb25zIGZvciB0aGUgcmVsZWFzZSBwcm9jZXNzLCBsaWtlIGFjY2VwdCBidXQgbm9yIHJlbGVhc2UgbG9jYWw/XHJcbiAgICAgICAgICBpZiAobFR5cGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgICBvYmplY3QuZGVsZXRlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy9zZW5kIGFjayByZXNwb25zZSBtZXNzYWdlXHJcbiAgICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXHJcbiAgICAgICAgICAgIGJvZHk6IHsgY29kZTogbFR5cGUsIHNvdXJjZTogX3RoaXMuX293bmVyIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChfdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyKSB7XHJcbiAgICAgICAgbG9nLmxvZygnTk9USUZJQ0FUSU9OLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcihldmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgIGJvZHk6IHsgY29kZTogNDA0LCBzb3VyY2U6IF90aGlzLl9vd25lciB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY2xvc2UgZXZlbnQgcmVjZWl2ZWQgZnJvbSBydW50aW1lIHJlZ2lzdHJ5XHJcbiAgX29uRXhlY3V0ZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IHJlcGx5ID0ge1xyXG4gICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgYm9keTogeyBjb2RlOiAyMDAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoKG1zZy5mcm9tID09PSBfdGhpcy5fcnVudGltZVVybCArICcvcmVnaXN0cnkvJyB8fCBtc2cuZnJvbSA9PT0gX3RoaXMuX3J1bnRpbWVVcmwgKyAnL3JlZ2lzdHJ5JykgJiYgbXNnLmJvZHkgJiYgbXNnLmJvZHkubWV0aG9kICYmIG1zZy5ib2R5Lm1ldGhvZCA9PT0gJ2Nsb3NlJyAmJiBfdGhpcy5fb25DbG9zZSkge1xyXG4gICAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgICAgdHlwZTogJ2Nsb3NlJyxcclxuXHJcbiAgICAgICAgYWNrOiAodHlwZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgcmVwbHkuYm9keS5jb2RlID0gdHlwZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIC8vc2VuZCBhY2sgcmVzcG9uc2UgbWVzc2FnZVxyXG4gICAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZXBseSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgbG9nLmluZm8oJ1tTeW5jaGVyXSBDbG9zZS1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICBfdGhpcy5fb25DbG9zZShldmVudCk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZXBseSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBDYWxsYmFjayBzeXN0ZW0gdG8gdHJpZ2dlciB0aGUgcmVzdW1lZCByZXBvcnRlcnNcclxuICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgaW52b2tlZFxyXG4gICogQHJldHVybiB7T2JqZWN0PFVSTCwgRGF0YU9iamVjdFJlcG9ydGVyPn0gUmV0dXJuIG9uZSBvYmplY3Qgd2l0aCBhbGwgcmVzdW1lZCByZXBvcnRlcnM7XHJcbiAgKi9cclxuICBvblJlcG9ydGVyc1Jlc3VtZShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25SZXBvcnRlcnNSZXN1bWUgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQ2FsbGJhY2sgc3lzdGVtIHRvIHRyaWdnZXIgdGhlIHJlc3VtZWQgb2JzZXJ2ZXJzXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGludm9rZWRcclxuICAqIEByZXR1cm4ge09iamVjdDxVUkwsIERhdGFPYmplY3RPYnNlcnZlcj59IFJldHVybiBvbmUgb2JqZWN0IHdpdGggYWxsIHJlc3VtZWQgb2JzZXJ2ZXJzO1xyXG4gICovXHJcbiAgb25PYnNlcnZlcnNSZXN1bWUoY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX29uT2JzZXJ2ZXJzUmVzdW1lID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU3luY2hlcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmNoZXIvU3luY2hlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///131\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _stringify = __webpack_require__(58);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(25);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(33);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(100);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(34);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _DataObject2 = __webpack_require__(122);\n\nvar _DataObject3 = _interopRequireDefault(_DataObject2);\n\nvar _utils = __webpack_require__(19);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObjectReporter'); /**\r\n                                                  * Copyright 2016 PT Inovação e Sistemas SA\r\n                                                  * Copyright 2016 INESC-ID\r\n                                                  * Copyright 2016 QUOBIS NETWORKS SL\r\n                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                                  * Copyright 2016 ORANGE SA\r\n                                                  * Copyright 2016 Deutsche Telekom AG\r\n                                                  * Copyright 2016 Apizee\r\n                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                                  *\r\n                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                                  * you may not use this file except in compliance with the License.\r\n                                                  * You may obtain a copy of the License at\r\n                                                  *\r\n                                                  *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                                  *\r\n                                                  * Unless required by applicable law or agreed to in writing, software\r\n                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                                  * See the License for the specific language governing permissions and\r\n                                                  * limitations under the License.\r\n                                                  **/\n\n// Log System\n\n/**\r\n * The class returned from the Syncher create call.\r\n * To be used as a reporter point, changes will be submited to DataObjectObserver instances.\r\n */\nvar DataObjectReporter = function (_DataObject) {\n  (0, _inherits3.default)(DataObjectReporter, _DataObject);\n\n  /* private\r\n  _subscriptions: <hypertyUrl: { status: string } }>\r\n    ----event handlers----\r\n  _onSubscriptionHandler: (event) => void\r\n  _onResponseHandler: (event) => void\r\n  _onReadHandler: (event) => void\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the Syncher.create method\r\n   */\n\n  //constructor(syncher, url, created, reporter, runtime, schema, name, initialStatus, initialData, childrens, mutual = true, resumed = false, description, tags, resources, observerStorage, publicObservation) {\n  function DataObjectReporter(input) {\n    (0, _classCallCheck3.default)(this, DataObjectReporter);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DataObjectReporter.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter)).call(this, input));\n\n    var _this = _this2;\n\n    _this._subscriptions = {};\n\n    _this._syncObj.observe(function (event) {\n      log.log('[Syncher.DataObjectReporter] ' + _this.url + ' publish change: ', event);\n      _this._onChange(event);\n    });\n\n    _this._allocateListeners();\n\n    _this.invitations = []; // array of promises with pending invitations\n    _this._childrenSizeThreshold = 50000; // to be used when replying to sync requests to ensure each response msg is not too large\n\n    return _this2;\n  }\n\n  (0, _createClass3.default)(DataObjectReporter, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      (0, _get3.default)(DataObjectReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter.prototype), '_allocateListeners', this).call(this);\n      var _this = this;\n\n      _this._objectListener = _this._bus.addListener(_this._url, function (msg) {\n        log.log('[Syncher.DataObjectReporter] listener ' + _this._url + ' Received: ', msg);\n        switch (msg.type) {\n          case 'response':\n            _this._onResponse(msg);break;\n          case 'read':\n            _this._onRead(msg);break;\n          case 'execute':\n            _this._onExecute(msg);break;\n          case 'create':\n            _this._onChildCreate(msg);break; // to create child objects that were sent whenn offline\n        }\n      });\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      (0, _get3.default)(DataObjectReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter.prototype), '_releaseListeners', this).call(this);\n      var _this = this;\n\n      _this._objectListener.remove();\n    }\n\n    /**\r\n     * Send invitations (create messages) to hyperties, observers list.\r\n     * @param  {HypertyURL[]} observers List of Hyperty URL's\r\n     */\n\n  }, {\n    key: 'inviteObservers',\n    value: function inviteObservers(observers, p2p) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n      // TODO: remove value and add resources? should similar to 1st create\n\n      var toInvite = observers;\n\n      // let invitePromises = [];\n\n      /*  observers.forEach((observer)=> {\r\n        if (!_this.invitations[observer]) {\r\n          toInvite.push(observer);\r\n          _this.invitations[observer] = observer;\r\n        }\r\n      });*/\n\n      if (toInvite.length > 0) {\n        log.log('[Syncher.DataObjectReporter] InviteObservers ', toInvite, _this._metadata);\n\n        toInvite.forEach(function (observer) {\n\n          var invitation = new _promise2.default(function (resolve, reject) {\n\n            var inviteMsg = {\n              type: 'create', from: _this._syncher._owner, to: _this._syncher._subURL,\n              body: { resume: false, resource: _this._url, schema: _this._schema, value: _this._metadata, authorise: [observer] }\n            };\n\n            if (p2p) inviteMsg.body.p2p = p2p;\n\n            if (!_this.data.mutual) inviteMsg.body.mutual = _this.data.mutual;\n\n            _this._bus.postMessage(inviteMsg, function (reply) {\n              log.log('[Syncher.DataObjectReporter] Invitation reply ', reply);\n\n              var result = {\n                invited: observer,\n                code: reply.body && reply.body.code ? reply.body.code : 500,\n                desc: reply.body && reply.body.desc ? reply.body.desc : 'Unknown'\n              };\n\n              if (result.code < 300) resolve(result);else if (result.code >= 300) reject(result);\n            });\n          });\n\n          _this.invitations.push(invitation);\n        });\n\n        //      return(invitePromises);\n      }\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._deleteChildrens().then(function (result) {\n        log.log(result);\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onDelete\n        var deleteMsg = {\n          type: 'delete', from: _this._owner, to: _this._syncher._subURL,\n          body: { resource: _this._url }\n        };\n\n        _this._bus.postMessage(deleteMsg, function (reply) {\n          log.log('DataObjectReporter-DELETE: ', reply);\n          if (reply.body.code === 200) {\n            _this._releaseListeners();\n            delete _this._syncher._reporters[_this._url];\n\n            //_this._syncObj.unobserve();\n            _this._syncObj = {};\n          }\n        });\n      });\n    }\n\n    /**\r\n     * Subscriptions requested and accepted to this reporter\r\n     * @type {Object<HypertyURL, SyncSubscription>}\r\n     */\n\n  }, {\n    key: 'onSubscription',\n\n\n    /**\r\n     * Setup the callback to process subscribe and unsubscribe notifications\r\n     * @param {function(event: MsgEvent)} callback function to receive events\r\n     */\n    value: function onSubscription(callback) {\n      this._onSubscriptionHandler = callback;\n    }\n\n    /**\r\n     * Setup the callback to process response notifications of the create's\r\n     * @param {function(event: MsgEvent)} callback function to receive events\r\n     */\n\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      this._onResponseHandler = callback;\n    }\n\n    /**\r\n     * Setup the callback to process read notifications\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onRead',\n    value: function onRead(callback) {\n      this._onReadHandler = callback;\n    }\n\n    /**\r\n     * Setup the callback to process execute notifications\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onExecute',\n    value: function onExecute(callback) {\n      this._onExecuteHandler = callback;\n    }\n\n    //FLOW-IN: message received from parent Syncher -> _onForward\n\n  }, {\n    key: '_onForward',\n    value: function _onForward(msg) {\n      var _this = this;\n\n      log.log('DataObjectReporter-RCV: ', msg);\n      switch (msg.body.type) {\n        case 'subscribe':\n          _this._onSubscribe(msg);break;\n        case 'unsubscribe':\n          _this._onUnSubscribe(msg);break;\n      }\n    }\n\n    //FLOW-IN: message received from this -> _onForward: emitted by a remote Syncher -> subscribe\n\n  }, {\n    key: '_onSubscribe',\n    value: function _onSubscribe(msg) {\n      var _this = this;\n      var hypertyUrl = msg.body.from;\n      var dividedURL = (0, _utils.divideURL)(hypertyUrl);\n      var domain = dividedURL.domain;\n      var mutual = true;\n\n      if (msg.body.hasOwnProperty('mutual') && !msg.body.mutual) mutual = false;\n\n      log.log('[DataObjectReporter._onSubscribe]', msg, domain, dividedURL);\n\n      var event = {\n        type: msg.body.type,\n        url: hypertyUrl,\n\n        domain: domain,\n\n        identity: msg.body.identity,\n\n        nutual: mutual,\n\n        accept: function accept() {\n          //create new subscription\n          var sub = { url: hypertyUrl, status: 'live' };\n          _this._subscriptions[hypertyUrl] = sub;\n          if (_this.metadata.subscriptions) {\n            _this.metadata.subscriptions.push(sub.url);\n          }\n\n          var msgValue = (0, _utils.deepClone)(_this._metadata);\n          msgValue.data = (0, _utils.deepClone)(_this.data);\n          msgValue.version = _this._version;\n\n          //process and send childrens data\n          // let childrenValues = {};\n          //\n          // if (_this._childrenObjects) {\n          //   Object.keys(_this._childrenObjects).forEach((childrenId) => {\n          //     let childrenData = _this._childrenObjects[childrenId];\n          //     childrenValues[childrenId] = deepClone(childrenData);\n          //   });\n          //   msgValue.childrenObjects = childrenValues;\n          // }\n\n          var sendMsg = {\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 200, schema: _this._schema, value: msgValue }\n          };\n\n          //TODO: For Further Study\n          if (msg.body.hasOwnProperty('mutual') && !msg.body.mutual) {\n            sendMsg.body.mutual = msg.body.mutual; // TODO: remove?\n            _this.data.mutual = false;\n          }\n\n          //send ok response message\n          _this._bus.postMessage(sendMsg);\n\n          return sub;\n        },\n\n        reject: function reject(reason) {\n          //send reject response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 403, desc: reason }\n          });\n        }\n      };\n\n      if (_this._onSubscriptionHandler) {\n        log.log('SUBSCRIPTION-EVENT: ', event);\n        _this._onSubscriptionHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from this -> _onForward: emitted by a remote DataObjectObserver -> unsubscribe\n\n  }, {\n    key: '_onUnSubscribe',\n    value: function _onUnSubscribe(msg) {\n      var _this = this;\n      var hypertyUrl = msg.body.from;\n      var dividedURL = (0, _utils.divideURL)(hypertyUrl);\n      var domain = dividedURL.domain;\n\n      log.log('[DataObjectReporter._onUnSubscribe]', msg, domain, dividedURL);\n\n      //let sub = _this._subscriptions[hypertyUrl];\n      delete _this._subscriptions[hypertyUrl];\n      delete _this.invitations[hypertyUrl];\n\n      var event = {\n        type: msg.body.type,\n        url: hypertyUrl,\n        domain: domain,\n        identity: msg.body.identity\n      };\n\n      // TODO: check if the _onSubscriptionHandler it is the same of the subscriptions???\n      if (_this._onSubscriptionHandler) {\n        log.log('UN-SUBSCRIPTION-EVENT: ', event);\n        _this._onSubscriptionHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> _onRemoteCreate -> event.ack\n\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n        code: msg.body.code\n      };\n\n      if (_this._onResponseHandler) {\n        log.log('RESPONSE-EVENT: ', event);\n        _this._onResponseHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> read\n\n  }, {\n    key: '_onRead',\n    value: function _onRead(msg) {\n      var _this = this;\n      var childrensSize = (0, _stringify2.default)(_this.childrensJSON).length;\n\n      var largeObject = childrensSize > _this._childrenSizeThreshold ? true : false;\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n\n        accept: function accept() {\n          if (largeObject) _this._syncReplyForLargeData(msg);else _this._syncReply(msg);\n        },\n\n        reject: function reject(reason) {\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 401, desc: reason }\n          });\n        }\n      };\n\n      // if the requester is an authorised observer, the data object is responded otherwise an event is triggered\n      var subscriptions = [];\n\n      if (_this.metadata.subscriptions) {\n        subscriptions = _this.metadata.subscriptions;\n      } else if (_this._subscriptions) {\n        subscriptions = (0, _keys2.default)(_this._subscriptions).map(function (key) {\n          return _this._subscriptions[key].url;\n        });\n      }\n\n      if (subscriptions.indexOf(msg.from) != -1) {\n        if (largeObject) _this._syncReplyForLargeData(msg);else _this._syncReply(msg);\n      } else if (_this._onReadHandler) {\n        log.log('READ-EVENT: ', event);\n        _this._onReadHandler(event);\n      }\n    }\n  }, {\n    key: '_syncReply',\n    value: function _syncReply(msg) {\n      var _this = this;\n\n      var objectValue = (0, _utils.deepClone)(_this.metadata);\n\n      objectValue.data = (0, _utils.deepClone)(_this.data);\n      objectValue.childrenObjects = (0, _utils.deepClone)(_this.childrensJSON);\n\n      objectValue.version = _this._version;\n\n      var response = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 200, value: objectValue }\n      };\n\n      _this._bus.postMessage(response);\n    }\n\n    // This function is only used if the data object to be synched has childrenOjects too large\n\n  }, {\n    key: '_syncReplyForLargeData',\n    value: function _syncReplyForLargeData(msg) {\n      //set attribute with number of spllited messages\n      var _this = this;\n\n      // lets set the initial message with no childObjects\n\n      var objectValue = (0, _utils.deepClone)(_this.metadata);\n\n      objectValue.data = (0, _utils.deepClone)(_this.data);\n\n      objectValue.version = _this._version;\n\n      delete objectValue.childrenObjects;\n\n      var children = void 0;\n      var values = []; // array of values to be sent in separated responses\n      var childrenValue = {}; // value to be used in each response\n\n      for (children in _this._childrenObjects) {\n        var child = void 0;\n        childrenValue[children] = {};\n        for (child in _this._childrenObjects[children]) {\n          if ((0, _stringify2.default)(childrenValue).length > _this._childrenSizeThreshold) {\n            //childrenValue big enough to be sent in a response message\n            values.push(childrenValue);\n            childrenValue = {};\n            childrenValue[children] = {};\n          }\n          childrenValue[children][child] = {};\n          childrenValue[children][child].value = _this._childrenObjects[children][child].metadata;\n          childrenValue[children][child].identity = _this._childrenObjects[children][child].identity;\n        }\n      }\n\n      values.push(childrenValue);\n\n      objectValue.responses = values.length + 1; //number of responses to be sent\n\n      var initialResponse = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 100, value: objectValue }\n      };\n\n      _this._bus.postMessage(initialResponse);\n\n      values.forEach(function (value) {\n\n        var response = (0, _utils.deepClone)(initialResponse);\n\n        response.body.value = value;\n\n        response.body.value.responses = objectValue.responses;\n\n        setTimeout(function () {\n          _this._bus.postMessage(response);\n        }, 50);\n\n        // should put a timeout?\n      });\n    }\n\n    // Execute request received\n\n  }, {\n    key: '_onExecute',\n    value: function _onExecute(msg) {\n      var _this = this;\n\n      if (!msg.body.method) throw '[DataObjectReporter._onExecute] method missing ', msg;\n\n      var response = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 200 }\n      };\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n        method: msg.body.method,\n        params: msg.body.params,\n\n        accept: function accept() {\n          _this._bus.postMessage(response);\n        },\n\n        reject: function reject(reason) {\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 401, desc: reason }\n          });\n        }\n      };\n\n      if (_this._onExecuteHandler) {\n        log.log('[DataObjectReporter] EXECUTE-EVENT: ', event);\n        _this._onExecuteHandler(event);\n      }\n    }\n  }, {\n    key: 'subscriptions',\n    get: function get() {\n      return this._subscriptions;\n    }\n  }, {\n    key: 'childrensJSON',\n    get: function get() {\n      var _this = this;\n      var childrens = {};\n\n      var children = void 0;\n\n      for (children in _this._childrenObjects) {\n        var child = void 0;\n        childrens[children] = {};\n        for (child in _this._childrenObjects[children]) {\n          childrens[children][child] = {};\n          childrens[children][child].value = _this._childrenObjects[children][child].metadata;\n          childrens[children][child].identity = _this._childrenObjects[children][child].identity;\n        }\n      }\n\n      return childrens;\n    }\n  }]);\n  return DataObjectReporter;\n}(_DataObject3.default /* implements SyncStatus */);\n\nexports.default = DataObjectReporter;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIuanM/ZWMxMyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJEYXRhT2JqZWN0UmVwb3J0ZXIiLCJpbnB1dCIsIl90aGlzIiwiX3N1YnNjcmlwdGlvbnMiLCJfc3luY09iaiIsIm9ic2VydmUiLCJldmVudCIsInVybCIsIl9vbkNoYW5nZSIsIl9hbGxvY2F0ZUxpc3RlbmVycyIsImludml0YXRpb25zIiwiX2NoaWxkcmVuU2l6ZVRocmVzaG9sZCIsIl9vYmplY3RMaXN0ZW5lciIsIl9idXMiLCJhZGRMaXN0ZW5lciIsIl91cmwiLCJtc2ciLCJ0eXBlIiwiX29uUmVzcG9uc2UiLCJfb25SZWFkIiwiX29uRXhlY3V0ZSIsIl9vbkNoaWxkQ3JlYXRlIiwicmVtb3ZlIiwib2JzZXJ2ZXJzIiwicDJwIiwidG9JbnZpdGUiLCJsZW5ndGgiLCJfbWV0YWRhdGEiLCJmb3JFYWNoIiwib2JzZXJ2ZXIiLCJpbnZpdGF0aW9uIiwicmVzb2x2ZSIsInJlamVjdCIsImludml0ZU1zZyIsImZyb20iLCJfc3luY2hlciIsIl9vd25lciIsInRvIiwiX3N1YlVSTCIsImJvZHkiLCJyZXN1bWUiLCJyZXNvdXJjZSIsInNjaGVtYSIsIl9zY2hlbWEiLCJ2YWx1ZSIsImF1dGhvcmlzZSIsImRhdGEiLCJtdXR1YWwiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwicmVzdWx0IiwiaW52aXRlZCIsImNvZGUiLCJkZXNjIiwicHVzaCIsIl9kZWxldGVDaGlsZHJlbnMiLCJ0aGVuIiwiZGVsZXRlTXNnIiwiX3JlbGVhc2VMaXN0ZW5lcnMiLCJfcmVwb3J0ZXJzIiwiY2FsbGJhY2siLCJfb25TdWJzY3JpcHRpb25IYW5kbGVyIiwiX29uUmVzcG9uc2VIYW5kbGVyIiwiX29uUmVhZEhhbmRsZXIiLCJfb25FeGVjdXRlSGFuZGxlciIsIl9vblN1YnNjcmliZSIsIl9vblVuU3Vic2NyaWJlIiwiaHlwZXJ0eVVybCIsImRpdmlkZWRVUkwiLCJkb21haW4iLCJoYXNPd25Qcm9wZXJ0eSIsImlkZW50aXR5IiwibnV0dWFsIiwiYWNjZXB0Iiwic3ViIiwic3RhdHVzIiwibWV0YWRhdGEiLCJzdWJzY3JpcHRpb25zIiwibXNnVmFsdWUiLCJ2ZXJzaW9uIiwiX3ZlcnNpb24iLCJzZW5kTXNnIiwiaWQiLCJyZWFzb24iLCJjaGlsZHJlbnNTaXplIiwiY2hpbGRyZW5zSlNPTiIsImxhcmdlT2JqZWN0IiwiX3N5bmNSZXBseUZvckxhcmdlRGF0YSIsIl9zeW5jUmVwbHkiLCJtYXAiLCJrZXkiLCJpbmRleE9mIiwib2JqZWN0VmFsdWUiLCJjaGlsZHJlbk9iamVjdHMiLCJyZXNwb25zZSIsImNoaWxkcmVuIiwidmFsdWVzIiwiY2hpbGRyZW5WYWx1ZSIsIl9jaGlsZHJlbk9iamVjdHMiLCJjaGlsZCIsInJlc3BvbnNlcyIsImluaXRpYWxSZXNwb25zZSIsInNldFRpbWVvdXQiLCJtZXRob2QiLCJwYXJhbXMiLCJjaGlsZHJlbnMiLCJEYXRhT2JqZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QkE7O0lBQVlBLE07O0FBR1o7Ozs7QUFFQTs7Ozs7O0FBSkEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixvQkFBakIsQ0FBVixDLENBekJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7QUFRQTs7OztJQUlNQyxrQjs7O0FBQ0o7Ozs7Ozs7O0FBU0E7Ozs7O0FBS0E7QUFDQSw4QkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLCtKQUVYQSxLQUZXOztBQUdqQixRQUFJQyxjQUFKOztBQUVBQSxVQUFNQyxjQUFOLEdBQXVCLEVBQXZCOztBQUVBRCxVQUFNRSxRQUFOLENBQWVDLE9BQWYsQ0FBdUIsVUFBQ0MsS0FBRCxFQUFXO0FBQ2hDUixVQUFJQSxHQUFKLENBQVEsa0NBQWtDSSxNQUFNSyxHQUF4QyxHQUE4QyxtQkFBdEQsRUFBMkVELEtB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QUNBLGFBQUtJLEtBQUwsSUFBY2pHLE1BQU1nRyxnQkFBTixDQUF1QkgsUUFBdkIsQ0FBZCxFQUFnRDtBQUM5Q1Usb0JBQVVWLFFBQVYsRUFBb0JJLEtBQXBCLElBQTZCLEVBQTdCO0FBQ0FNLG9CQUFVVixRQUFWLEVBQW9CSSxLQUFwQixFQUEyQnZELEtBQTNCLEdBQW1DMUMsTUFBTWdHLGdCQUFOLENBQXVCSCxRQUF2QixFQUFpQ0ksS0FBakMsRUFBd0N2QixRQUEzRTtBQUNBNkIsb0JBQVVWLFFBQVYsRUFBb0JJLEtBQXBCLEVBQTJCNUIsUUFBM0IsR0FBc0NyRSxNQUFNZ0csZ0JBQU4sQ0FBdUJILFFBQXZCLEVBQWlDSSxLQUFqQyxFQUF3QzVCLFFBQTlFO0FBQ0Q7QUFDRjs7QUFFRCxhQUFPa0MsU0FBUDtBQUNEOzs7RUF6WDhCQyxvQixDQUFXLDJCOztrQkFrZjdCMUcsa0IiLCJmaWxlIjoiMTMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG5cclxuLy8gTG9nIFN5c3RlbVxyXG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnbG9nbGV2ZWwnO1xyXG5sZXQgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignRGF0YU9iamVjdFJlcG9ydGVyJyk7XHJcblxyXG5pbXBvcnQgRGF0YU9iamVjdCBmcm9tICcuL0RhdGFPYmplY3QnO1xyXG5cclxuaW1wb3J0IHsgZGVlcENsb25lLCBkaXZpZGVVUkwgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XHJcblxyXG4vKipcclxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIFN5bmNoZXIgY3JlYXRlIGNhbGwuXHJcbiAqIFRvIGJlIHVzZWQgYXMgYSByZXBvcnRlciBwb2ludCwgY2hhbmdlcyB3aWxsIGJlIHN1Ym1pdGVkIHRvIERhdGFPYmplY3RPYnNlcnZlciBpbnN0YW5jZXMuXHJcbiAqL1xyXG5jbGFzcyBEYXRhT2JqZWN0UmVwb3J0ZXIgZXh0ZW5kcyBEYXRhT2JqZWN0IC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XHJcbiAgLyogcHJpdmF0ZVxyXG4gIF9zdWJzY3JpcHRpb25zOiA8aHlwZXJ0eVVybDogeyBzdGF0dXM6IHN0cmluZyB9IH0+XHJcblxyXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cclxuICBfb25TdWJzY3JpcHRpb25IYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcclxuICBfb25SZXNwb25zZUhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxyXG4gIF9vblJlYWRIYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcclxuICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICogU2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5IGJ5IEh5cGVydGllcy4gSXQncyBjYWxsZWQgYnkgdGhlIFN5bmNoZXIuY3JlYXRlIG1ldGhvZFxyXG4gICAqL1xyXG5cclxuICAvL2NvbnN0cnVjdG9yKHN5bmNoZXIsIHVybCwgY3JlYXRlZCwgcmVwb3J0ZXIsIHJ1bnRpbWUsIHNjaGVtYSwgbmFtZSwgaW5pdGlhbFN0YXR1cywgaW5pdGlhbERhdGEsIGNoaWxkcmVucywgbXV0dWFsID0gdHJ1ZSwgcmVzdW1lZCA9IGZhbHNlLCBkZXNjcmlwdGlvbiwgdGFncywgcmVzb3VyY2VzLCBvYnNlcnZlclN0b3JhZ2UsIHB1YmxpY09ic2VydmF0aW9uKSB7XHJcbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcclxuXHJcbiAgICBzdXBlcihpbnB1dCk7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9zdWJzY3JpcHRpb25zID0ge307XHJcblxyXG4gICAgX3RoaXMuX3N5bmNPYmoub2JzZXJ2ZSgoZXZlbnQpID0+IHtcclxuICAgICAgbG9nLmxvZygnW1N5bmNoZXIuRGF0YU9iamVjdFJlcG9ydGVyXSAnICsgX3RoaXMudXJsICsgJyBwdWJsaXNoIGNoYW5nZTogJywgZXZlbnQpO1xyXG4gICAgICBfdGhpcy5fb25DaGFuZ2UoZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XHJcblxyXG4gICAgX3RoaXMuaW52aXRhdGlvbnMgPSBbXTsgLy8gYXJyYXkgb2YgcHJvbWlzZXMgd2l0aCBwZW5kaW5nIGludml0YXRpb25zXHJcbiAgICBfdGhpcy5fY2hpbGRyZW5TaXplVGhyZXNob2xkID0gNTAwMDA7Ly8gdG8gYmUgdXNlZCB3aGVuIHJlcGx5aW5nIHRvIHN5bmMgcmVxdWVzdHMgdG8gZW5zdXJlIGVhY2ggcmVzcG9uc2UgbXNnIGlzIG5vdCB0b28gbGFyZ2VcclxuXHJcbiAgfVxyXG5cclxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fYWxsb2NhdGVMaXN0ZW5lcnMoKTtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX29iamVjdExpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihfdGhpcy5fdXJsLCAobXNnKSA9PiB7XHJcbiAgICAgIGxvZy5sb2coJ1tTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gbGlzdGVuZXIgJyArIF90aGlzLl91cmwgKyAnIFJlY2VpdmVkOiAnLCBtc2cpO1xyXG4gICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAncmVzcG9uc2UnOiBfdGhpcy5fb25SZXNwb25zZShtc2cpOyBicmVhaztcclxuICAgICAgICBjYXNlICdyZWFkJzogX3RoaXMuX29uUmVhZChtc2cpOyBicmVhaztcclxuICAgICAgICBjYXNlICdleGVjdXRlJzogX3RoaXMuX29uRXhlY3V0ZShtc2cpOyBicmVhaztcclxuICAgICAgICBjYXNlICdjcmVhdGUnOiBfdGhpcy5fb25DaGlsZENyZWF0ZShtc2cpOyBicmVhazsvLyB0byBjcmVhdGUgY2hpbGQgb2JqZWN0cyB0aGF0IHdlcmUgc2VudCB3aGVubiBvZmZsaW5lXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3JlbGVhc2VMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZW5kIGludml0YXRpb25zIChjcmVhdGUgbWVzc2FnZXMpIHRvIGh5cGVydGllcywgb2JzZXJ2ZXJzIGxpc3QuXHJcbiAgICogQHBhcmFtICB7SHlwZXJ0eVVSTFtdfSBvYnNlcnZlcnMgTGlzdCBvZiBIeXBlcnR5IFVSTCdzXHJcbiAgICovXHJcbiAgaW52aXRlT2JzZXJ2ZXJzKG9ic2VydmVycywgcDJwKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuXHJcbiAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkNyZWF0ZVxyXG4gICAgLy8gVE9ETzogcmVtb3ZlIHZhbHVlIGFuZCBhZGQgcmVzb3VyY2VzPyBzaG91bGQgc2ltaWxhciB0byAxc3QgY3JlYXRlXHJcblxyXG4gICAgbGV0IHRvSW52aXRlID0gb2JzZXJ2ZXJzO1xyXG5cclxuICAgIC8vIGxldCBpbnZpdGVQcm9taXNlcyA9IFtdO1xyXG5cclxuICAgIC8qICBvYnNlcnZlcnMuZm9yRWFjaCgob2JzZXJ2ZXIpPT4ge1xyXG4gICAgICBpZiAoIV90aGlzLmludml0YXRpb25zW29ic2VydmVyXSkge1xyXG4gICAgICAgIHRvSW52aXRlLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIF90aGlzLmludml0YXRpb25zW29ic2VydmVyXSA9IG9ic2VydmVyO1xyXG4gICAgICB9XHJcbiAgICB9KTsqL1xyXG5cclxuXHJcbiAgICBpZiAodG9JbnZpdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICBsb2cubG9nKCdbU3luY2hlci5EYXRhT2JqZWN0UmVwb3J0ZXJdIEludml0ZU9ic2VydmVycyAnLCB0b0ludml0ZSwgX3RoaXMuX21ldGFkYXRhKTtcclxuXHJcbiAgICAgIHRvSW52aXRlLmZvckVhY2goKG9ic2VydmVyKT0+e1xyXG5cclxuICAgICAgICBsZXQgaW52aXRhdGlvbiA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICBsZXQgaW52aXRlTXNnID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX3N5bmNoZXIuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcclxuICAgICAgICAgICAgYm9keTogeyByZXN1bWU6IGZhbHNlLCByZXNvdXJjZTogX3RoaXMuX3VybCwgc2NoZW1hOiBfdGhpcy5fc2NoZW1hLCB2YWx1ZTogX3RoaXMuX21ldGFkYXRhLCBhdXRob3Jpc2U6IFtvYnNlcnZlcl0gfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBpZiAocDJwKSBpbnZpdGVNc2cuYm9keS5wMnAgPSBwMnA7XHJcblxyXG4gICAgICAgICAgaWYgKCFfdGhpcy5kYXRhLm11dHVhbCkgaW52aXRlTXNnLmJvZHkubXV0dWFsID0gX3RoaXMuZGF0YS5tdXR1YWw7XHJcblxyXG4gICAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShpbnZpdGVNc2csIChyZXBseSk9PntcclxuICAgICAgICAgICAgbG9nLmxvZygnW1N5bmNoZXIuRGF0YU9iamVjdFJlcG9ydGVyXSBJbnZpdGF0aW9uIHJlcGx5ICcsIHJlcGx5KTtcclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgaW52aXRlZDogb2JzZXJ2ZXIsXHJcbiAgICAgICAgICAgICAgY29kZTogcmVwbHkuYm9keSAmJiByZXBseS5ib2R5LmNvZGUgPyByZXBseS5ib2R5LmNvZGUgOiA1MDAsXHJcbiAgICAgICAgICAgICAgZGVzYzogcmVwbHkuYm9keSAmJiByZXBseS5ib2R5LmRlc2MgPyByZXBseS5ib2R5LmRlc2MgOiAnVW5rbm93bidcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA8IDMwMCkgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuY29kZSA+PSAzMDApIHJlamVjdChyZXN1bHQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF90aGlzLmludml0YXRpb25zLnB1c2goaW52aXRhdGlvbik7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vICAgICAgcmV0dXJuKGludml0ZVByb21pc2VzKTtcclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcclxuICAgKi9cclxuICBkZWxldGUoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9kZWxldGVDaGlsZHJlbnMoKS50aGVuKChyZXN1bHQpPT57XHJcbiAgICAgIGxvZy5sb2cocmVzdWx0KTtcclxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25EZWxldGVcclxuICAgICAgbGV0IGRlbGV0ZU1zZyA9IHtcclxuICAgICAgICB0eXBlOiAnZGVsZXRlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcclxuICAgICAgICBib2R5OiB7IHJlc291cmNlOiBfdGhpcy5fdXJsIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoZGVsZXRlTXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAnLCByZXBseSk7XHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgZGVsZXRlIF90aGlzLl9zeW5jaGVyLl9yZXBvcnRlcnNbX3RoaXMuX3VybF07XHJcblxyXG4gICAgICAgICAgLy9fdGhpcy5fc3luY09iai51bm9ic2VydmUoKTtcclxuICAgICAgICAgIF90aGlzLl9zeW5jT2JqID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN1YnNjcmlwdGlvbnMgcmVxdWVzdGVkIGFuZCBhY2NlcHRlZCB0byB0aGlzIHJlcG9ydGVyXHJcbiAgICogQHR5cGUge09iamVjdDxIeXBlcnR5VVJMLCBTeW5jU3Vic2NyaXB0aW9uPn1cclxuICAgKi9cclxuICBnZXQgc3Vic2NyaXB0aW9ucygpIHsgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnM7IH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3Mgc3Vic2NyaWJlIGFuZCB1bnN1YnNjcmliZSBub3RpZmljYXRpb25zXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFjayBmdW5jdGlvbiB0byByZWNlaXZlIGV2ZW50c1xyXG4gICAqL1xyXG4gIG9uU3Vic2NyaXB0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIHJlc3BvbnNlIG5vdGlmaWNhdGlvbnMgb2YgdGhlIGNyZWF0ZSdzXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFjayBmdW5jdGlvbiB0byByZWNlaXZlIGV2ZW50c1xyXG4gICAqL1xyXG4gIG9uUmVzcG9uc2UoY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX29uUmVzcG9uc2VIYW5kbGVyID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR1cCB0aGUgY2FsbGJhY2sgdG8gcHJvY2VzcyByZWFkIG5vdGlmaWNhdGlvbnNcclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXHJcbiAgICovXHJcblxyXG4gIG9uUmVhZChjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25SZWFkSGFuZGxlciA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgZXhlY3V0ZSBub3RpZmljYXRpb25zXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xyXG4gICAqL1xyXG5cclxuICBvbkV4ZWN1dGUoY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX29uRXhlY3V0ZUhhbmRsZXIgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIHBhcmVudCBTeW5jaGVyIC0+IF9vbkZvcndhcmRcclxuICBfb25Gb3J3YXJkKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsb2cubG9nKCdEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAnLCBtc2cpO1xyXG4gICAgc3dpdGNoIChtc2cuYm9keS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N1YnNjcmliZSc6IF90aGlzLl9vblN1YnNjcmliZShtc2cpOyBicmVhaztcclxuICAgICAgY2FzZSAndW5zdWJzY3JpYmUnOiBfdGhpcy5fb25VblN1YnNjcmliZShtc2cpOyBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIHRoaXMgLT4gX29uRm9yd2FyZDogZW1pdHRlZCBieSBhIHJlbW90ZSBTeW5jaGVyIC0+IHN1YnNjcmliZVxyXG4gIF9vblN1YnNjcmliZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgaHlwZXJ0eVVybCA9IG1zZy5ib2R5LmZyb207XHJcbiAgICBsZXQgZGl2aWRlZFVSTCA9IGRpdmlkZVVSTChoeXBlcnR5VXJsKTtcclxuICAgIGxldCBkb21haW4gPSBkaXZpZGVkVVJMLmRvbWFpbjtcclxuICAgIGxldCBtdXR1YWwgPSB0cnVlO1xyXG5cclxuICAgIGlmIChtc2cuYm9keS5oYXNPd25Qcm9wZXJ0eSgnbXV0dWFsJykgJiYgIW1zZy5ib2R5Lm11dHVhbCkgbXV0dWFsID0gZmFsc2U7XHJcblxyXG5cclxuICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0UmVwb3J0ZXIuX29uU3Vic2NyaWJlXScsIG1zZywgZG9tYWluLCBkaXZpZGVkVVJMKTtcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6IG1zZy5ib2R5LnR5cGUsXHJcbiAgICAgIHVybDogaHlwZXJ0eVVybCxcclxuXHJcbiAgICAgIGRvbWFpbjogZG9tYWluLFxyXG5cclxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5LFxyXG5cclxuICAgICAgbnV0dWFsOiBtdXR1YWwsXHJcblxyXG4gICAgICBhY2NlcHQ6ICgpID0+IHtcclxuICAgICAgICAvL2NyZWF0ZSBuZXcgc3Vic2NyaXB0aW9uXHJcbiAgICAgICAgbGV0IHN1YiA9IHsgdXJsOiBoeXBlcnR5VXJsLCBzdGF0dXM6ICdsaXZlJyB9O1xyXG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdID0gc3ViO1xyXG4gICAgICAgIGlmIChfdGhpcy5tZXRhZGF0YS5zdWJzY3JpcHRpb25zKSB7IF90aGlzLm1ldGFkYXRhLnN1YnNjcmlwdGlvbnMucHVzaChzdWIudXJsKTsgfVxyXG5cclxuICAgICAgICBsZXQgbXNnVmFsdWUgPSBkZWVwQ2xvbmUoX3RoaXMuX21ldGFkYXRhKTtcclxuICAgICAgICBtc2dWYWx1ZS5kYXRhID0gZGVlcENsb25lKF90aGlzLmRhdGEpO1xyXG4gICAgICAgIG1zZ1ZhbHVlLnZlcnNpb24gPSBfdGhpcy5fdmVyc2lvbjtcclxuXHJcbiAgICAgICAgLy9wcm9jZXNzIGFuZCBzZW5kIGNoaWxkcmVucyBkYXRhXHJcbiAgICAgICAgLy8gbGV0IGNoaWxkcmVuVmFsdWVzID0ge307XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBpZiAoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykge1xyXG4gICAgICAgIC8vICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoY2hpbGRyZW5JZCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBsZXQgY2hpbGRyZW5EYXRhID0gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbklkXTtcclxuICAgICAgICAvLyAgICAgY2hpbGRyZW5WYWx1ZXNbY2hpbGRyZW5JZF0gPSBkZWVwQ2xvbmUoY2hpbGRyZW5EYXRhKTtcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgbXNnVmFsdWUuY2hpbGRyZW5PYmplY3RzID0gY2hpbGRyZW5WYWx1ZXM7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBsZXQgc2VuZE1zZyA9IHtcclxuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHNjaGVtYTogX3RoaXMuX3NjaGVtYSwgdmFsdWU6IG1zZ1ZhbHVlIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgICAgICAgaWYgKG1zZy5ib2R5Lmhhc093blByb3BlcnR5KCdtdXR1YWwnKSAmJiAhbXNnLmJvZHkubXV0dWFsKSB7XHJcbiAgICAgICAgICBzZW5kTXNnLmJvZHkubXV0dWFsID0gbXNnLmJvZHkubXV0dWFsOy8vIFRPRE86IHJlbW92ZT9cclxuICAgICAgICAgIF90aGlzLmRhdGEubXV0dWFsID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NlbmQgb2sgcmVzcG9uc2UgbWVzc2FnZVxyXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoc2VuZE1zZyk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdWI7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcclxuICAgICAgICAvL3NlbmQgcmVqZWN0IHJlc3BvbnNlIG1lc3NhZ2VcclxuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgYm9keTogeyBjb2RlOiA0MDMsIGRlc2M6IHJlYXNvbiB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIpIHtcclxuICAgICAgbG9nLmxvZygnU1VCU0NSSVBUSU9OLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gdGhpcyAtPiBfb25Gb3J3YXJkOiBlbWl0dGVkIGJ5IGEgcmVtb3RlIERhdGFPYmplY3RPYnNlcnZlciAtPiB1bnN1YnNjcmliZVxyXG4gIF9vblVuU3Vic2NyaWJlKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBoeXBlcnR5VXJsID0gbXNnLmJvZHkuZnJvbTtcclxuICAgIGxldCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKGh5cGVydHlVcmwpO1xyXG4gICAgbGV0IGRvbWFpbiA9IGRpdmlkZWRVUkwuZG9tYWluO1xyXG5cclxuICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0UmVwb3J0ZXIuX29uVW5TdWJzY3JpYmVdJywgbXNnLCBkb21haW4sIGRpdmlkZWRVUkwpO1xyXG5cclxuICAgIC8vbGV0IHN1YiA9IF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdO1xyXG4gICAgZGVsZXRlIF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdO1xyXG4gICAgZGVsZXRlIF90aGlzLmludml0YXRpb25zW2h5cGVydHlVcmxdO1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLmJvZHkudHlwZSxcclxuICAgICAgdXJsOiBoeXBlcnR5VXJsLFxyXG4gICAgICBkb21haW46IGRvbWFpbixcclxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRPRE86IGNoZWNrIGlmIHRoZSBfb25TdWJzY3JpcHRpb25IYW5kbGVyIGl0IGlzIHRoZSBzYW1lIG9mIHRoZSBzdWJzY3JpcHRpb25zPz8/XHJcbiAgICBpZiAoX3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcikge1xyXG4gICAgICBsb2cubG9nKCdVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICcsIGV2ZW50KTtcclxuICAgICAgX3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBSZXBvcnRlclVSTCBhZGRyZXNzOiBlbWl0ZWQgYnkgYSByZW1vdGUgU3luY2hlciAtPiBfb25SZW1vdGVDcmVhdGUgLT4gZXZlbnQuYWNrXHJcbiAgX29uUmVzcG9uc2UobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgIHVybDogbXNnLmZyb20sXHJcbiAgICAgIGNvZGU6IG1zZy5ib2R5LmNvZGVcclxuICAgIH07XHJcblxyXG4gICAgaWYgKF90aGlzLl9vblJlc3BvbnNlSGFuZGxlcikge1xyXG4gICAgICBsb2cubG9nKCdSRVNQT05TRS1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICBfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gUmVwb3J0ZXJVUkwgYWRkcmVzczogZW1pdGVkIGJ5IGEgcmVtb3RlIFN5bmNoZXIgLT4gcmVhZFxyXG4gIF9vblJlYWQobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGNoaWxkcmVuc1NpemUgPSBKU09OLnN0cmluZ2lmeShfdGhpcy5jaGlsZHJlbnNKU09OKS5sZW5ndGg7XHJcblxyXG4gICAgbGV0IGxhcmdlT2JqZWN0ID0gKGNoaWxkcmVuc1NpemUgPiBfdGhpcy5fY2hpbGRyZW5TaXplVGhyZXNob2xkKSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxyXG4gICAgICB1cmw6IG1zZy5mcm9tLFxyXG5cclxuICAgICAgYWNjZXB0OiAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGxhcmdlT2JqZWN0KSBfdGhpcy5fc3luY1JlcGx5Rm9yTGFyZ2VEYXRhKG1zZyk7XHJcbiAgICAgICAgZWxzZSBfdGhpcy5fc3luY1JlcGx5KG1zZyk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcclxuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgYm9keTogeyBjb2RlOiA0MDEsIGRlc2M6IHJlYXNvbiB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gaWYgdGhlIHJlcXVlc3RlciBpcyBhbiBhdXRob3Jpc2VkIG9ic2VydmVyLCB0aGUgZGF0YSBvYmplY3QgaXMgcmVzcG9uZGVkIG90aGVyd2lzZSBhbiBldmVudCBpcyB0cmlnZ2VyZWRcclxuICAgIGxldCBzdWJzY3JpcHRpb25zID0gW107XHJcblxyXG4gICAgaWYgKF90aGlzLm1ldGFkYXRhLnN1YnNjcmlwdGlvbnMpIHtcclxuICAgICAgc3Vic2NyaXB0aW9ucyA9IF90aGlzLm1ldGFkYXRhLnN1YnNjcmlwdGlvbnM7XHJcbiAgICB9IGVsc2UgaWYgKF90aGlzLl9zdWJzY3JpcHRpb25zKSB7XHJcbiAgICAgIHN1YnNjcmlwdGlvbnMgPSBPYmplY3Qua2V5cyhfdGhpcy5fc3Vic2NyaXB0aW9ucykubWFwKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gX3RoaXMuX3N1YnNjcmlwdGlvbnNba2V5XS51cmw7IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdWJzY3JpcHRpb25zLmluZGV4T2YobXNnLmZyb20pICE9IC0xKSB7XHJcbiAgICAgIGlmIChsYXJnZU9iamVjdCkgX3RoaXMuX3N5bmNSZXBseUZvckxhcmdlRGF0YShtc2cpO1xyXG4gICAgICBlbHNlIF90aGlzLl9zeW5jUmVwbHkobXNnKTtcclxuICAgIH0gZWxzZSBpZiAoX3RoaXMuX29uUmVhZEhhbmRsZXIpIHtcclxuICAgICAgbG9nLmxvZygnUkVBRC1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICBfdGhpcy5fb25SZWFkSGFuZGxlcihldmVudCk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgZ2V0IGNoaWxkcmVuc0pTT04oKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGNoaWxkcmVucyA9IHt9O1xyXG5cclxuICAgIGxldCBjaGlsZHJlbjtcclxuXHJcbiAgICBmb3IgKGNoaWxkcmVuIGluIF90aGlzLl9jaGlsZHJlbk9iamVjdHMpIHtcclxuICAgICAgbGV0IGNoaWxkO1xyXG4gICAgICBjaGlsZHJlbnNbY2hpbGRyZW5dID0ge307XHJcbiAgICAgIGZvciAoY2hpbGQgaW4gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0pIHtcclxuICAgICAgICBjaGlsZHJlbnNbY2hpbGRyZW5dW2NoaWxkXSA9IHt9O1xyXG4gICAgICAgIGNoaWxkcmVuc1tjaGlsZHJlbl1bY2hpbGRdLnZhbHVlID0gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRdLm1ldGFkYXRhO1xyXG4gICAgICAgIGNoaWxkcmVuc1tjaGlsZHJlbl1bY2hpbGRdLmlkZW50aXR5ID0gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRdLmlkZW50aXR5O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNoaWxkcmVucztcclxuICB9XHJcblxyXG4gIF9zeW5jUmVwbHkobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBvYmplY3RWYWx1ZSA9IGRlZXBDbG9uZShfdGhpcy5tZXRhZGF0YSk7XHJcblxyXG4gICAgb2JqZWN0VmFsdWUuZGF0YSA9IGRlZXBDbG9uZShfdGhpcy5kYXRhKTtcclxuICAgIG9iamVjdFZhbHVlLmNoaWxkcmVuT2JqZWN0cyA9IGRlZXBDbG9uZShfdGhpcy5jaGlsZHJlbnNKU09OKTtcclxuXHJcbiAgICBvYmplY3RWYWx1ZS52ZXJzaW9uID0gX3RoaXMuX3ZlcnNpb247XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0ge1xyXG4gICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiBvYmplY3RWYWx1ZSB9XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVzcG9uc2UpO1xyXG5cclxuICB9XHJcblxyXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgb25seSB1c2VkIGlmIHRoZSBkYXRhIG9iamVjdCB0byBiZSBzeW5jaGVkIGhhcyBjaGlsZHJlbk9qZWN0cyB0b28gbGFyZ2VcclxuXHJcbiAgX3N5bmNSZXBseUZvckxhcmdlRGF0YShtc2cpIHtcclxuICAvL3NldCBhdHRyaWJ1dGUgd2l0aCBudW1iZXIgb2Ygc3BsbGl0ZWQgbWVzc2FnZXNcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgLy8gbGV0cyBzZXQgdGhlIGluaXRpYWwgbWVzc2FnZSB3aXRoIG5vIGNoaWxkT2JqZWN0c1xyXG5cclxuICAgIGxldCBvYmplY3RWYWx1ZSA9IGRlZXBDbG9uZShfdGhpcy5tZXRhZGF0YSk7XHJcblxyXG4gICAgb2JqZWN0VmFsdWUuZGF0YSA9IGRlZXBDbG9uZShfdGhpcy5kYXRhKTtcclxuXHJcbiAgICBvYmplY3RWYWx1ZS52ZXJzaW9uID0gX3RoaXMuX3ZlcnNpb247XHJcblxyXG4gICAgZGVsZXRlIG9iamVjdFZhbHVlLmNoaWxkcmVuT2JqZWN0cztcclxuXHJcbiAgICBsZXQgY2hpbGRyZW47XHJcbiAgICBsZXQgdmFsdWVzID0gW107IC8vIGFycmF5IG9mIHZhbHVlcyB0byBiZSBzZW50IGluIHNlcGFyYXRlZCByZXNwb25zZXNcclxuICAgIGxldCBjaGlsZHJlblZhbHVlID0ge307IC8vIHZhbHVlIHRvIGJlIHVzZWQgaW4gZWFjaCByZXNwb25zZVxyXG5cclxuICAgIGZvciAoY2hpbGRyZW4gaW4gX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykge1xyXG4gICAgICBsZXQgY2hpbGQ7XHJcbiAgICAgIGNoaWxkcmVuVmFsdWVbY2hpbGRyZW5dID0ge307XHJcbiAgICAgIGZvciAoY2hpbGQgaW4gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0pIHtcclxuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY2hpbGRyZW5WYWx1ZSkubGVuZ3RoID4gX3RoaXMuX2NoaWxkcmVuU2l6ZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgLy9jaGlsZHJlblZhbHVlIGJpZyBlbm91Z2ggdG8gYmUgc2VudCBpbiBhIHJlc3BvbnNlIG1lc3NhZ2VcclxuICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkcmVuVmFsdWUpO1xyXG4gICAgICAgICAgY2hpbGRyZW5WYWx1ZSA9IHt9O1xyXG4gICAgICAgICAgY2hpbGRyZW5WYWx1ZVtjaGlsZHJlbl0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGRyZW5WYWx1ZVtjaGlsZHJlbl1bY2hpbGRdID0ge307XHJcbiAgICAgICAgY2hpbGRyZW5WYWx1ZVtjaGlsZHJlbl1bY2hpbGRdLnZhbHVlID0gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRdLm1ldGFkYXRhO1xyXG4gICAgICAgIGNoaWxkcmVuVmFsdWVbY2hpbGRyZW5dW2NoaWxkXS5pZGVudGl0eSA9IF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5dW2NoaWxkXS5pZGVudGl0eTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhbHVlcy5wdXNoKGNoaWxkcmVuVmFsdWUpO1xyXG5cclxuICAgIG9iamVjdFZhbHVlLnJlc3BvbnNlcyA9IHZhbHVlcy5sZW5ndGggKyAxOyAvL251bWJlciBvZiByZXNwb25zZXMgdG8gYmUgc2VudFxyXG5cclxuICAgIGxldCBpbml0aWFsUmVzcG9uc2UgPSB7XHJcbiAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICBib2R5OiB7IGNvZGU6IDEwMCwgdmFsdWU6IG9iamVjdFZhbHVlIH1cclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShpbml0aWFsUmVzcG9uc2UpO1xyXG5cclxuICAgIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xyXG5cclxuICAgICAgbGV0IHJlc3BvbnNlID0gZGVlcENsb25lKGluaXRpYWxSZXNwb25zZSk7XHJcblxyXG4gICAgICByZXNwb25zZS5ib2R5LnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICByZXNwb25zZS5ib2R5LnZhbHVlLnJlc3BvbnNlcyA9IG9iamVjdFZhbHVlLnJlc3BvbnNlcztcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsgfSwgNTApO1xyXG5cclxuICAgICAgLy8gc2hvdWxkIHB1dCBhIHRpbWVvdXQ/XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gRXhlY3V0ZSByZXF1ZXN0IHJlY2VpdmVkXHJcbiAgX29uRXhlY3V0ZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKCFtc2cuYm9keS5tZXRob2QpIHRocm93ICdbRGF0YU9iamVjdFJlcG9ydGVyLl9vbkV4ZWN1dGVdIG1ldGhvZCBtaXNzaW5nICcsIG1zZztcclxuXHJcbiAgICBsZXQgcmVzcG9uc2UgPSB7XHJcbiAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICBib2R5OiB7IGNvZGU6IDIwMCB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgdHlwZTogbXNnLnR5cGUsXHJcbiAgICAgIHVybDogbXNnLmZyb20sXHJcbiAgICAgIG1ldGhvZDogbXNnLmJvZHkubWV0aG9kLFxyXG4gICAgICBwYXJhbXM6IG1zZy5ib2R5LnBhcmFtcyxcclxuXHJcbiAgICAgIGFjY2VwdDogKCkgPT4ge1xyXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVzcG9uc2UpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVqZWN0OiAocmVhc29uKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgICAgIGJvZHk6IHsgY29kZTogNDAxLCBkZXNjOiByZWFzb24gfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChfdGhpcy5fb25FeGVjdXRlSGFuZGxlcikge1xyXG4gICAgICBsb2cubG9nKCdbRGF0YU9iamVjdFJlcG9ydGVyXSBFWEVDVVRFLUVWRU5UOiAnLCBldmVudCk7XHJcbiAgICAgIF90aGlzLl9vbkV4ZWN1dGVIYW5kbGVyKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0UmVwb3J0ZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///132\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _assign = __webpack_require__(78);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(25);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(33);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(100);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(34);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(19);\n\nvar _DataObject2 = __webpack_require__(122);\n\nvar _DataObject3 = _interopRequireDefault(_DataObject2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObjectObserver'); /**\r\n                                                  * Copyright 2016 PT Inovação e Sistemas SA\r\n                                                  * Copyright 2016 INESC-ID\r\n                                                  * Copyright 2016 QUOBIS NETWORKS SL\r\n                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                                  * Copyright 2016 ORANGE SA\r\n                                                  * Copyright 2016 Deutsche Telekom AG\r\n                                                  * Copyright 2016 Apizee\r\n                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                                  *\r\n                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                                  * you may not use this file except in compliance with the License.\r\n                                                  * You may obtain a copy of the License at\r\n                                                  *\r\n                                                  *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                                  *\r\n                                                  * Unless required by applicable law or agreed to in writing, software\r\n                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                                  * See the License for the specific language governing permissions and\r\n                                                  * limitations under the License.\r\n                                                  **/\n\n// Log System\n\n\nvar FilterType = { ANY: 'any', START: 'start', EXACT: 'exact' };\n\n/**\r\n * The class returned from the Syncher subscribe call.\r\n * To be used as an observation point from a DataObjectReporter change.\r\n */\n\nvar DataObjectObserver = function (_DataObject) {\n  (0, _inherits3.default)(DataObjectObserver, _DataObject);\n\n  /* private\r\n  _changeListener: MsgListener\r\n    ----event handlers----\r\n  _filters: {<filter>: {type: <start, exact>, callback: <function>} }\r\n  */\n\n  /**\r\n   * @ignore\r\n   * Should not be used directly by Hyperties. It's called by the Syncher.subscribe method\r\n   */\n\n  //TODO: For Further Study\n  function DataObjectObserver(input) {\n    (0, _classCallCheck3.default)(this, DataObjectObserver);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DataObjectObserver.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver)).call(this, input));\n    //todo: check why\n    //input.initialData = input.initialData.data;\n\n    var _this = _this2;\n\n    _this._version = input.version;\n    _this._filters = {};\n\n    _this._syncObj.observe(function (event) {\n      _this._onFilter(event);\n    });\n\n    _this._allocateListeners();\n    return _this2;\n  }\n\n  /**\r\n   * Sync Data Object Observer with last version of Data Object Reporter. Useful for Resumes\r\n   */\n\n\n  (0, _createClass3.default)(DataObjectObserver, [{\n    key: 'sync',\n    value: function sync() {\n\n      var _this = this;\n      log.info('[DataObjectObserver_sync] synchronising ');\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this._syncher.read(_this._metadata.url).then(function (value) {\n          log.info('[DataObjectObserver_sync] value to sync: ', value);\n\n          (0, _assign2.default)(_this.data, (0, _utils.deepClone)(value.data));\n\n          _this._version = value.version;\n\n          _this._metadata.lastModified = value.lastModified;\n\n          //TODO: check first if there are new childrenObjects to avoid overhead\n\n          if (value.childrenObjects) {\n            _this.resumeChildrens(value.childrenObjects);\n            _this._storeChildrens();\n            resolve(true);\n          } else resolve(true);\n\n          /*if (value.version != _this._version) {\r\n            log.info('[DataObjectObserver_sync] updating existing data: ', _this.data);\r\n              Object.assign(_this.data || {}, deepClone(value.data));\r\n              _this._metadata = deepClone(value);\r\n              delete _this._metadata.data;\r\n              _this._version = value.version;\r\n            } else {\r\n            log.info('[DataObjectObserver_sync] existing data is updated: ', value);\r\n          }*/\n        }).catch(function (reason) {\n          log.info('[DataObjectObserver_sync] sync failed: ', reason);\n          resolve(false);\n        });\n      });\n    }\n  }, {\n    key: '_storeChildrens',\n    value: function _storeChildrens() {\n      var _this = this;\n\n      var childrens = {};\n\n      //TODO: to be sent to HypertyResourceStorage when ready to handle Chat Messages\n\n      (0, _keys2.default)(_this._childrenObjects).forEach(function (childrenResource) {\n        var children = _this._childrenObjects[childrenResource];\n        childrens[childrenResource] = {};\n\n        (0, _keys2.default)(children).forEach(function (childId) {\n          childrens[childrenResource][childId] = {};\n          childrens[childrenResource][childId].value = children[childId].metadata;\n          childrens[childrenResource][childId].identity = children[childId].identity;\n        });\n      });\n\n      var msg = {\n\n        from: _this._owner,\n        to: _this._syncher._subURL,\n        type: 'create',\n        body: {\n          resource: _this._url,\n          attribute: 'childrenObjects',\n          value: childrens\n        }\n      };\n\n      _this._bus.postMessage(msg);\n    }\n  }, {\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      (0, _get3.default)(DataObjectObserver.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver.prototype), '_allocateListeners', this).call(this);\n      var _this = this;\n\n      _this._changeListener = _this._bus.addListener(_this._url + '/changes', function (msg) {\n        if (msg.type === 'update') {\n          log.log('DataObjectObserver-' + _this._url + '-RCV: ', msg);\n          _this._changeObject(_this._syncObj, msg);\n        }\n      });\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      (0, _get3.default)(DataObjectObserver.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver.prototype), '_releaseListeners', this).call(this);\n      var _this = this;\n\n      _this._changeListener.remove();\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._deleteChildrens().then(function () {\n        _this.unsubscribe();\n        _this._releaseListeners();\n        delete _this._syncher._observers[_this._url];\n      });\n    }\n\n    /**\r\n     * Release and delete object data\r\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe() {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalUnSubscribe\n      var unSubscribeMsg = {\n        type: 'unsubscribe', from: _this._owner, to: _this._syncher._subURL,\n        body: { resource: _this._url }\n      };\n\n      _this._bus.postMessage(unSubscribeMsg, function (reply) {\n        log.log('DataObjectObserver-UNSUBSCRIBE: ', reply);\n        if (reply.body.code === 200) {\n          _this._releaseListeners();\n          delete _this._syncher._observers[_this._url];\n        }\n      });\n    }\n\n    /**\r\n     * Register the change listeners sent by the reporter\r\n     * @param {string} filter - Filter that identifies the field (separated dot path). Accepts * at the end for a more unrestricted filtering.\r\n     * @param {function(event: MsgEvent)} callback\r\n     */\n\n  }, {\n    key: 'onChange',\n    value: function onChange(filter, callback) {\n      var key = filter;\n      var filterObj = {\n        type: FilterType.EXACT,\n        callback: callback\n      };\n\n      var idx = filter.indexOf('*');\n      if (idx === filter.length - 1) {\n        if (idx === 0) {\n          filterObj.type = FilterType.ANY;\n        } else {\n          filterObj.type = FilterType.START;\n          key = filter.substr(0, filter.length - 1);\n        }\n      }\n\n      this._filters[key] = filterObj;\n    }\n  }, {\n    key: '_onFilter',\n    value: function _onFilter(event) {\n      var _this = this;\n\n      (0, _keys2.default)(_this._filters).forEach(function (key) {\n        var filter = _this._filters[key];\n        if (filter.type === FilterType.ANY) {\n          //match anything\n          filter.callback(event);\n        } else if (filter.type === FilterType.START) {\n          //if starts with filter...\n          if (event.field.indexOf(key) === 0) {\n            filter.callback(event);\n          }\n        } else if (filter.type === FilterType.EXACT) {\n          //exact match\n          if (event.field === key) {\n            filter.callback(event);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'onDisconnected',\n    value: function onDisconnected(callback) {\n      var _this3 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this3._subscribeRegistration().then(function () {\n          _this3._onDisconnected = callback;\n          resolve();\n        }).catch(function (err) {\n          return reject(err);\n        });\n      });\n    }\n  }, {\n    key: '_subscribeRegistration',\n    value: function _subscribeRegistration() {\n      var _this4 = this;\n\n      var msg = {\n        type: 'subscribe',\n        from: this._owner,\n        to: this._syncher._runtimeUrl + '/subscriptions',\n        body: {\n          resources: [this._url + '/registration']\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this4._bus.postMessage(msg, function (reply) {\n          log.log('[DataObjectObserver._subscribeRegistration] ' + _this4._url + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            _this4._generateListener(_this4._url + '/registration');\n            resolve();\n          } else {\n            log.error('Error subscribing registration status for ', _this4._url);\n            reject('Error subscribing registration status for ' + _this4._url);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_generateListener',\n    value: function _generateListener(notificationURL) {\n      var _this = this;\n\n      _this._bus.addListener(notificationURL, function (msg) {\n        log.log('[DataObjectObserver.registrationNotification] ' + _this._url + ': ', msg);\n        if (msg.body.value && msg.body.value === 'disconnected' && _this._onDisconnected) {\n          log.log('[DataObjectObserver] ' + _this._url + ': was disconnected ', msg);\n          _this._onDisconnected();\n        }\n      });\n    }\n\n    /**\r\n     * Requests the reporter to execute a method on the data object\r\n     * @param {string} method - Name of the function to be executed.\r\n     * @param {array} params - array of parameters for the requested function\r\n     * @return {promise}\r\n     */\n\n  }, {\n    key: 'execute',\n    value: function execute(method, params) {\n      var _this5 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          type: 'execute',\n          from: _this5._owner,\n          to: _this._url,\n          body: {\n            method: method,\n            params: params\n          }\n        };\n\n        _this._bus.postMessage(msg, function (reply) {\n          log.log('[DataObjectObserver.execute] ' + _this._url + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            resolve();\n          } else {\n            log.warn('[DataObjectObserver.execute] execution of method ' + method + ' was reject by reporter');\n            reject('[DataObjectObserver.execute] execution of method ' + method + ' was reject by reporter');\n          }\n        });\n      });\n    }\n  }]);\n  return DataObjectObserver;\n}(_DataObject3.default /* implements SyncStatus */);\n\nexports.default = DataObjectObserver;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIuanM/MTNhZCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJGaWx0ZXJUeXBlIiwiQU5ZIiwiU1RBUlQiLCJFWEFDVCIsIkRhdGFPYmplY3RPYnNlcnZlciIsImlucHV0IiwiX3RoaXMiLCJfdmVyc2lvbiIsInZlcnNpb24iLCJfZmlsdGVycyIsIl9zeW5jT2JqIiwib2JzZXJ2ZSIsImV2ZW50IiwiX29uRmlsdGVyIiwiX2FsbG9jYXRlTGlzdGVuZXJzIiwiaW5mbyIsInJlc29sdmUiLCJyZWplY3QiLCJfc3luY2hlciIsInJlYWQiLCJfbWV0YWRhdGEiLCJ1cmwiLCJ0aGVuIiwidmFsdWUiLCJkYXRhIiwibGFzdE1vZGlmaWVkIiwiY2hpbGRyZW5PYmplY3RzIiwicmVzdW1lQ2hpbGRyZW5zIiwiX3N0b3JlQ2hpbGRyZW5zIiwiY2F0Y2giLCJyZWFzb24iLCJjaGlsZHJlbnMiLCJfY2hpbGRyZW5PYmplY3RzIiwiZm9yRWFjaCIsImNoaWxkcmVuUmVzb3VyY2UiLCJjaGlsZHJlbiIsImNoaWxkSWQiLCJtZXRhZGF0YSIsImlkZW50aXR5IiwibXNnIiwiZnJvbSIsIl9vd25lciIsInRvIiwiX3N1YlVSTCIsInR5cGUiLCJib2R5IiwicmVzb3VyY2UiLCJfdXJsIiwiYXR0cmlidXRlIiwiX2J1cyIsInBvc3RNZXNzYWdlIiwiX2NoYW5nZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJfY2hhbmdlT2JqZWN0IiwicmVtb3ZlIiwiX2RlbGV0ZUNoaWxkcmVucyIsInVuc3Vic2NyaWJlIiwiX3JlbGVhc2VMaXN0ZW5lcnMiLCJfb2JzZXJ2ZXJzIiwidW5TdWJzY3JpYmVNc2ciLCJyZXBseSIsImNvZGUiLCJmaWx0ZXIiLCJjYWxsYmFjayIsImtleSIsImZpbHRlck9iaiIsImlkeCIsImluZGV4T2YiLCJsZW5ndGgiLCJzdWJzdHIiLCJmaWVsZCIsIl9zdWJzY3JpYmVSZWdpc3RyYXRpb24iLCJfb25EaXNjb25uZWN0ZWQiLCJlcnIiLCJfcnVudGltZVVybCIsInJlc291cmNlcyIsIl9nZW5lcmF0ZUxpc3RlbmVyIiwiZXJyb3IiLCJub3RpZmljYXRpb25VUkwiLCJtZXRob2QiLCJwYXJhbXMiLCJ3YXJuIiwiRGF0YU9iamVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBOztJQUFZQSxNOztBQUdaOztBQUNBOzs7Ozs7OztBQUhBLElBQUlDLE1BQU1ELE9BQU9FLFNBQVAsQ0FBaUIsb0JBQWpCLENBQVYsQyxDQXpCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7OztBQU9BLElBQUlDLGFBQWEsRUFBQ0MsS0FBSyxLQUFOLEVBQWFDLE9BQU8sT0FBcEIsRUFBNkJDLE9BQU8sT0FBcEMsRUFBakI7O0FBRUE7Ozs7O0lBSU1DLGtCOzs7QUFDSjs7Ozs7O0FBT0E7Ozs7O0FBS0E7QUFDQSw4QkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLCtKQUlYQSxLQUpXO0FBQ2pCO0FBQ0E7O0FBSUEsUUFBSUMsY0FBSjs7QUFFQUEsVUFBTUMsUUFBTixHQUFpQkYsTUFBTUcsT0FBdkI7QUFDQUYsVUFBTUcsUUFBTixHQUFpQixFQUFqQjs7QUFFQUgsVUFBTUksUUFBTixDQUFlQyxPQUFmLENBQXVCLFVBQUNDLEtBQUQsRUFBVztBQUNoQ04sWUFBTU8sU0FBTixDQUFnQkQsS0FBaEI7QUFDRCxLQUZEOztBQUtBTixVQUFNUSxrQkFBTjtBQWhCaUI7QUFpQmxCOztBQUVEOzs7Ozs7OzJCQUdPOztBQUVMLFVBQUlSLFFBQVEsSUFBWjtBQUNBUixVQUFJaUIsSUFBSixDQUFTLDBDQUFUOztBQUVBLGFBQU8sc0JBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCOztBQUV0Q1gsY0FBTVksUUFBTixDQUFlQyxJQUFmLENBQW9CYixNQUFNYyxTQUFOLENBQWdCQyxHQUFwQyxFQUF5Q0MsSUFBekMsQ0FBOEMs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O0FBUUQ7O0FBRUQ7Ozs7Ozs7Ozs0QkFPUU8sTSxFQUFRQyxNLEVBQVE7QUFBQTs7QUFDdEIsVUFBSTFFLFFBQVEsSUFBWjs7QUFFQSxhQUFPLHNCQUFZLFVBQUNVLE9BQUQsRUFBVUMsTUFBVixFQUFxQjs7QUFFdEMsWUFBTXNCLE1BQU07QUFDVkssZ0JBQU0sU0FESTtBQUVWSixnQkFBTSxPQUFLQyxNQUZEO0FBR1ZDLGNBQUlwQyxNQUFNeUMsSUFIQTtBQUlWRixnQkFBTTtBQUNKa0Msb0JBQVFBLE1BREo7QUFFSkMsb0JBQVFBO0FBRko7QUFKSSxTQUFaOztBQVVBMUUsY0FBTTJDLElBQU4sQ0FBV0MsV0FBWCxDQUF1QlgsR0FBdkIsRUFBNEIsVUFBQ3FCLEtBQUQsRUFBVztBQUNyQzlELGNBQUlBLEdBQUosbUNBQXdDUSxNQUFNeUMsSUFBOUMsb0JBQW1FYSxLQUFuRTs7QUFFQSxjQUFJQSxNQUFNZixJQUFOLENBQVdnQixJQUFYLEtBQW9CLEdBQXhCLEVBQTZCO0FBQzNCN0M7QUFDRCxXQUZELE1BRU87QUFDTGxCLGdCQUFJbUYsSUFBSix1REFBNkRGLE1BQTdEO0FBQ0E5RCx5RUFBMkQ4RCxNQUEzRDtBQUNEO0FBQ0YsU0FURDtBQVVELE9BdEJNLENBQVA7QUF1QkQ7OztFQW5UOEJHLG9CLENBQVcsMkI7O2tCQXNUN0I5RSxrQiIsImZpbGUiOiIxMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcblxyXG4vLyBMb2cgU3lzdGVtXHJcbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XHJcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdEYXRhT2JqZWN0T2JzZXJ2ZXInKTtcclxuXHJcbmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IERhdGFPYmplY3QgZnJvbSAnLi9EYXRhT2JqZWN0JztcclxuXHJcbmxldCBGaWx0ZXJUeXBlID0ge0FOWTogJ2FueScsIFNUQVJUOiAnc3RhcnQnLCBFWEFDVDogJ2V4YWN0J307XHJcblxyXG4vKipcclxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIFN5bmNoZXIgc3Vic2NyaWJlIGNhbGwuXHJcbiAqIFRvIGJlIHVzZWQgYXMgYW4gb2JzZXJ2YXRpb24gcG9pbnQgZnJvbSBhIERhdGFPYmplY3RSZXBvcnRlciBjaGFuZ2UuXHJcbiAqL1xyXG5jbGFzcyBEYXRhT2JqZWN0T2JzZXJ2ZXIgZXh0ZW5kcyBEYXRhT2JqZWN0IC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XHJcbiAgLyogcHJpdmF0ZVxyXG4gIF9jaGFuZ2VMaXN0ZW5lcjogTXNnTGlzdGVuZXJcclxuXHJcbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxyXG4gIF9maWx0ZXJzOiB7PGZpbHRlcj46IHt0eXBlOiA8c3RhcnQsIGV4YWN0PiwgY2FsbGJhY2s6IDxmdW5jdGlvbj59IH1cclxuICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAaWdub3JlXHJcbiAgICogU2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5IGJ5IEh5cGVydGllcy4gSXQncyBjYWxsZWQgYnkgdGhlIFN5bmNoZXIuc3Vic2NyaWJlIG1ldGhvZFxyXG4gICAqL1xyXG5cclxuICAvL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcclxuICAgIC8vdG9kbzogY2hlY2sgd2h5XHJcbiAgICAvL2lucHV0LmluaXRpYWxEYXRhID0gaW5wdXQuaW5pdGlhbERhdGEuZGF0YTtcclxuXHJcbiAgICBzdXBlcihpbnB1dCk7XHJcblxyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fdmVyc2lvbiA9IGlucHV0LnZlcnNpb247XHJcbiAgICBfdGhpcy5fZmlsdGVycyA9IHt9O1xyXG5cclxuICAgIF90aGlzLl9zeW5jT2JqLm9ic2VydmUoKGV2ZW50KSA9PiB7XHJcbiAgICAgIF90aGlzLl9vbkZpbHRlcihldmVudCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTeW5jIERhdGEgT2JqZWN0IE9ic2VydmVyIHdpdGggbGFzdCB2ZXJzaW9uIG9mIERhdGEgT2JqZWN0IFJlcG9ydGVyLiBVc2VmdWwgZm9yIFJlc3VtZXNcclxuICAgKi9cclxuICBzeW5jKCkge1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsb2cuaW5mbygnW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSBzeW5jaHJvbmlzaW5nICcpO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICBfdGhpcy5fc3luY2hlci5yZWFkKF90aGlzLl9tZXRhZGF0YS51cmwpLnRoZW4oKHZhbHVlKT0+e1xyXG4gICAgICAgIGxvZy5pbmZvKCdbRGF0YU9iamVjdE9ic2VydmVyX3N5bmNdIHZhbHVlIHRvIHN5bmM6ICcsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5kYXRhLCBkZWVwQ2xvbmUodmFsdWUuZGF0YSkpO1xyXG5cclxuICAgICAgICBfdGhpcy5fdmVyc2lvbiA9IHZhbHVlLnZlcnNpb247XHJcblxyXG4gICAgICAgIF90aGlzLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWQgPSB2YWx1ZS5sYXN0TW9kaWZpZWQ7XHJcblxyXG4gICAgICAgIC8vVE9ETzogY2hlY2sgZmlyc3QgaWYgdGhlcmUgYXJlIG5ldyBjaGlsZHJlbk9iamVjdHMgdG8gYXZvaWQgb3ZlcmhlYWRcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlLmNoaWxkcmVuT2JqZWN0cykge1xyXG4gICAgICAgICAgX3RoaXMucmVzdW1lQ2hpbGRyZW5zKHZhbHVlLmNoaWxkcmVuT2JqZWN0cyk7XHJcbiAgICAgICAgICBfdGhpcy5fc3RvcmVDaGlsZHJlbnMoKTtcclxuICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHJlc29sdmUodHJ1ZSk7XHJcblxyXG5cclxuICAgICAgICAvKmlmICh2YWx1ZS52ZXJzaW9uICE9IF90aGlzLl92ZXJzaW9uKSB7XHJcbiAgICAgICAgICBsb2cuaW5mbygnW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSB1cGRhdGluZyBleGlzdGluZyBkYXRhOiAnLCBfdGhpcy5kYXRhKTtcclxuXHJcbiAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzLmRhdGEgfHwge30sIGRlZXBDbG9uZSh2YWx1ZS5kYXRhKSk7XHJcblxyXG4gICAgICAgICAgX3RoaXMuX21ldGFkYXRhID0gZGVlcENsb25lKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICBkZWxldGUgX3RoaXMuX21ldGFkYXRhLmRhdGE7XHJcblxyXG4gICAgICAgICAgX3RoaXMuX3ZlcnNpb24gPSB2YWx1ZS52ZXJzaW9uO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9nLmluZm8oJ1tEYXRhT2JqZWN0T2JzZXJ2ZXJfc3luY10gZXhpc3RpbmcgZGF0YSBpcyB1cGRhdGVkOiAnLCB2YWx1ZSk7XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgbG9nLmluZm8oJ1tEYXRhT2JqZWN0T2JzZXJ2ZXJfc3luY10gc3luYyBmYWlsZWQ6ICcsIHJlYXNvbik7XHJcbiAgICAgICAgcmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgfVxyXG5cclxuICBfc3RvcmVDaGlsZHJlbnMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBjaGlsZHJlbnMgPSB7fTtcclxuXHJcbiAgICAvL1RPRE86IHRvIGJlIHNlbnQgdG8gSHlwZXJ0eVJlc291cmNlU3RvcmFnZSB3aGVuIHJlYWR5IHRvIGhhbmRsZSBDaGF0IE1lc3NhZ2VzXHJcblxyXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoY2hpbGRyZW5SZXNvdXJjZSkgPT4ge1xyXG4gICAgICBsZXQgY2hpbGRyZW4gPSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuUmVzb3VyY2VdO1xyXG4gICAgICBjaGlsZHJlbnNbY2hpbGRyZW5SZXNvdXJjZV0gPSB7fTtcclxuXHJcbiAgICAgIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5mb3JFYWNoKChjaGlsZElkKSA9PiB7XHJcbiAgICAgICAgY2hpbGRyZW5zW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdID0ge307XHJcbiAgICAgICAgY2hpbGRyZW5zW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdLnZhbHVlID0gY2hpbGRyZW5bY2hpbGRJZF0ubWV0YWRhdGE7XHJcbiAgICAgICAgY2hpbGRyZW5zW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdLmlkZW50aXR5ID0gY2hpbGRyZW5bY2hpbGRJZF0uaWRlbnRpdHk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgICBsZXQgbXNnID0ge1xyXG5cclxuICAgICAgICBmcm9tOiBfdGhpcy5fb3duZXIsXHJcbiAgICAgICAgdG86IF90aGlzLl9zeW5jaGVyLl9zdWJVUkwsXHJcbiAgICAgICAgdHlwZTogJ2NyZWF0ZScsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgcmVzb3VyY2U6IF90aGlzLl91cmwsXHJcbiAgICAgICAgICBhdHRyaWJ1dGU6ICdjaGlsZHJlbk9iamVjdHMnLFxyXG4gICAgICAgICAgdmFsdWU6IGNoaWxkcmVuc1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UobXNnKTtcclxuXHJcbiAgfVxyXG5cclxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fYWxsb2NhdGVMaXN0ZW5lcnMoKTtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX2NoYW5nZUxpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihfdGhpcy5fdXJsICsgJy9jaGFuZ2VzJywgKG1zZykgPT4ge1xyXG4gICAgICBpZiAobXNnLnR5cGUgPT09ICd1cGRhdGUnKSB7XHJcbiAgICAgICAgbG9nLmxvZygnRGF0YU9iamVjdE9ic2VydmVyLScgKyBfdGhpcy5fdXJsICsgJy1SQ1Y6ICcsIG1zZyk7XHJcbiAgICAgICAgX3RoaXMuX2NoYW5nZU9iamVjdChfdGhpcy5fc3luY09iaiwgbXNnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbGVhc2UgYW5kIGRlbGV0ZSBvYmplY3QgZGF0YVxyXG4gICAqL1xyXG4gIGRlbGV0ZSgpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX2RlbGV0ZUNoaWxkcmVucygpLnRoZW4oKCk9PntcclxuICAgICAgX3RoaXMudW5zdWJzY3JpYmUoKTtcclxuICAgICAgX3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcclxuICAgICAgZGVsZXRlIF90aGlzLl9zeW5jaGVyLl9vYnNlcnZlcnNbX3RoaXMuX3VybF07XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuZCBkZWxldGUgb2JqZWN0IGRhdGFcclxuICAgKi9cclxuICB1bnN1YnNjcmliZSgpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25Mb2NhbFVuU3Vic2NyaWJlXHJcbiAgICBsZXQgdW5TdWJzY3JpYmVNc2cgPSB7XHJcbiAgICAgIHR5cGU6ICd1bnN1YnNjcmliZScsIGZyb206IF90aGlzLl9vd25lciwgdG86IF90aGlzLl9zeW5jaGVyLl9zdWJVUkwsXHJcbiAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IF90aGlzLl91cmwgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHVuU3Vic2NyaWJlTXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgbG9nLmxvZygnRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAnLCByZXBseSk7XHJcbiAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgIF90aGlzLl9yZWxlYXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgZGVsZXRlIF90aGlzLl9zeW5jaGVyLl9vYnNlcnZlcnNbX3RoaXMuX3VybF07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgdGhlIGNoYW5nZSBsaXN0ZW5lcnMgc2VudCBieSB0aGUgcmVwb3J0ZXJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyIC0gRmlsdGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgZmllbGQgKHNlcGFyYXRlZCBkb3QgcGF0aCkuIEFjY2VwdHMgKiBhdCB0aGUgZW5kIGZvciBhIG1vcmUgdW5yZXN0cmljdGVkIGZpbHRlcmluZy5cclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXHJcbiAgICovXHJcbiAgb25DaGFuZ2UoZmlsdGVyLCBjYWxsYmFjaykge1xyXG4gICAgbGV0IGtleSA9IGZpbHRlcjtcclxuICAgIGxldCBmaWx0ZXJPYmogPSB7XHJcbiAgICAgIHR5cGU6IEZpbHRlclR5cGUuRVhBQ1QsXHJcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgaWR4ID0gZmlsdGVyLmluZGV4T2YoJyonKTtcclxuICAgIGlmIChpZHggPT09IGZpbHRlci5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGlmIChpZHggPT09IDApIHtcclxuICAgICAgICBmaWx0ZXJPYmoudHlwZSA9IEZpbHRlclR5cGUuQU5ZO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbHRlck9iai50eXBlID0gRmlsdGVyVHlwZS5TVEFSVDtcclxuICAgICAgICBrZXkgPSBmaWx0ZXIuc3Vic3RyKDAsIGZpbHRlci5sZW5ndGggLSAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2ZpbHRlcnNba2V5XSA9IGZpbHRlck9iajtcclxuICB9XHJcblxyXG4gIF9vbkZpbHRlcihldmVudCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBPYmplY3Qua2V5cyhfdGhpcy5fZmlsdGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGxldCBmaWx0ZXIgPSBfdGhpcy5fZmlsdGVyc1trZXldO1xyXG4gICAgICBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuQU5ZKSB7XHJcbiAgICAgICAgLy9tYXRjaCBhbnl0aGluZ1xyXG4gICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuU1RBUlQpIHtcclxuICAgICAgICAvL2lmIHN0YXJ0cyB3aXRoIGZpbHRlci4uLlxyXG4gICAgICAgIGlmIChldmVudC5maWVsZC5pbmRleE9mKGtleSkgPT09IDApIHtcclxuICAgICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGZpbHRlci50eXBlID09PSBGaWx0ZXJUeXBlLkVYQUNUKSB7XHJcbiAgICAgICAgLy9leGFjdCBtYXRjaFxyXG4gICAgICAgIGlmIChldmVudC5maWVsZCA9PT0ga2V5KSB7XHJcbiAgICAgICAgICBmaWx0ZXIuY2FsbGJhY2soZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbkRpc2Nvbm5lY3RlZChjYWxsYmFjaykge1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICB0aGlzLl9zdWJzY3JpYmVSZWdpc3RyYXRpb24oKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fb25EaXNjb25uZWN0ZWQgPSBjYWxsYmFjaztcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zdWJzY3JpYmVSZWdpc3RyYXRpb24oKSB7XHJcblxyXG4gICAgY29uc3QgbXNnID0ge1xyXG4gICAgICB0eXBlOiAnc3Vic2NyaWJlJyxcclxuICAgICAgZnJvbTogdGhpcy5fb3duZXIsXHJcbiAgICAgIHRvOiB0aGlzLl9zeW5jaGVyLl9ydW50aW1lVXJsICsgJy9zdWJzY3JpcHRpb25zJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlczogW3RoaXMuX3VybCArICcvcmVnaXN0cmF0aW9uJ11cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgdGhpcy5fYnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgbG9nLmxvZyhgW0RhdGFPYmplY3RPYnNlcnZlci5fc3Vic2NyaWJlUmVnaXN0cmF0aW9uXSAke3RoaXMuX3VybH0gcmN2ZWQgcmVwbHkgYCwgcmVwbHkpO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcclxuICAgICAgICAgIHRoaXMuX2dlbmVyYXRlTGlzdGVuZXIodGhpcy5fdXJsICsgJy9yZWdpc3RyYXRpb24nKTtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9nLmVycm9yKCdFcnJvciBzdWJzY3JpYmluZyByZWdpc3RyYXRpb24gc3RhdHVzIGZvciAnLCB0aGlzLl91cmwpO1xyXG4gICAgICAgICAgcmVqZWN0KCdFcnJvciBzdWJzY3JpYmluZyByZWdpc3RyYXRpb24gc3RhdHVzIGZvciAnICsgdGhpcy5fdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZ2VuZXJhdGVMaXN0ZW5lcihub3RpZmljYXRpb25VUkwpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihub3RpZmljYXRpb25VUkwsIChtc2cpID0+IHtcclxuICAgICAgbG9nLmxvZyhgW0RhdGFPYmplY3RPYnNlcnZlci5yZWdpc3RyYXRpb25Ob3RpZmljYXRpb25dICR7X3RoaXMuX3VybH06IGAsIG1zZyk7XHJcbiAgICAgIGlmIChtc2cuYm9keS52YWx1ZSAmJiBtc2cuYm9keS52YWx1ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcgJiYgX3RoaXMuX29uRGlzY29ubmVjdGVkKSB7XHJcbiAgICAgICAgbG9nLmxvZyhgW0RhdGFPYmplY3RPYnNlcnZlcl0gJHtfdGhpcy5fdXJsfTogd2FzIGRpc2Nvbm5lY3RlZCBgLCBtc2cpO1xyXG4gICAgICAgIF90aGlzLl9vbkRpc2Nvbm5lY3RlZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0cyB0aGUgcmVwb3J0ZXIgdG8gZXhlY3V0ZSBhIG1ldGhvZCBvbiB0aGUgZGF0YSBvYmplY3RcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICogQHBhcmFtIHthcnJheX0gcGFyYW1zIC0gYXJyYXkgb2YgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3RlZCBmdW5jdGlvblxyXG4gICAqIEByZXR1cm4ge3Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGV4ZWN1dGUobWV0aG9kLCBwYXJhbXMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IG1zZyA9IHtcclxuICAgICAgICB0eXBlOiAnZXhlY3V0ZScsXHJcbiAgICAgICAgZnJvbTogdGhpcy5fb3duZXIsXHJcbiAgICAgICAgdG86IF90aGlzLl91cmwsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgICAgICBwYXJhbXM6IHBhcmFtc1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKGBbRGF0YU9iamVjdE9ic2VydmVyLmV4ZWN1dGVdICR7X3RoaXMuX3VybH0gcmN2ZWQgcmVwbHkgYCwgcmVwbHkpO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9nLndhcm4oYFtEYXRhT2JqZWN0T2JzZXJ2ZXIuZXhlY3V0ZV0gZXhlY3V0aW9uIG9mIG1ldGhvZCAke21ldGhvZH0gd2FzIHJlamVjdCBieSByZXBvcnRlcmApO1xyXG4gICAgICAgICAgcmVqZWN0KGBbRGF0YU9iamVjdE9ic2VydmVyLmV4ZWN1dGVdIGV4ZWN1dGlvbiBvZiBtZXRob2QgJHttZXRob2R9IHdhcyByZWplY3QgYnkgcmVwb3J0ZXJgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhT2JqZWN0T2JzZXJ2ZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///133\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(19);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('RegistrationStatus'); /**\r\n                                                  * Copyright 2016 PT Inovação e Sistemas SA\r\n                                                  * Copyright 2016 INESC-ID\r\n                                                  * Copyright 2016 QUOBIS NETWORKS SL\r\n                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                                  * Copyright 2016 ORANGE SA\r\n                                                  * Copyright 2016 Deutsche Telekom AG\r\n                                                  * Copyright 2016 Apizee\r\n                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                                  *\r\n                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                                  * you may not use this file except in compliance with the License.\r\n                                                  * You may obtain a copy of the License at\r\n                                                  *\r\n                                                  *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                                  *\r\n                                                  * Unless required by applicable law or agreed to in writing, software\r\n                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                                  * See the License for the specific language governing permissions and\r\n                                                  * limitations under the License.\r\n                                                  **/\n\n// Log System\n\n/**\r\n* The RegistrationStatus lib allows to monitor registration status of an Hyperty or Data Object\r\n*\r\n*/\nvar RegistrationStatus = function () {\n\n  /**\r\n  * @param {URL} url URL address of the entity to be monitored\r\n  * @param {URL} runtimeURL the current URL of the Runtime Instance used\r\n  * @param {HypertyURL} owner the URL of the Hyperty instance that is using this lib\r\n  * @param {MiniBus} owner the URL of the Hyperty instance that is using this lib\r\n  *\r\n  */\n\n  function RegistrationStatus(url, runtimeURL, owner, msgBus) {\n    (0, _classCallCheck3.default)(this, RegistrationStatus);\n\n    this._registryObjectURL = url;\n    this._runtimeURL = runtimeURL;\n    this._domain = (0, _utils.divideURL)(runtimeURL).domain;\n    this._discoveredObjectURL = owner;\n    this._messageBus = msgBus;\n    this._subscriptionSet = false;\n    this._subscribers = {\n      live: {},\n      disconnected: {}\n    };\n  }\n\n  (0, _createClass3.default)(RegistrationStatus, [{\n    key: 'onLive',\n    value: function onLive(subscriber, callback) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._subscriptionSet) {\n          _this._subscribe().then(function () {\n            _this._subscribers.live[subscriber] = callback;\n            resolve();\n          }).catch(function (err) {\n            return reject(err);\n          });\n        } else {\n          _this._subscribers.live[subscriber] = callback;\n          resolve();\n        }\n      });\n    }\n  }, {\n    key: 'onDisconnected',\n    value: function onDisconnected(subscriber, callback) {\n      var _this2 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this2._subscriptionSet) {\n          _this2._subscribe().then(function () {\n            _this2._subscribers.disconnected[subscriber] = callback;\n            resolve();\n          }).catch(function (err) {\n            return reject(err);\n          });\n        } else {\n          _this2._subscribers.disconnected[subscriber] = callback;\n          resolve();\n        }\n      });\n    }\n  }, {\n    key: '_subscribe',\n    value: function _subscribe() {\n      var _this3 = this;\n\n      var msg = {\n        type: 'subscribe',\n        from: this._discoveredObjectURL,\n        to: this._runtimeURL + '/subscriptions',\n        body: {\n          resources: [this._registryObjectURL + '/registration']\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this3._messageBus.postMessage(msg, function (reply) {\n          log.log('[DiscoveredObject.subscribe] ' + _this3._registryObjectURL + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            _this3._generateListener(_this3._registryObjectURL + '/registration');\n            _this3._subscriptionSet = true;\n            resolve();\n          } else {\n            log.error('Error subscribing ', _this3._registryObjectURL);\n            reject('Error subscribing ' + _this3._registryObjectURL);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_generateListener',\n    value: function _generateListener(notificationURL) {\n      var _this4 = this;\n\n      this._messageBus.addListener(notificationURL, function (msg) {\n        log.log('[DiscoveredObject.notification] ' + _this4._registryObjectURL + ': ', msg);\n        _this4._processNotification(msg);\n      });\n    }\n  }, {\n    key: '_processNotification',\n    value: function _processNotification(msg) {\n      var _this5 = this;\n\n      var status = msg.body.value;\n\n      setTimeout(function () {\n\n        // Hack to give time for onLive Hyperties to get ready. To be removed when Hyperty State machaine is implemented\n        (0, _keys2.default)(_this5._subscribers[status]).forEach(function (subscriber) {\n          return _this5._subscribers[status][subscriber]();\n        });\n      }, 5000);\n    }\n  }, {\n    key: '_unsubscribe',\n    value: function _unsubscribe() {\n      var _this6 = this;\n\n      var msg = {\n        type: 'unsubscribe',\n        from: this._discoveredObjectURL,\n        to: this._runtimeURL + '/subscriptions',\n        body: {\n          resource: this._registryObjectURL + '/registration'\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this6._messageBus.postMessage(msg, function (reply) {\n          log.log('[DiscoveredObject.unsubscribe] ' + _this6._registryObjectURL + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            resolve();\n          } else {\n            log.error('Error unsubscribing ', _this6._registryObjectURL);\n            reject('Error unsubscribing ' + _this6._registryObjectURL);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'unsubscribeLive',\n    value: function unsubscribeLive(subscriber) {\n      var _this7 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (subscriber in _this7._subscribers.live) {\n\n          //TODO: unsubscribe outside this condition\n          delete _this7._subscribers.live[subscriber];\n        }\n\n        if (_this7._areSubscriptionsEmpty()) {\n          _this7._unsubscribe().then(function () {\n            return resolve();\n          }).catch(function (err) {\n            return reject(err);\n          });\n        } else {\n          resolve();\n        }\n\n        /*  } else {\r\n            reject(`${subscriber} doesn't subscribe onLive for ${this._registryObjectURL}`);\r\n          }*/\n      });\n    }\n  }, {\n    key: 'unsubscribeDisconnected',\n    value: function unsubscribeDisconnected(subscriber) {\n      var _this8 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (subscriber in _this8._subscribers.disconnected) {\n          delete _this8._subscribers.disconnected[subscriber];\n\n          if (_this8._areSubscriptionsEmpty()) {\n            _this8._unsubscribe().then(function () {\n              return resolve();\n            }).catch(function (err) {\n              return reject(err);\n            });\n          } else {\n            resolve();\n          }\n        } else {\n          reject(subscriber + ' doesn\\'t subscribe onDisconnected for ' + _this8._registryObjectURL);\n        }\n      });\n    }\n  }, {\n    key: '_areSubscriptionsEmpty',\n    value: function _areSubscriptionsEmpty() {\n      return (0, _keys2.default)(this._subscribers.live).length === 0 && (0, _keys2.default)(this._subscribers.disconnected).length === 0;\n    }\n  }]);\n  return RegistrationStatus;\n}();\n\nexports.default = RegistrationStatus;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXJ5L1JlZ2lzdHJhdGlvblN0YXR1cy5qcz85ZmY5Il0sIm5hbWVzIjpbImxvZ2dlciIsImxvZyIsImdldExvZ2dlciIsIlJlZ2lzdHJhdGlvblN0YXR1cyIsInVybCIsInJ1bnRpbWVVUkwiLCJvd25lciIsIm1zZ0J1cyIsIl9yZWdpc3RyeU9iamVjdFVSTCIsIl9ydW50aW1lVVJMIiwiX2RvbWFpbiIsImRvbWFpbiIsIl9kaXNjb3ZlcmVkT2JqZWN0VVJMIiwiX21lc3NhZ2VCdXMiLCJfc3Vic2NyaXB0aW9uU2V0IiwiX3N1YnNjcmliZXJzIiwibGl2ZSIsImRpc2Nvbm5lY3RlZCIsInN1YnNjcmliZXIiLCJjYWxsYmFjayIsInJlc29sdmUiLCJyZWplY3QiLCJfc3Vic2NyaWJlIiwidGhlbiIsImNhdGNoIiwiZXJyIiwibXNnIiwidHlwZSIsImZyb20iLCJ0byIsImJvZHkiLCJyZXNvdXJjZXMiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwiY29kZSIsIl9nZW5lcmF0ZUxpc3RlbmVyIiwiZXJyb3IiLCJub3RpZmljYXRpb25VUkwiLCJhZGRMaXN0ZW5lciIsIl9wcm9jZXNzTm90aWZpY2F0aW9uIiwic3RhdHVzIiwidmFsdWUiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsInJlc291cmNlIiwiX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSIsIl91bnN1YnNjcmliZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7SUFBWUEsTTs7QUFHWjs7Ozs7O0FBRkEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixvQkFBakIsQ0FBVixDLENBekJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7QUFNQTs7OztJQUlNQyxrQjs7QUFFSjs7Ozs7Ozs7QUFRQSw4QkFBWUMsR0FBWixFQUFpQkMsVUFBakIsRUFBNkJDLEtBQTdCLEVBQW9DQyxNQUFwQyxFQUE0QztBQUFBOztBQUMx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IjEzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbi8vIExvZyBTeXN0ZW1cclxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcclxubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ1JlZ2lzdHJhdGlvblN0YXR1cycpO1xyXG5cclxuaW1wb3J0IHsgZGl2aWRlVVJMIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuLyoqXHJcbiogVGhlIFJlZ2lzdHJhdGlvblN0YXR1cyBsaWIgYWxsb3dzIHRvIG1vbml0b3IgcmVnaXN0cmF0aW9uIHN0YXR1cyBvZiBhbiBIeXBlcnR5IG9yIERhdGEgT2JqZWN0XHJcbipcclxuKi9cclxuY2xhc3MgUmVnaXN0cmF0aW9uU3RhdHVzIHtcclxuXHJcbiAgLyoqXHJcbiAgKiBAcGFyYW0ge1VSTH0gdXJsIFVSTCBhZGRyZXNzIG9mIHRoZSBlbnRpdHkgdG8gYmUgbW9uaXRvcmVkXHJcbiAgKiBAcGFyYW0ge1VSTH0gcnVudGltZVVSTCB0aGUgY3VycmVudCBVUkwgb2YgdGhlIFJ1bnRpbWUgSW5zdGFuY2UgdXNlZFxyXG4gICogQHBhcmFtIHtIeXBlcnR5VVJMfSBvd25lciB0aGUgVVJMIG9mIHRoZSBIeXBlcnR5IGluc3RhbmNlIHRoYXQgaXMgdXNpbmcgdGhpcyBsaWJcclxuICAqIEBwYXJhbSB7TWluaUJ1c30gb3duZXIgdGhlIFVSTCBvZiB0aGUgSHlwZXJ0eSBpbnN0YW5jZSB0aGF0IGlzIHVzaW5nIHRoaXMgbGliXHJcbiAgKlxyXG4gICovXHJcblxyXG4gIGNvbnN0cnVjdG9yKHVybCwgcnVudGltZVVSTCwgb3duZXIsIG1zZ0J1cykge1xyXG4gICAgdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwgPSB1cmw7XHJcbiAgICB0aGlzLl9ydW50aW1lVVJMID0gcnVudGltZVVSTDtcclxuICAgIHRoaXMuX2RvbWFpbiA9IGRpdmlkZVVSTChydW50aW1lVVJMKS5kb21haW47XHJcbiAgICB0aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMID0gb3duZXI7XHJcbiAgICB0aGlzLl9tZXNzYWdlQnVzID0gbXNnQnVzO1xyXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uU2V0ID0gZmFsc2U7XHJcbiAgICB0aGlzLl9zdWJzY3JpYmVycyA9IHtcclxuICAgICAgbGl2ZToge30sXHJcbiAgICAgIGRpc2Nvbm5lY3RlZDoge31cclxuICAgIH07XHJcbiAgfVxyXG5cclxuXHJcbiAgb25MaXZlKHN1YnNjcmliZXIsIGNhbGxiYWNrKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIGlmICghdGhpcy5fc3Vic2NyaXB0aW9uU2V0KSB7XHJcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9zdWJzY3JpYmVycy5saXZlW3N1YnNjcmliZXJdID0gY2FsbGJhY2s7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVycikpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmxpdmVbc3Vic2NyaWJlcl0gPSBjYWxsYmFjaztcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25EaXNjb25uZWN0ZWQoc3Vic2NyaWJlciwgY2FsbGJhY2spIHtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgaWYgKCF0aGlzLl9zdWJzY3JpcHRpb25TZXQpIHtcclxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZFtzdWJzY3JpYmVyXSA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWRbc3Vic2NyaWJlcl0gPSBjYWxsYmFjaztcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3N1YnNjcmliZSgpIHtcclxuXHJcbiAgICBjb25zdCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLFxyXG4gICAgICBmcm9tOiB0aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMLFxyXG4gICAgICB0bzogdGhpcy5fcnVudGltZVVSTCArICcvc3Vic2NyaXB0aW9ucycsXHJcbiAgICAgIGJvZHk6IHtcclxuICAgICAgICByZXNvdXJjZXM6IFt0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCArICcvcmVnaXN0cmF0aW9uJ11cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgdGhpcy5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG4gICAgICAgIGxvZy5sb2coYFtEaXNjb3ZlcmVkT2JqZWN0LnN1YnNjcmliZV0gJHt0aGlzLl9yZWdpc3RyeU9iamVjdFVSTH0gcmN2ZWQgcmVwbHkgYCwgcmVwbHkpO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcclxuICAgICAgICAgIHRoaXMuX2dlbmVyYXRlTGlzdGVuZXIodGhpcy5fcmVnaXN0cnlPYmplY3RVUkwgKyAnL3JlZ2lzdHJhdGlvbicpO1xyXG4gICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2V0ID0gdHJ1ZTtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9nLmVycm9yKCdFcnJvciBzdWJzY3JpYmluZyAnLCB0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCk7XHJcbiAgICAgICAgICByZWplY3QoJ0Vycm9yIHN1YnNjcmliaW5nICcgKyB0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2dlbmVyYXRlTGlzdGVuZXIobm90aWZpY2F0aW9uVVJMKSB7XHJcblxyXG4gICAgdGhpcy5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihub3RpZmljYXRpb25VUkwsIChtc2cpID0+IHtcclxuICAgICAgbG9nLmxvZyhgW0Rpc2NvdmVyZWRPYmplY3Qubm90aWZpY2F0aW9uXSAke3RoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMfTogYCwgbXNnKTtcclxuICAgICAgdGhpcy5fcHJvY2Vzc05vdGlmaWNhdGlvbihtc2cpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfcHJvY2Vzc05vdGlmaWNhdGlvbihtc2cpIHtcclxuICAgIGNvbnN0IHN0YXR1cyA9IG1zZy5ib2R5LnZhbHVlO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cclxuICAgICAgLy8gSGFjayB0byBnaXZlIHRpbWUgZm9yIG9uTGl2ZSBIeXBlcnRpZXMgdG8gZ2V0IHJlYWR5LiBUbyBiZSByZW1vdmVkIHdoZW4gSHlwZXJ0eSBTdGF0ZSBtYWNoYWluZSBpcyBpbXBsZW1lbnRlZFxyXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9zdWJzY3JpYmVyc1tzdGF0dXNdKS5mb3JFYWNoKFxyXG4gICAgICAgIHN1YnNjcmliZXIgPT4gdGhpcy5fc3Vic2NyaWJlcnNbc3RhdHVzXVtzdWJzY3JpYmVyXSgpXHJcbiAgICAgICk7XHJcblxyXG4gICAgfSwgNTAwMCk7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIF91bnN1YnNjcmliZSgpIHtcclxuXHJcbiAgICBjb25zdCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICd1bnN1YnNjcmliZScsXHJcbiAgICAgIGZyb206IHRoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkwsXHJcbiAgICAgIHRvOiB0aGlzLl9ydW50aW1lVVJMICsgJy9zdWJzY3JpcHRpb25zJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiB0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCArICcvcmVnaXN0cmF0aW9uJ1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICB0aGlzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgbG9nLmxvZyhgW0Rpc2NvdmVyZWRPYmplY3QudW5zdWJzY3JpYmVdICR7dGhpcy5fcmVnaXN0cnlPYmplY3RVUkx9IHJjdmVkIHJlcGx5IGAsIHJlcGx5KTtcclxuXHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvZy5lcnJvcignRXJyb3IgdW5zdWJzY3JpYmluZyAnLCB0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCk7XHJcbiAgICAgICAgICByZWplY3QoJ0Vycm9yIHVuc3Vic2NyaWJpbmcgJyArIHRoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1bnN1YnNjcmliZUxpdmUoc3Vic2NyaWJlcikge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIGlmIChzdWJzY3JpYmVyIGluIHRoaXMuX3N1YnNjcmliZXJzLmxpdmUpIHtcclxuXHJcbiAgICAgICAgICAvL1RPRE86IHVuc3Vic2NyaWJlIG91dHNpZGUgdGhpcyBjb25kaXRpb25cclxuICAgICAgICBkZWxldGUgdGhpcy5fc3Vic2NyaWJlcnMubGl2ZVtzdWJzY3JpYmVyXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSgpKSB7XHJcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiByZXNvbHZlKCkpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlamVjdChgJHtzdWJzY3JpYmVyfSBkb2Vzbid0IHN1YnNjcmliZSBvbkxpdmUgZm9yICR7dGhpcy5fcmVnaXN0cnlPYmplY3RVUkx9YCk7XHJcbiAgICAgICAgfSovXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVuc3Vic2NyaWJlRGlzY29ubmVjdGVkKHN1YnNjcmliZXIpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICBpZiAoc3Vic2NyaWJlciBpbiB0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWQpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fc3Vic2NyaWJlcnMuZGlzY29ubmVjdGVkW3N1YnNjcmliZXJdO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fYXJlU3Vic2NyaXB0aW9uc0VtcHR5KCkpIHtcclxuICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKClcclxuICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUoKSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVqZWN0KGAke3N1YnNjcmliZXJ9IGRvZXNuJ3Qgc3Vic2NyaWJlIG9uRGlzY29ubmVjdGVkIGZvciAke3RoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMfWApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9hcmVTdWJzY3JpcHRpb25zRW1wdHkoKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3Vic2NyaWJlcnMubGl2ZSkubGVuZ3RoID09PSAwXHJcbiAgICAgICYmIE9iamVjdC5rZXlzKHRoaXMuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZCkubGVuZ3RoID09PSAwO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdHJhdGlvblN0YXR1cztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Rpc2NvdmVyeS9SZWdpc3RyYXRpb25TdGF0dXMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///134\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataProvisional'); /**\r\n                                               * Copyright 2016 PT Inovação e Sistemas SA\r\n                                               * Copyright 2016 INESC-ID\r\n                                               * Copyright 2016 QUOBIS NETWORKS SL\r\n                                               * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                               * Copyright 2016 ORANGE SA\r\n                                               * Copyright 2016 Deutsche Telekom AG\r\n                                               * Copyright 2016 Apizee\r\n                                               * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                               *\r\n                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                               * you may not use this file except in compliance with the License.\r\n                                               * You may obtain a copy of the License at\r\n                                               *\r\n                                               *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                               *\r\n                                               * Unless required by applicable law or agreed to in writing, software\r\n                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                               * See the License for the specific language governing permissions and\r\n                                               * limitations under the License.\r\n                                               **/\n\n/**\r\n * @access private\r\n * This class is responsible for collecting delta changes in remote objects, before the response of subscription reach the observer.\r\n * It's used in Syncher -> subscribe. The flow is defined as:\r\n * 1. (observer) --subscribe--\x3e (reporter)\r\n * 2. (observer) <--delta updates-- (reporter)\r\n * 3. (observer) <--subscribe response-- (reporter)\r\n * This means that there could be delta updates transferred before the subscription confirmation.\r\n * Since there is no DataObjectObserver before the ubscription confirmation, there should be some other object collecting the updates.\r\n * Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\r\n */\n\n// Log System\n\nvar DataProvisional = function () {\n  /* private\r\n  _childrenListeners: [MsgListener]\r\n  _listener: MsgListener\r\n    _changes: []\r\n  */\n\n  function DataProvisional(owner, url, bus, children) {\n    (0, _classCallCheck3.default)(this, DataProvisional);\n\n    var _this = this;\n\n    _this._owner = owner;\n    _this._url = url;\n    _this._bus = bus;\n    _this._children = children;\n\n    _this._changes = [];\n    _this._allocateListeners();\n  }\n\n  (0, _createClass3.default)(DataProvisional, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this = this;\n\n      _this._listener = _this._bus.addListener(_this._url, function (msg) {\n        log.log('DataProvisional-' + _this._url + '-RCV: ', msg);\n        _this._changes.push(msg);\n      });\n\n      /*\r\n      _this._childrenListeners = [];\r\n      if (_this._children) {\r\n        let childBaseURL = url + '/children/';\r\n        _this._children.forEach((child) => {\r\n          let childURL = childBaseURL + child;\r\n          let listener = _this._bus.addListener(childURL, (msg) => {\r\n            //ignore msg sent by himself\r\n            if (msg.from !== owner) {\r\n              log.log(msg);\r\n            }\r\n          });\r\n            _this._childrenListeners.push(listener);\r\n        });\r\n      }*/\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      _this._listener.remove();\n\n      /*_this._childrenListeners.forEach((listener) => {\r\n        listener.remove();\r\n      });*/\n    }\n  }, {\n    key: 'apply',\n    value: function apply(observer) {\n      var _this = this;\n      _this._changes.forEach(function (change) {\n        observer._changeObject(observer._syncObj, change);\n      });\n    }\n  }, {\n    key: 'children',\n    get: function get() {\n      return this._children;\n    }\n  }]);\n  return DataProvisional;\n}();\n\nexports.default = DataProvisional;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhUHJvdmlzaW9uYWwuanM/YTYyNCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJEYXRhUHJvdmlzaW9uYWwiLCJvd25lciIsInVybCIsImJ1cyIsImNoaWxkcmVuIiwiX3RoaXMiLCJfb3duZXIiLCJfdXJsIiwiX2J1cyIsIl9jaGlsZHJlbiIsIl9jaGFuZ2VzIiwiX2FsbG9jYXRlTGlzdGVuZXJzIiwiX2xpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJtc2ciLCJwdXNoIiwicmVtb3ZlIiwib2JzZXJ2ZXIiLCJmb3JFYWNoIiwiY2hhbmdlIiwiX2NoYW5nZU9iamVjdCIsIl9zeW5jT2JqIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQW9DQTs7SUFBWUEsTTs7Ozs7O0FBQ1osSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixpQkFBakIsQ0FBVixDLENBckNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7Ozs7Ozs7Ozs7O0FBWUE7O0lBSU1DLGU7QUFDSjs7Ozs7O0FBT0EsMkJBQVlDLEtBQVosRUFBbUJDLEdBQW5CLEVBQXdCQyxHQUF4QixFQUE2QkMsUUFBN0IsRUFBdUM7QUFBQTs7QUFDckMsUUFBSUMsUUFBUSxJQUFaOztBQUVBQSxVQUFNQyxNQUFOLEdBQWVMLEtBQWY7QUFDQUksVUFBTUUsSUFBTixHQUFhTCxHQUFiO0FBQ0FHLFVBQU1HLElBQU4sR0FBYUwsR0FBYjtBQUNBRSxVQUFNSSxTQUFOLEdBQWtCTCxRQUFsQjs7QUFFQUMsVUFBTUssUUFBTixHQUFpQixFQUFqQjtBQUNBTCxVQUFNTSxrQkFBTjtBQUNEOzs7O3lDQUVvQjtBQUNuQixVQUFJTixRQUFRLElBQVo7O0FBRUFBLFlBQU1PLFNBQU4sR0FBa0JQLE1BQU1HLElBQU4sQ0FBV0ssV0FBWCxDQUF1QlIsTUFBTUUsSUFBN0IsRUFBbUMsVUFBQ08sR0FBRCxFQUFTO0FBQzVEaEIsWUFBSUEsR0FBSixDQUFRLHFCQUFxQk8sTUFBTUUsSUFBM0IsR0FBa0MsUUFBMUMsRUFBb0RPLEdBQXBEO0FBQ0FULGNBQU1LLFFBQU4sQ0FBZUssSUFBZixDQUFvQkQsR0FBcEI7QUFDRCxPQUhpQixDQUFsQjs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JEOzs7d0NBRW1CO0FBQ2xCLFVBQUlULFFBQVEsSUFBWjs7QUFFQUEsWUFBTU8sU0FBTixDQUFnQkksTUFBaEI7O0FBRUE7OztBQUdEOzs7MEJBSUtDLFEsRUFBVTtBQUNkLFVBQUlaLFFBQVEsSUFBWjtBQUNBQSxZQUFNSyxRQUFOLENBQWVRLE9BQWYsQ0FBdUIsVUFBQ0MsTUFBRCxFQUFZO0FBQ2pDRixpQkFBU0csYUFBVCxDQUF1QkgsU0FBU0ksUUFBaEMsRUFBMENGLE1BQTFDO0FBQ0QsT0FGRDtBQUdEOzs7d0JBUGM7QUFBRSxhQUFPLEtBQUtWLFNBQVo7QUFBd0I7Ozs7O2tCQVU1QlQsZSIsImZpbGUiOiIxMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcblxyXG4vKipcclxuICogQGFjY2VzcyBwcml2YXRlXHJcbiAqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIGNvbGxlY3RpbmcgZGVsdGEgY2hhbmdlcyBpbiByZW1vdGUgb2JqZWN0cywgYmVmb3JlIHRoZSByZXNwb25zZSBvZiBzdWJzY3JpcHRpb24gcmVhY2ggdGhlIG9ic2VydmVyLlxyXG4gKiBJdCdzIHVzZWQgaW4gU3luY2hlciAtPiBzdWJzY3JpYmUuIFRoZSBmbG93IGlzIGRlZmluZWQgYXM6XHJcbiAqIDEuIChvYnNlcnZlcikgLS1zdWJzY3JpYmUtLT4gKHJlcG9ydGVyKVxyXG4gKiAyLiAob2JzZXJ2ZXIpIDwtLWRlbHRhIHVwZGF0ZXMtLSAocmVwb3J0ZXIpXHJcbiAqIDMuIChvYnNlcnZlcikgPC0tc3Vic2NyaWJlIHJlc3BvbnNlLS0gKHJlcG9ydGVyKVxyXG4gKiBUaGlzIG1lYW5zIHRoYXQgdGhlcmUgY291bGQgYmUgZGVsdGEgdXBkYXRlcyB0cmFuc2ZlcnJlZCBiZWZvcmUgdGhlIHN1YnNjcmlwdGlvbiBjb25maXJtYXRpb24uXHJcbiAqIFNpbmNlIHRoZXJlIGlzIG5vIERhdGFPYmplY3RPYnNlcnZlciBiZWZvcmUgdGhlIHVic2NyaXB0aW9uIGNvbmZpcm1hdGlvbiwgdGhlcmUgc2hvdWxkIGJlIHNvbWUgb3RoZXIgb2JqZWN0IGNvbGxlY3RpbmcgdGhlIHVwZGF0ZXMuXHJcbiAqIFByb3Zpc2lvbmFsIGRhdGEgaXMgYXBwbGllZCB0byB0aGUgRGF0YU9iamVjdE9ic2VydmVyIGFmdGVyIGNvbmZpcm1hdGlvbi4gT3IgZGlzY2FyZGVkIGlmIHRoZXJlIGlzIG5vIGNvbmZpcm1hdGlvbi5cclxuICovXHJcblxyXG4vLyBMb2cgU3lzdGVtXHJcbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XHJcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdEYXRhUHJvdmlzaW9uYWwnKTtcclxuXHJcbmNsYXNzIERhdGFQcm92aXNpb25hbCB7XHJcbiAgLyogcHJpdmF0ZVxyXG4gIF9jaGlsZHJlbkxpc3RlbmVyczogW01zZ0xpc3RlbmVyXVxyXG4gIF9saXN0ZW5lcjogTXNnTGlzdGVuZXJcclxuXHJcbiAgX2NoYW5nZXM6IFtdXHJcbiAgKi9cclxuXHJcbiAgY29uc3RydWN0b3Iob3duZXIsIHVybCwgYnVzLCBjaGlsZHJlbikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fb3duZXIgPSBvd25lcjtcclxuICAgIF90aGlzLl91cmwgPSB1cmw7XHJcbiAgICBfdGhpcy5fYnVzID0gYnVzO1xyXG4gICAgX3RoaXMuX2NoaWxkcmVuID0gY2hpbGRyZW47XHJcblxyXG4gICAgX3RoaXMuX2NoYW5nZXMgPSBbXTtcclxuICAgIF90aGlzLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2FsbG9jYXRlTGlzdGVuZXJzKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fbGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKF90aGlzLl91cmwsIChtc2cpID0+IHtcclxuICAgICAgbG9nLmxvZygnRGF0YVByb3Zpc2lvbmFsLScgKyBfdGhpcy5fdXJsICsgJy1SQ1Y6ICcsIG1zZyk7XHJcbiAgICAgIF90aGlzLl9jaGFuZ2VzLnB1c2gobXNnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qXHJcbiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTtcclxuICAgIGlmIChfdGhpcy5fY2hpbGRyZW4pIHtcclxuICAgICAgbGV0IGNoaWxkQmFzZVVSTCA9IHVybCArICcvY2hpbGRyZW4vJztcclxuICAgICAgX3RoaXMuX2NoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgbGV0IGNoaWxkVVJMID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7XHJcbiAgICAgICAgbGV0IGxpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihjaGlsZFVSTCwgKG1zZykgPT4ge1xyXG4gICAgICAgICAgLy9pZ25vcmUgbXNnIHNlbnQgYnkgaGltc2VsZlxyXG4gICAgICAgICAgaWYgKG1zZy5mcm9tICE9PSBvd25lcikge1xyXG4gICAgICAgICAgICBsb2cubG9nKG1zZyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9Ki9cclxuICB9XHJcblxyXG4gIF9yZWxlYXNlTGlzdGVuZXJzKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fbGlzdGVuZXIucmVtb3ZlKCk7XHJcblxyXG4gICAgLypfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgbGlzdGVuZXIucmVtb3ZlKCk7XHJcbiAgICB9KTsqL1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cclxuXHJcbiAgYXBwbHkob2JzZXJ2ZXIpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBfdGhpcy5fY2hhbmdlcy5mb3JFYWNoKChjaGFuZ2UpID0+IHtcclxuICAgICAgb2JzZXJ2ZXIuX2NoYW5nZU9iamVjdChvYnNlcnZlci5fc3luY09iaiwgY2hhbmdlKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0YVByb3Zpc2lvbmFsO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3luY2hlci9EYXRhUHJvdmlzaW9uYWwuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///135\n")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(22);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(19);\n\nvar _DiscoveredObject = __webpack_require__(139);\n\nvar _DiscoveredObject2 = _interopRequireDefault(_DiscoveredObject);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('Discovery'); /**\r\n                                         * Copyright 2016 PT Inovação e Sistemas SA\r\n                                         * Copyright 2016 INESC-ID\r\n                                         * Copyright 2016 QUOBIS NETWORKS SL\r\n                                         * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                         * Copyright 2016 ORANGE SA\r\n                                         * Copyright 2016 Deutsche Telekom AG\r\n                                         * Copyright 2016 Apizee\r\n                                         * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                         *\r\n                                         * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                         * you may not use this file except in compliance with the License.\r\n                                         * You may obtain a copy of the License at\r\n                                         *\r\n                                         *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                         *\r\n                                         * Unless required by applicable law or agreed to in writing, software\r\n                                         * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                         * See the License for the specific language governing permissions and\r\n                                         * limitations under the License.\r\n                                         **/\n\n// Log System\n\n/**\r\n* Core Discovery interface\r\n* Class to allow applications to search for hyperties and DataObjects using the message bus\r\n*/\nvar Discovery = function () {\n\n  /**\r\n  * To initialise the HypertyDiscover, which will provide the support for hyperties to\r\n  * query users registered in outside the internal core.\r\n  * @param  {MessageBus}          msgbus                msgbus\r\n  * @param  {RuntimeURL}          runtimeURL            runtimeURL\r\n  */\n  function Discovery(hypertyURL, runtimeURL, msgBus) {\n    (0, _classCallCheck3.default)(this, Discovery);\n\n    var _this = this;\n    _this.messageBus = msgBus;\n    _this.runtimeURL = runtimeURL;\n\n    _this.domain = (0, _utils.divideURL)(hypertyURL).domain;\n    _this.discoveryURL = hypertyURL;\n  }\n\n  /**\r\n  * Advanced Search for Hyperties registered in domain registry associated with some user identifier (eg email, name ...)\r\n  * @param  {String}           userIdentifier\r\n  * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n  * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n  */\n\n\n  (0, _createClass3.default)(Discovery, [{\n    key: '_isLegacyUser',\n    value: function _isLegacyUser(userIdentifier) {\n      if (userIdentifier.includes(':') && !userIdentifier.includes('user://')) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    /**\r\n    * Advanced Search for Hyperties registered in domain registry associated with some user identifier (eg email, name ...)\r\n    * @param  {String}           userIdentifier\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    */\n\n  }, {\n    key: 'discoverHypertiesPerUserProfileData',\n    value: function discoverHypertiesPerUserProfileData(userIdentifier, schema, resources) {\n      var _this = this;\n      var filteredHyperties = [];\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/userprofile/' + userIdentifier\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._isLegacyUser(userIdentifier)) {\n          // todo: to reomve when discovery of legcay users are supported\n\n          _this.messageBus.postMessage(msg, function (reply) {\n\n            if (reply.body.code === 200) {\n              reply.body.value.map(function (hyperty) {\n                if (hyperty.hypertyID != _this.discoveryURL) filteredHyperties.push(hyperty);\n              });\n              if (filteredHyperties.length === 0) resolve([]);else {\n                log.log(\"[Discovery.discoverHypertiesPerUserProfileData] Reply log: \", filteredHyperties);\n                resolve(filteredHyperties);\n              }\n            } else {\n              log.warn(\"[Discovery.discoverHypertiesPerUserProfileData] Error Reply for \" + userIdentifier + \" Reason: \", reply.body.description);\n              resolve([]);\n            }\n          });\n        } else {\n          resolve([{ hypertyID: userIdentifier, status: 'live' }]);\n        }\n      });\n    }\n\n    /**\r\n    * Advanced Search for Hyperties registered in domain registry associated with some user identifier (eg email, name ...)\r\n    * returns DiscoveredObject\r\n    * @param  {String}           userIdentifier\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    */\n\n  }, {\n    key: 'discoverHypertiesPerUserProfileDataDO',\n    value: function discoverHypertiesPerUserProfileDataDO(userIdentifier, schema, resources) {\n      var _this2 = this,\n          _arguments = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this2.discoverHypertiesPerUserProfileData.apply(_this2, _arguments).then(function (hyperties) {\n          resolve(_this2._convertToDiscoveredObject(hyperties));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * Advanced Search for DataObjects registered in domain registry associated with some user identifier (eg email, name ...)\r\n    * @param  {String}           userIdentifier\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerUserProfileData',\n    value: function discoverDataObjectsPerUserProfileData(userIdentifier, schema, resources) {\n      var _this = this;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/userprofile/' + userIdentifier\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._isLegacyUser(userIdentifier)) {\n          // todo: to reomve when discovery of legcay users are supported\n\n          _this.messageBus.postMessage(msg, function (reply) {\n\n            if (reply.body.code === 200) {\n              log.log(\"Reply log: \", reply.body.value);\n              resolve(reply.body.value);\n            } else {\n              log.warn(\"[Discovery.discoverDataObjectsPerUserProfileData] Error Reply for \" + userIdentifier + \" Reason: \", reply.body.description);\n              resolve([]);\n            }\n          });\n        } else {\n          resolve([{ hypertyID: userIdentifier, status: 'live' }]);\n        }\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerUserProfileDataDO',\n    value: function discoverDataObjectsPerUserProfileDataDO(guidURL, schema, resources) {\n      var _this3 = this,\n          _arguments2 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this3.discoverDataObjectsPerUserProfileData.apply(_this3, _arguments2).then(function (registryObjects) {\n          return resolve(_this3._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * Advanced Search for Hyperties registered in domain registry associated with some GUID\r\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    */\n\n  }, {\n    key: 'discoverHypertiesPerGUID',\n    value: function discoverHypertiesPerGUID(guidURL, schema, resources) {\n      var _this = this;\n      var filteredHyperties = [];\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/guid/' + guidURL\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            reply.body.value.map(function (hyperty) {\n              if (hyperty.hypertyID != _this.discoveryURL) filteredHyperties.push(hyperty);\n            });\n            if (filteredHyperties.length === 0) reject('No Hyperty was found');else {\n              log.log(\"Reply log: \", filteredHyperties);\n              resolve(filteredHyperties);\n            }\n          } else {\n            log.warn(\"[Discovery.discoverHypertiesPerGUID] Error Reply for \" + guidURL + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * Advanced Search for Hyperties registered in domain registry associated with some GUID\r\n    * returns DiscoveredObject\r\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    */\n\n  }, {\n    key: 'discoverHypertiesPerGUIDDO',\n    value: function discoverHypertiesPerGUIDDO(guidURL, schema, resources) {\n      var _this4 = this,\n          _arguments3 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this4.discoverHypertiesPerGUID.apply(_this4, _arguments3).then(function (hyperties) {\n          resolve(_this4._convertToDiscoveredObject(hyperties));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * Advanced Search for DataObjects registered in domain registry associated with some GUID\r\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerGUID',\n    value: function discoverDataObjectsPerGUID(guidURL, schema, resources) {\n      var _this = this;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/guid/' + guidURL\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectsPerGUID] Error Reply for \" + guidURL + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerGUIDDO',\n    value: function discoverDataObjectsPerGUIDDO(guidURL, schema, resources) {\n      var _this5 = this,\n          _arguments4 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this5.discoverDataObjectsPerGUID.apply(_this5, _arguments4).then(function (registryObjects) {\n          return resolve(_this5._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /** Advanced Search for Hyperties registered in domain registry\r\n    * @param  {String}           user                  user identifier, either in url or email format\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverHyperties',\n    value: function discoverHyperties(user, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      var filteredHyperties = [];\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/user/' + user\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._isLegacyUser(user)) {\n          // todo: to reomve when discovery of legcay users are supported\n\n          _this.messageBus.postMessage(msg, function (reply) {\n\n            if (reply.body.code === 200 || reply.body.code === 500) {\n              reply.body.value.map(function (hyperty) {\n                if (hyperty.hypertyID != _this.discoveryURL) filteredHyperties.push(hyperty);\n              });\n              /*            if(filteredHyperties.length === 0)\r\n                            reject('No Hyperty was found');\r\n                          else {*/\n              log.log(\"[Discovery.discoverHyperties] Reply : \", filteredHyperties);\n              resolve(filteredHyperties);\n              //            }\n            } else {\n              log.warn(\"[Discovery.discoverHyperties] Error Reply for \" + user + \" Reason: \", reply.body.description);\n              resolve(filteredHyperties);\n            }\n          });\n        } else {\n          resolve([{ hypertyID: user, status: 'live' }]);\n        }\n      });\n    }\n\n    /** Advanced Search for Hyperties registered in domain registry,\r\n    *returns DiscoveredObject\r\n    * @param  {String}           user                  user identifier, either in url or email format\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverHypertiesDO',\n    value: function discoverHypertiesDO(user, schema, resources, domain) {\n      var _this6 = this,\n          _arguments5 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this6.discoverHyperties.apply(_this6, _arguments5).then(function (hyperties) {\n          resolve(_this6._convertToDiscoveredObject(hyperties));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /** Advanced Search for DataObjects registered in domain registry\r\n    * @param  {String}           user                  user identifier, either in url or email format\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverDataObjects',\n    value: function discoverDataObjects(user, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/user/' + user\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjects] Error Reply for \" + user + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}           user                  user identifier, either in url or email format\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsDO',\n    value: function discoverDataObjectsDO(user, schema, resources, domain) {\n      var _this7 = this,\n          _arguments6 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this7.discoverDataObjects.apply(_this7, _arguments6).then(function (registryObjects) {\n          return resolve(_this7._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * function to request about hyperties registered in domain registry, and\r\n    * return the hyperty information, if found.\r\n    * @param  {String}              url  hyperty URL\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverHypertyPerURL',\n    value: function discoverHypertyPerURL(url, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/url/' + url,\n          criteria: {\n            domain: activeDomain\n          }\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverHypertyPerURL] Error Reply for \" + url + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about hyperties registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}              url  hyperty URL\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverHypertyPerURLDO',\n    value: function discoverHypertyPerURLDO(url, domain) {\n      var _this8 = this,\n          _arguments7 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this8.discoverHypertyPerURL.apply(_this8, _arguments7).then(function (hyperty) {\n          return resolve(new _DiscoveredObject2.default(hyperty, _this8.runtimeURL, _this8.discoveryURL, _this8.messageBus, _this8));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * return the dataObject information, if found.\r\n    * @param  {String}              url  dataObject URL\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverDataObjectPerURL',\n    value: function discoverDataObjectPerURL(url, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/url/' + url,\n          criteria: {\n            domain: activeDomain\n          }\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectPerURL] Error Reply for \" + url + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}              url  dataObject URL\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverDataObjectPerURLDO',\n    value: function discoverDataObjectPerURLDO(url, domain) {\n      var _this9 = this,\n          _arguments8 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this9.discoverDataObjectPerURL.apply(_this9, _arguments8).then(function (registryObject) {\n          return resolve(new _DiscoveredObject2.default(registryObject, _this9.runtimeURL, _this9.discoveryURL, _this9.messageBus, _this9));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * function to request about an dataObjects registered in domain registry with a given name, and\r\n    * return the dataObjects information, if found.\r\n    * @param  {String}              name  dataObject URL\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerName',\n    value: function discoverDataObjectsPerName(name, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/name/' + name\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectsPerName] Error Reply for \" + name + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}              name  dataObject URL\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerNameDO',\n    value: function discoverDataObjectsPerNameDO(name, schema, resources, domain) {\n      var _this10 = this,\n          _arguments9 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this10.discoverDataObjectsPerName.apply(_this10, _arguments9).then(function (registryObjects) {\n          return resolve(_this10._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\r\n    * function to request about specific reporter dataObject registered in domain registry, and\r\n    * return the dataObjects from that reporter.\r\n    * @param  {String}           reporter     dataObject reporter\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\r\n    * @param  {String}           domain       (Optional)\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerReporter',\n    value: function discoverDataObjectsPerReporter(reporter, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/reporter/' + reporter\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectsPerName] Error Reply for \" + reporter + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about dataObject registered in domain registry, and\r\n    * returns discoveredObject.\r\n    * @param  {String}              name  dataObject URL\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\r\n    * @param  {String}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerReporterDO',\n    value: function discoverDataObjectsPerReporterDO(reporter, schema, resources, domain) {\n      var _this11 = this,\n          _arguments10 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this11.discoverDataObjectsPerReporter.apply(_this11, _arguments10).then(function (registryObjects) {\n          return resolve(_this11._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n  }, {\n    key: '_convertToDiscoveredObject',\n    value: function _convertToDiscoveredObject(registryObjects) {\n      var _this12 = this;\n\n      return registryObjects.map(function (registryObject) {\n        return new _DiscoveredObject2.default(registryObject, _this12.runtimeURL, _this12.discoveryURL, _this12.messageBus, _this12);\n      });\n    }\n\n    /** Advanced Search for dataObjects registered in domain registry\r\n    * @deprecated Deprecated. Use discoverDataObjectsPerName instead\r\n    * @param  {String}           name                  name of the dataObject\r\n    * @param  {Array<string>}    schema (Optional)     types of dataObject schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of dataObject resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverDataObject',\n    value: function discoverDataObject(name, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      //let userIdentifier = convertToUserURL(user);\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: name,\n          criteria: { resources: resources, dataSchemes: schema }\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n          log.log('[Discovery]', reply);\n\n          if (reply.body.code > 299) {\n            log.warn(\"[Discovery.discoverDataObject] Error Reply for \" + name + \" Reason: \", reply.body.description);\n            return resolve([]);\n          }\n\n          var hyperties = reply.body.value;\n\n          if (hyperties) {\n            resolve(hyperties);\n          } else {\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /** Advanced Search for Hyperties registered in domain registry\r\n    * @deprecated Deprecated. Use discoverHyperties instead\r\n    * @param  {String}           user                  user identifier, either in url or email format\r\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\r\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\r\n    * @param  {String}           domain (Optional)     domain of the registry to search\r\n    */\n\n  }, {\n    key: 'discoverHyperty',\n    value: function discoverHyperty(user, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      var userIdentifier = (0, _utils.convertToUserURL)(user);\n\n      if (!domain) {\n        activeDomain = _this.domain;\n      } else {\n        activeDomain = domain;\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        log.log('[Discovery.discoverHyperty] ACTIVE DOMAIN -> ', activeDomain, 'user->', user, 'schema->', schema, 'resources->', resources, 'domain->', domain);\n        if (user.includes(':') && !user.includes('user://')) {\n          log.log('[Discovery.discoverHyperty] ' + user + ' is legacy domain');\n          var legacyUser = { userID: user, hypertyID: user, schema: schema, resources: resources };\n          return resolve(legacyUser);\n        }\n        var msg = {\n          type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: userIdentifier,\n            criteria: { resources: resources, dataSchemes: schema }\n          }\n        };\n\n        log.info('[Discovery] msg to send->', msg);\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          log.info('[Discovery] ON discoverHyperty->', reply);\n          var hyperties = reply.body.value;\n\n          if (hyperties) {\n            resolve(hyperties);\n          } else {\n            reject('No Hyperty was found');\n          }\n        });\n      });\n    }\n\n    /**\r\n    * function to request about users registered in domain registry, and\r\n    * return the last hyperty instance registered by the user.\r\n    * @deprecated Deprecated. Use discoverHyperty instead\r\n    * @param  {email}              email\r\n    * @param  {domain}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverHypertyPerUser',\n    value: function discoverHypertyPerUser(email, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        // Hack for legacy users\n        if (email.includes(':') && !email.includes('user://')) {\n          log.log('[Discovery.discoverHyperty] ' + email + 'is legacy domain');\n          var legacyUser = { id: email, hypertyURL: email, descriptor: 'unknown' };\n          return resolve(legacyUser);\n        }\n\n        if (!domain) {\n          activeDomain = _this.domain;\n        } else {\n          activeDomain = domain;\n        }\n\n        var identityURL = 'user://' + email.substring(email.indexOf('@') + 1, email.length) + '/' + email.substring(0, email.indexOf('@'));\n\n        // message to query domain registry, asking for a user hyperty.\n        var message = {\n          type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: identityURL }\n        };\n\n        log.info('[Discovery] Message: ', message, activeDomain, identityURL);\n\n        //log.info('[Discovery] message READ', message);\n\n        _this.messageBus.postMessage(message, function (reply) {\n          log.info('[Discovery] message reply', reply);\n\n          var hyperty = void 0;\n          var mostRecent = void 0;\n          var lastHyperty = void 0;\n          var value = reply.body.value;\n\n          for (hyperty in value) {\n            if (value[hyperty].lastModified !== undefined) {\n              if (mostRecent === undefined) {\n                mostRecent = new Date(value[hyperty].lastModified);\n                lastHyperty = hyperty;\n              } else {\n                var hypertyDate = new Date(value[hyperty].lastModified);\n                if (mostRecent.getTime() < hypertyDate.getTime()) {\n                  mostRecent = hypertyDate;\n                  lastHyperty = hyperty;\n                }\n              }\n            }\n          }\n\n          log.info('[Discovery] Last Hyperty: ', lastHyperty, mostRecent);\n\n          var hypertyURL = lastHyperty;\n\n          if (hypertyURL === undefined) {\n            return reject('User Hyperty not found');\n          }\n\n          var idPackage = {\n            id: email,\n            descriptor: value[hypertyURL].descriptor,\n            hypertyURL: hypertyURL\n          };\n\n          log.info('[Discovery] ===> hypertyDiscovery messageBundle: ', idPackage);\n          resolve(idPackage);\n        });\n      });\n    }\n\n    /**\r\n    * function to request about users registered in domain registry, and\r\n    * return the all the hyperties registered by the user\r\n    * @deprecated Deprecated. Use discoverHyperty instead\r\n    * @param  {email}              email\r\n    * @param  {domain}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'discoverHypertiesPerUser',\n    value: function discoverHypertiesPerUser(email, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      log.log('on Function->', email);\n      return new _promise2.default(function (resolve, reject) {\n\n        if (email.includes(':') && !email.includes('user://')) {\n          log.log('[Discovery.discoverHyperty] is legacy domain');\n          var legacyUser = { userID: email, hypertyID: email, schema: schema, resources: resources };\n          return resolve(legacyUser);\n        }\n\n        if (!domain) {\n          activeDomain = _this.domain;\n        } else {\n          activeDomain = domain;\n        }\n\n        var identityURL = 'user://' + email.substring(email.indexOf('@') + 1, email.length) + '/' + email.substring(0, email.indexOf('@'));\n\n        // message to query domain registry, asking for a user hyperty.\n        var message = {\n          type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: identityURL }\n        };\n\n        log.log('[Discovery] Message discoverHypertiesPerUser: ', message, activeDomain, identityURL);\n\n        //log.info('[Discovery] message READ', message);\n\n        _this.messageBus.postMessage(message, function (reply) {\n          log.info('[Discovery] discoverHypertiesPerUser reply', reply);\n\n          var value = reply.body.value;\n\n          if (!value) {\n            return reject('User Hyperty not found');\n          }\n\n          resolve(value);\n        });\n      });\n    }\n\n    /**\r\n    * function to request about users registered in domain registry, and\r\n    * return the all the hyperties registered by the user\r\n    * @deprecated Deprecated. Use discoverHyperty instead\r\n    * @param  {email}              email\r\n    * @param  {domain}            domain (Optional)\r\n    */\n\n  }, {\n    key: 'resumeDiscoveries',\n    value: function resumeDiscoveries() {\n\n      var _this = this;\n\n      log.log('[Discovery] resumeDiscoveries');\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          type: 'read', from: _this.discoveryURL, to: _this.runtimeURL + '/subscriptions', body: { resource: _this.discoveryURL }\n        };\n\n        _this.messageBus.postMessage(msg, function (reply) {\n          log.log('[Discovery.resumeDiscoveries] reply: ', reply);\n\n          var notifications = [];\n\n          if (reply.body.code === 200) {\n            var urls = reply.body.value; // URLs to add listeners to\n\n            //lets create one DiscoveryObject per notification\n            urls.forEach(function (url) {\n              var objectUrl = url.split('/registration')[0];\n              var data = {};\n              data.url = objectUrl;\n              log.log('[Discovery.resumeDiscoveries] adding listener to: ', objectUrl);\n\n              if (objectUrl.includes('hyperty://')) {\n                notifications.push(_this.discoverHypertyPerURLDO(objectUrl));\n              } else {\n                notifications.push(_this.discoverDataObjectPerURLDO(objectUrl));\n              }\n            });\n            _promise2.default.all(notifications).then(function (values) {\n              resolve(values);\n            });\n          } else {\n            resolve([]);\n          }\n        });\n      });\n    }\n  }]);\n  return Discovery;\n}();\n\nexports.default = Discovery;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXJ5L0Rpc2NvdmVyeS5qcz83MDM4Il0sIm5hbWVzIjpbImxvZ2dlciIsImxvZyIsImdldExvZ2dlciIsIkRpc2NvdmVyeSIsImh5cGVydHlVUkwiLCJydW50aW1lVVJMIiwibXNnQnVzIiwiX3RoaXMiLCJtZXNzYWdlQnVzIiwiZG9tYWluIiwiZGlzY292ZXJ5VVJMIiwidXNlcklkZW50aWZpZXIiLCJpbmNsdWRlcyIsInNjaGVtYSIsInJlc291cmNlcyIsImZpbHRlcmVkSHlwZXJ0aWVzIiwibXNnIiwidHlwZSIsImZyb20iLCJ0byIsImJvZHkiLCJyZXNvdXJjZSIsImRhdGFTY2hlbWVzIiwicmVzb2x2ZSIsInJlamVjdCIsIl9pc0xlZ2FjeVVzZXIiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwiY29kZSIsInZhbHVlIiwibWFwIiwiaHlwZXJ0eSIsImh5cGVydHlJRCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YSIsImFyZ3VtZW50cyIsInRoZW4iLCJfY29udmVydFRvRGlzY292ZXJlZE9iamVjdCIsImh5cGVydGllcyIsImNhdGNoIiwiZXJyb3IiLCJndWlkVVJMIiwiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsInJlZ2lzdHJ5T2JqZWN0cyIsImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCIsImRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEIiwidXNlciIsImFjdGl2ZURvbWFpbiIsImRpc2NvdmVySHlwZXJ0aWVzIiwiZGlzY292ZXJEYXRhT2JqZWN0cyIsInVybCIsImNyaXRlcmlhIiwiZGlzY292ZXJIeXBlcnR5UGVyVVJMIiwiRGlzY292ZXJlZE9iamVjdCIsImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsInJlZ2lzdHJ5T2JqZWN0IiwibmFtZSIsImRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lIiwicmVwb3J0ZXIiLCJkaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIiLCJsZWdhY3lVc2VyIiwidXNlcklEIiwiaW5mbyIsImVtYWlsIiwiaWQiLCJkZXNjcmlwdG9yIiwiaWRlbnRpdHlVUkwiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwibWVzc2FnZSIsIm1vc3RSZWNlbnQiLCJsYXN0SHlwZXJ0eSIsImxhc3RNb2RpZmllZCIsInVuZGVmaW5lZCIsIkRhdGUiLCJoeXBlcnR5RGF0ZSIsImdldFRpbWUiLCJpZFBhY2thZ2UiLCJub3RpZmljYXRpb25zIiwidXJscyIsImZvckVhY2giLCJvYmplY3RVcmwiLCJzcGxpdCIsImRhdGEiLCJkaXNjb3Zlckh5cGVydHlQZXJVUkxETyIsImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTERPIiwiYWxsIiwidmFsdWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QkE7O0lBQVlBLE07O0FBR1o7O0FBQ0E7Ozs7Ozs7O0FBSEEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixXQUFqQixDQUFWLEMsQ0F6QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztBQU9BOzs7O0lBSU1DLFM7O0FBRUo7Ozs7OztBQU1BLHFCQUFZQyxVQUFaLEVBQXdCQyxVQUF4QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFBQTs7QUFDMUMsUUFBSUMsUUFBUSxJQUFaO0FBQ0FBLFVBQU1DLFVBQU4sR0FBbUJGLE1BQW5CO0FBQ0FDLFVBQU1GLFVBQU4sR0FBbUJBLFVBQW5COztBQUVBRSxVQUFNRSxNQUFOLEdBQWUsc0JBQVVMLFVBQVYsRUFBc0JLLE1BQXJDO0FBQ0FGLFVBQU1HLFlBQU4sR0FBcUJOLFVBQXJCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7a0NBTWNPLGMsRUFBZ0I7QUFDNUIsVUFBSUEsZUFBZUMsUUFBZixDQUF3QixHQUF4QixLQUFnQyxDQUFDRCxlQUFlQyxRQUFmLENBQXdCLFNBQXhCLENBQXJDLEVBQXlFO0FBQ3ZFLGVB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QUFLQyxPQUFMLENBQWEsVUFBQzlCLEdBQUQsRUFBUztBQUNwQixrQkFBSStCLFlBQVkvQixJQUFJZ0MsS0FBSixDQUFVLGVBQVYsRUFBMkIsQ0FBM0IsQ0FBaEI7QUFDQSxrQkFBSUMsT0FBTyxFQUFYO0FBQ0FBLG1CQUFLakMsR0FBTCxHQUFXK0IsU0FBWDtBQUNBcEYsa0JBQUlBLEdBQUosQ0FBUSxvREFBUixFQUE4RG9GLFNBQTlEOztBQUVBLGtCQUFJQSxVQUFVekUsUUFBVixDQUFtQixZQUFuQixDQUFKLEVBQXNDO0FBQ3BDc0UsOEJBQWNqRCxJQUFkLENBQW1CMUIsTUFBTWlGLHVCQUFOLENBQThCSCxTQUE5QixDQUFuQjtBQUNELGVBRkQsTUFFTztBQUNMSCw4QkFBY2pELElBQWQsQ0FBbUIxQixNQUFNa0YsMEJBQU4sQ0FBaUNKLFNBQWpDLENBQW5CO0FBQ0Q7QUFDRixhQVhEO0FBWUEsOEJBQVFLLEdBQVIsQ0FBWVIsYUFBWixFQUEyQjFDLElBQTNCLENBQWdDLGtCQUFRO0FBQUVqQixzQkFBUW9FLE1BQVI7QUFBa0IsYUFBNUQ7QUFDRCxXQWpCRCxNQWlCTztBQUNMcEUsb0JBQVEsRUFBUjtBQUNEO0FBQ0YsU0F6QkQ7QUEyQkQsT0FqQ00sQ0FBUDtBQW1DRDs7Ozs7a0JBR1lwQixTIiwiZmlsZSI6IjEzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbi8vIExvZyBTeXN0ZW1cclxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcclxubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ0Rpc2NvdmVyeScpO1xyXG5cclxuaW1wb3J0IHtkaXZpZGVVUkwsIGNvbnZlcnRUb1VzZXJVUkx9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IERpc2NvdmVyZWRPYmplY3QgZnJvbSAnLi9EaXNjb3ZlcmVkT2JqZWN0JztcclxuXHJcbi8qKlxyXG4qIENvcmUgRGlzY292ZXJ5IGludGVyZmFjZVxyXG4qIENsYXNzIHRvIGFsbG93IGFwcGxpY2F0aW9ucyB0byBzZWFyY2ggZm9yIGh5cGVydGllcyBhbmQgRGF0YU9iamVjdHMgdXNpbmcgdGhlIG1lc3NhZ2UgYnVzXHJcbiovXHJcbmNsYXNzIERpc2NvdmVyeSB7XHJcblxyXG4gIC8qKlxyXG4gICogVG8gaW5pdGlhbGlzZSB0aGUgSHlwZXJ0eURpc2NvdmVyLCB3aGljaCB3aWxsIHByb3ZpZGUgdGhlIHN1cHBvcnQgZm9yIGh5cGVydGllcyB0b1xyXG4gICogcXVlcnkgdXNlcnMgcmVnaXN0ZXJlZCBpbiBvdXRzaWRlIHRoZSBpbnRlcm5hbCBjb3JlLlxyXG4gICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1c1xyXG4gICogQHBhcmFtICB7UnVudGltZVVSTH0gICAgICAgICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkxcclxuICAqL1xyXG4gIGNvbnN0cnVjdG9yKGh5cGVydHlVUkwsIHJ1bnRpbWVVUkwsIG1zZ0J1cykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIF90aGlzLm1lc3NhZ2VCdXMgPSBtc2dCdXM7XHJcbiAgICBfdGhpcy5ydW50aW1lVVJMID0gcnVudGltZVVSTDtcclxuXHJcbiAgICBfdGhpcy5kb21haW4gPSBkaXZpZGVVUkwoaHlwZXJ0eVVSTCkuZG9tYWluO1xyXG4gICAgX3RoaXMuZGlzY292ZXJ5VVJMID0gaHlwZXJ0eVVSTDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQWR2YW5jZWQgU2VhcmNoIGZvciBIeXBlcnRpZXMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnkgYXNzb2NpYXRlZCB3aXRoIHNvbWUgdXNlciBpZGVudGlmaWVyIChlZyBlbWFpbCwgbmFtZSAuLi4pXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICB1c2VySWRlbnRpZmllclxyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgaHlwZXJ0aWVzIHJlc291cmNlc1xyXG4gICovXHJcbiAgX2lzTGVnYWN5VXNlcih1c2VySWRlbnRpZmllcikge1xyXG4gICAgaWYgKHVzZXJJZGVudGlmaWVyLmluY2x1ZGVzKCc6JykgJiYgIXVzZXJJZGVudGlmaWVyLmluY2x1ZGVzKCd1c2VyOi8vJykpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEFkdmFuY2VkIFNlYXJjaCBmb3IgSHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5IGFzc29jaWF0ZWQgd2l0aCBzb21lIHVzZXIgaWRlbnRpZmllciAoZWcgZW1haWwsIG5hbWUgLi4uKVxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgdXNlcklkZW50aWZpZXJcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBoeXBlcnRpZXMgc2NoZW1hc1xyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcclxuICAqL1xyXG4gIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhKHVzZXJJZGVudGlmaWVyLCBzY2hlbWEsIHJlc291cmNlcykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBmaWx0ZXJlZEh5cGVydGllcyA9IFtdO1xyXG5cclxuICAgIGxldCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdyZWFkJyxcclxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxyXG4gICAgICB0bzogX3RoaXMucnVudGltZVVSTCArICcvZGlzY292ZXJ5LycsXHJcbiAgICAgIGJvZHk6IHtcclxuICAgICAgICByZXNvdXJjZTogJy9oeXBlcnR5L3VzZXJwcm9maWxlLycgKyB1c2VySWRlbnRpZmllcixcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoc2NoZW1hIHx8IHJlc291cmNlcykge1xyXG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcclxuICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuICAgICAgICBkYXRhU2NoZW1lczogc2NoZW1hXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgaWYgKCFfdGhpcy5faXNMZWdhY3lVc2VyKHVzZXJJZGVudGlmaWVyKSkgey8vIHRvZG86IHRvIHJlb212ZSB3aGVuIGRpc2NvdmVyeSBvZiBsZWdjYXkgdXNlcnMgYXJlIHN1cHBvcnRlZFxyXG5cclxuICAgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xyXG4gICAgICAgICAgICByZXBseS5ib2R5LnZhbHVlLm1hcChmdW5jdGlvbihoeXBlcnR5KSB7XHJcbiAgICAgICAgICAgICAgIGlmKGh5cGVydHkuaHlwZXJ0eUlEICE9IF90aGlzLmRpc2NvdmVyeVVSTClcclxuICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSHlwZXJ0aWVzLnB1c2goaHlwZXJ0eSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZihmaWx0ZXJlZEh5cGVydGllcy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxvZy5sb2coXCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhXSBSZXBseSBsb2c6IFwiLGZpbHRlcmVkSHlwZXJ0aWVzKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKGZpbHRlcmVkSHlwZXJ0aWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxvZy53YXJuKFwiW0Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YV0gRXJyb3IgUmVwbHkgZm9yIFwiICsgdXNlcklkZW50aWZpZXIgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShbe2h5cGVydHlJRDogdXNlcklkZW50aWZpZXIsIHN0YXR1czogJ2xpdmUnfV0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQWR2YW5jZWQgU2VhcmNoIGZvciBIeXBlcnRpZXMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnkgYXNzb2NpYXRlZCB3aXRoIHNvbWUgdXNlciBpZGVudGlmaWVyIChlZyBlbWFpbCwgbmFtZSAuLi4pXHJcbiAgKiByZXR1cm5zIERpc2NvdmVyZWRPYmplY3RcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXJJZGVudGlmaWVyXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgaHlwZXJ0aWVzIHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXHJcbiAgKi9cclxuICBkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YURPKHVzZXJJZGVudGlmaWVyLCBzY2hlbWEsIHJlc291cmNlcykge1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEoLi4uYXJndW1lbnRzKVxyXG4gICAgICAudGhlbihoeXBlcnRpZXMgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChoeXBlcnRpZXMpKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIEFkdmFuY2VkIFNlYXJjaCBmb3IgRGF0YU9iamVjdHMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnkgYXNzb2NpYXRlZCB3aXRoIHNvbWUgdXNlciBpZGVudGlmaWVyIChlZyBlbWFpbCwgbmFtZSAuLi4pXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICB1c2VySWRlbnRpZmllclxyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgaHlwZXJ0aWVzIHJlc291cmNlc1xyXG4gICovXHJcbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSh1c2VySWRlbnRpZmllciwgc2NoZW1hLCByZXNvdXJjZXMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgdHlwZTogJ3JlYWQnLFxyXG4gICAgICBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsXHJcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiAnL2RhdGFPYmplY3QvdXNlcnByb2ZpbGUvJyArIHVzZXJJZGVudGlmaWVyLFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcclxuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XHJcbiAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIGlmICghX3RoaXMuX2lzTGVnYWN5VXNlcih1c2VySWRlbnRpZmllcikpIHsvLyB0b2RvOiB0byByZW9tdmUgd2hlbiBkaXNjb3Zlcnkgb2YgbGVnY2F5IHVzZXJzIGFyZSBzdXBwb3J0ZWRcclxuXHJcbiAgICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG5cclxuICAgICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgbG9nLmxvZyhcIlJlcGx5IGxvZzogXCIscmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGFdIEVycm9yIFJlcGx5IGZvciBcIiArIHVzZXJJZGVudGlmaWVyICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZShbe2h5cGVydHlJRDogdXNlcklkZW50aWZpZXIsIHN0YXR1czogJ2xpdmUnfV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxyXG4gICogcmV0dXJucyBkaXNjb3ZlcmVkT2JqZWN0LlxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZ3VpZFVSTCAgICAgICAgICAgICAgICBndWlkIFVSTCBlLmcgdXNlci1ndWlkOi8vPHVuaXF1ZS11c2VyLWlkZW50aWZpZXI+XHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgaHlwZXJ0aWVzIHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcclxuICAqL1xyXG4gIGRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGFETyhndWlkVVJMLCBzY2hlbWEsIHJlc291cmNlcykge1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSguLi5hcmd1bWVudHMpXHJcbiAgICAgICAgLnRoZW4ocmVnaXN0cnlPYmplY3RzID0+IHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChyZWdpc3RyeU9iamVjdHMpKSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQWR2YW5jZWQgU2VhcmNoIGZvciBIeXBlcnRpZXMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnkgYXNzb2NpYXRlZCB3aXRoIHNvbWUgR1VJRFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZ3VpZFVSTCAgICAgICAgICAgICAgICBndWlkIFVSTCBlLmcgdXNlci1ndWlkOi8vPHVuaXF1ZS11c2VyLWlkZW50aWZpZXI+XHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgaHlwZXJ0aWVzIHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXHJcbiAgKi9cclxuICBkaXNjb3Zlckh5cGVydGllc1BlckdVSUQoZ3VpZFVSTCwgc2NoZW1hLCByZXNvdXJjZXMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgZmlsdGVyZWRIeXBlcnRpZXMgPSBbXTtcclxuXHJcbiAgICBsZXQgbXNnID0ge1xyXG4gICAgICB0eXBlOiAncmVhZCcsXHJcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcclxuICAgICAgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL2Rpc2NvdmVyeS8nLFxyXG4gICAgICBib2R5OiB7XHJcbiAgICAgICAgcmVzb3VyY2U6ICcvaHlwZXJ0eS9ndWlkLycgKyBndWlkVVJMLFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcclxuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XHJcbiAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcclxuXHJcbiAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xyXG4gICAgICAgICAgcmVwbHkuYm9keS52YWx1ZS5tYXAoZnVuY3Rpb24oaHlwZXJ0eSkge1xyXG4gICAgICAgICAgICAgaWYoaHlwZXJ0eS5oeXBlcnR5SUQgIT0gX3RoaXMuZGlzY292ZXJ5VVJMKVxyXG4gICAgICAgICAgICAgICAgIGZpbHRlcmVkSHlwZXJ0aWVzLnB1c2goaHlwZXJ0eSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGlmKGZpbHRlcmVkSHlwZXJ0aWVzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmVqZWN0KCdObyBIeXBlcnR5IHdhcyBmb3VuZCcpO1xyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxvZy5sb2coXCJSZXBseSBsb2c6IFwiLGZpbHRlcmVkSHlwZXJ0aWVzKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShmaWx0ZXJlZEh5cGVydGllcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRF0gRXJyb3IgUmVwbHkgZm9yIFwiICsgZ3VpZFVSTCArIFwiIFJlYXNvbjogXCIsIHJlcGx5LmJvZHkuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBBZHZhbmNlZCBTZWFyY2ggZm9yIEh5cGVydGllcyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSBhc3NvY2lhdGVkIHdpdGggc29tZSBHVUlEXHJcbiAgKiByZXR1cm5zIERpc2NvdmVyZWRPYmplY3RcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGd1aWRVUkwgICAgICAgICAgICAgICAgZ3VpZCBVUkwgZS5nIHVzZXItZ3VpZDovLzx1bmlxdWUtdXNlci1pZGVudGlmaWVyPlxyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgaHlwZXJ0aWVzIHJlc291cmNlc1xyXG4gICovXHJcbiAgZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlERE8oZ3VpZFVSTCwgc2NoZW1hLCByZXNvdXJjZXMpIHtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICB0aGlzLmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCguLi5hcmd1bWVudHMpXHJcbiAgICAgIC50aGVuKGh5cGVydGllcyA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZSh0aGlzLl9jb252ZXJ0VG9EaXNjb3ZlcmVkT2JqZWN0KGh5cGVydGllcykpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQWR2YW5jZWQgU2VhcmNoIGZvciBEYXRhT2JqZWN0cyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSBhc3NvY2lhdGVkIHdpdGggc29tZSBHVUlEXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBndWlkVVJMICAgICAgICAgICAgICAgIGd1aWQgVVJMIGUuZyB1c2VyLWd1aWQ6Ly88dW5pcXVlLXVzZXItaWRlbnRpZmllcj5cclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBoeXBlcnRpZXMgc2NoZW1hc1xyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpICAgICBkb21haW4gb2YgdGhlIHJlZ2lzdHJ5IHRvIHNlYXJjaFxyXG4gICovXHJcbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQoZ3VpZFVSTCwgc2NoZW1hLCByZXNvdXJjZXMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgdHlwZTogJ3JlYWQnLFxyXG4gICAgICBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsXHJcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiAnL2RhdGFPYmplY3QvZ3VpZC8nICsgZ3VpZFVSTCxcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZihzY2hlbWEgfHwgcmVzb3VyY2VzKSB7XHJcbiAgICAgIG1zZy5ib2R5Wydjcml0ZXJpYSddID0ge1xyXG4gICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxyXG4gICAgICAgIGRhdGFTY2hlbWVzOiBzY2hlbWFcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKXtcclxuICAgICAgICAgIGxvZy5sb2coXCJSZXBseSBsb2c6IFwiLHJlcGx5LmJvZHkudmFsdWUpO1xyXG4gICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSURdIEVycm9yIFJlcGx5IGZvciBcIiArIGd1aWRVUkwgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBkYXRhT2JqZWN0IHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcclxuICAqIHJldHVybnMgZGlzY292ZXJlZE9iamVjdC5cclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGd1aWRVUkwgICAgICAgICAgICAgICAgZ3VpZCBVUkwgZS5nIHVzZXItZ3VpZDovLzx1bmlxdWUtdXNlci1pZGVudGlmaWVyPlxyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgaHlwZXJ0aWVzIHJlc291cmNlc1xyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkgICAgIGRvbWFpbiBvZiB0aGUgcmVnaXN0cnkgdG8gc2VhcmNoXHJcbiAgKi9cclxuICBkaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRERPKGd1aWRVUkwsIHNjaGVtYSwgcmVzb3VyY2VzKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRCguLi5hcmd1bWVudHMpXHJcbiAgICAgICAgLnRoZW4ocmVnaXN0cnlPYmplY3RzID0+IHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChyZWdpc3RyeU9iamVjdHMpKSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKiBBZHZhbmNlZCBTZWFyY2ggZm9yIEh5cGVydGllcyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeVxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgdXNlciAgICAgICAgICAgICAgICAgIHVzZXIgaWRlbnRpZmllciwgZWl0aGVyIGluIHVybCBvciBlbWFpbCBmb3JtYXRcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBoeXBlcnRpZXMgc2NoZW1hc1xyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpICAgICBkb21haW4gb2YgdGhlIHJlZ2lzdHJ5IHRvIHNlYXJjaFxyXG4gICovXHJcbiAgZGlzY292ZXJIeXBlcnRpZXModXNlciwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBhY3RpdmVEb21haW47XHJcbiAgICBsZXQgZmlsdGVyZWRIeXBlcnRpZXMgPSBbXTtcclxuXHJcbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgdHlwZTogJ3JlYWQnLFxyXG4gICAgICBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsXHJcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiAnL2h5cGVydHkvdXNlci8nICsgdXNlcixcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZihzY2hlbWEgfHwgcmVzb3VyY2VzKSB7XHJcbiAgICAgIG1zZy5ib2R5Wydjcml0ZXJpYSddID0ge1xyXG4gICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxyXG4gICAgICAgIGRhdGFTY2hlbWVzOiBzY2hlbWEsXHJcbiAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cclxuICAgICAgfTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XHJcbiAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIGlmICghX3RoaXMuX2lzTGVnYWN5VXNlcih1c2VyKSkgey8vIHRvZG86IHRvIHJlb212ZSB3aGVuIGRpc2NvdmVyeSBvZiBsZWdjYXkgdXNlcnMgYXJlIHN1cHBvcnRlZFxyXG5cclxuICAgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDAgfHwgcmVwbHkuYm9keS5jb2RlID09PSA1MDApe1xyXG4gICAgICAgICAgICByZXBseS5ib2R5LnZhbHVlLm1hcChmdW5jdGlvbihoeXBlcnR5KSB7XHJcbiAgICAgICAgICAgICAgIGlmKGh5cGVydHkuaHlwZXJ0eUlEICE9IF90aGlzLmRpc2NvdmVyeVVSTClcclxuICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSHlwZXJ0aWVzLnB1c2goaHlwZXJ0eSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4vKiAgICAgICAgICAgIGlmKGZpbHRlcmVkSHlwZXJ0aWVzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICByZWplY3QoJ05vIEh5cGVydHkgd2FzIGZvdW5kJyk7XHJcbiAgICAgICAgICAgIGVsc2UgeyovXHJcbiAgICAgICAgICAgICAgbG9nLmxvZyhcIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIFJlcGx5IDogXCIsZmlsdGVyZWRIeXBlcnRpZXMpO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUoZmlsdGVyZWRIeXBlcnRpZXMpO1xyXG4vLyAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIEVycm9yIFJlcGx5IGZvciBcIiArIHVzZXIgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShmaWx0ZXJlZEh5cGVydGllcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShbe2h5cGVydHlJRDogdXNlciwgc3RhdHVzOiAnbGl2ZSd9XSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqIEFkdmFuY2VkIFNlYXJjaCBmb3IgSHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LFxyXG4gICpyZXR1cm5zIERpc2NvdmVyZWRPYmplY3RcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXIgICAgICAgICAgICAgICAgICB1c2VyIGlkZW50aWZpZXIsIGVpdGhlciBpbiB1cmwgb3IgZW1haWwgZm9ybWF0XHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgaHlwZXJ0aWVzIHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcclxuICAqL1xyXG4gIGRpc2NvdmVySHlwZXJ0aWVzRE8odXNlciwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuZGlzY292ZXJIeXBlcnRpZXMoLi4uYXJndW1lbnRzKVxyXG4gICAgICAudGhlbihoeXBlcnRpZXMgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChoeXBlcnRpZXMpKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKiogQWR2YW5jZWQgU2VhcmNoIGZvciBEYXRhT2JqZWN0cyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeVxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgdXNlciAgICAgICAgICAgICAgICAgIHVzZXIgaWRlbnRpZmllciwgZWl0aGVyIGluIHVybCBvciBlbWFpbCBmb3JtYXRcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgZGF0YU9iamVjdHMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcclxuICAqL1xyXG4gIGRpc2NvdmVyRGF0YU9iamVjdHModXNlciwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBhY3RpdmVEb21haW47XHJcblxyXG4gICAgYWN0aXZlRG9tYWluID0gKCFkb21haW4pID8gX3RoaXMuZG9tYWluIDogZG9tYWluO1xyXG5cclxuICAgIGxldCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdyZWFkJyxcclxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxyXG4gICAgICB0bzogX3RoaXMucnVudGltZVVSTCArICcvZGlzY292ZXJ5LycsXHJcbiAgICAgIGJvZHk6IHtcclxuICAgICAgICByZXNvdXJjZTogJy9kYXRhT2JqZWN0L3VzZXIvJyArIHVzZXIsXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYoc2NoZW1hIHx8IHJlc291cmNlcykge1xyXG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcclxuICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuICAgICAgICBkYXRhU2NoZW1lczogc2NoZW1hLFxyXG4gICAgICAgIGRvbWFpbjogYWN0aXZlRG9tYWluXHJcbiAgICAgIH07XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIG1zZy5ib2R5Wydjcml0ZXJpYSddID0ge1xyXG4gICAgICAgIGRvbWFpbjogYWN0aXZlRG9tYWluXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKXtcclxuICAgICAgICAgIGxvZy5sb2coXCJSZXBseSBWYWx1ZSBMb2c6IFwiLHJlcGx5LmJvZHkudmFsdWUpO1xyXG4gICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c10gRXJyb3IgUmVwbHkgZm9yIFwiICsgdXNlciArIFwiIFJlYXNvbjogXCIsIHJlcGx5LmJvZHkuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxyXG4gICogcmV0dXJucyBkaXNjb3ZlcmVkT2JqZWN0LlxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgdXNlciAgICAgICAgICAgICAgICAgIHVzZXIgaWRlbnRpZmllciwgZWl0aGVyIGluIHVybCBvciBlbWFpbCBmb3JtYXRcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgZGF0YU9iamVjdHMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcclxuICAqL1xyXG4gIGRpc2NvdmVyRGF0YU9iamVjdHNETyh1c2VyLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5kaXNjb3ZlckRhdGFPYmplY3RzKC4uLmFyZ3VtZW50cylcclxuICAgICAgICAudGhlbihyZWdpc3RyeU9iamVjdHMgPT4gcmVzb2x2ZSh0aGlzLl9jb252ZXJ0VG9EaXNjb3ZlcmVkT2JqZWN0KHJlZ2lzdHJ5T2JqZWN0cykpKVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGh5cGVydGllcyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSwgYW5kXHJcbiAgKiByZXR1cm4gdGhlIGh5cGVydHkgaW5mb3JtYXRpb24sIGlmIGZvdW5kLlxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgdXJsICBoeXBlcnR5IFVSTFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpXHJcbiAgKi9cclxuICBkaXNjb3Zlckh5cGVydHlQZXJVUkwodXJsLCBkb21haW4pIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgYWN0aXZlRG9tYWluO1xyXG5cclxuICAgIGFjdGl2ZURvbWFpbiA9ICghZG9tYWluKSA/IF90aGlzLmRvbWFpbiA6IGRvbWFpbjtcclxuXHJcbiAgICBsZXQgbXNnID0ge1xyXG4gICAgICB0eXBlOiAncmVhZCcsXHJcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcclxuICAgICAgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL2Rpc2NvdmVyeS8nLFxyXG4gICAgICBib2R5OiB7XHJcbiAgICAgICAgcmVzb3VyY2U6ICcvaHlwZXJ0eS91cmwvJyArIHVybCxcclxuICAgICAgICBjcml0ZXJpYToge1xyXG4gICAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG5cclxuICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCl7XHJcbiAgICAgICAgICBsb2cubG9nKFwiUmVwbHkgVmFsdWUgTG9nOiBcIixyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVSTF0gRXJyb3IgUmVwbHkgZm9yIFwiICsgdXJsICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICByZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcclxuICAqIHJldHVybnMgZGlzY292ZXJlZE9iamVjdC5cclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgIHVybCAgaHlwZXJ0eSBVUkxcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxyXG4gICovXHJcbiAgZGlzY292ZXJIeXBlcnR5UGVyVVJMRE8odXJsLCBkb21haW4pIHtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICB0aGlzLmRpc2NvdmVySHlwZXJ0eVBlclVSTCguLi5hcmd1bWVudHMpXHJcbiAgICAgICAgLnRoZW4oaHlwZXJ0eSA9PiByZXNvbHZlKG5ldyBEaXNjb3ZlcmVkT2JqZWN0KGh5cGVydHksIHRoaXMucnVudGltZVVSTCwgdGhpcy5kaXNjb3ZlcnlVUkwsIHRoaXMubWVzc2FnZUJ1cywgdGhpcykpKVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxyXG4gICogcmV0dXJuIHRoZSBkYXRhT2JqZWN0IGluZm9ybWF0aW9uLCBpZiBmb3VuZC5cclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgIHVybCAgZGF0YU9iamVjdCBVUkxcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxyXG4gICovXHJcbiAgZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMKHVybCwgZG9tYWluKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcclxuXHJcbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgdHlwZTogJ3JlYWQnLFxyXG4gICAgICBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsXHJcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiAnL2RhdGFPYmplY3QvdXJsLycgKyB1cmwsXHJcbiAgICAgICAgY3JpdGVyaWE6IHtcclxuICAgICAgICAgIGRvbWFpbjogYWN0aXZlRG9tYWluXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcclxuXHJcbiAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xyXG4gICAgICAgICAgbG9nLmxvZyhcIlJlcGx5IFZhbHVlIExvZzogXCIscmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgICByZXNvbHZlKHJlcGx5LmJvZHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGxvZy53YXJuKFwiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RQZXJVUkxdIEVycm9yIFJlcGx5IGZvciBcIiArIHVybCArIFwiIFJlYXNvbjogXCIsIHJlcGx5LmJvZHkuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxyXG4gICogcmV0dXJucyBkaXNjb3ZlcmVkT2JqZWN0LlxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgdXJsICBkYXRhT2JqZWN0IFVSTFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpXHJcbiAgKi9cclxuICBkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkxETyh1cmwsIGRvbWFpbikge1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMKC4uLmFyZ3VtZW50cylcclxuICAgICAgICAudGhlbihyZWdpc3RyeU9iamVjdCA9PiByZXNvbHZlKG5ldyBEaXNjb3ZlcmVkT2JqZWN0KHJlZ2lzdHJ5T2JqZWN0LCB0aGlzLnJ1bnRpbWVVUkwsIHRoaXMuZGlzY292ZXJ5VVJMLCB0aGlzLm1lc3NhZ2VCdXMsIHRoaXMpKSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBhbiBkYXRhT2JqZWN0cyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSB3aXRoIGEgZ2l2ZW4gbmFtZSwgYW5kXHJcbiAgKiByZXR1cm4gdGhlIGRhdGFPYmplY3RzIGluZm9ybWF0aW9uLCBpZiBmb3VuZC5cclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgIG5hbWUgIGRhdGFPYmplY3QgVVJMXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgZGF0YU9iamVjdHMgc2NoZW1hc1xyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHJlc291cmNlc1xyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpXHJcbiAgKi9cclxuICBkaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZShuYW1lLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcclxuXHJcbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgdHlwZTogJ3JlYWQnLFxyXG4gICAgICBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsXHJcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHJlc291cmNlOiAnL2RhdGFPYmplY3QvbmFtZS8nICsgbmFtZVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcclxuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XHJcbiAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYSxcclxuICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxyXG4gICAgICB9O1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcclxuICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG5cclxuICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCl7XHJcbiAgICAgICAgICBsb2cubG9nKFwiUmVwbHkgVmFsdWUgTG9nOiBcIixyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lXSBFcnJvciBSZXBseSBmb3IgXCIgKyBuYW1lICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICByZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgZGF0YU9iamVjdCByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSwgYW5kXHJcbiAgKiByZXR1cm5zIGRpc2NvdmVyZWRPYmplY3QuXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgICBuYW1lICBkYXRhT2JqZWN0IFVSTFxyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBkYXRhT2JqZWN0cyByZXNvdXJjZXNcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxyXG4gICovXHJcbiAgZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWVETyhuYW1lLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5kaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZSguLi5hcmd1bWVudHMpXHJcbiAgICAgICAgLnRoZW4ocmVnaXN0cnlPYmplY3RzID0+IHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChyZWdpc3RyeU9iamVjdHMpKSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBzcGVjaWZpYyByZXBvcnRlciBkYXRhT2JqZWN0IHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcclxuICAqIHJldHVybiB0aGUgZGF0YU9iamVjdHMgZnJvbSB0aGF0IHJlcG9ydGVyLlxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgcmVwb3J0ZXIgICAgIGRhdGFPYmplY3QgcmVwb3J0ZXJcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgZGF0YU9iamVjdHMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gICAgICAgKE9wdGlvbmFsKVxyXG4gICovXHJcbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyKHJlcG9ydGVyLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcclxuXHJcbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XHJcblxyXG5cclxuICAgIGxldCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdyZWFkJyxcclxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxyXG4gICAgICB0bzogX3RoaXMucnVudGltZVVSTCArICcvZGlzY292ZXJ5LycsXHJcbiAgICAgIGJvZHk6IHtcclxuICAgICAgICByZXNvdXJjZTogJy9kYXRhT2JqZWN0L3JlcG9ydGVyLycgKyByZXBvcnRlclxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcclxuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XHJcbiAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYSxcclxuICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxyXG4gICAgICB9O1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcclxuICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG5cclxuICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCl7XHJcbiAgICAgICAgICBsb2cubG9nKFwiUmVwbHkgVmFsdWUgTG9nOiBcIixyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lXSBFcnJvciBSZXBseSBmb3IgXCIgKyByZXBvcnRlciArIFwiIFJlYXNvbjogXCIsIHJlcGx5LmJvZHkuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxyXG4gICogcmV0dXJucyBkaXNjb3ZlcmVkT2JqZWN0LlxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgbmFtZSAgZGF0YU9iamVjdCBVUkxcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgZGF0YU9iamVjdHMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbClcclxuICAqL1xyXG4gIGRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlckRPKHJlcG9ydGVyLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgICAgIC50aGVuKHJlZ2lzdHJ5T2JqZWN0cyA9PiByZXNvbHZlKHRoaXMuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QocmVnaXN0cnlPYmplY3RzKSkpXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfY29udmVydFRvRGlzY292ZXJlZE9iamVjdChyZWdpc3RyeU9iamVjdHMpIHtcclxuICAgIHJldHVybiByZWdpc3RyeU9iamVjdHMubWFwKChyZWdpc3RyeU9iamVjdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IERpc2NvdmVyZWRPYmplY3QocmVnaXN0cnlPYmplY3QsIHRoaXMucnVudGltZVVSTCwgdGhpcy5kaXNjb3ZlcnlVUkwsIHRoaXMubWVzc2FnZUJ1cywgdGhpcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKiBBZHZhbmNlZCBTZWFyY2ggZm9yIGRhdGFPYmplY3RzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5XHJcbiAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkLiBVc2UgZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUgaW5zdGVhZFxyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgbmFtZSAgICAgICAgICAgICAgICAgIG5hbWUgb2YgdGhlIGRhdGFPYmplY3RcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0IHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBkYXRhT2JqZWN0IHJlc291cmNlc1xyXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkgICAgIGRvbWFpbiBvZiB0aGUgcmVnaXN0cnkgdG8gc2VhcmNoXHJcbiAgKi9cclxuICBkaXNjb3ZlckRhdGFPYmplY3QobmFtZSwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBhY3RpdmVEb21haW47XHJcbiAgICAvL2xldCB1c2VySWRlbnRpZmllciA9IGNvbnZlcnRUb1VzZXJVUkwodXNlcik7XHJcblxyXG4gICAgYWN0aXZlRG9tYWluID0gKCFkb21haW4pID8gX3RoaXMuZG9tYWluIDogZG9tYWluO1xyXG5cclxuICAgIGxldCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4sIGJvZHk6IHsgcmVzb3VyY2U6IG5hbWUsXHJcbiAgICAgIGNyaXRlcmlhOiB7cmVzb3VyY2VzOiByZXNvdXJjZXMsIGRhdGFTY2hlbWVzOiBzY2hlbWF9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xyXG4gICAgICAgIGxvZy5sb2coJ1tEaXNjb3ZlcnldJywgcmVwbHkpXHJcblxyXG4gICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZT4yOTkpIHtcclxuICAgICAgICAgIGxvZy53YXJuKFwiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RdIEVycm9yIFJlcGx5IGZvciBcIiArIG5hbWUgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBoeXBlcnRpZXMgPSByZXBseS5ib2R5LnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoaHlwZXJ0aWVzKSB7XHJcbiAgICAgICAgICByZXNvbHZlKGh5cGVydGllcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKiBBZHZhbmNlZCBTZWFyY2ggZm9yIEh5cGVydGllcyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeVxyXG4gICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZC4gVXNlIGRpc2NvdmVySHlwZXJ0aWVzIGluc3RlYWRcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXIgICAgICAgICAgICAgICAgICB1c2VyIGlkZW50aWZpZXIsIGVpdGhlciBpbiB1cmwgb3IgZW1haWwgZm9ybWF0XHJcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgaHlwZXJ0aWVzIHNjaGVtYXNcclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcclxuICAqL1xyXG4gIGRpc2NvdmVySHlwZXJ0eSh1c2VyLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcclxuICAgIGxldCB1c2VySWRlbnRpZmllciA9IGNvbnZlcnRUb1VzZXJVUkwodXNlcik7XHJcblxyXG4gICAgaWYgKCFkb21haW4pIHtcclxuICAgICAgYWN0aXZlRG9tYWluID0gX3RoaXMuZG9tYWluO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWN0aXZlRG9tYWluID0gZG9tYWluO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIGxvZy5sb2coJ1tEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnR5XSBBQ1RJVkUgRE9NQUlOIC0+ICcsIGFjdGl2ZURvbWFpbiwgJ3VzZXItPicsIHVzZXIsICdzY2hlbWEtPicsIHNjaGVtYSwgJ3Jlc291cmNlcy0+JywgcmVzb3VyY2VzLCAnZG9tYWluLT4nLCBkb21haW4pO1xyXG4gICAgICBpZiAodXNlci5pbmNsdWRlcygnOicpICYmICF1c2VyLmluY2x1ZGVzKCd1c2VyOi8vJykpIHtcclxuICAgICAgICBsb2cubG9nKCdbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gJyArIHVzZXIgKyAnIGlzIGxlZ2FjeSBkb21haW4nKTtcclxuICAgICAgICBsZXQgbGVnYWN5VXNlciA9IHsgdXNlcklEOiB1c2VyLCBoeXBlcnR5SUQ6IHVzZXIsIHNjaGVtYTogc2NoZW1hLCByZXNvdXJjZXM6IHJlc291cmNlcyB9O1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGxlZ2FjeVVzZXIpO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBtc2cgPSB7XHJcbiAgICAgICAgdHlwZTogJ3JlYWQnLCBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsIHRvOiAnZG9tYWluOi8vcmVnaXN0cnkuJyArIGFjdGl2ZURvbWFpbiwgYm9keTogeyByZXNvdXJjZTogdXNlcklkZW50aWZpZXIsXHJcbiAgICAgICAgY3JpdGVyaWE6IHtyZXNvdXJjZXM6IHJlc291cmNlcywgZGF0YVNjaGVtZXM6IHNjaGVtYX1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBsb2cuaW5mbygnW0Rpc2NvdmVyeV0gbXNnIHRvIHNlbmQtPicsIG1zZyk7XHJcblxyXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgIGxvZy5pbmZvKCdbRGlzY292ZXJ5XSBPTiBkaXNjb3Zlckh5cGVydHktPicsIHJlcGx5KTtcclxuICAgICAgICBsZXQgaHlwZXJ0aWVzID0gcmVwbHkuYm9keS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGh5cGVydGllcykge1xyXG4gICAgICAgICAgcmVzb2x2ZShoeXBlcnRpZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZWplY3QoJ05vIEh5cGVydHkgd2FzIGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IHVzZXJzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcclxuICAqIHJldHVybiB0aGUgbGFzdCBoeXBlcnR5IGluc3RhbmNlIHJlZ2lzdGVyZWQgYnkgdGhlIHVzZXIuXHJcbiAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkLiBVc2UgZGlzY292ZXJIeXBlcnR5IGluc3RlYWRcclxuICAqIEBwYXJhbSAge2VtYWlsfSAgICAgICAgICAgICAgZW1haWxcclxuICAqIEBwYXJhbSAge2RvbWFpbn0gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxyXG4gICovXHJcbiAgZGlzY292ZXJIeXBlcnR5UGVyVXNlcihlbWFpbCwgZG9tYWluKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICAvLyBIYWNrIGZvciBsZWdhY3kgdXNlcnNcclxuICAgICAgaWYgKGVtYWlsLmluY2x1ZGVzKCc6JykgJiYgIWVtYWlsLmluY2x1ZGVzKCd1c2VyOi8vJykpIHtcclxuICAgICAgICBsb2cubG9nKCdbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gJyArIGVtYWlsICsnaXMgbGVnYWN5IGRvbWFpbicpO1xyXG4gICAgICAgIGxldCBsZWdhY3lVc2VyID0geyBpZDogZW1haWwsIGh5cGVydHlVUkw6IGVtYWlsLCBkZXNjcmlwdG9yOiAndW5rbm93bicgfTtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZShsZWdhY3lVc2VyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFkb21haW4pIHtcclxuICAgICAgICBhY3RpdmVEb21haW4gPSBfdGhpcy5kb21haW47XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlRG9tYWluID0gZG9tYWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgaWRlbnRpdHlVUkwgPSAndXNlcjovLycgKyBlbWFpbC5zdWJzdHJpbmcoZW1haWwuaW5kZXhPZignQCcpICsgMSwgZW1haWwubGVuZ3RoKSArICcvJyArIGVtYWlsLnN1YnN0cmluZygwLCBlbWFpbC5pbmRleE9mKCdAJykpO1xyXG5cclxuXHJcbiAgICAgIC8vIG1lc3NhZ2UgdG8gcXVlcnkgZG9tYWluIHJlZ2lzdHJ5LCBhc2tpbmcgZm9yIGEgdXNlciBoeXBlcnR5LlxyXG4gICAgICBsZXQgbWVzc2FnZSA9IHtcclxuICAgICAgICB0eXBlOiAncmVhZCcsIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCwgdG86ICdkb21haW46Ly9yZWdpc3RyeS4nICsgYWN0aXZlRG9tYWluLCBib2R5OiB7IHJlc291cmNlOiBpZGVudGl0eVVSTH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxvZy5pbmZvKCdbRGlzY292ZXJ5XSBNZXNzYWdlOiAnLCBtZXNzYWdlLCBhY3RpdmVEb21haW4sIGlkZW50aXR5VVJMKTtcclxuXHJcbiAgICAgIC8vbG9nLmluZm8oJ1tEaXNjb3ZlcnldIG1lc3NhZ2UgUkVBRCcsIG1lc3NhZ2UpO1xyXG5cclxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlLCAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cuaW5mbygnW0Rpc2NvdmVyeV0gbWVzc2FnZSByZXBseScsIHJlcGx5KTtcclxuXHJcbiAgICAgICAgbGV0IGh5cGVydHk7XHJcbiAgICAgICAgbGV0IG1vc3RSZWNlbnQ7XHJcbiAgICAgICAgbGV0IGxhc3RIeXBlcnR5O1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHJlcGx5LmJvZHkudmFsdWU7XHJcblxyXG4gICAgICAgIGZvciAoaHlwZXJ0eSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHZhbHVlW2h5cGVydHldLmxhc3RNb2RpZmllZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChtb3N0UmVjZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBtb3N0UmVjZW50ID0gbmV3IERhdGUodmFsdWVbaHlwZXJ0eV0ubGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICBsYXN0SHlwZXJ0eSA9IGh5cGVydHk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbGV0IGh5cGVydHlEYXRlID0gbmV3IERhdGUodmFsdWVbaHlwZXJ0eV0ubGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICBpZiAobW9zdFJlY2VudC5nZXRUaW1lKCkgPCBoeXBlcnR5RGF0ZS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgICAgIG1vc3RSZWNlbnQgPSBoeXBlcnR5RGF0ZTtcclxuICAgICAgICAgICAgICAgIGxhc3RIeXBlcnR5ID0gaHlwZXJ0eTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvZy5pbmZvKCdbRGlzY292ZXJ5XSBMYXN0IEh5cGVydHk6ICcsIGxhc3RIeXBlcnR5LCBtb3N0UmVjZW50KTtcclxuXHJcbiAgICAgICAgbGV0IGh5cGVydHlVUkwgPSBsYXN0SHlwZXJ0eTtcclxuXHJcbiAgICAgICAgaWYgKGh5cGVydHlVUkwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlamVjdCgnVXNlciBIeXBlcnR5IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGlkUGFja2FnZSA9IHtcclxuICAgICAgICAgIGlkOiBlbWFpbCxcclxuICAgICAgICAgIGRlc2NyaXB0b3I6IHZhbHVlW2h5cGVydHlVUkxdLmRlc2NyaXB0b3IsXHJcbiAgICAgICAgICBoeXBlcnR5VVJMOiBoeXBlcnR5VVJMXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbG9nLmluZm8oJ1tEaXNjb3ZlcnldID09PT4gaHlwZXJ0eURpc2NvdmVyeSBtZXNzYWdlQnVuZGxlOiAnLCBpZFBhY2thZ2UpO1xyXG4gICAgICAgIHJlc29sdmUoaWRQYWNrYWdlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCB1c2VycyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSwgYW5kXHJcbiAgKiByZXR1cm4gdGhlIGFsbCB0aGUgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgYnkgdGhlIHVzZXJcclxuICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQuIFVzZSBkaXNjb3Zlckh5cGVydHkgaW5zdGVhZFxyXG4gICogQHBhcmFtICB7ZW1haWx9ICAgICAgICAgICAgICBlbWFpbFxyXG4gICogQHBhcmFtICB7ZG9tYWlufSAgICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpXHJcbiAgKi9cclxuICBkaXNjb3Zlckh5cGVydGllc1BlclVzZXIoZW1haWwsIGRvbWFpbikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBhY3RpdmVEb21haW47XHJcbiAgICBsb2cubG9nKCdvbiBGdW5jdGlvbi0+JywgZW1haWwpO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgaWYgKGVtYWlsLmluY2x1ZGVzKCc6JykgJiYgIWVtYWlsLmluY2x1ZGVzKCd1c2VyOi8vJykpIHtcclxuICAgICAgICBsb2cubG9nKCdbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gaXMgbGVnYWN5IGRvbWFpbicpO1xyXG4gICAgICAgIGxldCBsZWdhY3lVc2VyID0geyB1c2VySUQ6IGVtYWlsLCBoeXBlcnR5SUQ6IGVtYWlsLCBzY2hlbWE6IHNjaGVtYSwgcmVzb3VyY2VzOiByZXNvdXJjZXMgfTtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZShsZWdhY3lVc2VyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFkb21haW4pIHtcclxuICAgICAgICBhY3RpdmVEb21haW4gPSBfdGhpcy5kb21haW47XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlRG9tYWluID0gZG9tYWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgaWRlbnRpdHlVUkwgPSAndXNlcjovLycgKyBlbWFpbC5zdWJzdHJpbmcoZW1haWwuaW5kZXhPZignQCcpICsgMSwgZW1haWwubGVuZ3RoKSArICcvJyArIGVtYWlsLnN1YnN0cmluZygwLCBlbWFpbC5pbmRleE9mKCdAJykpO1xyXG5cclxuICAgICAgLy8gbWVzc2FnZSB0byBxdWVyeSBkb21haW4gcmVnaXN0cnksIGFza2luZyBmb3IgYSB1c2VyIGh5cGVydHkuXHJcbiAgICAgIGxldCBtZXNzYWdlID0ge1xyXG4gICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4sIGJvZHk6IHsgcmVzb3VyY2U6IGlkZW50aXR5VVJMfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgbG9nLmxvZygnW0Rpc2NvdmVyeV0gTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICcsIG1lc3NhZ2UsIGFjdGl2ZURvbWFpbiwgaWRlbnRpdHlVUkwpO1xyXG5cclxuICAgICAgLy9sb2cuaW5mbygnW0Rpc2NvdmVyeV0gbWVzc2FnZSBSRUFEJywgbWVzc2FnZSk7XHJcblxyXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIChyZXBseSkgPT4ge1xyXG4gICAgICAgIGxvZy5pbmZvKCdbRGlzY292ZXJ5XSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHknLCByZXBseSk7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IHJlcGx5LmJvZHkudmFsdWU7XHJcblxyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiByZWplY3QoJ1VzZXIgSHlwZXJ0eSBub3QgZm91bmQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IHVzZXJzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcclxuICAqIHJldHVybiB0aGUgYWxsIHRoZSBoeXBlcnRpZXMgcmVnaXN0ZXJlZCBieSB0aGUgdXNlclxyXG4gICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZC4gVXNlIGRpc2NvdmVySHlwZXJ0eSBpbnN0ZWFkXHJcbiAgKiBAcGFyYW0gIHtlbWFpbH0gICAgICAgICAgICAgIGVtYWlsXHJcbiAgKiBAcGFyYW0gIHtkb21haW59ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbClcclxuICAqL1xyXG4gIHJlc3VtZURpc2NvdmVyaWVzKCkge1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbG9nLmxvZygnW0Rpc2NvdmVyeV0gcmVzdW1lRGlzY292ZXJpZXMnKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogX3RoaXMucnVudGltZVVSTCArICcvc3Vic2NyaXB0aW9ucycsIGJvZHk6IHsgcmVzb3VyY2U6IF90aGlzLmRpc2NvdmVyeVVSTH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpPT57XHJcbiAgICAgICAgbG9nLmxvZygnW0Rpc2NvdmVyeS5yZXN1bWVEaXNjb3Zlcmllc10gcmVwbHk6ICcsIHJlcGx5KTtcclxuXHJcbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICBsZXQgdXJscyA9IHJlcGx5LmJvZHkudmFsdWU7Ly8gVVJMcyB0byBhZGQgbGlzdGVuZXJzIHRvXHJcblxyXG4gICAgICAgICAgLy9sZXRzIGNyZWF0ZSBvbmUgRGlzY292ZXJ5T2JqZWN0IHBlciBub3RpZmljYXRpb25cclxuICAgICAgICAgIHVybHMuZm9yRWFjaCgodXJsKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBvYmplY3RVcmwgPSB1cmwuc3BsaXQoJy9yZWdpc3RyYXRpb24nKVswXTtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgZGF0YS51cmwgPSBvYmplY3RVcmw7XHJcbiAgICAgICAgICAgIGxvZy5sb2coJ1tEaXNjb3ZlcnkucmVzdW1lRGlzY292ZXJpZXNdIGFkZGluZyBsaXN0ZW5lciB0bzogJywgb2JqZWN0VXJsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvYmplY3RVcmwuaW5jbHVkZXMoJ2h5cGVydHk6Ly8nKSkge1xyXG4gICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMucHVzaChfdGhpcy5kaXNjb3Zlckh5cGVydHlQZXJVUkxETyhvYmplY3RVcmwpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBub3RpZmljYXRpb25zLnB1c2goX3RoaXMuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMRE8ob2JqZWN0VXJsKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgUHJvbWlzZS5hbGwobm90aWZpY2F0aW9ucykudGhlbih2YWx1ZXM9PnsgcmVzb2x2ZSh2YWx1ZXMpOyB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEaXNjb3Zlcnk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kaXNjb3ZlcnkvRGlzY292ZXJ5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///138\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(25);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(33);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(34);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _utils = __webpack_require__(19);\n\nvar _RegistrationStatus2 = __webpack_require__(134);\n\nvar _RegistrationStatus3 = _interopRequireDefault(_RegistrationStatus2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Discovered Object interface\r\n*/\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\nvar DiscoveredObject = function (_RegistrationStatus) {\n  (0, _inherits3.default)(DiscoveredObject, _RegistrationStatus);\n  (0, _createClass3.default)(DiscoveredObject, [{\n    key: 'data',\n    get: function get() {\n      return this._data;\n    }\n  }]);\n\n  function DiscoveredObject(data, runtimeURL, discoveryURL, msgBus, discovery) {\n    (0, _classCallCheck3.default)(this, DiscoveredObject);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DiscoveredObject.__proto__ || (0, _getPrototypeOf2.default)(DiscoveredObject)).call(this, data.hypertyID || data.url, runtimeURL, discoveryURL, msgBus));\n\n    _this2._data = data;\n    _this2._discovery = discovery;\n    return _this2;\n  }\n\n  /**\r\n  * function to check the status of the DiscoveredObject.\r\n  * Depending on existing subscribers it may trigger onLive or onDisconnected events.\r\n  *\r\n  */\n\n  (0, _createClass3.default)(DiscoveredObject, [{\n    key: 'check',\n    value: function check() {\n      // query DR for the status and call processNotification with msg received\n\n      var _this = this;\n      var message = {\n        body: {}\n      };\n\n      if (_this._discoveredObjectURL.startsWith('hyperty://')) {\n        _this._discovery.discoverHypertyPerURL(_this._discoveredObjectURL).then(function (registration) {\n          message.body.status = registration.status;\n          _this._processNotification(message);\n        });\n      } else {\n        _this._discovery.discoverDataObjectsPerURL(_this._discoveredObjectURL).then(function (registration) {\n          message.body.status = registration.status;\n          _this._processNotification(message);\n        });\n      }\n    }\n  }]);\n  return DiscoveredObject;\n}(_RegistrationStatus3.default);\n\nexports.default = DiscoveredObject;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXJ5L0Rpc2NvdmVyZWRPYmplY3QuanM/MmQ5OSJdLCJuYW1lcyI6WyJEaXNjb3ZlcmVkT2JqZWN0IiwiX2RhdGEiLCJkYXRhIiwicnVudGltZVVSTCIsImRpc2NvdmVyeVVSTCIsIm1zZ0J1cyIsImRpc2NvdmVyeSIsImh5cGVydHlJRCIsInVybCIsIl9kaXNjb3ZlcnkiLCJfdGhpcyIsIm1lc3NhZ2UiLCJib2R5IiwiX2Rpc2NvdmVyZWRPYmplY3RVUkwiLCJzdGFydHNXaXRoIiwiZGlzY292ZXJIeXBlcnR5UGVyVVJMIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsInN0YXR1cyIsIl9wcm9jZXNzTm90aWZpY2F0aW9uIiwiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVSTCIsIlJlZ2lzdHJhdGlvblN0YXR1cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7O0FBQ0E7Ozs7OztBQUVBOzs7QUExQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBNkJNQSxnQjs7Ozt3QkFFTztBQUNULGFBQU8sS0FBS0MsS0FBWjtBQUNEOzs7QUFFRCw0QkFBWUMsSUFBWixFQUFrQkMsVUFBbEIsRUFBOEJDLFlBQTlCLEVBQTRDQyxNQUE1QyxFQUFvREMsU0FBcEQsRUFBK0Q7QUFBQTs7QUFBQSwySkFDdkRKLEtBQUtLLFNBQUwsSUFBa0JMLEtBQUtNLEdBRGdDLEVBQzNCTCxVQUQyQixFQUNmQyxZQURlLEVBQ0RDLE1BREM7O0FBRzdELFdBQUtKLEtBQUwsR0FBYUMsSUFBYjtBQUNBLFdBQUtPLFVBQUwsR0FBa0JILFNBQWxCO0FBSjZEO0FBSzlEOztBQUtEOzs7Ozs7Ozs0QkFNUTtBQUNOOztBQUVBLFVBQUlJLFFBQVEsSUFBWjtBQUNBLFVBQUlDLFVBQVU7QUFDWkMsY0FBTTtBQURNLE9BQWQ7O0FBSUEsVUFBSUYsTUFBTUcsb0JBQU4sQ0FBMkJDLFVBQTNCLENBQXNDLFlBQXRDLENBQUosRUFBMEQ7QUFDeERKLGNBQU1ELFVBQU4sQ0FBaUJNLHFCQUFqQixDQUF1Q0wsTUFBTUcsb0JBQTdDLEVBQW1FRyxJQUFuRSxDQUF3RSxVQUFDQyxZQUFELEVBQWdCO0FBQ3RGTixrQkFBUUMsSUFBUixDQUFhTSxNQUFiLEdBQXNCRCxhQUFhQyxNQUFuQztBQUNBUixnQkFBTVMsb0JBQU4sQ0FBMkJSLE9BQTNCO0FBQ0QsU0FIRDtBQUlELE9BTEQsTUFLTztBQUNMRCxjQUFNRCxVQUFOLENBQWlCVyx5QkFBakIsQ0FBMkNWLE1BQU1HLG9CQUFqRCxFQUF1RUcsSUFBdkUsQ0FBNEUsVUFBQ0MsWUFBRCxFQUFnQjtBQUMxRk4sa0JBQVFDLElBQVIsQ0FBYU0sTUFBYixHQUFzQkQsYUFBYUMsTUFBbkM7QUFDQVIsZ0JBQU1TLG9CQUFOLENBQTJCUixPQUEzQjtBQUNELFNBSEQ7QUFJRDtBQUNGOzs7RUF6QzRCVSw0Qjs7a0JBK0NoQnJCLGdCIiwiZmlsZSI6IjEzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbmltcG9ydCB7ZGl2aWRlVVJMLCBjb252ZXJ0VG9Vc2VyVVJMfSBmcm9tICcuLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBSZWdpc3RyYXRpb25TdGF0dXMgZnJvbSAnLi9SZWdpc3RyYXRpb25TdGF0dXMnO1xyXG5cclxuLyoqXHJcbiogRGlzY292ZXJlZCBPYmplY3QgaW50ZXJmYWNlXHJcbiovXHJcbmNsYXNzIERpc2NvdmVyZWRPYmplY3QgZXh0ZW5kcyBSZWdpc3RyYXRpb25TdGF0dXMge1xyXG5cclxuICBnZXQgZGF0YSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRhO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoZGF0YSwgcnVudGltZVVSTCwgZGlzY292ZXJ5VVJMLCBtc2dCdXMsIGRpc2NvdmVyeSkge1xyXG4gICAgc3VwZXIoZGF0YS5oeXBlcnR5SUQgfHwgZGF0YS51cmwsIHJ1bnRpbWVVUkwsIGRpc2NvdmVyeVVSTCwgbXNnQnVzKTtcclxuXHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2Rpc2NvdmVyeSA9IGRpc2NvdmVyeTtcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG4gIC8qKlxyXG4gICogZnVuY3Rpb24gdG8gY2hlY2sgdGhlIHN0YXR1cyBvZiB0aGUgRGlzY292ZXJlZE9iamVjdC5cclxuICAqIERlcGVuZGluZyBvbiBleGlzdGluZyBzdWJzY3JpYmVycyBpdCBtYXkgdHJpZ2dlciBvbkxpdmUgb3Igb25EaXNjb25uZWN0ZWQgZXZlbnRzLlxyXG4gICpcclxuICAqL1xyXG5cclxuICBjaGVjaygpIHtcclxuICAgIC8vIHF1ZXJ5IERSIGZvciB0aGUgc3RhdHVzIGFuZCBjYWxsIHByb2Nlc3NOb3RpZmljYXRpb24gd2l0aCBtc2cgcmVjZWl2ZWRcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IG1lc3NhZ2UgPSB7XHJcbiAgICAgIGJvZHk6IHt9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChfdGhpcy5fZGlzY292ZXJlZE9iamVjdFVSTC5zdGFydHNXaXRoKCdoeXBlcnR5Oi8vJykgKSB7XHJcbiAgICAgIF90aGlzLl9kaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnR5UGVyVVJMKF90aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMKS50aGVuKChyZWdpc3RyYXRpb24pPT57XHJcbiAgICAgICAgbWVzc2FnZS5ib2R5LnN0YXR1cyA9IHJlZ2lzdHJhdGlvbi5zdGF0dXM7XHJcbiAgICAgICAgX3RoaXMuX3Byb2Nlc3NOb3RpZmljYXRpb24obWVzc2FnZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgX3RoaXMuX2Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyVVJMKF90aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMKS50aGVuKChyZWdpc3RyYXRpb24pPT57XHJcbiAgICAgICAgbWVzc2FnZS5ib2R5LnN0YXR1cyA9IHJlZ2lzdHJhdGlvbi5zdGF0dXM7XHJcbiAgICAgICAgX3RoaXMuX3Byb2Nlc3NOb3RpZmljYXRpb24obWVzc2FnZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGlzY292ZXJlZE9iamVjdDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Rpc2NvdmVyeS9EaXNjb3ZlcmVkT2JqZWN0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///139\n")},,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _utils = __webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Core IdentityManager interface\r\n* Class to allow applications to search for Identities registered in runtime-core\r\n*/\nvar IdentityManager = function () {\n\n  /**\r\n  * To initialise the IdentityManager, which will provide the support for hyperties to\r\n  * query about identities registered\r\n  * @param  {String}          owner            owner\r\n  * @param  {String}          runtimeURL            runtimeURL\r\n  * @param  {MessageBus}          msgbus                msgbus\r\n  */\n  function IdentityManager(owner, runtimeURL, msgBus) {\n    (0, _classCallCheck3.default)(this, IdentityManager);\n\n    var _this = this;\n    _this.messageBus = msgBus;\n\n    _this.domain = (0, _utils.divideURL)(owner).domain;\n    _this.owner = owner;\n    _this.runtimeURL = runtimeURL;\n  }\n\n  /**\r\n  * Function to query the runtime registry about the identity to which the hyperty was associated\r\n  * @param {String}       type (Optional)         type of user info required\r\n  * @param {String}       owner (Optional)   owner to search for\r\n  * @return {Promise}     userURL       userURL associated to the hyperty\r\n  */\n\n\n  (0, _createClass3.default)(IdentityManager, [{\n    key: 'discoverUserRegistered',\n    value: function discoverUserRegistered(type, hyperty) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var activeHypertyURL = void 0;\n\n        // if any type of search is selected query for that type, otherwise query for default user info\n        var searchType = type ? type : '.';\n\n        if (!hyperty) {\n          activeHypertyURL = _this.owner;\n        } else {\n          activeHypertyURL = hyperty;\n        }\n\n        var msg = {\n          type: 'read', from: activeHypertyURL, to: _this.runtimeURL + '/registry/', body: { resource: searchType, criteria: activeHypertyURL }\n        };\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          var userURL = reply.body.resource;\n\n          if (userURL && reply.body.code === 200) {\n            resolve(userURL);\n          } else {\n            reject('code: ' + reply.body.code + ' No user was found');\n          }\n        });\n      });\n    }\n\n    /**\r\n    * Function to query the Identity Module about authenticated identities from a certain domain\r\n    * @param {String}       idp idp domain of the identity to be discovered\r\n    * @return {Promise}     identity\r\n    */\n\n  }, {\n    key: 'discoverIdentityPerIdP',\n    value: function discoverIdentityPerIdP(idp) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          type: 'read', from: this.owner, to: _this.runtimeURL + '/idm', body: { resource: idp, criteria: 'idp' }\n        };\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            resolve(reply.body.value);\n          } else {\n            reject(reply.body.code + ' ' + reply.body.desc);\n          }\n        });\n      });\n    }\n  }]);\n  return IdentityManager;\n}(); /**\r\n     * Copyright 2016 PT Inovação e Sistemas SA\r\n     * Copyright 2016 INESC-ID\r\n     * Copyright 2016 QUOBIS NETWORKS SL\r\n     * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n     * Copyright 2016 ORANGE SA\r\n     * Copyright 2016 Deutsche Telekom AG\r\n     * Copyright 2016 Apizee\r\n     * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     **/\n\n\nexports.default = IdentityManager;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaWRlbnRpdHlNYW5hZ2VyL0lkZW50aXR5TWFuYWdlci5qcz8xYzk0Il0sIm5hbWVzIjpbIklkZW50aXR5TWFuYWdlciIsIm93bmVyIiwicnVudGltZVVSTCIsIm1zZ0J1cyIsIl90aGlzIiwibWVzc2FnZUJ1cyIsImRvbWFpbiIsInR5cGUiLCJoeXBlcnR5IiwicmVzb2x2ZSIsInJlamVjdCIsImFjdGl2ZUh5cGVydHlVUkwiLCJzZWFyY2hUeXBlIiwibXNnIiwiZnJvbSIsInRvIiwiYm9keSIsInJlc291cmNlIiwiY3JpdGVyaWEiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwidXNlclVSTCIsImNvZGUiLCJpZHAiLCJ2YWx1ZSIsImRlc2MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCQTs7OztBQUVBOzs7O0lBSU1BLGU7O0FBRUo7Ozs7Ozs7QUFPQSwyQkFBWUMsS0FBWixFQUFtQkMsVUFBbkIsRUFBK0JDLE1BQS9CLEVBQXVDO0FBQUE7O0FBQ3JDLFFBQUlDLFFBQVEsSUFBWjtBQUNBQSxVQUFNQyxVQUFOLEdBQW1CRixNQUFuQjs7QUFFQUMsVUFBTUUsTUFBTixHQUFlLHNCQUFVTCxLQUFWLEVBQWlCSyxNQUFoQztBQUNBRixVQUFNSCxLQUFOLEdBQWNBLEtBQWQ7QUFDQUcsVUFBTUYsVUFBTixHQUFtQkEsVUFBbkI7QUFDRDs7QUFFRDs7Ozs7Ozs7OzsyQ0FNdUJLLEksRUFBTUMsTyxFQUFTO0FBQ3BDLFVBQUlKLFFBQVEsSUFBWjs7QUFFQSxhQUFPLHNCQUFZLFVBQVNLLE9BQVQsRUFBa0JDLE1BQWxCLEVBQTBCOztBQUUzQyxZQUFJQyx5QkFBSjs7QUFFQTtBQUNBLFlBQUlDLGFBQWNMLElBQUQsR0FBU0EsSUFBVCxHQUFnQixHQUFqQzs7QUFFQSxZQUFJLENBQUNDLE9BQUwsRUFBYztBQUNaRyw2QkFBbUJQLE1BQU1ILEtBQXpCO0FBQ0QsU0FGRCxNQUVPO0FBQ0xVLDZCQUFtQkgsT0FBbkI7QUFDRDs7QUFFRCxZQUFJSyxNQUFNO0FBQ1JOLGdCQUFNLE1BREUsRUFDTU8sTUFBTUgsZ0JBRFosRUFDOEJJLElBQUlYLE1BQU1GLFVBQU4sR0FBbUIsWUFEckQsRUFDbUVjLE1BQU0sRUFBRUMsVUFBVUwsVUFBWixFQUF3Qk0sVUFBVVAsZ0JBQWxDO0FBRHpFLFNBQVY7O0FBSUFQLGNBQU1DLFVBQU4sQ0FBaUJjLFdBQWpCLENBQTZCTixHQUE3QixFQUFrQyxVQUFDTyxLQUFELEVBQVc7O0FBRTNDLGNBQUlDLFVBQVVELE1BQU1KLElBQU4sQ0FBV0MsUUFBekI7O0FBRUEsY0FBSUksV0FBV0QsTUFBTUosSUFBTixDQUFXTSxJQUFYLEtBQW9CLEdBQW5DLEVBQXdDO0FBQ3RDYixvQkFBUVksT0FBUjtBQUNELFdBRkQsTUFFTztBQUNMWCxtQkFBTyxXQUFXVSxNQUFNSixJQUFOLENBQVdNLElBQXRCLEdBQTZCLG9CQUFwQztBQUNEO0FBQ0YsU0FURDtBQVVELE9BM0JNLENBQVA7QUE0QkQ7O0FBRUQ7Ozs7Ozs7OzJDQU11QkMsRyxFQUFLO0FBQzFCLFVBQUluQixRQUFRLElBQVo7O0FBRUEsYUFBTyxzQkFBWSxVQUFTSyxPQUFULEVBQWtCQyxNQUFsQixFQUEwQjs7QUFFM0MsWUFBSUcsTUFBTTtBQUNSTixnQkFBTSxNQURFLEVBQ01PLE1BQU0sS0FBS2IsS0FEakIsRUFDd0JjLElBQUlYLE1BQU1GLFVBQU4sR0FBbUIsTUFEL0MsRUFDdURjLE1BQU0sRUFBRUMsVUFBVU0sR0FBWixFQUFpQkwsVUFBVSxLQUEzQjtBQUQ3RCxTQUFWOztBQUlBZCxjQUFNQyxVQUFOLENBQWlCYyxXQUFqQixDQUE2Qk4sR0FBN0IsRUFBa0MsVUFBQ08sS0FBRCxFQUFXOztBQUUzQyxjQUFJQSxNQUFNSixJQUFOLENBQVdNLElBQVgsS0FBb0IsR0FBeEIsRUFBNkI7QUFDM0JiLG9CQUFRVyxNQUFNSixJQUFOLENBQVdRLEtBQW5CO0FBQ0QsV0FGRCxNQUVPO0FBQ0xkLG1CQUFPVSxNQUFNSixJQUFOLENBQVdNLElBQVgsR0FBa0IsR0FBbEIsR0FBd0JGLE1BQU1KLElBQU4sQ0FBV1MsSUFBMUM7QUFDRDtBQUNGLFNBUEQ7QUFRRCxPQWRNLENBQVA7QUFlRDs7O0tBN0dIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBZ0hlekIsZSIsImZpbGUiOiIxNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcbmltcG9ydCB7ZGl2aWRlVVJMfSBmcm9tICcuLi91dGlscy91dGlscyc7XHJcblxyXG4vKipcclxuKiBDb3JlIElkZW50aXR5TWFuYWdlciBpbnRlcmZhY2VcclxuKiBDbGFzcyB0byBhbGxvdyBhcHBsaWNhdGlvbnMgdG8gc2VhcmNoIGZvciBJZGVudGl0aWVzIHJlZ2lzdGVyZWQgaW4gcnVudGltZS1jb3JlXHJcbiovXHJcbmNsYXNzIElkZW50aXR5TWFuYWdlciB7XHJcblxyXG4gIC8qKlxyXG4gICogVG8gaW5pdGlhbGlzZSB0aGUgSWRlbnRpdHlNYW5hZ2VyLCB3aGljaCB3aWxsIHByb3ZpZGUgdGhlIHN1cHBvcnQgZm9yIGh5cGVydGllcyB0b1xyXG4gICogcXVlcnkgYWJvdXQgaWRlbnRpdGllcyByZWdpc3RlcmVkXHJcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgIG93bmVyICAgICAgICAgICAgb3duZXJcclxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkxcclxuICAqIEBwYXJhbSAge01lc3NhZ2VCdXN9ICAgICAgICAgIG1zZ2J1cyAgICAgICAgICAgICAgICBtc2didXNcclxuICAqL1xyXG4gIGNvbnN0cnVjdG9yKG93bmVyLCBydW50aW1lVVJMLCBtc2dCdXMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBfdGhpcy5tZXNzYWdlQnVzID0gbXNnQnVzO1xyXG5cclxuICAgIF90aGlzLmRvbWFpbiA9IGRpdmlkZVVSTChvd25lcikuZG9tYWluO1xyXG4gICAgX3RoaXMub3duZXIgPSBvd25lcjtcclxuICAgIF90aGlzLnJ1bnRpbWVVUkwgPSBydW50aW1lVVJMO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBGdW5jdGlvbiB0byBxdWVyeSB0aGUgcnVudGltZSByZWdpc3RyeSBhYm91dCB0aGUgaWRlbnRpdHkgdG8gd2hpY2ggdGhlIGh5cGVydHkgd2FzIGFzc29jaWF0ZWRcclxuICAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICB0eXBlIChPcHRpb25hbCkgICAgICAgICB0eXBlIG9mIHVzZXIgaW5mbyByZXF1aXJlZFxyXG4gICogQHBhcmFtIHtTdHJpbmd9ICAgICAgIG93bmVyIChPcHRpb25hbCkgICBvd25lciB0byBzZWFyY2ggZm9yXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgdXNlclVSTCAgICAgICB1c2VyVVJMIGFzc29jaWF0ZWQgdG8gdGhlIGh5cGVydHlcclxuICAqL1xyXG4gIGRpc2NvdmVyVXNlclJlZ2lzdGVyZWQodHlwZSwgaHlwZXJ0eSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBsZXQgYWN0aXZlSHlwZXJ0eVVSTDtcclxuXHJcbiAgICAgIC8vIGlmIGFueSB0eXBlIG9mIHNlYXJjaCBpcyBzZWxlY3RlZCBxdWVyeSBmb3IgdGhhdCB0eXBlLCBvdGhlcndpc2UgcXVlcnkgZm9yIGRlZmF1bHQgdXNlciBpbmZvXHJcbiAgICAgIGxldCBzZWFyY2hUeXBlID0gKHR5cGUpID8gdHlwZSA6ICcuJztcclxuXHJcbiAgICAgIGlmICghaHlwZXJ0eSkge1xyXG4gICAgICAgIGFjdGl2ZUh5cGVydHlVUkwgPSBfdGhpcy5vd25lcjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhY3RpdmVIeXBlcnR5VVJMID0gaHlwZXJ0eTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IG1zZyA9IHtcclxuICAgICAgICB0eXBlOiAncmVhZCcsIGZyb206IGFjdGl2ZUh5cGVydHlVUkwsIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9yZWdpc3RyeS8nLCBib2R5OiB7IHJlc291cmNlOiBzZWFyY2hUeXBlLCBjcml0ZXJpYTogYWN0aXZlSHlwZXJ0eVVSTH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJVUkwgPSByZXBseS5ib2R5LnJlc291cmNlO1xyXG5cclxuICAgICAgICBpZiAodXNlclVSTCAmJiByZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgcmVzb2x2ZSh1c2VyVVJMKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVqZWN0KCdjb2RlOiAnICsgcmVwbHkuYm9keS5jb2RlICsgJyBObyB1c2VyIHdhcyBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogRnVuY3Rpb24gdG8gcXVlcnkgdGhlIElkZW50aXR5IE1vZHVsZSBhYm91dCBhdXRoZW50aWNhdGVkIGlkZW50aXRpZXMgZnJvbSBhIGNlcnRhaW4gZG9tYWluXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gICAgICAgaWRwIGlkcCBkb21haW4gb2YgdGhlIGlkZW50aXR5IHRvIGJlIGRpc2NvdmVyZWRcclxuICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICBpZGVudGl0eVxyXG4gICovXHJcblxyXG4gIGRpc2NvdmVySWRlbnRpdHlQZXJJZFAoaWRwKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIGxldCBtc2cgPSB7XHJcbiAgICAgICAgdHlwZTogJ3JlYWQnLCBmcm9tOiB0aGlzLm93bmVyLCB0bzogX3RoaXMucnVudGltZVVSTCArICcvaWRtJywgYm9keTogeyByZXNvdXJjZTogaWRwLCBjcml0ZXJpYTogJ2lkcCd9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XHJcblxyXG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVqZWN0KHJlcGx5LmJvZHkuY29kZSArICcgJyArIHJlcGx5LmJvZHkuZGVzYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSWRlbnRpdHlNYW5hZ2VyO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaWRlbnRpdHlNYW5hZ2VyL0lkZW50aXR5TWFuYWdlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///148\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _stringify = __webpack_require__(58);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _UserInfo = __webpack_require__(150);\n\nvar _RegistrationStatus = __webpack_require__(134);\n\nvar _RegistrationStatus2 = _interopRequireDefault(_RegistrationStatus);\n\nvar _InvitationsHandler = __webpack_require__(172);\n\nvar _InvitationsHandler2 = _interopRequireDefault(_InvitationsHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ChatController = function () {\n  function ChatController(syncher, discovery, domain, search, identity, manager) {\n    (0, _classCallCheck3.default)(this, ChatController);\n\n\n    if (!syncher) throw Error('Syncher is a necessary dependecy');\n    if (!discovery) throw Error('Discover is a necessary dependecy');\n    if (!domain) throw Error('Domain is a necessary dependecy');\n    if (!search) throw Error('Search is a necessary dependecy');\n\n    var _this = this;\n    _this._syncher = syncher;\n    _this.discovery = discovery;\n    _this.search = search;\n    _this.myIdentity = identity;\n    _this.controllerMode = 'reporter';\n    _this.child_cseq = 0;\n    _this.domain = domain;\n\n    _this._manager = manager;\n\n    var hypertyURL = syncher.owner;\n\n    _this._objectDescURL = 'hyperty-catalogue://catalogue.' + domain + '/.well-known/dataschema/Communication';\n\n    _this._invitationsHandler = new _InvitationsHandler2.default(hypertyURL);\n  }\n\n  (0, _createClass3.default)(ChatController, [{\n    key: '_setOnAddChildListener',\n    value: function _setOnAddChildListener(dataObject) {\n\n      var _this = this;\n\n      dataObject.onAddChild(function (child) {\n        _this.child_cseq += 1;\n        console.info('[ChatManager.ChatController._setOnAddChildListener] new Child received: ', child);\n\n        if (_this._onMessage) _this._onMessage(child);\n      });\n    }\n  }, {\n    key: '_onSubscribe',\n    value: function _onSubscribe(event) {\n\n      var dataObjectReporter = this._dataObjectReporter;\n\n      event.accept();\n\n      console.log('[ChatManager.ChatController.onSubscribe] event', event, dataObjectReporter.url);\n      console.log('[ChatManager.ChatController.onSubscribe] New user has subscribe this object: ', dataObjectReporter.data, event.identity);\n\n      var identity = JSON.parse((0, _stringify2.default)(event.identity));\n\n      if (identity.hasOwnProperty('assertion')) {\n        delete identity.assertion;\n      }\n\n      var userInfo = {\n        hypertyURL: event.url,\n        domain: event.domain,\n        identity: identity\n      };\n      var userURL = event.identity.userProfile.userURL;\n\n      console.log('[ChatManager.ChatController.onSubscribe]  new participant', userInfo);\n      if (event.identity.legacy) {\n        userInfo.legacy = event.identity.legacy;\n      }\n\n      dataObjectReporter.data.participants[userURL] = userInfo;\n\n      console.log('[ChatManager.ChatController.onSubscribe] communicationObject OBJ chatcontroller', dataObjectReporter.data.participants);\n      console.log('[ChatManager.ChatController.onSubscribe - onSubscription] ', userInfo);\n      // console.log('[ChatManager.ChatController.onSubscribe - this._onUserAdded] ', this._onUserAdded);\n\n      if (this._onUserAdded) this._onUserAdded(userInfo);\n    }\n  }, {\n    key: '_onUnsubscribe',\n    value: function _onUnsubscribe(event) {\n      var dataObjectReporter = this._dataObjectReporter;\n\n      console.log('[ChatManager.ChatController.onUnsubscribe] event', event, dataObjectReporter.url);\n\n      var participant = event.identity.userProfile;\n\n      console.log('[ChatManager.ChatController.onUnsubscribe]  participant left', participant);\n      if (event.identity.legacy) {\n        participant.legacy = event.identity.legacy;\n      }\n\n      delete dataObjectReporter.data.participants[participant.userURL];\n\n      console.log('[ChatManager.ChatController.onUnsubscribe - this._onUserRemoved] ', this.onUserRemoved);\n      if (this._onUserRemoved) this._onUserRemoved(participant);\n    }\n\n    /**\r\n     * This function is used to send a file.\r\n     * @param  {string}     file                        Is the file to be sent.\r\n     * @return {Promise<Communication.ChatMessage>}        It returns the ChatMessage child object created by the Syncher as a Promise.\r\n     */\n\n  }, {\n    key: 'sendFile',\n    value: function sendFile(file) {\n\n      var _this = this;\n      var mode = _this.controllerMode;\n      var dataObject = mode === 'reporter' ? _this.dataObjectReporter : _this.dataObjectObserver;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var identity = {\n          userProfile: _this.myIdentity\n        };\n\n        dataObject.addHypertyResource('resources', 'file', file, identity).then(function (resourceFile) {\n\n          var identity = {\n            userProfile: _this.myIdentity\n          };\n          var fileSentEvt = { value: resourceFile, identity: identity, resource: resourceFile };\n\n          var reporterStatus = new _RegistrationStatus2.default(dataObject.url, _this._manager._runtimeURL, _this._manager._hypertyURL, _this._manager._bus);\n\n          // recursive function to sync with chat reporter\n\n          var share2Reporter = function share2Reporter(file, subscriber, evt, status) {\n            var statusOfReporter = status;\n            file.sharingStatus.then(resolve(evt)).catch(function (result) {\n              console.log('[ChatManager.ChatController.sendFile] share failed: ', result);\n\n              statusOfReporter.onLive(subscriber, function () {\n                statusOfReporter.unsubscribeLive(subscriber);\n                file.share(true);\n                share2Reporter(file, subscriber, evt, statusOfReporter);\n              });\n              //TODO: subscribe to sync when reporter is live. New synched messages should trigger onMessage ie onChild\n            });\n          };\n\n          share2Reporter(resourceFile, _this._manager._hypertyURL, fileSentEvt, reporterStatus);\n        });\n      }).catch(function (reason) {\n        console.error('Reason:', reason);\n        reject(reason);\n      });\n    }\n\n    /**\r\n     * This function is used to send a chat message.\r\n     * @param  {string}     message                        Is the ChatMessage to be sent.\r\n     * @return {Promise<Communication.ChatMessage>}        It returns the ChatMessage child object created by the Syncher as a Promise.\r\n     */\n\n  }, {\n    key: 'send',\n    value: function send(message, identity) {\n\n      var _this = this;\n      var mode = _this.controllerMode;\n      var dataObject = mode === 'reporter' ? _this.dataObjectReporter : _this.dataObjectObserver;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        //      let _dataObjectChild;\n        _this.child_cseq += 1;\n        var msg = {\n\n          /*        url: dataObject.data.url,\r\n                  cseq: _this.child_cseq,\r\n                  reporter: dataObject.data.reporter,\r\n                  schema: dataObject.data.schema,\r\n                  name: dataObject.data.name,\r\n                  created : new Date().toJSON(),*/\n\n          type: 'chat',\n          content: message\n        };\n\n        var sender = identity ? identity : {\n          userProfile: _this.myIdentity\n        };\n\n        // TODO: change chatmessages to resource - chat, file\n        // TODO: change message to hypertyResource - https://github.com/reTHINK-project/dev-service-framework/tree/develop/docs/datamodel/data-objects/hyperty-resource\n        // TODO: handle with multiple resources - if the \"message\" will be different for each type of resources\n        dataObject.addChild('resources', msg, sender).then(function (dataObjectChild) {\n          console.log('[ChatManager.ChatController][addChild - Chat Message]: ', dataObjectChild);\n          //resolve(dataObjectChild);\n\n          //TODO: move to separate function\n\n\n          var msg = {\n            childId: dataObjectChild._childId,\n            from: dataObjectChild._owner,\n            value: dataObjectChild.data,\n            type: 'create',\n            identity: sender\n          };\n\n          var reporterStatus = new _RegistrationStatus2.default(dataObject.url, _this._manager._runtimeURL, _this._manager._hypertyURL, _this._manager._bus);\n\n          // recursive function to sync with chat reporter\n\n          var share2Reporter = function share2Reporter(child, subscriber, msg, status) {\n            var statusOfReporter = status;\n            child.sharingStatus.then(resolve(msg)).catch(function (result) {\n\n              statusOfReporter.onLive(subscriber, function () {\n                statusOfReporter.unsubscribeLive(subscriber);\n                child.share(true);\n                share2Reporter(child, subscriber, msg, statusOfReporter);\n              });\n              //TODO: subscribe to sync when reporter is live. New synched messages should trigger onMessage ie onChild\n            });\n          };\n\n          share2Reporter(dataObjectChild, _this._manager._hypertyURL, msg, reporterStatus);\n        }).catch(function (reason) {\n          console.error('Reason:', reason);\n          reject(reason);\n        });\n      });\n    }\n\n    /**\r\n     * [onChange description]\r\n     * @param  {Function} callback [description]\r\n     * @return {[type]}            [description]\r\n     */\n\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this = this;\n      _this._onChange = callback;\n    }\n\n    /**\r\n     * This function is used to receive new messages.\r\n     * @param  {Function} callback Function to handle with new messages\r\n     * @return {Communication.ChatMessage} m\r\n     */\n\n  }, {\n    key: 'onMessage',\n    value: function onMessage(callback) {\n      var _this = this;\n      _this._onMessage = callback;\n    }\n\n    /**\r\n     * [onUserAdded description]\r\n     * @param  {Function} callback [description]\r\n     * @return {[type]}            [description]\r\n     */\n\n  }, {\n    key: 'onUserAdded',\n    value: function onUserAdded(callback) {\n      var _this = this;\n      _this._onUserAdded = callback;\n    }\n\n    /**\r\n     * When the an user was removed\r\n     * @param  {Function} callback Function handle with the removed user\r\n     * @return {[type]}            [description]\r\n     */\n\n  }, {\n    key: 'onUserRemoved',\n    value: function onUserRemoved(callback) {\n      var _this = this;\n      _this._onUserRemoved = callback;\n    }\n\n    /**\r\n     * This function is used to receive requests to close the Group Chat instance.\r\n     * @return {DeleteEvent} The DeleteEvent fired by the Syncher when the Chat is closed.\r\n     */\n\n  }, {\n    key: 'onClose',\n    value: function onClose(callback) {\n      var _this = this;\n      _this._onClose = callback;\n    }\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      var _this = this;\n      _this._onResponse = callback;\n    }\n\n    /**\r\n     * This function is used to add / invite new user on an existing Group Chat instance.\r\n     * Only the Reporter, i.e. the Hyperty that has created the Group Chat, is allowed to use this function.\r\n     * @param {URL.UserURL}  users  User to be invited to join the Group Chat that is identified with reTHINK User URL.\r\n     * @return {Promise<boolean>}   It returns as a Promise true if successfully invited or false otherwise.\r\n     */\n\n  }, {\n    key: 'addUser',\n    value: function addUser(users) {\n\n      var _this = this;\n\n      var haveEmptyElements = function haveEmptyElements(element) {\n        console.log('Element:', element.length);\n        return element.length !== 0;\n      };\n\n      var notFoundElements = function notFoundElements(element) {\n        console.log('user not found: ', element);\n        return !(element instanceof String);\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (users.filter(haveEmptyElements).length === 0) {\n          return reject('Don\\'t have users to invite');\n        }\n\n        console.info('[ChatManager.ChatController.addUsers ]: ', users);\n\n        /*_this.search.users(users, domains, ['comm'], ['chat'])\r\n        .then((hypertiesIDs) => {\r\n          if (hypertiesIDs.filter(notFoundElements).length === 0) {\r\n          throw 'User(s) not found';\r\n        }\r\n          let selectedHyperties = hypertiesIDs.map((hyperty) => {\r\n          return hyperty.hypertyID;\r\n        });*/\n\n        var usersDiscovery = [];\n        var disconnected = [];\n        var live = {};\n\n        users.forEach(function (user) {\n          var userDiscoveryPromise = _this.discovery.discoverHypertiesDO(user.user, ['comm'], ['chat'], user.domain);\n          usersDiscovery.push(userDiscoveryPromise);\n        });\n\n        _promise2.default.all(usersDiscovery).then(function (userDiscoveryResults) {\n          console.log('[ChatManager.ChatController.addUsers] Users Discovery Results->', userDiscoveryResults);\n\n          var selectedHyperties = [];\n\n          userDiscoveryResults.forEach(function (userDiscoveryResult) {\n\n            userDiscoveryResult.forEach(function (discovered) {\n              if (discovered.data.status === 'live') {\n                selectedHyperties.push(discovered.data.hypertyID);\n                live[discovered.data.hypertyID] = discovered;\n              } else if (disconnected.length < 5) disconnected.push(discovered);\n            });\n          });\n\n          console.info('[ChatManager.ChatController]------------------------ Syncher Create ---------------------- \\n');\n          console.info('[ChatManager.ChatController]Selected Hyperties: !!! ', selectedHyperties);\n          console.info('Have ' + selectedHyperties.length + ' users;');\n          //        console.info('[ChatManager] HypertiesIDs ', hypertiesIDs);\n\n          var dataObject = _this.controllerMode === 'reporter' ? _this.dataObjectReporter : _this.dataObjectObserver;\n\n          if (disconnected.length > 0) _this._invitationsHandler.inviteDisconnectedHyperties(disconnected, dataObject);\n\n          dataObject.inviteObservers(selectedHyperties);\n\n          if (dataObject.invitations.length > 0) _this._invitationsHandler.processInvitations(live, dataObject);\n\n          return;\n        }).then(function () {\n          console.info('[ChatManager.ChatController]Are invited with success ' + users.length + ' users;');\n          resolve(true);\n        }).catch(function (reason) {\n          console.error('An error occurred when trying to invite users;\\n', reason);\n          reject(reason);\n        });\n      });\n    }\n\n    /**\r\n     * This function is used to request the Reporter to add / invite new user on an existing Group Chat instance.\r\n     * Only Observers are allowed to use this function.\r\n     * @param {URL.UserURL}  users  User to be invited to join the Group Chat that is identified with reTHINK User URL.\r\n     * @return {Promise<boolean>}   It returns as a Promise true if successfully invited or false otherwise.\r\n     */\n\n  }, {\n    key: 'addUserReq',\n    value: function addUserReq(users) {\n\n      var _this = this;\n\n      //check is Observer and invoke observer.execute() with new promise\n      var haveEmptyElements = function haveEmptyElements(element) {\n        console.log('Element:', element.length);\n        return element.length !== 0;\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (users.filter(haveEmptyElements).length === 0) {\n          return reject('[ChatManager.ChatController.addUserReq] Don\\'t have users to add');\n        }\n        if (!_this.controllerMode === 'observer') {\n          return reject('[ChatManager.ChatController.addUserReq] only allowed to Chat Observer');\n\n          var addUser = _this.addUser(users);\n\n          if (_this._dataObjectObserver) {\n            addUser = _this._dataObjectObserver.execute('addUser', users);\n          }\n\n          addUser.then(function () {\n            console.info('[ChatManager.ChatController.addUserReq] Request accepted by Reporter ');\n            resolve(true);\n          }).catch(function (reason) {\n            console.error('[ChatManager.ChatController.addUserReq] Request rejected by Reporter;\\n', reason);\n            reject(reason);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'onInvitationResponse',\n    value: function onInvitationResponse(callback) {\n      var _this = this;\n      _this._onInvitationResponse = callback;\n      _this._invitationsHandler.invitationResponse = callback;\n    }\n\n    /**\r\n     * This function is used to remove a user from an existing Group Chat instance.\r\n     * Only the Reporter, i.e. the Hyperty that has created the Group Chat, is allowed to use this function.\r\n     * @return {<Promise> boolean} Promise with the status\r\n     */\n\n    /**\r\n     * This function is used to remove a user from an existing Group Chat instance.\r\n     * Only the Reporter, i.e. the Hyperty that has created the Group Chat, is allowed to use this function.\r\n     * @param  {URL.UserURL} user       User to be removed from the Group Chat that is identified with reTHINK User URL.\r\n     * @return {<Promise> boolean}      It returns as a Promise true if successfully removed or false otherwise.\r\n     */\n\n  }, {\n    key: 'removeUser',\n    value: function removeUser(user) {\n\n      // TODO: implement the removeUser;\n      console.log('[ChatManager.ChatController]Not yet implemented: ', user);\n    }\n\n    /**\r\n     * This function is used to close an existing Group Chat instance.\r\n     * Only available to Chat Group Reporters i.e. the Hyperty instance that created the Group Chat.\r\n     * @return {<Promise>Boolean} It returns as a Promise true if successfully closed or false otherwise.\r\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      // TODO: the dataObjectReporter.delete should be an Promise;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (_this.controllerMode === 'reporter') {\n          _this._invitationsHandler.cleanInvitations(_this.dataObjectReporter).then(function () {\n            try {\n              delete _this._manager._reportersControllers[_this.dataObjectReporter.url];\n              _this.dataObjectReporter.delete();\n              resolve(true);\n              if (_this._onClose) _this._onClose({\n                code: 200,\n                desc: 'deleted',\n                url: _this.dataObjectReporter.url\n              });\n            } catch (e) {\n              console.error(e);\n              reject(false);\n            }\n          });\n        } else {\n          try {\n            delete _this._manager._observersControllers[_this.dataObjectObserver.url];\n            _this.dataObjectObserver.unsubscribe();\n            resolve(true);\n          } catch (e) {\n            console.error(e);\n            reject(false);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'invitationsHandler',\n    get: function get() {\n      return this._invitationsHandler;\n    }\n  }, {\n    key: 'url',\n    get: function get() {\n      return this.controllerMode === 'reporter' ? this.dataObjectReporter.url : this.dataObjectObserver.url;\n    }\n  }, {\n    key: 'dataObjectReporter',\n    set: function set(dataObjectReporter) {\n\n      if (!dataObjectReporter) throw new Error('[ChatController] The data object reporter is necessary parameter ');\n      var _this = this;\n\n      _this.controllerMode = 'reporter';\n\n      // Handler to process received files\n\n      // dataObjectReporter.onResponse(function(event) {\n      //   console.log('[DataObjectReporter - onResponse]', event);\n      //   if (_this._onInvitationResponse) {\n      //     _this._onInvitationResponse(event);\n      //   }\n      //\n      // });\n\n      dataObjectReporter.onSubscription(function (event) {\n\n        switch (event.type) {\n          case 'subscribe':\n            _this._onSubscribe(event);break;\n          case 'unsubscribe':\n            _this._onUnsubscribe(event);break;\n        }\n      });\n\n      _this._setOnAddChildListener(dataObjectReporter);\n\n      dataObjectReporter.onRead(function (event) {\n        event.accept();\n      });\n\n      dataObjectReporter.onExecute(function (event) {\n        switch (event.method) {\n          case 'addUser':\n            _this.addUser(event.params[0]).then(function () {\n              event.accept();\n            }).catch(function (reason) {\n              console.error('Reason:', reason);\n              event.reject(reason);\n            });\n            break;\n          case 'removeUser':\n            _this.removeUser(event.params).then(function () {\n              event.accept();\n            }).catch(function (reason) {\n              console.error('Reason:', reason);\n              event.reject(reason);\n            });\n            break;\n          default:\n            event.reject('[ChatController.onExecute] Chat method execution not accepted by Reporter');\n            break;\n        }\n      });\n\n      _this._dataObjectReporter = dataObjectReporter;\n    },\n    get: function get() {\n      var _this = this;\n      return _this._dataObjectReporter;\n    }\n  }, {\n    key: 'messages',\n    get: function get() {\n\n      return this.controllerMode === 'reporter' ? this._dataObjectReporter._childrenObjects['resources'] : this._dataObjectObserver._childrenObjects['resources'];\n    }\n  }, {\n    key: 'dataObjectObserver',\n    set: function set(dataObjectObserver) {\n      var _this = this;\n\n      _this.controllerMode = 'observer';\n\n      _this._dataObjectObserver = dataObjectObserver;\n\n      dataObjectObserver.onChange('*', function (event) {\n        console.info('[ChatManager.ChatController]Observer - onChange', event);\n\n        if (event.field.includes('participants')) {\n          switch (event.cType) {\n            case 'add':\n              if (_this._onUserAdded) _this._onUserAdded(event);\n              break;\n\n            case 'remove':\n              if (_this._onUserRemoved) _this._onUserRemoved(event);\n              break;\n          }\n        }\n\n        if (_this._onChange) _this._onChange(event);\n      });\n\n      _this._setOnAddChildListener(dataObjectObserver);\n\n      // let childrens = dataObjectObserver.childrens;\n      // Object.keys(childrens).forEach((child) => {\n      //   if (_this._onMessage) _this._onMessage({\n      //     childId: child,\n      //     identity: childrens[child].identity,\n      //     value: childrens[child].data\n      //   });\n      // })\n    },\n    get: function get() {\n      var _this = this;\n      return _this._dataObjectObserver;\n    }\n  }, {\n    key: 'dataObject',\n    get: function get() {\n      return this.controllerMode === 'reporter' ? this.dataObjectReporter : this.dataObjectObserver;\n    }\n  }, {\n    key: 'closeEvent',\n    set: function set(event) {\n      var _this = this;\n      _this._closeEvent = event;\n\n      if (_this._onClose) _this._onClose(event);\n    },\n    get: function get() {\n      var _this = this;\n      return _this._closeEvent;\n    }\n  }]);\n  return ChatController;\n}(); /**\r\n     * Copyright 2016 PT Inovação e Sistemas SA\r\n     * Copyright 2016 INESC-ID\r\n     * Copyright 2016 QUOBIS NETWORKS SL\r\n     * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n     * Copyright 2016 ORANGE SA\r\n     * Copyright 2016 Deutsche Telekom AG\r\n     * Copyright 2016 Apizee\r\n     * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     **/\n\n/**\r\n* The Group Chat API is used to control a Group Chat instance.\r\n* @author Vitor Silva [vitor-t-silva@telecom.pt]\r\n* @version 0.1.0\r\n*/\n\nexports.default = ChatController;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhdE1hbmFnZXIvQ2hhdENvbnRyb2xsZXIuanM/YmEyYiJdLCJuYW1lcyI6WyJDaGF0Q29udHJvbGxlciIsInN5bmNoZXIiLCJkaXNjb3ZlcnkiLCJkb21haW4iLCJzZWFyY2giLCJpZGVudGl0eSIsIm1hbmFnZXIiLCJFcnJvciIsIl90aGlzIiwiX3N5bmNoZXIiLCJteUlkZW50aXR5IiwiY29udHJvbGxlck1vZGUiLCJjaGlsZF9jc2VxIiwiX21hbmFnZXIiLCJoeXBlcnR5VVJMIiwib3duZXIiLCJfb2JqZWN0RGVzY1VSTCIsIl9pbnZpdGF0aW9uc0hhbmRsZXIiLCJJbnZpdGF0aW9uc0hhbmRsZXIiLCJkYXRhT2JqZWN0Iiwib25BZGRDaGlsZCIsImNoaWxkIiwiY29uc29sZSIsImluZm8iLCJfb25NZXNzYWdlIiwiZXZlbnQiLCJkYXRhT2JqZWN0UmVwb3J0ZXIiLCJfZGF0YU9iamVjdFJlcG9ydGVyIiwiYWNjZXB0IiwibG9nIiwidXJsIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImhhc093blByb3BlcnR5IiwiYXNzZXJ0aW9uIiwidXNlckluZm8iLCJ1c2VyVVJMIiwidXNlclByb2ZpbGUiLCJsZWdhY3kiLCJwYXJ0aWNpcGFudHMiLCJfb25Vc2VyQWRkZWQiLCJwYXJ0aWNpcGFudCIsIm9uVXNlclJlbW92ZWQiLCJfb25Vc2VyUmVtb3ZlZCIsImZpbGUiLCJtb2RlIiwiZGF0YU9iamVjdE9ic2VydmVyIiwicmVzb2x2ZSIsInJlamVjdCIsImFkZEh5cGVydHlSZXNvdXJjZSIsInRoZW4iLCJyZXNvdXJjZUZpbGUiLCJmaWxlU2VudEV2dCIsInZhbHVlIiwicmVzb3VyY2UiLCJyZXBvcnRlclN0YXR1cyIsIlJlZ2lzdHJhdGlvblN0YXR1cyIsIl9ydW50aW1lVVJMIiwiX2h5cGVydHlVUkwiLCJfYnVzIiwic2hhcmUyUmVwb3J0ZXIiLCJzdWJzY3JpYmVyIiwiZXZ0Iiwic3RhdHVzIiwic3RhdHVzT2ZSZXBvcnRlciIsInNoYXJpbmdTdGF0dXMiLCJjYXRjaCIsInJlc3VsdCIsIm9uTGl2ZSIsInVuc3Vic2NyaWJlTGl2ZSIsInNoYXJlIiwicmVhc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwibXNnIiwidHlwZSIsImNvbnRlbnQiLCJzZW5kZXIiLCJhZGRDaGlsZCIsImRhdGFPYmplY3RDaGlsZCIsImNoaWxkSWQiLCJfY2hpbGRJZCIsImZyb20iLCJfb3duZXIiLCJjYWxsYmFjayIsIl9vbkNoYW5nZSIsIl9vbkNsb3NlIiwiX29uUmVzcG9uc2UiLCJ1c2VycyIsImhhdmVFbXB0eUVsZW1lbnRzIiwiZWxlbWVudCIsImxlbmd0aCIsIm5vdEZvdW5kRWxlbWVudHMiLCJTdHJpbmciLCJmaWx0ZXIiLCJ1c2Vyc0Rpc2NvdmVyeSIsImRpc2Nvbm5lY3RlZCIsImxpdmUiLCJmb3JFYWNoIiwidXNlciIsInVzZXJEaXNjb3ZlcnlQcm9taXNlIiwiZGlzY292ZXJIeXBlcnRpZXNETyIsInB1c2giLCJhbGwiLCJ1c2VyRGlzY292ZXJ5UmVzdWx0cyIsInNlbGVjdGVkSHlwZXJ0aWVzIiwidXNlckRpc2NvdmVyeVJlc3VsdCIsImRpc2NvdmVyZWQiLCJoeXBlcnR5SUQiLCJpbnZpdGVEaXNjb25uZWN0ZWRIeXBlcnRpZXMiLCJpbnZpdGVPYnNlcnZlcnMiLCJpbnZpdGF0aW9ucyIsInByb2Nlc3NJbnZpdGF0aW9ucyIsImFkZFVzZXIiLCJfZGF0YU9iamVjdE9ic2VydmVyIiwiZXhlY3V0ZSIsIl9vbkludml0YXRpb25SZXNwb25zZSIsImludml0YXRpb25SZXNwb25zZSIsImNsZWFuSW52aXRhdGlvbnMiLCJfcmVwb3J0ZXJzQ29udHJvbGxlcnMiLCJkZWxldGUiLCJjb2RlIiwiZGVzYyIsImUiLCJfb2JzZXJ2ZXJzQ29udHJvbGxlcnMiLCJ1bnN1YnNjcmliZSIsIm9uU3Vic2NyaXB0aW9uIiwiX29uU3Vic2NyaWJlIiwiX29uVW5zdWJzY3JpYmUiLCJfc2V0T25BZGRDaGlsZExpc3RlbmVyIiwib25SZWFkIiwib25FeGVjdXRlIiwibWV0aG9kIiwicGFyYW1zIiwicmVtb3ZlVXNlciIsIl9jaGlsZHJlbk9iamVjdHMiLCJvbkNoYW5nZSIsImZpZWxkIiwiaW5jbHVkZXMiLCJjVHlwZSIsIl9jbG9zZUV2ZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNkJBOztBQUNBOzs7O0FBQ0E7Ozs7OztJQUVNQSxjO0FBRUosMEJBQVlDLE9BQVosRUFBcUJDLFNBQXJCLEVBQWdDQyxNQUFoQyxFQUF3Q0MsTUFBeEMsRUFBZ0RDLFFBQWhELEVBQTBEQyxPQUExRCxFQUFtRTtBQUFBOzs7QUFFakUsUUFBSSxDQUFDTCxPQUFMLEVBQWMsTUFBTU0sTUFBTSxrQ0FBTixDQUFOO0FBQ2QsUUFBSSxDQUFDTCxTQUFMLEVBQWdCLE1BQU1LLE1BQU0sbUNBQU4sQ0FBTjtBQUNoQixRQUFJLENBQUNKLE1BQUwsRUFBYSxNQUFNSSxNQUFNLGlDQUFOLENBQU47QUFDYixRQUFJLENBQUNILE1BQUwsRUFBYSxNQUFNRyxNQUFNLGlDQUFOLENBQU47O0FBRWIsUUFBSUMsUUFBUSxJQUFaO0FBQ0FBLFVBQU1DLFFBQU4sR0FBaUJSLE9BQWpCO0FBQ0FPLFVBQU1OLFNBQU4sR0FBa0JBLFNBQWxCO0FBQ0FNLFVBQU1KLE1BQU4sR0FBZUEsTUFBZjtBQUNBSSxVQUFNRSxVQUFOLEdBQW1CTCxRQUFuQjtBQUNBRyxVQUFNRyxjQUFOLEdBQXVCLFVBQXZCO0FBQ0FILFVBQU1JLFVBQU4sR0FBbUIsQ0FBbkI7QUFDQUosVUFBTUwsTUFBTixHQUFlQSxNQUFmOztBQUVBSyxVQUFNSyxRQUFOLEdBQWlCUCxPQUFqQjs7QUFFQSxRQUFNUSxhQUFhYixRQUFRYyxLQUEzQjs7QUFFQVAsVUFBTVEsY0FBTixHQUF1QixtQ0FBbUNiLE1BQW5DLEdBQTRDLHVDQUFuRTs7QUFFQUssVUFBTVMsbUJBQU4sR0FBNEIsSUFBSUMsNEJBQUosQ0FBdUJKLFVBQXZCLENBQTVCO0FBRUQ7Ozs7MkNBMEhzQkssVSxFQUFZOztBQUVqQyxVQUFJWCxRQUFR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QUFFdEIsT0FqQkQ7O0FBbUJBakIsWUFBTTBILHNCQUFOLENBQTZCbkYsa0JBQTdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFRCxLO3dCQUV3QjtBQUN2QixVQUFJdkMsUUFBUSxJQUFaO0FBQ0EsYUFBT0EsTUFBTTJHLG1CQUFiO0FBQ0Q7Ozt3QkFnQmdCO0FBQ2YsYUFBTyxLQUFLeEcsY0FBTCxLQUF3QixVQUF4QixHQUFxQyxLQUFLZSxrQkFBMUMsR0FBK0QsS0FBS3FCLGtCQUEzRTtBQUNEOzs7c0JBRWN0QixLLEVBQU87QUFDcEIsVUFBSWpCLFFBQVEsSUFBWjtBQUNBQSxZQUFNcUksV0FBTixHQUFvQnBILEtBQXBCOztBQUVBLFVBQUlqQixNQUFNK0UsUUFBVixFQUFvQi9FLE1BQU0rRSxRQUFOLENBQWU5RCxLQUFmO0FBQ3JCLEs7d0JBRWdCO0FBQ2YsVUFBSWpCLFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU1xSSxXQUFiO0FBQ0Q7OztLQWpOSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7Ozs7OztrQkFnb0JlN0ksYyIsImZpbGUiOiIxNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcblxyXG4vKipcclxuKiBUaGUgR3JvdXAgQ2hhdCBBUEkgaXMgdXNlZCB0byBjb250cm9sIGEgR3JvdXAgQ2hhdCBpbnN0YW5jZS5cclxuKiBAYXV0aG9yIFZpdG9yIFNpbHZhIFt2aXRvci10LXNpbHZhQHRlbGVjb20ucHRdXHJcbiogQHZlcnNpb24gMC4xLjBcclxuKi9cclxuXHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi9Vc2VySW5mbyc7XHJcbmltcG9ydCBSZWdpc3RyYXRpb25TdGF0dXMgZnJvbSAnLi4vZGlzY292ZXJ5L1JlZ2lzdHJhdGlvblN0YXR1cyc7XHJcbmltcG9ydCBJbnZpdGF0aW9uc0hhbmRsZXIgZnJvbSAnLi9JbnZpdGF0aW9uc0hhbmRsZXInO1xyXG5cclxuY2xhc3MgQ2hhdENvbnRyb2xsZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihzeW5jaGVyLCBkaXNjb3ZlcnksIGRvbWFpbiwgc2VhcmNoLCBpZGVudGl0eSwgbWFuYWdlcikge1xyXG5cclxuICAgIGlmICghc3luY2hlcikgdGhyb3cgRXJyb3IoJ1N5bmNoZXIgaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Jyk7XHJcbiAgICBpZiAoIWRpc2NvdmVyeSkgdGhyb3cgRXJyb3IoJ0Rpc2NvdmVyIGlzIGEgbmVjZXNzYXJ5IGRlcGVuZGVjeScpO1xyXG4gICAgaWYgKCFkb21haW4pIHRocm93IEVycm9yKCdEb21haW4gaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Jyk7XHJcbiAgICBpZiAoIXNlYXJjaCkgdGhyb3cgRXJyb3IoJ1NlYXJjaCBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX3N5bmNoZXIgPSBzeW5jaGVyO1xyXG4gICAgX3RoaXMuZGlzY292ZXJ5ID0gZGlzY292ZXJ5O1xyXG4gICAgX3RoaXMuc2VhcmNoID0gc2VhcmNoO1xyXG4gICAgX3RoaXMubXlJZGVudGl0eSA9IGlkZW50aXR5O1xyXG4gICAgX3RoaXMuY29udHJvbGxlck1vZGUgPSAncmVwb3J0ZXInO1xyXG4gICAgX3RoaXMuY2hpbGRfY3NlcSA9IDA7XHJcbiAgICBfdGhpcy5kb21haW4gPSBkb21haW47XHJcblxyXG4gICAgX3RoaXMuX21hbmFnZXIgPSBtYW5hZ2VyO1xyXG5cclxuICAgIGNvbnN0IGh5cGVydHlVUkwgPSBzeW5jaGVyLm93bmVyO1xyXG5cclxuICAgIF90aGlzLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyBkb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29tbXVuaWNhdGlvbic7XHJcblxyXG4gICAgX3RoaXMuX2ludml0YXRpb25zSGFuZGxlciA9IG5ldyBJbnZpdGF0aW9uc0hhbmRsZXIoaHlwZXJ0eVVSTCk7XHJcblxyXG4gIH1cclxuXHJcbiAgZ2V0IGludml0YXRpb25zSGFuZGxlcigpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnZpdGF0aW9uc0hhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBnZXQgdXJsKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29udHJvbGxlck1vZGUgPT09ICdyZXBvcnRlcicgPyB0aGlzLmRhdGFPYmplY3RSZXBvcnRlci51cmwgOiB0aGlzLmRhdGFPYmplY3RPYnNlcnZlci51cmw7XHJcbiAgfVxyXG5cclxuICBzZXQgZGF0YU9iamVjdFJlcG9ydGVyKGRhdGFPYmplY3RSZXBvcnRlcikge1xyXG5cclxuICAgIGlmICghZGF0YU9iamVjdFJlcG9ydGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1tDaGF0Q29udHJvbGxlcl0gVGhlIGRhdGEgb2JqZWN0IHJlcG9ydGVyIGlzIG5lY2Vzc2FyeSBwYXJhbWV0ZXIgJyk7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLmNvbnRyb2xsZXJNb2RlID0gJ3JlcG9ydGVyJztcclxuXHJcbiAgICAvLyBIYW5kbGVyIHRvIHByb2Nlc3MgcmVjZWl2ZWQgZmlsZXNcclxuXHJcbiAgICAvLyBkYXRhT2JqZWN0UmVwb3J0ZXIub25SZXNwb25zZShmdW5jdGlvbihldmVudCkge1xyXG4gICAgLy8gICBjb25zb2xlLmxvZygnW0RhdGFPYmplY3RSZXBvcnRlciAtIG9uUmVzcG9uc2VdJywgZXZlbnQpO1xyXG4gICAgLy8gICBpZiAoX3RoaXMuX29uSW52aXRhdGlvblJlc3BvbnNlKSB7XHJcbiAgICAvLyAgICAgX3RoaXMuX29uSW52aXRhdGlvblJlc3BvbnNlKGV2ZW50KTtcclxuICAgIC8vICAgfVxyXG4gICAgLy9cclxuICAgIC8vIH0pO1xyXG5cclxuICAgIGRhdGFPYmplY3RSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnc3Vic2NyaWJlJzogX3RoaXMuX29uU3Vic2NyaWJlKGV2ZW50KTsgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAndW5zdWJzY3JpYmUnOiBfdGhpcy5fb25VbnN1YnNjcmliZShldmVudCk7IGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBfdGhpcy5fc2V0T25BZGRDaGlsZExpc3RlbmVyKGRhdGFPYmplY3RSZXBvcnRlcik7XHJcblxyXG4gICAgZGF0YU9iamVjdFJlcG9ydGVyLm9uUmVhZCgoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQuYWNjZXB0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkYXRhT2JqZWN0UmVwb3J0ZXIub25FeGVjdXRlKChldmVudCkgPT4ge1xyXG4gICAgICBzd2l0Y2ggKGV2ZW50Lm1ldGhvZCkge1xyXG4gICAgICAgIGNhc2UgJ2FkZFVzZXInOlxyXG4gICAgICAgICAgX3RoaXMuYWRkVXNlcihldmVudC5wYXJhbXNbMF0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5hY2NlcHQoKTtcclxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZWFzb246JywgcmVhc29uKTtcclxuICAgICAgICAgICAgZXZlbnQucmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAncmVtb3ZlVXNlcic6XHJcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZVVzZXIoZXZlbnQucGFyYW1zKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBldmVudC5hY2NlcHQoKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVhc29uOicsIHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgZXZlbnQucmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OiBldmVudC5yZWplY3QoJ1tDaGF0Q29udHJvbGxlci5vbkV4ZWN1dGVdIENoYXQgbWV0aG9kIGV4ZWN1dGlvbiBub3QgYWNjZXB0ZWQgYnkgUmVwb3J0ZXInKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyID0gZGF0YU9iamVjdFJlcG9ydGVyO1xyXG5cclxuICB9XHJcblxyXG4gIGdldCBkYXRhT2JqZWN0UmVwb3J0ZXIoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIF90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXI7XHJcbiAgfVxyXG5cclxuICBnZXQgbWVzc2FnZXMoKSB7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY29udHJvbGxlck1vZGUgPT09ICdyZXBvcnRlcicgPyB0aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIuX2NoaWxkcmVuT2JqZWN0c1sncmVzb3VyY2VzJ10gOiB0aGlzLl9kYXRhT2JqZWN0T2JzZXJ2ZXIuX2NoaWxkcmVuT2JqZWN0c1sncmVzb3VyY2VzJ107XHJcbiAgfVxyXG5cclxuICBzZXQgZGF0YU9iamVjdE9ic2VydmVyKGRhdGFPYmplY3RPYnNlcnZlcikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5jb250cm9sbGVyTW9kZSA9ICdvYnNlcnZlcic7XHJcblxyXG4gICAgX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlciA9IGRhdGFPYmplY3RPYnNlcnZlcjtcclxuXHJcbiAgICBkYXRhT2JqZWN0T2JzZXJ2ZXIub25DaGFuZ2UoJyonLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlcl1PYnNlcnZlciAtIG9uQ2hhbmdlJywgZXZlbnQpO1xyXG5cclxuICAgICAgaWYgKGV2ZW50LmZpZWxkLmluY2x1ZGVzKCdwYXJ0aWNpcGFudHMnKSkge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuY1R5cGUpIHtcclxuICAgICAgICAgIGNhc2UgJ2FkZCc6XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5fb25Vc2VyQWRkZWQpIF90aGlzLl9vblVzZXJBZGRlZChldmVudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5fb25Vc2VyUmVtb3ZlZCkgX3RoaXMuX29uVXNlclJlbW92ZWQoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChfdGhpcy5fb25DaGFuZ2UpIF90aGlzLl9vbkNoYW5nZShldmVudCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgX3RoaXMuX3NldE9uQWRkQ2hpbGRMaXN0ZW5lcihkYXRhT2JqZWN0T2JzZXJ2ZXIpO1xyXG5cclxuICAgIC8vIGxldCBjaGlsZHJlbnMgPSBkYXRhT2JqZWN0T2JzZXJ2ZXIuY2hpbGRyZW5zO1xyXG4gICAgLy8gT2JqZWN0LmtleXMoY2hpbGRyZW5zKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgLy8gICBpZiAoX3RoaXMuX29uTWVzc2FnZSkgX3RoaXMuX29uTWVzc2FnZSh7XHJcbiAgICAvLyAgICAgY2hpbGRJZDogY2hpbGQsXHJcbiAgICAvLyAgICAgaWRlbnRpdHk6IGNoaWxkcmVuc1tjaGlsZF0uaWRlbnRpdHksXHJcbiAgICAvLyAgICAgdmFsdWU6IGNoaWxkcmVuc1tjaGlsZF0uZGF0YVxyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgZ2V0IGRhdGFPYmplY3RPYnNlcnZlcigpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICByZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlcjtcclxuICB9XHJcblxyXG4gIF9zZXRPbkFkZENoaWxkTGlzdGVuZXIoZGF0YU9iamVjdCkge1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZGF0YU9iamVjdC5vbkFkZENoaWxkKGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgIF90aGlzLmNoaWxkX2NzZXEgKz0xO1xyXG4gICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5fc2V0T25BZGRDaGlsZExpc3RlbmVyXSBuZXcgQ2hpbGQgcmVjZWl2ZWQ6ICcsIGNoaWxkKTtcclxuXHJcbiAgICAgIGlmIChfdGhpcy5fb25NZXNzYWdlKSBfdGhpcy5fb25NZXNzYWdlKGNoaWxkKTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBnZXQgZGF0YU9iamVjdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJNb2RlID09PSAncmVwb3J0ZXInID8gdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXIgOiB0aGlzLmRhdGFPYmplY3RPYnNlcnZlcjtcclxuICB9XHJcblxyXG4gIHNldCBjbG9zZUV2ZW50KGV2ZW50KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX2Nsb3NlRXZlbnQgPSBldmVudDtcclxuXHJcbiAgICBpZiAoX3RoaXMuX29uQ2xvc2UpIF90aGlzLl9vbkNsb3NlKGV2ZW50KTtcclxuICB9XHJcblxyXG4gIGdldCBjbG9zZUV2ZW50KCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIHJldHVybiBfdGhpcy5fY2xvc2VFdmVudDtcclxuICB9XHJcblxyXG5cclxuXHJcbiAgX29uU3Vic2NyaWJlKGV2ZW50KSB7XHJcblxyXG4gICAgbGV0IGRhdGFPYmplY3RSZXBvcnRlciA9IHRoaXMuX2RhdGFPYmplY3RSZXBvcnRlcjtcclxuXHJcbiAgICBldmVudC5hY2NlcHQoKTtcclxuXHJcblxyXG4gICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5vblN1YnNjcmliZV0gZXZlbnQnLCBldmVudCwgZGF0YU9iamVjdFJlcG9ydGVyLnVybCk7XHJcbiAgICBjb25zb2xlLmxvZygnW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyLm9uU3Vic2NyaWJlXSBOZXcgdXNlciBoYXMgc3Vic2NyaWJlIHRoaXMgb2JqZWN0OiAnLCBkYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YSwgZXZlbnQuaWRlbnRpdHkpO1xyXG5cclxuICAgIGxldCBpZGVudGl0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZXZlbnQuaWRlbnRpdHkpKTtcclxuXHJcbiAgICBpZiAoaWRlbnRpdHkuaGFzT3duUHJvcGVydHkoJ2Fzc2VydGlvbicpKSB7XHJcbiAgICAgIGRlbGV0ZSBpZGVudGl0eS5hc3NlcnRpb25cclxuICAgIH1cclxuXHJcbiAgICBsZXQgdXNlckluZm8gPSB7XHJcbiAgICAgIGh5cGVydHlVUkw6IGV2ZW50LnVybCxcclxuICAgICAgZG9tYWluOiBldmVudC5kb21haW4sXHJcbiAgICAgIGlkZW50aXR5OiBpZGVudGl0eVxyXG4gICAgfVxyXG4gICAgbGV0IHVzZXJVUkwgPSBldmVudC5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXIub25TdWJzY3JpYmVdICBuZXcgcGFydGljaXBhbnQnLCB1c2VySW5mbyk7XHJcbiAgICBpZiAoZXZlbnQuaWRlbnRpdHkubGVnYWN5KSB7XHJcbiAgICAgdXNlckluZm8ubGVnYWN5ID0gZXZlbnQuaWRlbnRpdHkubGVnYWN5O1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFPYmplY3RSZXBvcnRlci5kYXRhLnBhcnRpY2lwYW50c1t1c2VyVVJMXSA9IHVzZXJJbmZvO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXIub25TdWJzY3JpYmVdIGNvbW11bmljYXRpb25PYmplY3QgT0JKIGNoYXRjb250cm9sbGVyJywgZGF0YU9iamVjdFJlcG9ydGVyLmRhdGEucGFydGljaXBhbnRzKTtcclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXIub25TdWJzY3JpYmUgLSBvblN1YnNjcmlwdGlvbl0gJywgdXNlckluZm8pO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5vblN1YnNjcmliZSAtIHRoaXMuX29uVXNlckFkZGVkXSAnLCB0aGlzLl9vblVzZXJBZGRlZCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX29uVXNlckFkZGVkKSB0aGlzLl9vblVzZXJBZGRlZCh1c2VySW5mbyk7XHJcbiAgfVxyXG5cclxuICBfb25VbnN1YnNjcmliZShldmVudCkge1xyXG4gICAgbGV0IGRhdGFPYmplY3RSZXBvcnRlciA9IHRoaXMuX2RhdGFPYmplY3RSZXBvcnRlcjtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyLm9uVW5zdWJzY3JpYmVdIGV2ZW50JywgZXZlbnQsIGRhdGFPYmplY3RSZXBvcnRlci51cmwpO1xyXG5cclxuICAgIGxldCBwYXJ0aWNpcGFudCA9IGV2ZW50LmlkZW50aXR5LnVzZXJQcm9maWxlO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXIub25VbnN1YnNjcmliZV0gIHBhcnRpY2lwYW50IGxlZnQnLCBwYXJ0aWNpcGFudCk7XHJcbiAgICBpZiAoZXZlbnQuaWRlbnRpdHkubGVnYWN5KSB7XHJcbiAgICAgIHBhcnRpY2lwYW50LmxlZ2FjeSA9IGV2ZW50LmlkZW50aXR5LmxlZ2FjeTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUgZGF0YU9iamVjdFJlcG9ydGVyLmRhdGEucGFydGljaXBhbnRzW3BhcnRpY2lwYW50LnVzZXJVUkxdO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXIub25VbnN1YnNjcmliZSAtIHRoaXMuX29uVXNlclJlbW92ZWRdICcsIHRoaXMub25Vc2VyUmVtb3ZlZCk7XHJcbiAgICBpZiAodGhpcy5fb25Vc2VyUmVtb3ZlZCkgdGhpcy5fb25Vc2VyUmVtb3ZlZChwYXJ0aWNpcGFudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc2VuZCBhIGZpbGUuXHJcbiAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgZmlsZSAgICAgICAgICAgICAgICAgICAgICAgIElzIHRoZSBmaWxlIHRvIGJlIHNlbnQuXHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxDb21tdW5pY2F0aW9uLkNoYXRNZXNzYWdlPn0gICAgICAgIEl0IHJldHVybnMgdGhlIENoYXRNZXNzYWdlIGNoaWxkIG9iamVjdCBjcmVhdGVkIGJ5IHRoZSBTeW5jaGVyIGFzIGEgUHJvbWlzZS5cclxuICAgKi9cclxuICBzZW5kRmlsZShmaWxlKSB7XHJcblxyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBtb2RlID0gX3RoaXMuY29udHJvbGxlck1vZGU7XHJcbiAgICBsZXQgZGF0YU9iamVjdCA9IG1vZGUgPT09ICdyZXBvcnRlcicgPyBfdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXIgOiBfdGhpcy5kYXRhT2JqZWN0T2JzZXJ2ZXI7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgbGV0IGlkZW50aXR5ID0ge1xyXG4gICAgICAgIHVzZXJQcm9maWxlOiBfdGhpcy5teUlkZW50aXR5XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBkYXRhT2JqZWN0LmFkZEh5cGVydHlSZXNvdXJjZSgncmVzb3VyY2VzJywgJ2ZpbGUnLCAgZmlsZSwgaWRlbnRpdHkpLnRoZW4oZnVuY3Rpb24ocmVzb3VyY2VGaWxlKSB7XHJcblxyXG4gICAgICAgICAgbGV0IGlkZW50aXR5ID0ge1xyXG4gICAgICAgICAgICAgIHVzZXJQcm9maWxlOiBfdGhpcy5teUlkZW50aXR5XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgbGV0IGZpbGVTZW50RXZ0ID0geyB2YWx1ZSA6IHJlc291cmNlRmlsZSwgaWRlbnRpdHk6IGlkZW50aXR5LCByZXNvdXJjZTogcmVzb3VyY2VGaWxlfTtcclxuXHJcbiAgICAgICAgICBsZXQgcmVwb3J0ZXJTdGF0dXMgPSBuZXcgUmVnaXN0cmF0aW9uU3RhdHVzKGRhdGFPYmplY3QudXJsLCBfdGhpcy5fbWFuYWdlci5fcnVudGltZVVSTCwgX3RoaXMuX21hbmFnZXIuX2h5cGVydHlVUkwsIF90aGlzLl9tYW5hZ2VyLl9idXMgKTtcclxuXHJcbiAgICAgICAgICAvLyByZWN1cnNpdmUgZnVuY3Rpb24gdG8gc3luYyB3aXRoIGNoYXQgcmVwb3J0ZXJcclxuXHJcbiAgICAgICAgICAgIGxldCBzaGFyZTJSZXBvcnRlciA9IGZ1bmN0aW9uKGZpbGUsIHN1YnNjcmliZXIsIGV2dCwgc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0YXR1c09mUmVwb3J0ZXIgPSBzdGF0dXM7XHJcbiAgICAgICAgICAgICAgZmlsZS5zaGFyaW5nU3RhdHVzLnRoZW4ocmVzb2x2ZShldnQpKS5jYXRjaCgocmVzdWx0KT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5zZW5kRmlsZV0gc2hhcmUgZmFpbGVkOiAnLCByZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YXR1c09mUmVwb3J0ZXIub25MaXZlKCBzdWJzY3JpYmVyLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXNPZlJlcG9ydGVyLnVuc3Vic2NyaWJlTGl2ZShzdWJzY3JpYmVyKTtcclxuICAgICAgICAgICAgICAgIGZpbGUuc2hhcmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzaGFyZTJSZXBvcnRlcihmaWxlLCBzdWJzY3JpYmVyLCBldnQsIHN0YXR1c09mUmVwb3J0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIC8vVE9ETzogc3Vic2NyaWJlIHRvIHN5bmMgd2hlbiByZXBvcnRlciBpcyBsaXZlLiBOZXcgc3luY2hlZCBtZXNzYWdlcyBzaG91bGQgdHJpZ2dlciBvbk1lc3NhZ2UgaWUgb25DaGlsZFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaGFyZTJSZXBvcnRlcihyZXNvdXJjZUZpbGUsIF90aGlzLl9tYW5hZ2VyLl9oeXBlcnR5VVJMLCBmaWxlU2VudEV2dCwgcmVwb3J0ZXJTdGF0dXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlYXNvbjonLCByZWFzb24pO1xyXG4gICAgICByZWplY3QocmVhc29uKTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzZW5kIGEgY2hhdCBtZXNzYWdlLlxyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gICAgIG1lc3NhZ2UgICAgICAgICAgICAgICAgICAgICAgICBJcyB0aGUgQ2hhdE1lc3NhZ2UgdG8gYmUgc2VudC5cclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPENvbW11bmljYXRpb24uQ2hhdE1lc3NhZ2U+fSAgICAgICAgSXQgcmV0dXJucyB0aGUgQ2hhdE1lc3NhZ2UgY2hpbGQgb2JqZWN0IGNyZWF0ZWQgYnkgdGhlIFN5bmNoZXIgYXMgYSBQcm9taXNlLlxyXG4gICAqL1xyXG4gIHNlbmQobWVzc2FnZSwgaWRlbnRpdHkpIHtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IG1vZGUgPSBfdGhpcy5jb250cm9sbGVyTW9kZTtcclxuICAgIGxldCBkYXRhT2JqZWN0ID0gbW9kZSA9PT0gJ3JlcG9ydGVyJyA/IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlciA6IF90aGlzLmRhdGFPYmplY3RPYnNlcnZlcjtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4vLyAgICAgIGxldCBfZGF0YU9iamVjdENoaWxkO1xyXG4gICAgICBfdGhpcy5jaGlsZF9jc2VxICs9IDE7XHJcbiAgICAgIGxldCBtc2cgPSB7XHJcblxyXG4vKiAgICAgICAgdXJsOiBkYXRhT2JqZWN0LmRhdGEudXJsLFxyXG4gICAgICAgIGNzZXE6IF90aGlzLmNoaWxkX2NzZXEsXHJcbiAgICAgICAgcmVwb3J0ZXI6IGRhdGFPYmplY3QuZGF0YS5yZXBvcnRlcixcclxuICAgICAgICBzY2hlbWE6IGRhdGFPYmplY3QuZGF0YS5zY2hlbWEsXHJcbiAgICAgICAgbmFtZTogZGF0YU9iamVjdC5kYXRhLm5hbWUsXHJcbiAgICAgICAgY3JlYXRlZCA6IG5ldyBEYXRlKCkudG9KU09OKCksKi9cclxuXHJcbiAgICAgICAgdHlwZTogJ2NoYXQnLFxyXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHNlbmRlciA9IGlkZW50aXR5ID8gaWRlbnRpdHkgOiB7XHJcbiAgICAgICAgdXNlclByb2ZpbGU6IF90aGlzLm15SWRlbnRpdHlcclxuICAgICAgfTtcclxuXHJcblxyXG4gICAgICAvLyBUT0RPOiBjaGFuZ2UgY2hhdG1lc3NhZ2VzIHRvIHJlc291cmNlIC0gY2hhdCwgZmlsZVxyXG4gICAgICAvLyBUT0RPOiBjaGFuZ2UgbWVzc2FnZSB0byBoeXBlcnR5UmVzb3VyY2UgLSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2Rldi1zZXJ2aWNlLWZyYW1ld29yay90cmVlL2RldmVsb3AvZG9jcy9kYXRhbW9kZWwvZGF0YS1vYmplY3RzL2h5cGVydHktcmVzb3VyY2VcclxuICAgICAgLy8gVE9ETzogaGFuZGxlIHdpdGggbXVsdGlwbGUgcmVzb3VyY2VzIC0gaWYgdGhlIFwibWVzc2FnZVwiIHdpbGwgYmUgZGlmZmVyZW50IGZvciBlYWNoIHR5cGUgb2YgcmVzb3VyY2VzXHJcbiAgICAgIGRhdGFPYmplY3QuYWRkQ2hpbGQoJ3Jlc291cmNlcycsIG1zZywgc2VuZGVyKS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3RDaGlsZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXJdW2FkZENoaWxkIC0gQ2hhdCBNZXNzYWdlXTogJywgZGF0YU9iamVjdENoaWxkKTtcclxuICAgICAgICAvL3Jlc29sdmUoZGF0YU9iamVjdENoaWxkKTtcclxuXHJcbiAgICAgICAgLy9UT0RPOiBtb3ZlIHRvIHNlcGFyYXRlIGZ1bmN0aW9uXHJcblxyXG5cclxuICAgICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgICAgY2hpbGRJZDogZGF0YU9iamVjdENoaWxkLl9jaGlsZElkLFxyXG4gICAgICAgICAgZnJvbTogZGF0YU9iamVjdENoaWxkLl9vd25lcixcclxuICAgICAgICAgIHZhbHVlOiBkYXRhT2JqZWN0Q2hpbGQuZGF0YSxcclxuICAgICAgICAgIHR5cGU6ICdjcmVhdGUnLFxyXG4gICAgICAgICAgaWRlbnRpdHk6IHNlbmRlclxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCByZXBvcnRlclN0YXR1cyA9IG5ldyBSZWdpc3RyYXRpb25TdGF0dXMoZGF0YU9iamVjdC51cmwsIF90aGlzLl9tYW5hZ2VyLl9ydW50aW1lVVJMLCBfdGhpcy5fbWFuYWdlci5faHlwZXJ0eVVSTCwgX3RoaXMuX21hbmFnZXIuX2J1cyApO1xyXG5cclxuICAgICAgICAvLyByZWN1cnNpdmUgZnVuY3Rpb24gdG8gc3luYyB3aXRoIGNoYXQgcmVwb3J0ZXJcclxuXHJcbiAgICAgICAgICBsZXQgc2hhcmUyUmVwb3J0ZXIgPSBmdW5jdGlvbihjaGlsZCwgc3Vic2NyaWJlciwgbXNnLCBzdGF0dXMpIHtcclxuICAgICAgICAgICAgbGV0IHN0YXR1c09mUmVwb3J0ZXIgPSBzdGF0dXM7XHJcbiAgICAgICAgICAgIGNoaWxkLnNoYXJpbmdTdGF0dXMudGhlbihyZXNvbHZlKG1zZykpLmNhdGNoKChyZXN1bHQpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhdHVzT2ZSZXBvcnRlci5vbkxpdmUoIHN1YnNjcmliZXIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgc3RhdHVzT2ZSZXBvcnRlci51bnN1YnNjcmliZUxpdmUoc3Vic2NyaWJlcik7XHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkLnNoYXJlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICBzaGFyZTJSZXBvcnRlcihjaGlsZCwgc3Vic2NyaWJlciwgbXNnLCBzdGF0dXNPZlJlcG9ydGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBzdWJzY3JpYmUgdG8gc3luYyB3aGVuIHJlcG9ydGVyIGlzIGxpdmUuIE5ldyBzeW5jaGVkIG1lc3NhZ2VzIHNob3VsZCB0cmlnZ2VyIG9uTWVzc2FnZSBpZSBvbkNoaWxkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNoYXJlMlJlcG9ydGVyKGRhdGFPYmplY3RDaGlsZCwgX3RoaXMuX21hbmFnZXIuX2h5cGVydHlVUkwsIG1zZywgcmVwb3J0ZXJTdGF0dXMpO1xyXG5cclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdSZWFzb246JywgcmVhc29uKTtcclxuICAgICAgICByZWplY3QocmVhc29uKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogW29uQ2hhbmdlIGRlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBvbkNoYW5nZShjYWxsYmFjaykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIF90aGlzLl9vbkNoYW5nZSA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlY2VpdmUgbmV3IG1lc3NhZ2VzLlxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBGdW5jdGlvbiB0byBoYW5kbGUgd2l0aCBuZXcgbWVzc2FnZXNcclxuICAgKiBAcmV0dXJuIHtDb21tdW5pY2F0aW9uLkNoYXRNZXNzYWdlfSBtXHJcbiAgICovXHJcbiAgb25NZXNzYWdlKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX29uTWVzc2FnZSA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogW29uVXNlckFkZGVkIGRlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBvblVzZXJBZGRlZChjYWxsYmFjaykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIF90aGlzLl9vblVzZXJBZGRlZCA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgYW4gdXNlciB3YXMgcmVtb3ZlZFxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBGdW5jdGlvbiBoYW5kbGUgd2l0aCB0aGUgcmVtb3ZlZCB1c2VyXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBvblVzZXJSZW1vdmVkKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX29uVXNlclJlbW92ZWQgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByZWNlaXZlIHJlcXVlc3RzIHRvIGNsb3NlIHRoZSBHcm91cCBDaGF0IGluc3RhbmNlLlxyXG4gICAqIEByZXR1cm4ge0RlbGV0ZUV2ZW50fSBUaGUgRGVsZXRlRXZlbnQgZmlyZWQgYnkgdGhlIFN5bmNoZXIgd2hlbiB0aGUgQ2hhdCBpcyBjbG9zZWQuXHJcbiAgICovXHJcbiAgb25DbG9zZShjYWxsYmFjaykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIF90aGlzLl9vbkNsb3NlID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICBvblJlc3BvbnNlKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX29uUmVzcG9uc2UgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhZGQgLyBpbnZpdGUgbmV3IHVzZXIgb24gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS5cclxuICAgKiBPbmx5IHRoZSBSZXBvcnRlciwgaS5lLiB0aGUgSHlwZXJ0eSB0aGF0IGhhcyBjcmVhdGVkIHRoZSBHcm91cCBDaGF0LCBpcyBhbGxvd2VkIHRvIHVzZSB0aGlzIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSB7VVJMLlVzZXJVUkx9ICB1c2VycyAgVXNlciB0byBiZSBpbnZpdGVkIHRvIGpvaW4gdGhlIEdyb3VwIENoYXQgdGhhdCBpcyBpZGVudGlmaWVkIHdpdGggcmVUSElOSyBVc2VyIFVSTC5cclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGJvb2xlYW4+fSAgIEl0IHJldHVybnMgYXMgYSBQcm9taXNlIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IGludml0ZWQgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIGFkZFVzZXIodXNlcnMpIHtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBoYXZlRW1wdHlFbGVtZW50cyA9IChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdFbGVtZW50OicsIGVsZW1lbnQubGVuZ3RoKTtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQubGVuZ3RoICE9PSAwO1xyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgbm90Rm91bmRFbGVtZW50cyA9IChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCd1c2VyIG5vdCBmb3VuZDogJywgZWxlbWVudCk7XHJcbiAgICAgIHJldHVybiAhKGVsZW1lbnQgaW5zdGFuY2VvZiBTdHJpbmcpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblxyXG4gICAgICBpZiAodXNlcnMuZmlsdGVyKGhhdmVFbXB0eUVsZW1lbnRzKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gcmVqZWN0KCdEb25cXCd0IGhhdmUgdXNlcnMgdG8gaW52aXRlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUuaW5mbygnW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyLmFkZFVzZXJzIF06ICcsIHVzZXJzKTtcclxuXHJcbiAgICAgIC8qX3RoaXMuc2VhcmNoLnVzZXJzKHVzZXJzLCBkb21haW5zLCBbJ2NvbW0nXSwgWydjaGF0J10pXHJcblxyXG4gICAgLnRoZW4oKGh5cGVydGllc0lEcykgPT4ge1xyXG5cclxuICAgICAgaWYgKGh5cGVydGllc0lEcy5maWx0ZXIobm90Rm91bmRFbGVtZW50cykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhyb3cgJ1VzZXIocykgbm90IGZvdW5kJztcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHNlbGVjdGVkSHlwZXJ0aWVzID0gaHlwZXJ0aWVzSURzLm1hcCgoaHlwZXJ0eSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBoeXBlcnR5Lmh5cGVydHlJRDtcclxuICAgICAgfSk7Ki9cclxuXHJcbiAgICAgIGxldCB1c2Vyc0Rpc2NvdmVyeSA9IFtdO1xyXG4gICAgICBsZXQgZGlzY29ubmVjdGVkID0gW107XHJcbiAgICAgIGxldCBsaXZlID0ge307XHJcblxyXG4gICAgICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgbGV0IHVzZXJEaXNjb3ZlcnlQcm9taXNlID0gX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzRE8odXNlci51c2VyLCBbJ2NvbW0nXSwgWydjaGF0J10sIHVzZXIuZG9tYWluKTtcclxuICAgICAgICAgIHVzZXJzRGlzY292ZXJ5LnB1c2godXNlckRpc2NvdmVyeVByb21pc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgUHJvbWlzZS5hbGwodXNlcnNEaXNjb3ZlcnkpLnRoZW4oKHVzZXJEaXNjb3ZlcnlSZXN1bHRzKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5hZGRVc2Vyc10gVXNlcnMgRGlzY292ZXJ5IFJlc3VsdHMtPicsIHVzZXJEaXNjb3ZlcnlSZXN1bHRzKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSHlwZXJ0aWVzID0gW107XHJcblxyXG4gICAgICAgICB1c2VyRGlzY292ZXJ5UmVzdWx0cy5mb3JFYWNoKCh1c2VyRGlzY292ZXJ5UmVzdWx0KSA9PiB7XHJcblxyXG4gICAgICAgICAgIHVzZXJEaXNjb3ZlcnlSZXN1bHQuZm9yRWFjaCgoZGlzY292ZXJlZCk9PntcclxuICAgICAgICAgICAgIGlmIChkaXNjb3ZlcmVkLmRhdGEuc3RhdHVzID09PSAnbGl2ZScpe1xyXG4gICAgICAgICAgICAgICBzZWxlY3RlZEh5cGVydGllcy5wdXNoKGRpc2NvdmVyZWQuZGF0YS5oeXBlcnR5SUQpO1xyXG4gICAgICAgICAgICAgICBsaXZlW2Rpc2NvdmVyZWQuZGF0YS5oeXBlcnR5SURdID0gZGlzY292ZXJlZDtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIGVsc2UgaWYgKGRpc2Nvbm5lY3RlZC5sZW5ndGggPCA1KSBkaXNjb25uZWN0ZWQucHVzaChkaXNjb3ZlcmVkKTtcclxuICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTeW5jaGVyIENyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxcbicpO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyXVNlbGVjdGVkIEh5cGVydGllczogISEhICcsIHNlbGVjdGVkSHlwZXJ0aWVzKTtcclxuICAgICAgICBjb25zb2xlLmluZm8oYEhhdmUgJHtzZWxlY3RlZEh5cGVydGllcy5sZW5ndGh9IHVzZXJzO2ApO1xyXG4vLyAgICAgICAgY29uc29sZS5pbmZvKCdbQ2hhdE1hbmFnZXJdIEh5cGVydGllc0lEcyAnLCBoeXBlcnRpZXNJRHMpO1xyXG5cclxuICAgICAgICBsZXQgZGF0YU9iamVjdCA9IF90aGlzLmNvbnRyb2xsZXJNb2RlID09PSAncmVwb3J0ZXInID8gX3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyIDogX3RoaXMuZGF0YU9iamVjdE9ic2VydmVyO1xyXG5cclxuICAgICAgICBpZiAoZGlzY29ubmVjdGVkLmxlbmd0aCA+IDApIF90aGlzLl9pbnZpdGF0aW9uc0hhbmRsZXIuaW52aXRlRGlzY29ubmVjdGVkSHlwZXJ0aWVzKGRpc2Nvbm5lY3RlZCwgZGF0YU9iamVjdCk7XHJcblxyXG4gICAgICAgIGRhdGFPYmplY3QuaW52aXRlT2JzZXJ2ZXJzKHNlbGVjdGVkSHlwZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGFPYmplY3QuaW52aXRhdGlvbnMubGVuZ3RoID4gMCkgX3RoaXMuX2ludml0YXRpb25zSGFuZGxlci5wcm9jZXNzSW52aXRhdGlvbnMobGl2ZSwgZGF0YU9iamVjdCk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlcl1BcmUgaW52aXRlZCB3aXRoIHN1Y2Nlc3MgJyArIHVzZXJzLmxlbmd0aCArICcgdXNlcnM7Jyk7XHJcbiAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGludml0ZSB1c2VycztcXG4nLCByZWFzb24pO1xyXG4gICAgICAgICAgcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlcXVlc3QgdGhlIFJlcG9ydGVyIHRvIGFkZCAvIGludml0ZSBuZXcgdXNlciBvbiBhbiBleGlzdGluZyBHcm91cCBDaGF0IGluc3RhbmNlLlxyXG4gICAqIE9ubHkgT2JzZXJ2ZXJzIGFyZSBhbGxvd2VkIHRvIHVzZSB0aGlzIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSB7VVJMLlVzZXJVUkx9ICB1c2VycyAgVXNlciB0byBiZSBpbnZpdGVkIHRvIGpvaW4gdGhlIEdyb3VwIENoYXQgdGhhdCBpcyBpZGVudGlmaWVkIHdpdGggcmVUSElOSyBVc2VyIFVSTC5cclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGJvb2xlYW4+fSAgIEl0IHJldHVybnMgYXMgYSBQcm9taXNlIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IGludml0ZWQgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIGFkZFVzZXJSZXEodXNlcnMpIHtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vY2hlY2sgaXMgT2JzZXJ2ZXIgYW5kIGludm9rZSBvYnNlcnZlci5leGVjdXRlKCkgd2l0aCBuZXcgcHJvbWlzZVxyXG4gICAgbGV0IGhhdmVFbXB0eUVsZW1lbnRzID0gKGVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0VsZW1lbnQ6JywgZWxlbWVudC5sZW5ndGgpO1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5sZW5ndGggIT09IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgIGlmICh1c2Vycy5maWx0ZXIoaGF2ZUVtcHR5RWxlbWVudHMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiByZWplY3QoJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5hZGRVc2VyUmVxXSBEb25cXCd0IGhhdmUgdXNlcnMgdG8gYWRkJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFfdGhpcy5jb250cm9sbGVyTW9kZSA9PT0gJ29ic2VydmVyJykge1xyXG4gICAgICAgIHJldHVybiByZWplY3QoJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5hZGRVc2VyUmVxXSBvbmx5IGFsbG93ZWQgdG8gQ2hhdCBPYnNlcnZlcicpO1xyXG5cclxuICAgICAgbGV0IGFkZFVzZXIgPSBfdGhpcy5hZGRVc2VyKHVzZXJzKTtcclxuXHJcbiAgICAgIGlmIChfdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyKSB7XHJcbiAgICAgICAgYWRkVXNlciA9IF90aGlzLl9kYXRhT2JqZWN0T2JzZXJ2ZXIuZXhlY3V0ZSgnYWRkVXNlcicsIHVzZXJzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWRkVXNlci50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5hZGRVc2VyUmVxXSBSZXF1ZXN0IGFjY2VwdGVkIGJ5IFJlcG9ydGVyICcpO1xyXG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXIuYWRkVXNlclJlcV0gUmVxdWVzdCByZWplY3RlZCBieSBSZXBvcnRlcjtcXG4nLCByZWFzb24pO1xyXG4gICAgICAgIHJlamVjdChyZWFzb24pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG4gIG9uSW52aXRhdGlvblJlc3BvbnNlKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX29uSW52aXRhdGlvblJlc3BvbnNlID0gY2FsbGJhY2s7XHJcbiAgICBfdGhpcy5faW52aXRhdGlvbnNIYW5kbGVyLmludml0YXRpb25SZXNwb25zZSA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByZW1vdmUgYSB1c2VyIGZyb20gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS5cclxuICAgKiBPbmx5IHRoZSBSZXBvcnRlciwgaS5lLiB0aGUgSHlwZXJ0eSB0aGF0IGhhcyBjcmVhdGVkIHRoZSBHcm91cCBDaGF0LCBpcyBhbGxvd2VkIHRvIHVzZSB0aGlzIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm4gezxQcm9taXNlPiBib29sZWFufSBQcm9taXNlIHdpdGggdGhlIHN0YXR1c1xyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcmVtb3ZlIGEgdXNlciBmcm9tIGFuIGV4aXN0aW5nIEdyb3VwIENoYXQgaW5zdGFuY2UuXHJcbiAgICogT25seSB0aGUgUmVwb3J0ZXIsIGkuZS4gdGhlIEh5cGVydHkgdGhhdCBoYXMgY3JlYXRlZCB0aGUgR3JvdXAgQ2hhdCwgaXMgYWxsb3dlZCB0byB1c2UgdGhpcyBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0gIHtVUkwuVXNlclVSTH0gdXNlciAgICAgICBVc2VyIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgR3JvdXAgQ2hhdCB0aGF0IGlzIGlkZW50aWZpZWQgd2l0aCByZVRISU5LIFVzZXIgVVJMLlxyXG4gICAqIEByZXR1cm4gezxQcm9taXNlPiBib29sZWFufSAgICAgIEl0IHJldHVybnMgYXMgYSBQcm9taXNlIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIHJlbW92ZVVzZXIodXNlcikge1xyXG5cclxuICAgIC8vIFRPRE86IGltcGxlbWVudCB0aGUgcmVtb3ZlVXNlcjtcclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXIuQ2hhdENvbnRyb2xsZXJdTm90IHlldCBpbXBsZW1lbnRlZDogJywgdXNlcik7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNsb3NlIGFuIGV4aXN0aW5nIEdyb3VwIENoYXQgaW5zdGFuY2UuXHJcbiAgICogT25seSBhdmFpbGFibGUgdG8gQ2hhdCBHcm91cCBSZXBvcnRlcnMgaS5lLiB0aGUgSHlwZXJ0eSBpbnN0YW5jZSB0aGF0IGNyZWF0ZWQgdGhlIEdyb3VwIENoYXQuXHJcbiAgICogQHJldHVybiB7PFByb21pc2U+Qm9vbGVhbn0gSXQgcmV0dXJucyBhcyBhIFByb21pc2UgdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgY2xvc2VkIG9yIGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cclxuICBjbG9zZSgpIHtcclxuICAgIC8vIFRPRE86IHRoZSBkYXRhT2JqZWN0UmVwb3J0ZXIuZGVsZXRlIHNob3VsZCBiZSBhbiBQcm9taXNlO1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgaWYgKF90aGlzLmNvbnRyb2xsZXJNb2RlID09PSAncmVwb3J0ZXInKSB7XHJcbiAgICAgICAgICBfdGhpcy5faW52aXRhdGlvbnNIYW5kbGVyLmNsZWFuSW52aXRhdGlvbnMoX3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX21hbmFnZXIuX3JlcG9ydGVyc0NvbnRyb2xsZXJzW190aGlzLmRhdGFPYmplY3RSZXBvcnRlci51cmxdO1xyXG4gICAgICAgICAgICAgIF90aGlzLmRhdGFPYmplY3RSZXBvcnRlci5kZWxldGUoKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgIGlmIChfdGhpcy5fb25DbG9zZSkgX3RoaXMuX29uQ2xvc2Uoe1xyXG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogJ2RlbGV0ZWQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBfdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXIudXJsXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBkZWxldGUgX3RoaXMuX21hbmFnZXIuX29ic2VydmVyc0NvbnRyb2xsZXJzW190aGlzLmRhdGFPYmplY3RPYnNlcnZlci51cmxdO1xyXG4gICAgICAgICAgX3RoaXMuZGF0YU9iamVjdE9ic2VydmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICByZWplY3QoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENoYXRDb250cm9sbGVyO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY2hhdE1hbmFnZXIvQ2hhdENvbnRyb2xsZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///149\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserInfo = undefined;\n\nvar _defineProperty2 = __webpack_require__(171);\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _utils = __webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UserInfo = exports.UserInfo = function UserInfo(hypertyURL, domain, identity) {\n  var _ref;\n\n  (0, _classCallCheck3.default)(this, UserInfo);\n\n\n  var completeIdentity = (0, _utils.deepClone)(identity);\n  if (!identity.hasOwnProperty('userProfile')) {\n    completeIdentity['userProfile'] = identity;\n  }\n\n  return _ref = {\n    hypertyURL: hypertyURL,\n    domain: domain }, (0, _defineProperty3.default)(_ref, 'domain', domain), (0, _defineProperty3.default)(_ref, 'identity', completeIdentity), _ref;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhdE1hbmFnZXIvVXNlckluZm8uanM/NzdkMiJdLCJuYW1lcyI6WyJVc2VySW5mbyIsImh5cGVydHlVUkwiLCJkb21haW4iLCJpZGVudGl0eSIsImNvbXBsZXRlSWRlbnRpdHkiLCJoYXNPd25Qcm9wZXJ0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7SUFFYUEsUSxXQUFBQSxRLEdBRVgsa0JBQVlDLFVBQVosRUFBd0JDLE1BQXhCLEVBQWdDQyxRQUFoQyxFQUEwQztBQUFBOztBQUFBOzs7QUFFeEMsTUFBSUMsbUJBQW1CLHNCQUFVRCxRQUFWLENBQXZCO0FBQ0EsTUFBSSxDQUFDQSxTQUFTRSxjQUFULENBQXdCLGFBQXhCLENBQUwsRUFBNkM7QUFDM0NELHFCQUFpQixhQUFqQixJQUFrQ0QsUUFBbEM7QUFDRDs7QUFFRDtBQUNFRixnQkFBWUEsVUFEZDtBQUVFQyxrQkFGRixrREFFVUEsTUFGVixtREFHWUUsZ0JBSFo7QUFNRCxDIiwiZmlsZSI6IjE1MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGh5cGVydHlVUkwsIGRvbWFpbiwgaWRlbnRpdHkpIHtcclxuXHJcbiAgICBsZXQgY29tcGxldGVJZGVudGl0eSA9IGRlZXBDbG9uZShpZGVudGl0eSk7XHJcbiAgICBpZiAoIWlkZW50aXR5Lmhhc093blByb3BlcnR5KCd1c2VyUHJvZmlsZScpKSB7XHJcbiAgICAgIGNvbXBsZXRlSWRlbnRpdHlbJ3VzZXJQcm9maWxlJ10gPSBpZGVudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoeXBlcnR5VVJMOiBoeXBlcnR5VVJMLFxyXG4gICAgICBkb21haW4sIGRvbWFpbixcclxuICAgICAgaWRlbnRpdHk6IGNvbXBsZXRlSWRlbnRpdHlcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY2hhdE1hbmFnZXIvVXNlckluZm8uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///150\n")},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.ChatController = exports.ChatManager = undefined;\n\nvar _ChatManager = __webpack_require__(168);\n\nvar _ChatManager2 = _interopRequireDefault(_ChatManager);\n\nvar _ChatController = __webpack_require__(149);\n\nvar _ChatController2 = _interopRequireDefault(_ChatController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.ChatManager = _ChatManager2.default;\nexports.ChatController = _ChatController2.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ2hhdE1hbmFnZXIuanM/M2IzZCJdLCJuYW1lcyI6WyJDaGF0TWFuYWdlciIsIkNoYXRDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O1FBRVFBLFcsR0FBQUEscUI7UUFBYUMsYyxHQUFBQSx3QiIsImZpbGUiOiIxNjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2hhdE1hbmFnZXIgZnJvbSAnLi9jaGF0TWFuYWdlci9DaGF0TWFuYWdlcic7XHJcbmltcG9ydCBDaGF0Q29udHJvbGxlciBmcm9tICcuL2NoYXRNYW5hZ2VyL0NoYXRDb250cm9sbGVyJztcclxuXHJcbmV4cG9ydCB7Q2hhdE1hbmFnZXIsIENoYXRDb250cm9sbGVyfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL0NoYXRNYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///167\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = __webpack_require__(78);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _IdentityManager = __webpack_require__(148);\n\nvar _IdentityManager2 = _interopRequireDefault(_IdentityManager);\n\nvar _Discovery = __webpack_require__(138);\n\nvar _Discovery2 = _interopRequireDefault(_Discovery);\n\nvar _Syncher = __webpack_require__(131);\n\nvar _Syncher2 = _interopRequireDefault(_Syncher);\n\nvar _utils = __webpack_require__(19);\n\nvar _Search = __webpack_require__(169);\n\nvar _Search2 = _interopRequireDefault(_Search);\n\nvar _communication = __webpack_require__(170);\n\nvar _ChatController = __webpack_require__(149);\n\nvar _ChatController2 = _interopRequireDefault(_ChatController);\n\nvar _UserInfo = __webpack_require__(150);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Hyperty Group Chat Manager API (HypertyChat)\r\n* @author Vitor Silva [vitor-t-silva@telecom.pt]\r\n* @version 0.1.0\r\n*/\n\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\n// Service Framework\nvar ChatManager = function () {\n  function ChatManager(myUrl, bus, configuration, syncher) {\n    (0, _classCallCheck3.default)(this, ChatManager);\n\n    if (!myUrl) throw new Error('[ChatManager.constructor] The myUrl is a needed parameter');\n    if (!bus) throw new Error('[ChatManager.constructor] The MiniBus is a needed parameter');\n    if (!configuration) throw new Error('[ChatManager.constructor] The configuration is a needed parameter');\n\n    var _this = this;\n    if (!syncher) {\n      syncher = new _Syncher2.default(myUrl, bus, configuration);\n    }\n\n    _this._runtimeURL = configuration.runtimeURL;\n\n    var domain = (0, _utils.divideURL)(_this._runtimeURL).domain;\n    var discovery = new _Discovery2.default(myUrl, configuration.runtimeURL, bus);\n    var identityManager = new _IdentityManager2.default(myUrl, configuration.runtimeURL, bus);\n\n    _this._objectDescURL = 'hyperty-catalogue://catalogue.' + domain + '/.well-known/dataschema/Communication';\n\n    _this._reportersControllers = {};\n    _this._observersControllers = {};\n\n    _this._myUrl = myUrl;\n    _this._bus = bus;\n    _this._syncher = syncher;\n    _this._domain = domain;\n\n    _this.discovery = discovery;\n    _this.identityManager = identityManager;\n    _this.currentIdentity;\n\n    _this.search = new _Search2.default(discovery, identityManager);\n\n    _this.communicationObject = _communication.communicationObject;\n\n    _this.communicationChildren = _communication.communicationChildren;\n\n    console.log('[ChatManager] Discover ', discovery);\n    console.log('[ChatManager] Identity Manager ', identityManager);\n  }\n\n  (0, _createClass3.default)(ChatManager, [{\n    key: 'processNotification',\n    value: function processNotification(event) {\n      var _this = this;\n      console.log('[ChatManager.processNotification: ', event);\n\n      if (event.type === 'create') {\n\n        // TODO: replace the 100 for Message.Response\n        // event.ack(200);\n\n        if (_this._onInvitation) {\n          _this._onInvitation(event);\n        }\n      }\n\n      if (event.type === 'delete') {\n        // TODO: replace the 200 for Message.Response\n        event.ack(200);\n\n        _this._observersControllers[event.url].closeEvent = event;\n\n        delete _this._observersControllers[event.url];\n\n        _this._observersControllers.closeEvent = event;\n\n        _this.communicationObject = _communication.communicationObject;\n\n        for (var url in this._reportersControllers) {\n          this._reportersControllers[url].closeEvent(event);\n        }\n\n        for (var _url in this._observersControllers) {\n          this._observersControllers[_url].closeEvent(event);\n        }\n      }\n    }\n  }, {\n    key: 'myIdentity',\n    value: function myIdentity(identity) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        console.info('[ChatManager.myIdentity]');\n        if (identity) return resolve(identity);\n\n        if (_this._myUrl.includes('hyperty://')) {\n          _this.identityManager.discoverUserRegistered().then(function (identity) {\n            resolve(identity);\n          }).catch(function (reason) {\n            reject(reason);\n          });\n        } else {\n          _this.identityManager.discoverIdentityPerIdP().then(function (identity) {\n            resolve(identity);\n          }).catch(function (reason) {\n            reject(reason);\n          });\n        }\n      });\n    }\n\n    /**\r\n     * This function is used to create a new Group Chat providing the name and the identifiers of users to be invited.\r\n     * @param  {string}                     name  Is a string to identify the Group Chat\r\n     * @param  {array<URL.userURL>}         users Array of users to be invited to join the Group Chat. Users are identified with reTHINK User URL, like this format user://<ipddomain>/<user-identifier>\r\n     * @return {<Promise>ChatController}    A ChatController object as a Promise.\r\n     */\n\n  }, {\n    key: 'create',\n    value: function create(name, users) {\n      var extra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\n      var _this = this;\n      var syncher = _this._syncher;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.communicationObject = _communication.communicationObject;\n        _this.communicationObject.cseq = 1;\n        _this.communicationObject.startingTime = new Date().toJSON();\n        _this.communicationObject.status = _communication.CommunicationStatus.OPEN;\n\n        var myIdentity = void 0;\n\n        _this.myIdentity().then(function (identity) {\n          myIdentity = identity;\n          console.log('[ChatManager.create ] My Identity', identity);\n\n          // let url = _this.communicationObject.reporter;\n\n          var userInfo = new _UserInfo.UserInfo(_this._myUrl, _this._domain, identity);\n\n          // Add my identity\n          _this.communicationObject.participants[identity.userURL] = userInfo;\n\n          console.log('[ChatManager.create ] participants: ', _this.communicationObject.participants);\n          console.log('[ChatManager.create ] communicationObject', _this.communicationObject);\n          console.info('[ChatManager.create] searching ' + users);\n\n          //let usersSearch = _this.search.users(users, domains, ['comm'], ['chat']);\n\n          var usersDiscovery = [];\n\n          var disconnected = [];\n          var live = {};\n          var mutual = true;\n\n          users.forEach(function (user) {\n            var userDiscoveryPromise = _this.discovery.discoverHypertiesDO(user.user, ['comm'], ['chat'], user.domain);\n            usersDiscovery.push(userDiscoveryPromise);\n\n            //if (user.user.includes('://')) mutual = false;\n          });\n\n          _promise2.default.all(usersDiscovery).then(function (userDiscoveryResults) {\n            console.log('[ChatManager.create] Users Discovery Results->', userDiscoveryResults);\n\n            var selectedHyperties = [];\n\n            userDiscoveryResults.forEach(function (userDiscoveryResult) {\n\n              userDiscoveryResult.forEach(function (discovered) {\n                if (discovered.data.status === 'live') {\n                  selectedHyperties.push(discovered.data.hypertyID);\n                  live[discovered.data.hypertyID] = discovered;\n                } else {\n                  // To control the number of subscriptions to disconnected devices\n                  if (disconnected.length < 5) {\n                    disconnected.push(discovered);\n                  }\n                }\n              });\n            });\n\n            /*        return usersSearch;\r\n            }).then((hypertiesIDs) => {\r\n            let selectedHyperties = hypertiesIDs.map((hyperty) => {\r\n            return hyperty.hypertyID;\r\n            }); */\n\n            console.info('[ChatManager] ---------------------- Syncher Create ---------------------- \\n');\n            console.info('[ChatManager] Selected Hyperties: !!! ', selectedHyperties);\n            console.info('Have ' + selectedHyperties.length + ' users;');\n\n            var input = (0, _assign2.default)({ resources: ['chat'], mutual: mutual }, extra);\n            delete input.name;\n\n            console.info('[ChatManager] input data:', input);\n            return syncher.create(_this._objectDescURL, selectedHyperties, _this.communicationObject, true, false, name, {}, input);\n          }).then(function (dataObjectReporter) {\n\n            console.info('[ChatManager] 3. Return Create Data Object Reporter', dataObjectReporter);\n\n            var chatController = new _ChatController2.default(syncher, _this.discovery, _this._domain, _this.search, myIdentity, _this);\n            chatController.dataObjectReporter = dataObjectReporter;\n\n            _this._reportersControllers[dataObjectReporter.url] = chatController;\n\n            console.log('[ChatManager] chatController invitationsHandler: ', chatController.invitationsHandler);\n\n            // process invitations to handle not received invitations\n            if (dataObjectReporter.invitations.length > 0) {\n              chatController.invitationsHandler.processInvitations(live, dataObjectReporter);\n            }\n\n            // If any invited User is disconnected let's wait until it is connected again\n            if (disconnected.length > 0) chatController.invitationsHandler.inviteDisconnectedHyperties(disconnected, dataObjectReporter);\n\n            resolve(chatController);\n          }).catch(function (reason) {\n            reject(reason);\n          });\n        }).catch(function (reason) {\n          console.log('[ChatManager.create] MyIdentity Error:', reason);\n          return reject(reason);\n        });\n      });\n    }\n\n    /**\r\n     * This function is used to handle notifications about incoming invitations to join a Group Chat.\r\n     * @param  {Function} CreateEvent The CreateEvent fired by the Syncher when an invitaion is received\r\n     */\n\n  }, {\n    key: 'onInvitation',\n    value: function onInvitation(callback) {\n      var _this = this;\n      _this._onInvitation = callback;\n    }\n\n    /**\r\n     * This function is used to join a Group Chat.\r\n     * @param  {URL.CommunicationURL} invitationURL  The Communication URL of the Group Chat to join that is provided in the invitation event\r\n     * @return {<Promise>ChatController}             It returns the ChatController object as a Promise\r\n     */\n\n  }, {\n    key: 'join',\n    value: function join(invitationURL) {\n      var mutual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var identity = arguments[2];\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        var syncher = _this._syncher;\n        var myIdentity = void 0;\n\n        console.info('[ChatManager] ------------------------ Syncher subscribe ---------------------- \\n');\n        console.info('invitationURL', invitationURL);\n        _this.myIdentity(identity).then(function (identity) {\n          myIdentity = identity;\n          return syncher.subscribe(_this._objectDescURL, invitationURL, true, false, mutual, identity);\n        }).then(function (dataObjectObserver) {\n          console.info('Data Object Observer: ', dataObjectObserver);\n\n          var chatController = new _ChatController2.default(syncher, _this.discovery, _this._domain, _this.search, myIdentity, _this);\n          resolve(chatController);\n\n          chatController.dataObjectObserver = dataObjectObserver;\n\n          _this._observersControllers[dataObjectObserver.url] = chatController;\n        }).catch(function (reason) {\n          reject(reason);\n        });\n      });\n    }\n  }]);\n  return ChatManager;\n}();\n\n// Internals\n\n\n// Utils\n\n//import RegistrationStatus from '../discovery/RegistrationStatus';\n\n\nexports.default = ChatManager;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhdE1hbmFnZXIvQ2hhdE1hbmFnZXIuanM/Y2M3OSJdLCJuYW1lcyI6WyJDaGF0TWFuYWdlciIsIm15VXJsIiwiYnVzIiwiY29uZmlndXJhdGlvbiIsInN5bmNoZXIiLCJFcnJvciIsIl90aGlzIiwiU3luY2hlciIsIl9ydW50aW1lVVJMIiwicnVudGltZVVSTCIsImRvbWFpbiIsImRpc2NvdmVyeSIsIkRpc2NvdmVyeSIsImlkZW50aXR5TWFuYWdlciIsIklkZW50aXR5TWFuYWdlciIsIl9vYmplY3REZXNjVVJMIiwiX3JlcG9ydGVyc0NvbnRyb2xsZXJzIiwiX29ic2VydmVyc0NvbnRyb2xsZXJzIiwiX215VXJsIiwiX2J1cyIsIl9zeW5jaGVyIiwiX2RvbWFpbiIsImN1cnJlbnRJZGVudGl0eSIsInNlYXJjaCIsIlNlYXJjaCIsImNvbW11bmljYXRpb25PYmplY3QiLCJjb21tdW5pY2F0aW9uQ2hpbGRyZW4iLCJjb25zb2xlIiwibG9nIiwiZXZlbnQiLCJ0eXBlIiwiX29uSW52aXRhdGlvbiIsImFjayIsInVybCIsImNsb3NlRXZlbnQiLCJpZGVudGl0eSIsInJlc29sdmUiLCJyZWplY3QiLCJpbmZvIiwiaW5jbHVkZXMiLCJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIiwidGhlbiIsImNhdGNoIiwicmVhc29uIiwiZGlzY292ZXJJZGVudGl0eVBlcklkUCIsIm5hbWUiLCJ1c2VycyIsImV4dHJhIiwiY3NlcSIsInN0YXJ0aW5nVGltZSIsIkRhdGUiLCJ0b0pTT04iLCJzdGF0dXMiLCJDb21tdW5pY2F0aW9uU3RhdHVzIiwiT1BFTiIsIm15SWRlbnRpdHkiLCJ1c2VySW5mbyIsIlVzZXJJbmZvIiwicGFydGljaXBhbnRzIiwidXNlclVSTCIsInVzZXJzRGlzY292ZXJ5IiwiZGlzY29ubmVjdGVkIiwibGl2ZSIsIm11dHVhbCIsImZvckVhY2giLCJ1c2VyIiwidXNlckRpc2NvdmVyeVByb21pc2UiLCJkaXNjb3Zlckh5cGVydGllc0RPIiwicHVzaCIsImFsbCIsInVzZXJEaXNjb3ZlcnlSZXN1bHRzIiwic2VsZWN0ZWRIeXBlcnRpZXMiLCJ1c2VyRGlzY292ZXJ5UmVzdWx0IiwiZGlzY292ZXJlZCIsImRhdGEiLCJoeXBlcnR5SUQiLCJsZW5ndGgiLCJpbnB1dCIsInJlc291cmNlcyIsImNyZWF0ZSIsImRhdGFPYmplY3RSZXBvcnRlciIsImNoYXRDb250cm9sbGVyIiwiQ2hhdENvbnRyb2xsZXIiLCJpbnZpdGF0aW9uc0hhbmRsZXIiLCJpbnZpdGF0aW9ucyIsInByb2Nlc3NJbnZpdGF0aW9ucyIsImludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllcyIsImNhbGxiYWNrIiwiaW52aXRhdGlvblVSTCIsInN1YnNjcmliZSIsImRhdGFPYmplY3RPYnNlcnZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFHQTs7QUFDQTs7OztBQUdBOztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7Ozs7O0FBdENBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTtJQW9CTUEsVztBQUVKLHVCQUFZQyxLQUFaLEVBQW1CQyxHQUFuQixFQUF3QkMsYUFBeEIsRUFBdUNDLE9BQXZDLEVBQWdEO0FBQUE7O0FBQzlDLFFBQUksQ0FBQ0gsS0FBTCxFQUFZLE1BQU0sSUFBSUksS0FBSixDQUFVLDJEQUFWLENBQU47QUFDWixRQUFJLENBQUNILEdBQUwsRUFBVSxNQUFNLElBQUlHLEtBQUosQ0FBVSw2REFBVixDQUFOO0FBQ1YsUUFBSSxDQUFDRixhQUFMLEVBQW9CLE1BQU0sSUFBSUUsS0FBSixDQUFVLG1FQUFWLENBQU47O0FBRXBCLFFBQUlDLFFBQVEsSUFBWjtBQUNBLFFBQUksQ0FBQ0YsT0FBTCxFQUFjO0FBQ1pBLGdCQUFVLElBQUlHLGlCQUFKLENBQVlOLEtBQVosRUFBbUJDLEdBQW5CLEVBQXdCQyxhQUF4QixDQUFWO0FBQ0Q7O0FBRURHLFVBQU1FLFdBQU4sR0FBb0JMLGNBQWNN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QWpCLEVBQTJCTSxJQUEzQixDQUFnQyxVQUFDTixRQUFELEVBQWM7QUFDNUNvQix1QkFBYXBCLFFBQWI7QUFDQSxpQkFBTy9CLFFBQVFxRixTQUFSLENBQWtCbkYsTUFBTVMsY0FBeEIsRUFBd0N5RSxhQUF4QyxFQUF1RCxJQUF2RCxFQUE2RCxLQUE3RCxFQUFvRXpCLE1BQXBFLEVBQTRFNUIsUUFBNUUsQ0FBUDtBQUVELFNBSkQsRUFJR00sSUFKSCxDQUlRLFVBQVNpRCxrQkFBVCxFQUE2QjtBQUNuQy9ELGtCQUFRVyxJQUFSLENBQWEsd0JBQWIsRUFBdUNvRCxrQkFBdkM7O0FBRUEsY0FBSVQsaUJBQWlCLElBQUlDLHdCQUFKLENBQW1COUUsT0FBbkIsRUFBNEJFLE1BQU1LLFNBQWxDLEVBQTZDTCxNQUFNZSxPQUFuRCxFQUE0RGYsTUFBTWlCLE1BQWxFLEVBQTBFZ0MsVUFBMUUsRUFBc0ZqRCxLQUF0RixDQUFyQjtBQUNBOEIsa0JBQVE2QyxjQUFSOztBQUVBQSx5QkFBZVMsa0JBQWYsR0FBb0NBLGtCQUFwQzs7QUFFQXBGLGdCQUFNVyxxQkFBTixDQUE0QnlFLG1CQUFtQnpELEdBQS9DLElBQXNEZ0QsY0FBdEQ7QUFFRCxTQWRELEVBY0d2QyxLQWRILENBY1MsVUFBU0MsTUFBVCxFQUFpQjtBQUN4Qk4saUJBQU9NLE1BQVA7QUFDRCxTQWhCRDtBQWlCRCxPQXZCTSxDQUFQO0FBeUJEOzs7OztBQXJSSDs7O0FBSkE7O0FBSkE7OztrQkFpU2UzQyxXIiwiZmlsZSI6IjE2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcblxyXG4vLyBTZXJ2aWNlIEZyYW1ld29ya1xyXG5pbXBvcnQgSWRlbnRpdHlNYW5hZ2VyIGZyb20gJy4uL2lkZW50aXR5TWFuYWdlci9JZGVudGl0eU1hbmFnZXInO1xyXG4vL2ltcG9ydCBSZWdpc3RyYXRpb25TdGF0dXMgZnJvbSAnLi4vZGlzY292ZXJ5L1JlZ2lzdHJhdGlvblN0YXR1cyc7XHJcbmltcG9ydCBEaXNjb3ZlcnkgZnJvbSAnLi4vZGlzY292ZXJ5L0Rpc2NvdmVyeSc7XHJcbmltcG9ydCBTeW5jaGVyIGZyb20gJy4uL3N5bmNoZXIvU3luY2hlcic7XHJcblxyXG4vLyBVdGlsc1xyXG5pbXBvcnQge2RpdmlkZVVSTH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgU2VhcmNoIGZyb20gJy4uL3V0aWxzL1NlYXJjaCc7XHJcblxyXG4vLyBJbnRlcm5hbHNcclxuaW1wb3J0IHsgY29tbXVuaWNhdGlvbk9iamVjdCwgQ29tbXVuaWNhdGlvblN0YXR1cywgY29tbXVuaWNhdGlvbkNoaWxkcmVuIH0gZnJvbSAnLi9jb21tdW5pY2F0aW9uJztcclxuaW1wb3J0IENoYXRDb250cm9sbGVyIGZyb20gJy4vQ2hhdENvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gJy4vVXNlckluZm8nO1xyXG5cclxuLyoqXHJcbiogSHlwZXJ0eSBHcm91cCBDaGF0IE1hbmFnZXIgQVBJIChIeXBlcnR5Q2hhdClcclxuKiBAYXV0aG9yIFZpdG9yIFNpbHZhIFt2aXRvci10LXNpbHZhQHRlbGVjb20ucHRdXHJcbiogQHZlcnNpb24gMC4xLjBcclxuKi9cclxuY2xhc3MgQ2hhdE1hbmFnZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihteVVybCwgYnVzLCBjb25maWd1cmF0aW9uLCBzeW5jaGVyKSB7XHJcbiAgICBpZiAoIW15VXJsKSB0aHJvdyBuZXcgRXJyb3IoJ1tDaGF0TWFuYWdlci5jb25zdHJ1Y3Rvcl0gVGhlIG15VXJsIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO1xyXG4gICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignW0NoYXRNYW5hZ2VyLmNvbnN0cnVjdG9yXSBUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtcclxuICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdbQ2hhdE1hbmFnZXIuY29uc3RydWN0b3JdIFRoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBpZiAoIXN5bmNoZXIpIHtcclxuICAgICAgc3luY2hlciA9IG5ldyBTeW5jaGVyKG15VXJsLCBidXMsIGNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzLl9ydW50aW1lVVJMID0gY29uZmlndXJhdGlvbi5ydW50aW1lVVJMO1xyXG5cclxuICAgIGxldCBkb21haW4gPSBkaXZpZGVVUkwoX3RoaXMuX3J1bnRpbWVVUkwpLmRvbWFpbjtcclxuICAgIGxldCBkaXNjb3ZlcnkgPSBuZXcgRGlzY292ZXJ5KG15VXJsLCBjb25maWd1cmF0aW9uLnJ1bnRpbWVVUkwsIGJ1cyk7XHJcbiAgICBsZXQgaWRlbnRpdHlNYW5hZ2VyID0gbmV3IElkZW50aXR5TWFuYWdlcihteVVybCwgY29uZmlndXJhdGlvbi5ydW50aW1lVVJMLCBidXMpO1xyXG5cclxuICAgIF90aGlzLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyBkb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29tbXVuaWNhdGlvbic7XHJcblxyXG4gICAgX3RoaXMuX3JlcG9ydGVyc0NvbnRyb2xsZXJzID0ge307XHJcbiAgICBfdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnMgPSB7fTtcclxuXHJcbiAgICBfdGhpcy5fbXlVcmwgPSBteVVybDtcclxuICAgIF90aGlzLl9idXMgPSBidXM7XHJcbiAgICBfdGhpcy5fc3luY2hlciA9IHN5bmNoZXI7XHJcbiAgICBfdGhpcy5fZG9tYWluID0gZG9tYWluO1xyXG5cclxuICAgIF90aGlzLmRpc2NvdmVyeSA9IGRpc2NvdmVyeTtcclxuICAgIF90aGlzLmlkZW50aXR5TWFuYWdlciA9IGlkZW50aXR5TWFuYWdlcjtcclxuICAgIF90aGlzLmN1cnJlbnRJZGVudGl0eTtcclxuXHJcbiAgICBfdGhpcy5zZWFyY2ggPSBuZXcgU2VhcmNoKGRpc2NvdmVyeSwgaWRlbnRpdHlNYW5hZ2VyKTtcclxuXHJcbiAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0ID0gY29tbXVuaWNhdGlvbk9iamVjdDtcclxuXHJcbiAgICBfdGhpcy5jb21tdW5pY2F0aW9uQ2hpbGRyZW4gPSBjb21tdW5pY2F0aW9uQ2hpbGRyZW47XHJcblxyXG4gICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlcl0gRGlzY292ZXIgJywgZGlzY292ZXJ5KTtcclxuICAgIGNvbnNvbGUubG9nKCdbQ2hhdE1hbmFnZXJdIElkZW50aXR5IE1hbmFnZXIgJywgaWRlbnRpdHlNYW5hZ2VyKTtcclxuXHJcblxyXG4gIH1cclxuXHJcblxyXG4gIHByb2Nlc3NOb3RpZmljYXRpb24oZXZlbnQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBjb25zb2xlLmxvZygnW0NoYXRNYW5hZ2VyLnByb2Nlc3NOb3RpZmljYXRpb246ICcsIGV2ZW50KTtcclxuXHJcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NyZWF0ZScpIHtcclxuXHJcbiAgICAgIC8vIFRPRE86IHJlcGxhY2UgdGhlIDEwMCBmb3IgTWVzc2FnZS5SZXNwb25zZVxyXG4gICAgICAvLyBldmVudC5hY2soMjAwKTtcclxuXHJcbiAgICAgIGlmIChfdGhpcy5fb25JbnZpdGF0aW9uKSB7IF90aGlzLl9vbkludml0YXRpb24oZXZlbnQpOyB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdkZWxldGUnKSB7XHJcbiAgICAgIC8vIFRPRE86IHJlcGxhY2UgdGhlIDIwMCBmb3IgTWVzc2FnZS5SZXNwb25zZVxyXG4gICAgICBldmVudC5hY2soMjAwKTtcclxuXHJcbiAgICAgIF90aGlzLl9vYnNlcnZlcnNDb250cm9sbGVyc1tldmVudC51cmxdLmNsb3NlRXZlbnQgPSBldmVudDtcclxuXHJcbiAgICAgIGRlbGV0ZSBfdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbZXZlbnQudXJsXTtcclxuXHJcbiAgICAgIF90aGlzLl9vYnNlcnZlcnNDb250cm9sbGVycy5jbG9zZUV2ZW50ID0gZXZlbnQ7XHJcblxyXG4gICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0ID0gY29tbXVuaWNhdGlvbk9iamVjdDtcclxuXHJcblxyXG4gICAgICBmb3IgKGxldCB1cmwgaW4gdGhpcy5fcmVwb3J0ZXJzQ29udHJvbGxlcnMpIHtcclxuICAgICAgICB0aGlzLl9yZXBvcnRlcnNDb250cm9sbGVyc1t1cmxdLmNsb3NlRXZlbnQoZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCB1cmwgaW4gdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnMpIHtcclxuICAgICAgICB0aGlzLl9vYnNlcnZlcnNDb250cm9sbGVyc1t1cmxdLmNsb3NlRXZlbnQoZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbXlJZGVudGl0eShpZGVudGl0eSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlci5teUlkZW50aXR5XScpO1xyXG4gICAgICBpZiAoaWRlbnRpdHkpIHJldHVybiByZXNvbHZlKGlkZW50aXR5KTtcclxuXHJcbiAgICAgIGlmIChfdGhpcy5fbXlVcmwuaW5jbHVkZXMoJ2h5cGVydHk6Ly8nKSkge1xyXG4gICAgICAgIF90aGlzLmlkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKCkudGhlbigoaWRlbnRpdHkpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUoaWRlbnRpdHkpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgICAgcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgX3RoaXMuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVySWRlbnRpdHlQZXJJZFAoKS50aGVuKChpZGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZShpZGVudGl0eSk7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY3JlYXRlIGEgbmV3IEdyb3VwIENoYXQgcHJvdmlkaW5nIHRoZSBuYW1lIGFuZCB0aGUgaWRlbnRpZmllcnMgb2YgdXNlcnMgdG8gYmUgaW52aXRlZC5cclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgbmFtZSAgSXMgYSBzdHJpbmcgdG8gaWRlbnRpZnkgdGhlIEdyb3VwIENoYXRcclxuICAgKiBAcGFyYW0gIHthcnJheTxVUkwudXNlclVSTD59ICAgICAgICAgdXNlcnMgQXJyYXkgb2YgdXNlcnMgdG8gYmUgaW52aXRlZCB0byBqb2luIHRoZSBHcm91cCBDaGF0LiBVc2VycyBhcmUgaWRlbnRpZmllZCB3aXRoIHJlVEhJTksgVXNlciBVUkwsIGxpa2UgdGhpcyBmb3JtYXQgdXNlcjovLzxpcGRkb21haW4+Lzx1c2VyLWlkZW50aWZpZXI+XHJcbiAgICogQHJldHVybiB7PFByb21pc2U+Q2hhdENvbnRyb2xsZXJ9ICAgIEEgQ2hhdENvbnRyb2xsZXIgb2JqZWN0IGFzIGEgUHJvbWlzZS5cclxuICAgKi9cclxuICBjcmVhdGUobmFtZSwgdXNlcnMsIGV4dHJhID0ge30pIHtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IHN5bmNoZXIgPSBfdGhpcy5fc3luY2hlcjtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdCA9IGNvbW11bmljYXRpb25PYmplY3Q7XHJcbiAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3QuY3NlcSA9IDE7XHJcbiAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3Quc3RhcnRpbmdUaW1lID0gbmV3IERhdGUoKS50b0pTT04oKTtcclxuICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5zdGF0dXMgPSAgQ29tbXVuaWNhdGlvblN0YXR1cy5PUEVOO1xyXG5cclxuICAgICAgbGV0IG15SWRlbnRpdHk7XHJcblxyXG4gICAgICBfdGhpcy5teUlkZW50aXR5KCkudGhlbigoaWRlbnRpdHkpID0+IHtcclxuICAgICAgICBteUlkZW50aXR5ID0gaWRlbnRpdHk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5jcmVhdGUgXSBNeSBJZGVudGl0eScsIGlkZW50aXR5KTtcclxuXHJcbiAgICAgICAgLy8gbGV0IHVybCA9IF90aGlzLmNvbW11bmljYXRpb25PYmplY3QucmVwb3J0ZXI7XHJcblxyXG4gICAgICAgIGxldCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhfdGhpcy5fbXlVcmwsIF90aGlzLl9kb21haW4sIGlkZW50aXR5KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIG15IGlkZW50aXR5XHJcbiAgICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5wYXJ0aWNpcGFudHNbaWRlbnRpdHkudXNlclVSTF0gPSB1c2VySW5mbztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5jcmVhdGUgXSBwYXJ0aWNpcGFudHM6ICcsIF90aGlzLmNvbW11bmljYXRpb25PYmplY3QucGFydGljaXBhbnRzKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnW0NoYXRNYW5hZ2VyLmNyZWF0ZSBdIGNvbW11bmljYXRpb25PYmplY3QnLCBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0KTtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlci5jcmVhdGVdIHNlYXJjaGluZyAnICsgdXNlcnMpO1xyXG5cclxuICAgICAgICAvL2xldCB1c2Vyc1NlYXJjaCA9IF90aGlzLnNlYXJjaC51c2Vycyh1c2VycywgZG9tYWlucywgWydjb21tJ10sIFsnY2hhdCddKTtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJzRGlzY292ZXJ5ID0gW107XHJcblxyXG4gICAgICAgIGxldCBkaXNjb25uZWN0ZWQgPSBbXTtcclxuICAgICAgICBsZXQgbGl2ZSA9IHt9O1xyXG4gICAgICAgIGxldCBtdXR1YWwgPSB0cnVlO1xyXG5cclxuICAgICAgICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgICBsZXQgdXNlckRpc2NvdmVyeVByb21pc2UgPSBfdGhpcy5kaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNETyh1c2VyLnVzZXIsIFsnY29tbSddLCBbJ2NoYXQnXSwgdXNlci5kb21haW4pO1xyXG4gICAgICAgICAgdXNlcnNEaXNjb3ZlcnkucHVzaCh1c2VyRGlzY292ZXJ5UHJvbWlzZSk7XHJcblxyXG4gICAgICAgICAgLy9pZiAodXNlci51c2VyLmluY2x1ZGVzKCc6Ly8nKSkgbXV0dWFsID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFByb21pc2UuYWxsKHVzZXJzRGlzY292ZXJ5KS50aGVuKCh1c2VyRGlzY292ZXJ5UmVzdWx0cykgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5jcmVhdGVdIFVzZXJzIERpc2NvdmVyeSBSZXN1bHRzLT4nLCB1c2VyRGlzY292ZXJ5UmVzdWx0cyk7XHJcblxyXG4gICAgICAgICAgbGV0IHNlbGVjdGVkSHlwZXJ0aWVzID0gW107XHJcblxyXG4gICAgICAgICAgdXNlckRpc2NvdmVyeVJlc3VsdHMuZm9yRWFjaCgodXNlckRpc2NvdmVyeVJlc3VsdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdXNlckRpc2NvdmVyeVJlc3VsdC5mb3JFYWNoKChkaXNjb3ZlcmVkKT0+e1xyXG4gICAgICAgICAgICAgIGlmIChkaXNjb3ZlcmVkLmRhdGEuc3RhdHVzID09PSAnbGl2ZScpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSHlwZXJ0aWVzLnB1c2goZGlzY292ZXJlZC5kYXRhLmh5cGVydHlJRCk7XHJcbiAgICAgICAgICAgICAgICBsaXZlW2Rpc2NvdmVyZWQuZGF0YS5oeXBlcnR5SURdID0gZGlzY292ZXJlZDtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gVG8gY29udHJvbCB0aGUgbnVtYmVyIG9mIHN1YnNjcmlwdGlvbnMgdG8gZGlzY29ubmVjdGVkIGRldmljZXNcclxuICAgICAgICAgICAgICAgICBpZiAoZGlzY29ubmVjdGVkLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0ZWQucHVzaChkaXNjb3ZlcmVkKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgIC8qICAgICAgICByZXR1cm4gdXNlcnNTZWFyY2g7XHJcbiAgICAgIH0pLnRoZW4oKGh5cGVydGllc0lEcykgPT4ge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEh5cGVydGllcyA9IGh5cGVydGllc0lEcy5tYXAoKGh5cGVydHkpID0+IHtcclxuICAgICAgICAgIHJldHVybiBoeXBlcnR5Lmh5cGVydHlJRDtcclxuICAgICAgICB9KTsgKi9cclxuXHJcbiAgICAgICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlcl0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTeW5jaGVyIENyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxcbicpO1xyXG4gICAgICAgICAgY29uc29sZS5pbmZvKCdbQ2hhdE1hbmFnZXJdIFNlbGVjdGVkIEh5cGVydGllczogISEhICcsIHNlbGVjdGVkSHlwZXJ0aWVzKTtcclxuICAgICAgICAgIGNvbnNvbGUuaW5mbyhgSGF2ZSAke3NlbGVjdGVkSHlwZXJ0aWVzLmxlbmd0aH0gdXNlcnM7YCk7XHJcblxyXG4gICAgICAgICAgbGV0IGlucHV0ID0gT2JqZWN0LmFzc2lnbih7cmVzb3VyY2VzOiBbJ2NoYXQnXSwgbXV0dWFsOiBtdXR1YWx9LCBleHRyYSk7XHJcbiAgICAgICAgICBkZWxldGUgaW5wdXQubmFtZTtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlcl0gaW5wdXQgZGF0YTonLCBpbnB1dCk7XHJcbiAgICAgICAgICByZXR1cm4gc3luY2hlci5jcmVhdGUoX3RoaXMuX29iamVjdERlc2NVUkwsIHNlbGVjdGVkSHlwZXJ0aWVzLCBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0LCB0cnVlLCBmYWxzZSwgbmFtZSwge30sIGlucHV0KTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3RSZXBvcnRlcikge1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUuaW5mbygnW0NoYXRNYW5hZ2VyXSAzLiBSZXR1cm4gQ3JlYXRlIERhdGEgT2JqZWN0IFJlcG9ydGVyJywgZGF0YU9iamVjdFJlcG9ydGVyKTtcclxuXHJcbiAgICAgICAgICBsZXQgY2hhdENvbnRyb2xsZXIgPSBuZXcgQ2hhdENvbnRyb2xsZXIoc3luY2hlciwgX3RoaXMuZGlzY292ZXJ5LCBfdGhpcy5fZG9tYWluLCBfdGhpcy5zZWFyY2gsIG15SWRlbnRpdHksIF90aGlzKTtcclxuICAgICAgICAgIGNoYXRDb250cm9sbGVyLmRhdGFPYmplY3RSZXBvcnRlciA9IGRhdGFPYmplY3RSZXBvcnRlcjtcclxuXHJcbiAgICAgICAgICBfdGhpcy5fcmVwb3J0ZXJzQ29udHJvbGxlcnNbZGF0YU9iamVjdFJlcG9ydGVyLnVybF0gPSBjaGF0Q29udHJvbGxlcjtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0NoYXRNYW5hZ2VyXSBjaGF0Q29udHJvbGxlciBpbnZpdGF0aW9uc0hhbmRsZXI6ICcsICAgY2hhdENvbnRyb2xsZXIuaW52aXRhdGlvbnNIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAvLyBwcm9jZXNzIGludml0YXRpb25zIHRvIGhhbmRsZSBub3QgcmVjZWl2ZWQgaW52aXRhdGlvbnNcclxuICAgICAgICAgIGlmIChkYXRhT2JqZWN0UmVwb3J0ZXIuaW52aXRhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjaGF0Q29udHJvbGxlci5pbnZpdGF0aW9uc0hhbmRsZXIucHJvY2Vzc0ludml0YXRpb25zKGxpdmUsIGRhdGFPYmplY3RSZXBvcnRlcik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSWYgYW55IGludml0ZWQgVXNlciBpcyBkaXNjb25uZWN0ZWQgbGV0J3Mgd2FpdCB1bnRpbCBpdCBpcyBjb25uZWN0ZWQgYWdhaW5cclxuICAgICAgICAgIGlmIChkaXNjb25uZWN0ZWQubGVuZ3RoID4gMCkgY2hhdENvbnRyb2xsZXIuaW52aXRhdGlvbnNIYW5kbGVyLmludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllcyhkaXNjb25uZWN0ZWQsIGRhdGFPYmplY3RSZXBvcnRlcik7XHJcblxyXG4gICAgICAgICAgcmVzb2x2ZShjaGF0Q29udHJvbGxlcik7XHJcblxyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgICAgcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tDaGF0TWFuYWdlci5jcmVhdGVdIE15SWRlbnRpdHkgRXJyb3I6JywgcmVhc29uKTtcclxuICAgICAgICByZXR1cm4gcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBoYW5kbGUgbm90aWZpY2F0aW9ucyBhYm91dCBpbmNvbWluZyBpbnZpdGF0aW9ucyB0byBqb2luIGEgR3JvdXAgQ2hhdC5cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gQ3JlYXRlRXZlbnQgVGhlIENyZWF0ZUV2ZW50IGZpcmVkIGJ5IHRoZSBTeW5jaGVyIHdoZW4gYW4gaW52aXRhaW9uIGlzIHJlY2VpdmVkXHJcbiAgICovXHJcbiAgb25JbnZpdGF0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX29uSW52aXRhdGlvbiA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGpvaW4gYSBHcm91cCBDaGF0LlxyXG4gICAqIEBwYXJhbSAge1VSTC5Db21tdW5pY2F0aW9uVVJMfSBpbnZpdGF0aW9uVVJMICBUaGUgQ29tbXVuaWNhdGlvbiBVUkwgb2YgdGhlIEdyb3VwIENoYXQgdG8gam9pbiB0aGF0IGlzIHByb3ZpZGVkIGluIHRoZSBpbnZpdGF0aW9uIGV2ZW50XHJcbiAgICogQHJldHVybiB7PFByb21pc2U+Q2hhdENvbnRyb2xsZXJ9ICAgICAgICAgICAgIEl0IHJldHVybnMgdGhlIENoYXRDb250cm9sbGVyIG9iamVjdCBhcyBhIFByb21pc2VcclxuICAgKi9cclxuICBqb2luKGludml0YXRpb25VUkwsIG11dHVhbCA9IHRydWUsIGlkZW50aXR5KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgbGV0IHN5bmNoZXIgPSBfdGhpcy5fc3luY2hlcjtcclxuICAgICAgbGV0IG15SWRlbnRpdHk7XHJcblxyXG4gICAgICBjb25zb2xlLmluZm8oJ1tDaGF0TWFuYWdlcl0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgc3Vic2NyaWJlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXFxuJyk7XHJcbiAgICAgIGNvbnNvbGUuaW5mbygnaW52aXRhdGlvblVSTCcsIGludml0YXRpb25VUkwpO1xyXG4gICAgICBfdGhpcy5teUlkZW50aXR5KGlkZW50aXR5KS50aGVuKChpZGVudGl0eSkgPT4ge1xyXG4gICAgICAgIG15SWRlbnRpdHkgPSBpZGVudGl0eTtcclxuICAgICAgICByZXR1cm4gc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsIGludml0YXRpb25VUkwsIHRydWUsIGZhbHNlLCBtdXR1YWwsIGlkZW50aXR5KTtcclxuXHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdE9ic2VydmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdEYXRhIE9iamVjdCBPYnNlcnZlcjogJywgZGF0YU9iamVjdE9ic2VydmVyKTtcclxuXHJcbiAgICAgICAgbGV0IGNoYXRDb250cm9sbGVyID0gbmV3IENoYXRDb250cm9sbGVyKHN5bmNoZXIsIF90aGlzLmRpc2NvdmVyeSwgX3RoaXMuX2RvbWFpbiwgX3RoaXMuc2VhcmNoLCBteUlkZW50aXR5LCBfdGhpcyk7XHJcbiAgICAgICAgcmVzb2x2ZShjaGF0Q29udHJvbGxlcik7XHJcblxyXG4gICAgICAgIGNoYXRDb250cm9sbGVyLmRhdGFPYmplY3RPYnNlcnZlciA9IGRhdGFPYmplY3RPYnNlcnZlcjtcclxuXHJcbiAgICAgICAgX3RoaXMuX29ic2VydmVyc0NvbnRyb2xsZXJzW2RhdGFPYmplY3RPYnNlcnZlci51cmxdID0gY2hhdENvbnRyb2xsZXI7XHJcblxyXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICByZWplY3QocmVhc29uKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hhdE1hbmFnZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jaGF0TWFuYWdlci9DaGF0TWFuYWdlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///168\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Search = function () {\n  function Search(discovery, identityManager) {\n    (0, _classCallCheck3.default)(this, Search);\n\n\n    if (!discovery) throw new Error('The discovery component is a needed parameter');\n    if (!identityManager) throw new Error('The identityManager component is a needed parameter');\n\n    var _this = this;\n\n    _this.discovery = discovery;\n    _this.identityManager = identityManager;\n  }\n\n  (0, _createClass3.default)(Search, [{\n    key: 'myIdentity',\n    value: function myIdentity() {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.identityManager.discoverUserRegistered().then(function (result) {\n          resolve(result);\n        }).catch(function (reason) {\n          reject(reason);\n        });\n      });\n    }\n  }, {\n    key: 'hyperties',\n    value: function hyperties(users, schemes, resources) {\n      var globalFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    }\n    //TODO: reuse users or the other way around\n\n    /**\r\n     * List of usersURL to search\r\n     * @param  {array<URL.userURL>}  users List of UserUR, like this format user://<ipddomain>/<user-identifier>\r\n     * @return {Promise}\r\n     */\n\n  }, {\n    key: 'users',\n    value: function users(usersURLs, providedDomains, schemes, resources) {\n      var globalFlag = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n\n      if (!usersURLs) throw new Error('You need to provide a list of users');\n      if (!providedDomains) throw new Error('You need to provide a list of domains');\n      if (!resources) throw new Error('You need to provide a list of resources');\n      if (!schemes) throw new Error('You need to provide a list of schemes');\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        console.info('[Search] Users: ', usersURLs, usersURLs.length);\n        console.info('[Search] Domains: ', providedDomains, providedDomains.length);\n        if (usersURLs.length === 0) {\n          console.info('Don\\'t have users to discovery');\n          resolve(usersURLs);\n        } else {\n          var getUsers = [];\n\n          usersURLs.forEach(function (userURL, index) {\n            var currentDomain = providedDomains[index];\n            console.info('[Search] Search user ' + userURL + ' for provided domain:', currentDomain);\n            if (!globalFlag) {\n              getUsers.push(_this.discovery.discoverHyperties(userURL, schemes, resources, currentDomain));\n            } else {\n              getUsers.push(_this.discovery.discoverHypertiesPerUserProfileData(userURL, schemes, resources));\n            }\n          });\n\n          console.info('Requests promises: ', getUsers);\n\n          _promise2.default.all(getUsers.map(function (promise) {\n            return promise.then(function (hyperty) {\n              return hyperty;\n            }, function (error) {\n              return error;\n            });\n          })).then(function (hyperties) {\n\n            console.info('[Search] Hyperties from new Discovery', hyperties);\n            var result = hyperties.map(function (hyperty) {\n\n              if (hyperty.hasOwnProperty('hypertyID')) return hyperty;\n              var recent = (0, _keys2.default)(hyperty).reduceRight(function (a, b) {\n                var hypertyDate = new Date(hyperty[b].lastModified);\n                var hypertyDateP = new Date(hyperty[a].lastModified);\n                if (hypertyDateP.getTime() < hypertyDate.getTime()) {\n                  return b;\n                }\n                return a;\n              });\n\n              return hyperty[recent];\n            });\n\n            var clean = result.filter(function (hyperty) {\n              return hyperty.hasOwnProperty('hypertyID');\n            });\n\n            console.log('Requests result: ', clean);\n\n            hyperties.forEach(function (entry) {\n              if (entry !== 'No Hyperty was found') {\n                return resolve(clean);\n              }\n            });\n\n            reject('No Hyperty was found');\n          }).catch(function (reason) {\n            console.error(reason);\n            resolve(usersURLs);\n          });\n        }\n      });\n    }\n  }]);\n  return Search;\n}();\n\nexports.default = Search;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU2VhcmNoLmpzP2Y3YjEiXSwibmFtZXMiOlsiU2VhcmNoIiwiZGlzY292ZXJ5IiwiaWRlbnRpdHlNYW5hZ2VyIiwiRXJyb3IiLCJfdGhpcyIsInJlc29sdmUiLCJyZWplY3QiLCJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIiwidGhlbiIsInJlc3VsdCIsImNhdGNoIiwicmVhc29uIiwidXNlcnMiLCJzY2hlbWVzIiwicmVzb3VyY2VzIiwiZ2xvYmFsRmxhZyIsInVzZXJzVVJMcyIsInByb3ZpZGVkRG9tYWlucyIsImNvbnNvbGUiLCJpbmZvIiwibGVuZ3RoIiwiZ2V0VXNlcnMiLCJmb3JFYWNoIiwidXNlclVSTCIsImluZGV4IiwiY3VycmVudERvbWFpbiIsInB1c2giLCJkaXNjb3Zlckh5cGVydGllcyIsImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhIiwiYWxsIiwibWFwIiwicHJvbWlzZSIsImh5cGVydHkiLCJlcnJvciIsImh5cGVydGllcyIsImhhc093blByb3BlcnR5IiwicmVjZW50IiwicmVkdWNlUmlnaHQiLCJhIiwiYiIsImh5cGVydHlEYXRlIiwiRGF0ZSIsImxhc3RNb2RpZmllZCIsImh5cGVydHlEYXRlUCIsImdldFRpbWUiLCJjbGVhbiIsImZpbHRlciIsImxvZyIsImVudHJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFBTUEsTTtBQUVKLGtCQUFZQyxTQUFaLEVBQXVCQyxlQUF2QixFQUF3QztBQUFBOzs7QUFFdEMsUUFBSSxDQUFDRCxTQUFMLEVBQWdCLE1BQU0sSUFBSUUsS0FBSixDQUFVLCtDQUFWLENBQU47QUFDaEIsUUFBSSxDQUFDRCxlQUFMLEVBQXNCLE1BQU0sSUFBSUMsS0FBSixDQUFVLHFEQUFWLENBQU47O0FBRXRCLFFBQUlDLFFBQVEsSUFBWjs7QUFFQUEsVUFBTUgsU0FBTixHQUFrQkEsU0FBbEI7QUFDQUcsVUFBTUYsZUFBTixHQUF3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Y3RvcihkaXNjb3ZlcnksIGlkZW50aXR5TWFuYWdlcikge1xyXG5cclxuICAgIGlmICghZGlzY292ZXJ5KSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkaXNjb3ZlcnkgY29tcG9uZW50IGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO1xyXG4gICAgaWYgKCFpZGVudGl0eU1hbmFnZXIpIHRocm93IG5ldyBFcnJvcignVGhlIGlkZW50aXR5TWFuYWdlciBjb21wb25lbnQgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7XHJcblxyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5kaXNjb3ZlcnkgPSBkaXNjb3Zlcnk7XHJcbiAgICBfdGhpcy5pZGVudGl0eU1hbmFnZXIgPSBpZGVudGl0eU1hbmFnZXI7XHJcblxyXG4gIH1cclxuXHJcbiAgbXlJZGVudGl0eSgpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgX3RoaXMuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICByZWplY3QocmVhc29uKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgaHlwZXJ0aWVzKHVzZXJzLCBzY2hlbWVzLCByZXNvdXJjZXMsIGdsb2JhbEZsYWcgPSBmYWxzZSkge1xyXG4gICAgLy9UT0RPOiByZXVzZSB1c2VycyBvciB0aGUgb3RoZXIgd2F5IGFyb3VuZFxyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgdXNlcnNVUkwgdG8gc2VhcmNoXHJcbiAgICogQHBhcmFtICB7YXJyYXk8VVJMLnVzZXJVUkw+fSAgdXNlcnMgTGlzdCBvZiBVc2VyVVIsIGxpa2UgdGhpcyBmb3JtYXQgdXNlcjovLzxpcGRkb21haW4+Lzx1c2VyLWlkZW50aWZpZXI+XHJcbiAgICogQHJldHVybiB7UHJvbWlzZX1cclxuICAgKi9cclxuICB1c2Vycyh1c2Vyc1VSTHMsIHByb3ZpZGVkRG9tYWlucywgc2NoZW1lcywgcmVzb3VyY2VzLCBnbG9iYWxGbGFnID0gZmFsc2UpIHtcclxuXHJcbiAgICBpZiAoIXVzZXJzVVJMcykgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiB1c2VycycpO1xyXG4gICAgaWYgKCFwcm92aWRlZERvbWFpbnMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgZG9tYWlucycpO1xyXG4gICAgaWYgKCFyZXNvdXJjZXMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgcmVzb3VyY2VzJyk7XHJcbiAgICBpZiAoIXNjaGVtZXMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2Ygc2NoZW1lcycpO1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG5cclxuICAgICAgY29uc29sZS5pbmZvKCdbU2VhcmNoXSBVc2VyczogJywgdXNlcnNVUkxzLCB1c2Vyc1VSTHMubGVuZ3RoKTtcclxuICAgICAgY29uc29sZS5pbmZvKCdbU2VhcmNoXSBEb21haW5zOiAnLCBwcm92aWRlZERvbWFpbnMsIHByb3ZpZGVkRG9tYWlucy5sZW5ndGgpO1xyXG4gICAgICBpZiAodXNlcnNVUkxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnRG9uXFwndCBoYXZlIHVzZXJzIHRvIGRpc2NvdmVyeScpO1xyXG4gICAgICAgIHJlc29sdmUodXNlcnNVUkxzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgZ2V0VXNlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgdXNlcnNVUkxzLmZvckVhY2goKHVzZXJVUkwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBsZXQgY3VycmVudERvbWFpbiA9IHByb3ZpZGVkRG9tYWluc1tpbmRleF07XHJcbiAgICAgICAgICBjb25zb2xlLmluZm8oJ1tTZWFyY2hdIFNlYXJjaCB1c2VyICcgKyB1c2VyVVJMICsgJyBmb3IgcHJvdmlkZWQgZG9tYWluOicsIGN1cnJlbnREb21haW4pO1xyXG4gICAgICAgICAgaWYgKCFnbG9iYWxGbGFnKSB7XHJcbiAgICAgICAgICAgIGdldFVzZXJzLnB1c2goX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzKHVzZXJVUkwsIHNjaGVtZXMsIHJlc291cmNlcywgY3VycmVudERvbWFpbikpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ2V0VXNlcnMucHVzaChfdGhpcy5kaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEodXNlclVSTCwgc2NoZW1lcywgcmVzb3VyY2VzKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmluZm8oJ1JlcXVlc3RzIHByb21pc2VzOiAnLCBnZXRVc2Vycyk7XHJcblxyXG4gICAgICAgIFByb21pc2UuYWxsKGdldFVzZXJzLm1hcCgocHJvbWlzZSkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbigoaHlwZXJ0eSkgPT4geyByZXR1cm4gaHlwZXJ0eTsgfSwgKGVycm9yKSA9PiB7IHJldHVybiBlcnJvcjsgfSk7XHJcbiAgICAgICAgfSkpLnRoZW4oKGh5cGVydGllcykgPT4ge1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUuaW5mbygnW1NlYXJjaF0gSHlwZXJ0aWVzIGZyb20gbmV3IERpc2NvdmVyeScsIGh5cGVydGllcyk7XHJcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gaHlwZXJ0aWVzLm1hcChmdW5jdGlvbihoeXBlcnR5KSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaHlwZXJ0eS5oYXNPd25Qcm9wZXJ0eSgnaHlwZXJ0eUlEJykpXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGh5cGVydHk7XHJcbiAgICAgICAgICAgIGxldCByZWNlbnQgPSBPYmplY3Qua2V5cyhoeXBlcnR5KS5yZWR1Y2VSaWdodChmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGh5cGVydHlEYXRlID0gbmV3IERhdGUoaHlwZXJ0eVtiXS5sYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgIGxldCBoeXBlcnR5RGF0ZVAgPSBuZXcgRGF0ZShoeXBlcnR5W2FdLmxhc3RNb2RpZmllZCk7XHJcbiAgICAgICAgICAgICAgaWYgKGh5cGVydHlEYXRlUC5nZXRUaW1lKCkgPCBoeXBlcnR5RGF0ZS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaHlwZXJ0eVtyZWNlbnRdO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgbGV0IGNsZWFuID0gcmVzdWx0LmZpbHRlcigoaHlwZXJ0eSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaHlwZXJ0eS5oYXNPd25Qcm9wZXJ0eSgnaHlwZXJ0eUlEJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVxdWVzdHMgcmVzdWx0OiAnLCBjbGVhbik7XHJcblxyXG4gICAgICAgICAgaHlwZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24oZW50cnkpIHtcclxuICAgICAgICAgICAgaWYgKGVudHJ5ICE9PSAnTm8gSHlwZXJ0eSB3YXMgZm91bmQnKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoY2xlYW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZWplY3QoJ05vIEh5cGVydHkgd2FzIGZvdW5kJyk7XHJcblxyXG4gICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTtcclxuICAgICAgICAgIHJlc29sdmUodXNlcnNVUkxzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWFyY2g7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9TZWFyY2guanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///169\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\nvar CommunicationStatus = exports.CommunicationStatus = {\n  OPEN: 'open',\n  PENDING: 'pending',\n  CLOSED: 'closed',\n  PAUSED: 'paused',\n  FAILED: 'failed'\n};\n\nvar communicationObject = exports.communicationObject = {\n  startingTime: '',\n  status: '',\n  participants: {}\n};\n\nvar communicationChildren = exports.communicationChildren = {\n  \"parent\": \"communication\",\n  \"listener\": \"resources\",\n  \"type\": \"HypertyResource\"\n};\n\n/*\r\nexport let communicationObject = {\r\n  id: '',\r\n  name: '',\r\n  owner: '',\r\n  scheme: 'comm',\r\n  startingTime: '',\r\n  lastModified: '',\r\n  duration: '',\r\n  status: '',\r\n  participants: []\r\n};\r\n*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhdE1hbmFnZXIvY29tbXVuaWNhdGlvbi5qcz9hMzgyIl0sIm5hbWVzIjpbIkNvbW11bmljYXRpb25TdGF0dXMiLCJPUEVOIiwiUEVORElORyIsIkNMT1NFRCIsIlBBVVNFRCIsIkZBSUxFRCIsImNvbW11bmljYXRpb25PYmplY3QiLCJzdGFydGluZ1RpbWUiLCJzdGF0dXMiLCJwYXJ0aWNpcGFudHMiLCJjb21tdW5pY2F0aW9uQ2hpbGRyZW4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJPLElBQU1BLG9EQUFzQjtBQUNqQ0MsUUFBTSxNQUQyQjtBQUVqQ0MsV0FBUyxTQUZ3QjtBQUdqQ0MsVUFBUSxRQUh5QjtBQUlqQ0MsVUFBUSxRQUp5QjtBQUtqQ0MsVUFBUTtBQUx5QixDQUE1Qjs7QUFRQSxJQUFJQyxvREFBc0I7QUFDL0JDLGdCQUFjLEVBRGlCO0FBRS9CQyxVQUFRLEVBRnVCO0FBRy9CQyxnQkFBYztBQUhpQixDQUExQjs7QUFNQSxJQUFJQyx3REFBd0I7QUFDakMsWUFBVyxlQURzQjtBQUVqQyxjQUFhLFdBRm9CO0FBR2pDLFVBQVM7QUFId0IsQ0FBNUI7O0FBTVAiLCJmaWxlIjoiMTcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcclxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcclxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxyXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxyXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcclxuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcclxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxyXG4qXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbipcclxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqL1xyXG5cclxuZXhwb3J0IGNvbnN0IENvbW11bmljYXRpb25TdGF0dXMgPSB7XHJcbiAgT1BFTjogJ29wZW4nLFxyXG4gIFBFTkRJTkc6ICdwZW5kaW5nJyxcclxuICBDTE9TRUQ6ICdjbG9zZWQnLFxyXG4gIFBBVVNFRDogJ3BhdXNlZCcsXHJcbiAgRkFJTEVEOiAnZmFpbGVkJ1xyXG59O1xyXG5cclxuZXhwb3J0IGxldCBjb21tdW5pY2F0aW9uT2JqZWN0ID0ge1xyXG4gIHN0YXJ0aW5nVGltZTogJycsXHJcbiAgc3RhdHVzOiAnJyxcclxuICBwYXJ0aWNpcGFudHM6IHt9XHJcbn07XHJcblxyXG5leHBvcnQgbGV0IGNvbW11bmljYXRpb25DaGlsZHJlbiA9IHtcclxuICBcInBhcmVudFwiIDogXCJjb21tdW5pY2F0aW9uXCIsXHJcbiAgXCJsaXN0ZW5lclwiIDogXCJyZXNvdXJjZXNcIixcclxuICBcInR5cGVcIiA6IFwiSHlwZXJ0eVJlc291cmNlXCJcclxufTtcclxuXHJcbi8qXHJcbmV4cG9ydCBsZXQgY29tbXVuaWNhdGlvbk9iamVjdCA9IHtcclxuICBpZDogJycsXHJcbiAgbmFtZTogJycsXHJcbiAgb3duZXI6ICcnLFxyXG4gIHNjaGVtZTogJ2NvbW0nLFxyXG4gIHN0YXJ0aW5nVGltZTogJycsXHJcbiAgbGFzdE1vZGlmaWVkOiAnJyxcclxuICBkdXJhdGlvbjogJycsXHJcbiAgc3RhdHVzOiAnJyxcclxuICBwYXJ0aWNpcGFudHM6IFtdXHJcbn07XHJcbiovXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jaGF0TWFuYWdlci9jb21tdW5pY2F0aW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///170\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(59);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzPzZjZTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMTcxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSAxNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///171\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(42);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Copyright 2016 PT Inovação e Sistemas SA\r\n* Copyright 2016 INESC-ID\r\n* Copyright 2016 QUOBIS NETWORKS SL\r\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n* Copyright 2016 ORANGE SA\r\n* Copyright 2016 Deutsche Telekom AG\r\n* Copyright 2016 Apizee\r\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n**/\n\n/**\r\n* To manage Group Chat Invitations\r\n* @author Paulo Chainho [paulo-g-chainho@alticelabs.com]\r\n* @version 0.1.0\r\n*/\n\n// TODO: have an instance per ChatController\n\nvar InvitationsHandler = function () {\n  function InvitationsHandler(hypertyURL) {\n    (0, _classCallCheck3.default)(this, InvitationsHandler);\n\n\n    if (!hypertyURL) throw Error('hypertyURL is a necessary dependecy');\n\n    var _this = this;\n    _this._hypertyURL = hypertyURL;\n\n    _this._pending = {}; // All pending invitations\n  }\n\n  (0, _createClass3.default)(InvitationsHandler, [{\n    key: 'inviteDisconnectedHyperties',\n\n\n    /**\r\n     * This function is used to handle notifications for disconnected Hy+erties.\r\n     * @param  {DiscoveredObject[]}    disconnected  array of discovered hyperties that are disconnected\r\n     * @param  {DataObjectReporter}    DataObjectReporter   Data Object Reporter addressed by invitations\r\n     */\n\n    value: function inviteDisconnectedHyperties(disconnected, dataObjectReporter) {\n\n      var _this = this;\n      console.log('[GroupChatManager.InvitationsHandler.inviteDisconnectedHyperties] lets invite ', disconnected);\n\n      disconnected.forEach(function (disconnectedHyperty) {\n\n        if (!_this._pending[dataObjectReporter]) {\n          _this._pending[dataObjectReporter] = {};\n        }\n\n        _this._pending[dataObjectReporter][disconnectedHyperty.data.hypertyID] = disconnectedHyperty;\n\n        disconnectedHyperty.onLive(_this._hypertyURL, function () {\n          console.log('[GroupChatManager.create] disconnected Hyperty is back to live', disconnectedHyperty);\n\n          dataObjectReporter.inviteObservers([disconnectedHyperty.data.hypertyID]);\n\n          disconnectedHyperty.unsubscribeLive(_this._hypertyURL);\n\n          delete _this._pending[dataObjectReporter][disconnectedHyperty.data.hypertyID];\n        });\n      });\n    }\n\n    /**\r\n     * This function is used to process sent invitations. In case invitations are not acknowledge by recipient it will be handled as a disconnected hyperty\r\n     * @param  {DiscoveredObject[]}    live  array of discovered hyperties that are or were live\r\n     * @param  {DataObjectReporter}    DataObjectReporter   Data Object Reporter addressed by invitations\r\n     */\n\n  }, {\n    key: 'processInvitations',\n    value: function processInvitations(live, dataObjectReporter) {\n      var _this2 = this;\n\n      var _this = this;\n\n      var invitations = dataObjectReporter.invitations || [];\n\n      console.log('[GroupChatManager.InvitationsHandler.processInvitations] waiting for replies ', invitations, this._invitationsResponse);\n\n      invitations.forEach(function (invitation) {\n        invitation.then(function (result) {\n          console.log('[GroupChatManager.InvitationsHandler.processInvitations] - OK: ', result, _this2._invitationsResponse);\n          if (_this2._invitationsResponse) {\n            _this2._invitationsResponse(result);\n          }\n        }).catch(function (result) {\n          console.log('[GroupChatManager.InvitationsHandler.processInvitations] - NOT OK: ', result, _this2._invitationsResponse);\n          if (_this2._invitationsResponse) {\n            _this2._invitationsResponse(result);\n          }\n          _this.inviteDisconnectedHyperties([live[result.invited]], dataObjectReporter);\n        });\n      });\n    }\n  }, {\n    key: 'resumeDiscoveries',\n    value: function resumeDiscoveries(discoveryEngine, groupChat) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var live = {};\n        var liveHyperties = [];\n        var disconnected = [];\n        var unsubscriptonPromises = [];\n\n        discoveryEngine.resumeDiscoveries().then(function (discoveries) {\n\n          console.log('[GroupChatManager.InvitationsHandler.resumeDiscoveries] found: ', discoveries);\n\n          discoveries.forEach(function (discovery) {\n\n            if (discovery.data.resources && discovery.data.resources[0] === 'chat') {\n              console.log('[GroupChatManager.InvitationsHandler.resumeDiscoveries] resuming: ', discovery);\n\n              if (discovery.data.status === 'live') {\n                // previously discovered object is now live\n                live[discovery.data.hypertyID] = discovery;\n                liveHyperties.push(discovery.data.hypertyID);\n                unsubscriptonPromises.push(discovery.unsubscribeLive(_this._hypertyURL));\n              } else {\n                // previously discovered object is still disconnected\n                disconnected.push(discovery);\n              }\n            }\n          });\n          if (disconnected.length > 0) _this.inviteDisconnectedHyperties(disconnected, groupChat);\n\n          if ((0, _keys2.default)(live).length > 0) {\n            groupChat.inviteObservers(liveHyperties);\n\n            if (groupChat.invitations.length > 0) _this.processInvitations(live, groupChat);\n\n            _promise2.default.all(unsubscriptonPromises).then(function () {\n              resolve();\n            });\n          } else resolve();\n        });\n      }).catch(function (reason) {\n        reject('[GroupChatManager.InvitationsHandler.resumeDiscoveries] failed | ', reason);\n      });\n    }\n\n    /**\r\n     * This function is used to remove and clean all pending invitations.\r\n     * @param  {DataObjectReporter}    DataObjectReporter   Data Object Reporter addressed by invitations\r\n     * @return {Promise} return a promise when all unsubscriptons for pending invitations are finished\r\n     */\n\n  }, {\n    key: 'cleanInvitations',\n    value: function cleanInvitations(dataObjectReporter) {\n      var _this = this;\n\n      var chatInvitations = _this._pending[dataObjectReporter];\n\n      console.log('[GroupChatManager.InvitationsHandler.cleanInvitations] ', chatInvitations);\n\n      if (chatInvitations) {\n\n        return new _promise2.default(function (resolve, reject) {\n          var pendingInvitations = (0, _keys2.default)(chatInvitations);\n\n          var unsubscriptonPromises = [];\n\n          pendingInvitations.forEach(function (invitation) {\n            unsubscriptonPromises.push(chatInvitations[invitation].unsubscribeLive(_this._hypertyURL));\n          });\n\n          _promise2.default.all(pendingInvitations).then(function () {\n            resolve();\n          });\n        });\n      } else return _promise2.default.resolve();\n    }\n  }, {\n    key: 'invitationResponse',\n    set: function set(callback) {\n      this._invitationsResponse = callback;\n    }\n  }]);\n  return InvitationsHandler;\n}();\n\nexports.default = InvitationsHandler;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhdE1hbmFnZXIvSW52aXRhdGlvbnNIYW5kbGVyLmpzP2E3MzQiXSwibmFtZXMiOlsiSW52aXRhdGlvbnNIYW5kbGVyIiwiaHlwZXJ0eVVSTCIsIkVycm9yIiwiX3RoaXMiLCJfaHlwZXJ0eVVSTCIsIl9wZW5kaW5nIiwiZGlzY29ubmVjdGVkIiwiZGF0YU9iamVjdFJlcG9ydGVyIiwiY29uc29sZSIsImxvZyIsImZvckVhY2giLCJkaXNjb25uZWN0ZWRIeXBlcnR5IiwiZGF0YSIsImh5cGVydHlJRCIsIm9uTGl2ZSIsImludml0ZU9ic2VydmVycyIsInVuc3Vic2NyaWJlTGl2ZSIsImxpdmUiLCJpbnZpdGF0aW9ucyIsIl9pbnZpdGF0aW9uc1Jlc3BvbnNlIiwiaW52aXRhdGlvbiIsInRoZW4iLCJyZXN1bHQiLCJjYXRjaCIsImludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllcyIsImludml0ZWQiLCJkaXNjb3ZlcnlFbmdpbmUiLCJncm91cENoYXQiLCJyZXNvbHZlIiwicmVqZWN0IiwibGl2ZUh5cGVydGllcyIsInVuc3Vic2NyaXB0b25Qcm9taXNlcyIsInJlc3VtZURpc2NvdmVyaWVzIiwiZGlzY292ZXJpZXMiLCJkaXNjb3ZlcnkiLCJyZXNvdXJjZXMiLCJzdGF0dXMiLCJwdXNoIiwibGVuZ3RoIiwicHJvY2Vzc0ludml0YXRpb25zIiwiYWxsIiwicmVhc29uIiwiY2hhdEludml0YXRpb25zIiwicGVuZGluZ0ludml0YXRpb25zIiwiY2FsbGJhY2siXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7Ozs7O0FBTUE7O0lBRU1BLGtCO0FBRUosOEJBQVlDLFVBQVosRUFBd0I7QUFBQTs7O0FBRXRCLFFBQUksQ0FBQ0EsVUFBTCxFQUFpQixNQUFNQyxNQUFNLHFDQUFOLENBQU47O0FBRWpCLFFBQUlDLFFBQVEsSUFBWjtBQUNBQSxVQUFNQyxX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Qjs7QUFFQUMsY0FBUUMsR0FBUixDQUFZLHlEQUFaLEVBQXVFaUMsZUFBdkU7O0FBRUEsVUFBSUEsZUFBSixFQUFxQjs7QUFFbkIsZUFBTyxzQkFBWSxVQUFDZCxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdEMsY0FBSWMscUJBQXFCLG9CQUFZRCxlQUFaLENBQXpCOztBQUVBLGNBQUlYLHdCQUF3QixFQUE1Qjs7QUFFQVksNkJBQW1CakMsT0FBbkIsQ0FBMkIsVUFBQ1UsVUFBRCxFQUFjO0FBQ3ZDVyxrQ0FBc0JNLElBQXRCLENBQTRCSyxnQkFBZ0J0QixVQUFoQixFQUE0QkosZUFBNUIsQ0FBNENiLE1BQU1DLFdBQWxELENBQTVCO0FBQ0QsV0FGRDs7QUFJQSw0QkFBUW9DLEdBQVIsQ0FBWUcsa0JBQVosRUFBZ0N0QixJQUFoQyxDQUFxQyxZQUFJO0FBQUVPO0FBQVksV0FBdkQ7QUFFRCxTQVhNLENBQVA7QUFhRCxPQWZELE1BZU8sT0FBTyxrQkFBUUEsT0FBUixFQUFQO0FBR1I7OztzQkE1SXNCZ0IsUSxFQUFVO0FBQy9CLFdBQUt6QixvQkFBTCxHQUE0QnlCLFFBQTVCO0FBQ0Q7Ozs7O2tCQThJWTVDLGtCIiwiZmlsZSI6IjE3Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbi8qKlxyXG4qIFRvIG1hbmFnZSBHcm91cCBDaGF0IEludml0YXRpb25zXHJcbiogQGF1dGhvciBQYXVsbyBDaGFpbmhvIFtwYXVsby1nLWNoYWluaG9AYWx0aWNlbGFicy5jb21dXHJcbiogQHZlcnNpb24gMC4xLjBcclxuKi9cclxuXHJcbi8vIFRPRE86IGhhdmUgYW4gaW5zdGFuY2UgcGVyIENoYXRDb250cm9sbGVyXHJcblxyXG5jbGFzcyBJbnZpdGF0aW9uc0hhbmRsZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihoeXBlcnR5VVJMKSB7XHJcblxyXG4gICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBFcnJvcignaHlwZXJ0eVVSTCBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX2h5cGVydHlVUkwgPSBoeXBlcnR5VVJMO1xyXG5cclxuICAgIF90aGlzLl9wZW5kaW5nID0ge307IC8vIEFsbCBwZW5kaW5nIGludml0YXRpb25zXHJcbiAgfVxyXG5cclxuICBzZXQgaW52aXRhdGlvblJlc3BvbnNlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9pbnZpdGF0aW9uc1Jlc3BvbnNlID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaGFuZGxlIG5vdGlmaWNhdGlvbnMgZm9yIGRpc2Nvbm5lY3RlZCBIeStlcnRpZXMuXHJcbiAgICogQHBhcmFtICB7RGlzY292ZXJlZE9iamVjdFtdfSAgICBkaXNjb25uZWN0ZWQgIGFycmF5IG9mIGRpc2NvdmVyZWQgaHlwZXJ0aWVzIHRoYXQgYXJlIGRpc2Nvbm5lY3RlZFxyXG4gICAqIEBwYXJhbSAge0RhdGFPYmplY3RSZXBvcnRlcn0gICAgRGF0YU9iamVjdFJlcG9ydGVyICAgRGF0YSBPYmplY3QgUmVwb3J0ZXIgYWRkcmVzc2VkIGJ5IGludml0YXRpb25zXHJcbiAgICovXHJcblxyXG4gIGludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllcyhkaXNjb25uZWN0ZWQsIGRhdGFPYmplY3RSZXBvcnRlcikge1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBjb25zb2xlLmxvZygnW0dyb3VwQ2hhdE1hbmFnZXIuSW52aXRhdGlvbnNIYW5kbGVyLmludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllc10gbGV0cyBpbnZpdGUgJywgZGlzY29ubmVjdGVkKTtcclxuXHJcbiAgICBkaXNjb25uZWN0ZWQuZm9yRWFjaCgoZGlzY29ubmVjdGVkSHlwZXJ0eSk9PntcclxuXHJcbiAgICAgIGlmICghX3RoaXMuX3BlbmRpbmdbZGF0YU9iamVjdFJlcG9ydGVyXSkge1xyXG4gICAgICAgIF90aGlzLl9wZW5kaW5nW2RhdGFPYmplY3RSZXBvcnRlcl0gPSB7fTtcclxuICAgICAgfVxyXG5cclxuICAgICAgX3RoaXMuX3BlbmRpbmdbZGF0YU9iamVjdFJlcG9ydGVyXVtkaXNjb25uZWN0ZWRIeXBlcnR5LmRhdGEuaHlwZXJ0eUlEXSA9IGRpc2Nvbm5lY3RlZEh5cGVydHk7XHJcblxyXG4gICAgICBkaXNjb25uZWN0ZWRIeXBlcnR5Lm9uTGl2ZShfdGhpcy5faHlwZXJ0eVVSTCwoKT0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbR3JvdXBDaGF0TWFuYWdlci5jcmVhdGVdIGRpc2Nvbm5lY3RlZCBIeXBlcnR5IGlzIGJhY2sgdG8gbGl2ZScsIGRpc2Nvbm5lY3RlZEh5cGVydHkpO1xyXG5cclxuICAgICAgICBkYXRhT2JqZWN0UmVwb3J0ZXIuaW52aXRlT2JzZXJ2ZXJzKFtkaXNjb25uZWN0ZWRIeXBlcnR5LmRhdGEuaHlwZXJ0eUlEXSk7XHJcblxyXG4gICAgICAgIGRpc2Nvbm5lY3RlZEh5cGVydHkudW5zdWJzY3JpYmVMaXZlKF90aGlzLl9oeXBlcnR5VVJMKTtcclxuXHJcbiAgICAgICAgZGVsZXRlIF90aGlzLl9wZW5kaW5nW2RhdGFPYmplY3RSZXBvcnRlcl1bZGlzY29ubmVjdGVkSHlwZXJ0eS5kYXRhLmh5cGVydHlJRF07XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcHJvY2VzcyBzZW50IGludml0YXRpb25zLiBJbiBjYXNlIGludml0YXRpb25zIGFyZSBub3QgYWNrbm93bGVkZ2UgYnkgcmVjaXBpZW50IGl0IHdpbGwgYmUgaGFuZGxlZCBhcyBhIGRpc2Nvbm5lY3RlZCBoeXBlcnR5XHJcbiAgICogQHBhcmFtICB7RGlzY292ZXJlZE9iamVjdFtdfSAgICBsaXZlICBhcnJheSBvZiBkaXNjb3ZlcmVkIGh5cGVydGllcyB0aGF0IGFyZSBvciB3ZXJlIGxpdmVcclxuICAgKiBAcGFyYW0gIHtEYXRhT2JqZWN0UmVwb3J0ZXJ9ICAgIERhdGFPYmplY3RSZXBvcnRlciAgIERhdGEgT2JqZWN0IFJlcG9ydGVyIGFkZHJlc3NlZCBieSBpbnZpdGF0aW9uc1xyXG4gICAqL1xyXG5cclxuICBwcm9jZXNzSW52aXRhdGlvbnMobGl2ZSwgZGF0YU9iamVjdFJlcG9ydGVyKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBpbnZpdGF0aW9ucyA9IGRhdGFPYmplY3RSZXBvcnRlci5pbnZpdGF0aW9ucyB8fCBbXTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnW0dyb3VwQ2hhdE1hbmFnZXIuSW52aXRhdGlvbnNIYW5kbGVyLnByb2Nlc3NJbnZpdGF0aW9uc10gd2FpdGluZyBmb3IgcmVwbGllcyAnLCBpbnZpdGF0aW9ucywgdGhpcy5faW52aXRhdGlvbnNSZXNwb25zZSk7XHJcblxyXG4gICAgaW52aXRhdGlvbnMuZm9yRWFjaCgoaW52aXRhdGlvbikgPT4ge1xyXG4gICAgICBpbnZpdGF0aW9uLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbR3JvdXBDaGF0TWFuYWdlci5JbnZpdGF0aW9uc0hhbmRsZXIucHJvY2Vzc0ludml0YXRpb25zXSAtIE9LOiAnLCByZXN1bHQsIHRoaXMuX2ludml0YXRpb25zUmVzcG9uc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLl9pbnZpdGF0aW9uc1Jlc3BvbnNlKSB7IHRoaXMuX2ludml0YXRpb25zUmVzcG9uc2UocmVzdWx0KTsgfVxyXG4gICAgICB9KS5jYXRjaCgocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tHcm91cENoYXRNYW5hZ2VyLkludml0YXRpb25zSGFuZGxlci5wcm9jZXNzSW52aXRhdGlvbnNdIC0gTk9UIE9LOiAnLCByZXN1bHQsIHRoaXMuX2ludml0YXRpb25zUmVzcG9uc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLl9pbnZpdGF0aW9uc1Jlc3BvbnNlKSB7IHRoaXMuX2ludml0YXRpb25zUmVzcG9uc2UocmVzdWx0KTsgfVxyXG4gICAgICAgIF90aGlzLmludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllcyhbbGl2ZVtyZXN1bHQuaW52aXRlZF1dLCBkYXRhT2JqZWN0UmVwb3J0ZXIpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIHJlc3VtZURpc2NvdmVyaWVzKGRpc2NvdmVyeUVuZ2luZSwgZ3JvdXBDaGF0KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICBsZXQgbGl2ZSA9IHt9O1xyXG4gICAgICBsZXQgbGl2ZUh5cGVydGllcyA9IFtdO1xyXG4gICAgICBsZXQgZGlzY29ubmVjdGVkID0gW107XHJcbiAgICAgIGxldCB1bnN1YnNjcmlwdG9uUHJvbWlzZXMgPSBbXTtcclxuXHJcbiAgICAgIGRpc2NvdmVyeUVuZ2luZS5yZXN1bWVEaXNjb3ZlcmllcygpLnRoZW4oKGRpc2NvdmVyaWVzKSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbR3JvdXBDaGF0TWFuYWdlci5JbnZpdGF0aW9uc0hhbmRsZXIucmVzdW1lRGlzY292ZXJpZXNdIGZvdW5kOiAnLCBkaXNjb3Zlcmllcyk7XHJcblxyXG4gICAgICAgIGRpc2NvdmVyaWVzLmZvckVhY2goKGRpc2NvdmVyeSkgPT57XHJcblxyXG4gICAgICAgICAgaWYgKGRpc2NvdmVyeS5kYXRhLnJlc291cmNlcyAmJiBkaXNjb3ZlcnkuZGF0YS5yZXNvdXJjZXNbMF0gPT09ICdjaGF0Jykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0dyb3VwQ2hhdE1hbmFnZXIuSW52aXRhdGlvbnNIYW5kbGVyLnJlc3VtZURpc2NvdmVyaWVzXSByZXN1bWluZzogJywgZGlzY292ZXJ5KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaXNjb3ZlcnkuZGF0YS5zdGF0dXMgPT09ICdsaXZlJyApIHsvLyBwcmV2aW91c2x5IGRpc2NvdmVyZWQgb2JqZWN0IGlzIG5vdyBsaXZlXHJcbiAgICAgICAgICAgICAgbGl2ZVtkaXNjb3ZlcnkuZGF0YS5oeXBlcnR5SURdID0gZGlzY292ZXJ5O1xyXG4gICAgICAgICAgICAgIGxpdmVIeXBlcnRpZXMucHVzaChkaXNjb3ZlcnkuZGF0YS5oeXBlcnR5SUQpO1xyXG4gICAgICAgICAgICAgIHVuc3Vic2NyaXB0b25Qcm9taXNlcy5wdXNoKCBkaXNjb3ZlcnkudW5zdWJzY3JpYmVMaXZlKF90aGlzLl9oeXBlcnR5VVJMKSApO1xyXG4gICAgICAgICAgICB9IGVsc2Ugey8vIHByZXZpb3VzbHkgZGlzY292ZXJlZCBvYmplY3QgaXMgc3RpbGwgZGlzY29ubmVjdGVkXHJcbiAgICAgICAgICAgICAgZGlzY29ubmVjdGVkLnB1c2goZGlzY292ZXJ5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChkaXNjb25uZWN0ZWQubGVuZ3RoID4gMCkgX3RoaXMuaW52aXRlRGlzY29ubmVjdGVkSHlwZXJ0aWVzKGRpc2Nvbm5lY3RlZCwgZ3JvdXBDaGF0KTtcclxuXHJcbiAgICAgICAgaWYgKCBPYmplY3Qua2V5cyhsaXZlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBncm91cENoYXQuaW52aXRlT2JzZXJ2ZXJzKGxpdmVIeXBlcnRpZXMpO1xyXG5cclxuICAgICAgICAgIGlmIChncm91cENoYXQuaW52aXRhdGlvbnMubGVuZ3RoID4gMCkgX3RoaXMucHJvY2Vzc0ludml0YXRpb25zKGxpdmUsIGdyb3VwQ2hhdCk7XHJcblxyXG4gICAgICAgICAgUHJvbWlzZS5hbGwodW5zdWJzY3JpcHRvblByb21pc2VzKS50aGVuKCgpPT57IHJlc29sdmUoKX0pO1xyXG5cclxuICAgICAgICB9IGVsc2UgcmVzb2x2ZSgpO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICByZWplY3QoJ1tHcm91cENoYXRNYW5hZ2VyLkludml0YXRpb25zSGFuZGxlci5yZXN1bWVEaXNjb3Zlcmllc10gZmFpbGVkIHwgJywgcmVhc29uKTtcclxuICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByZW1vdmUgYW5kIGNsZWFuIGFsbCBwZW5kaW5nIGludml0YXRpb25zLlxyXG4gICAqIEBwYXJhbSAge0RhdGFPYmplY3RSZXBvcnRlcn0gICAgRGF0YU9iamVjdFJlcG9ydGVyICAgRGF0YSBPYmplY3QgUmVwb3J0ZXIgYWRkcmVzc2VkIGJ5IGludml0YXRpb25zXHJcbiAgICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJuIGEgcHJvbWlzZSB3aGVuIGFsbCB1bnN1YnNjcmlwdG9ucyBmb3IgcGVuZGluZyBpbnZpdGF0aW9ucyBhcmUgZmluaXNoZWRcclxuICAgKi9cclxuXHJcbiAgY2xlYW5JbnZpdGF0aW9ucyhkYXRhT2JqZWN0UmVwb3J0ZXIpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IGNoYXRJbnZpdGF0aW9ucyA9IF90aGlzLl9wZW5kaW5nW2RhdGFPYmplY3RSZXBvcnRlcl07XHJcblxyXG4gICAgY29uc29sZS5sb2coJ1tHcm91cENoYXRNYW5hZ2VyLkludml0YXRpb25zSGFuZGxlci5jbGVhbkludml0YXRpb25zXSAnLCBjaGF0SW52aXRhdGlvbnMpO1xyXG5cclxuICAgIGlmIChjaGF0SW52aXRhdGlvbnMpIHtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IHBlbmRpbmdJbnZpdGF0aW9ucyA9IE9iamVjdC5rZXlzKGNoYXRJbnZpdGF0aW9ucyk7XHJcblxyXG4gICAgICAgIGxldCB1bnN1YnNjcmlwdG9uUHJvbWlzZXMgPSBbXTtcclxuXHJcbiAgICAgICAgcGVuZGluZ0ludml0YXRpb25zLmZvckVhY2goKGludml0YXRpb24pPT57XHJcbiAgICAgICAgICB1bnN1YnNjcmlwdG9uUHJvbWlzZXMucHVzaCggY2hhdEludml0YXRpb25zW2ludml0YXRpb25dLnVuc3Vic2NyaWJlTGl2ZShfdGhpcy5faHlwZXJ0eVVSTCkgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ0ludml0YXRpb25zKS50aGVuKCgpPT57IHJlc29sdmUoKTsgfSk7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9IGVsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG5cclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW52aXRhdGlvbnNIYW5kbGVyO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY2hhdE1hbmFnZXIvSW52aXRhdGlvbnNIYW5kbGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///172\n")}])});
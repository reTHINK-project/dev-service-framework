{"version":3,"sources":["CatalogueFactory.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","CatalogueFactory","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/json/stringify","2","core-js/library/fn/object/create","3","core-js/library/fn/object/define-property","4","core-js/library/fn/object/get-prototype-of","5","core-js/library/fn/object/set-prototype-of","6","core-js/library/fn/symbol","7","core-js/library/fn/symbol/iterator","8","instance","Constructor","TypeError","9","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","10","_setPrototypeOf","_setPrototypeOf2","_create","_create2","_typeof2","_typeof3","subClass","superClass","constructor","value","__proto__","../core-js/object/create","../core-js/object/set-prototype-of","../helpers/typeof","11","ReferenceError","12","_iterator","_iterator2","_symbol","_symbol2","_typeof","../core-js/symbol","../core-js/symbol/iterator","13","core","$JSON","JSON","stringify","it","apply","arguments","../../modules/_core","14","$Object","Object","P","D","create","../../modules/es6.object.create","15","desc","defineProperty","../../modules/es6.object.define-property","16","getPrototypeOf","../../modules/es6.object.get-prototype-of","17","setPrototypeOf","../../modules/es6.object.set-prototype-of","18","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","19","../../modules/_wks-ext","../../modules/es6.string.iterator","../../modules/web.dom.iterable","20","21","22","isObject","./_is-object","23","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","O","index","./_to-index","./_to-iobject","./_to-length","24","toString","slice","25","version","__e","26","aFunction","fn","that","undefined","b","c","./_a-function","27","28","get","./_fails","29","document","is","createElement","./_global","30","split","31","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","push","./_object-gops","./_object-keys","./_object-pie","32","ctx","hide","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","C","Function","virtual","R","U","./_core","./_ctx","./_hide","33","exec","34","Math","__g","35","hasOwnProperty","36","dP","createDesc","object","./_descriptors","./_object-dp","./_property-desc","37","documentElement","38","./_dom-create","39","cof","propertyIsEnumerable","./_cof","40","Array","isArray","arg","41","42","setToStringTag","IteratorPrototype","NAME","next","./_object-create","./_set-to-string-tag","./_wks","43","LIBRARY","redefine","has","Iterators","$iterCreate","ITERATOR","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","./_export","./_has","./_iter-create","./_iterators","./_library","./_object-gpo","./_redefine","44","done","45","46","47","48","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","./_uid","49","anObject","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","appendChild","src","contentWindow","open","write","close","Properties","./_an-object","./_enum-bug-keys","./_html","./_object-dps","./_shared-key","50","IE8_DOM_DEFINE","toPrimitive","Attributes","./_ie8-dom-define","./_to-primitive","51","52","gOPD","getOwnPropertyDescriptor","53","gOPN","windowNames","getOwnPropertyNames","getWindowNames","./_object-gopn","54","$keys","hiddenKeys","concat","./_object-keys-internal","55","getOwnPropertySymbols","56","toObject","ObjectProto","./_to-object","57","arrayIndexOf","names","./_array-includes","58","59","60","fails","exp","61","bitmap","62","63","check","set","test","buggy","./_object-gopd","64","def","tag","stat","65","shared","uid","./_shared","66","SHARED","store","67","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./_defined","./_to-integer","68","max","min","69","ceil","floor","isNaN","70","IObject","./_iobject","71","72","73","val","valueOf","74","px","random","75","wksExt","$Symbol","./_wks-ext","76","77","USE_SYMBOL","$exports","78","addToUnscopables","step","iterated","_t","_i","_k","Arguments","./_add-to-unscopables","./_iter-define","./_iter-step","79","80","81","$getPrototypeOf","./_object-sap","82","./_set-proto","83","84","$at","point","./_string-at","85","DESCRIPTORS","$fails","wks","wksDefine","keyOf","enumKeys","gOPNExt","$GOPD","$DP","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","iterator","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","for","keyFor","useSetter","useSimple","replacer","$replacer","args","./_enum-keys","./_is-array","./_keyof","./_meta","./_object-gopn-ext","./_wks-define","86","87","88","TO_STRING_TAG","collections","Collection","./es6.array.iterator","89","factory","tv4","notReallyPercentEncode","string","encodeURI","replace","doubleEncoded","substring","uriTemplateSubstitution","spec","modifier","uriTemplateGlobalModifiers","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","varSpecs","varSpecMap","varName","truncate","indexOf","parts","parseInt","suffices","uriTemplateSuffices","varSpec","subFunction","valueFunction","startIndex","j","encodeURIComponent","first","substitution","UriTemplate","template","textParts","shift","prefixes","substitutions","part","remainder","funcs","fill","recursiveCompare","A","parseURI","url","m","match","href","protocol","authority","host","hostname","port","pathname","search","hash","resolveUrl","base","removeDotSegments","input","output","p","pop","join","lastIndexOf","getDocumentUri","uri","normSchema","schema","baseUri","defaultErrorReporter","language","errorMessages","languages","error","messageTemplate","ErrorMessagesDefault","messageParams","params","whole","subValue","ValidationError","dataPath","schemaPath","subErrors","message","err","stack","stacktrace","isTrustedUrl","baseUrl","testUrl","createApi","currentLanguage","customErrorReporter","globalContext","ValidatorContext","api","setErrorReporter","reporter","addFormat","addLanguage","messageMap","ErrorCodes","rootCode","freshApi","validate","data","checkRecursive","banUnknownProperties","errorReporter","context","$ref","addSchema","validateAll","missing","valid","validateResult","validateMultiple","errors","getSchema","getSchemaMap","getSchemaUris","getMissingUris","dropSchemas","defineKeyword","defineError","codeName","codeNumber","defaultMessage","ErrorCodeLookup","langCode","reset","errorCodes","hasDontEnumBug","dontEnums","dontEnumsLength","prop","vArg","searchElement","len","Number","Infinity","abs","k","isFrozen","+","#",".","/",";","?","&","*","fillFromObject","parent","collectMultiple","trackUnknownProperties","missingMap","formatValidators","schemas","handleError","collectError","returnError","scanned","scannedFrozen","scannedFrozenSchemas","scannedFrozenValidationErrors","validatedSchemasKey","validationErrorsKey","knownPropertyPaths","unknownPropertyPaths","definedKeywords","keyword","keywordFunction","createError","prefixErrors","prefixWith","unknownPath","UNKNOWN_PROPERTY","path","format","validator","resolveRefs","urlHistory","CIRCULAR_REFERENCE","urls","fragment","pointerPath","decodeURIComponent","component","searchSchemas","map","filterRegExp","list","dataPathParts","schemaPathParts","dataPointerPath","topLevel","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","schemaIndex","frozenSchemaIndex","errorCount","validateBasic","validateNumeric","validateString","validateArray","validateObject","validateCombinations","validateHypermedia","validateFormat","validateDefinedKeywords","item","dataPart","schemaPart","errorMessage","FORMAT_CUSTOM","validationFunctions","func","KEYWORD_CUSTOM","validateType","validateEnum","dataType","allowedTypes","INVALID_TYPE","expected","enumVal","ENUM_MISMATCH","validateMultipleOf","validateMinMax","validateNaN","CLOSE_ENOUGH_LOW","pow","CLOSE_ENOUGH_HIGH","multipleOf","divisibleBy","NUMBER_MULTIPLE_OF","minimum","NUMBER_MINIMUM","exclusiveMinimum","NUMBER_MINIMUM_EXCLUSIVE","maximum","NUMBER_MAXIMUM","exclusiveMaximum","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","validateStringLength","validateStringPattern","minLength","STRING_LENGTH_SHORT","maxLength","STRING_LENGTH_LONG","pattern","RegExp","regexp","body","flags","literal","STRING_PATTERN","validateArrayLength","validateArrayUniqueItems","validateArrayItems","minItems","ARRAY_LENGTH_SHORT","maxItems","ARRAY_LENGTH_LONG","uniqueItems","ARRAY_UNIQUE","match1","match2","items","additionalItems","ARRAY_ADDITIONAL_ITEMS","validateObjectMinMaxProperties","validateObjectRequiredProperties","validateObjectProperties","validateObjectDependencies","minProperties","OBJECT_PROPERTIES_MINIMUM","propertyCount","maxProperties","OBJECT_PROPERTIES_MAXIMUM","required","OBJECT_REQUIRED","keyPointerPath","foundMatch","properties","patternProperties","patternKey","additionalProperties","OBJECT_ADDITIONAL_PROPERTIES","dependencies","depKey","dep","OBJECT_DEPENDENCY_KEY","requiredKey","validateAllOf","validateAnyOf","validateOneOf","validateNot","allOf","subSchema","anyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownKey","unknownKey","ANY_OF_MISSING","oneOf","validIndex","ONE_OF_MULTIPLE","index1","index2","ONE_OF_MISSING","not","oldErrorCount","notErrors","NOT_PASSED","links","ldo","rel","allPresent","schemaUrl","dataPrefix","schemaPrefix","90","SourcePackage","ProtocolStubDescriptor","HypertyDescriptor","_CatalogueDataObjectFactory","_CatalogueDataObjectFactory2","_HypertyDescriptor","_HypertyDescriptor2","_ProtocolStubDescriptor","_ProtocolStubDescriptor2","_SourcePackage","_SourcePackage2","./catalogue-factory/CatalogueDataObjectFactory","./catalogue-factory/HypertyDescriptor","./catalogue-factory/ProtocolStubDescriptor","./catalogue-factory/SourcePackage","91","DataObjectSourceLanguage","CatalogueObjectType","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_RethinkObject2","_RethinkObject3","CatalogueDataObject","_RethinkObject","guid","objectName","description","sourcePackageURL","_this","_guid","_type","_version","_objectName","_description","_language","_sourcePackageURL","_signature","_sourcePackage","signature","sourcePackage","HYPERTY","PROTOSTUB","HYPERTY_RUNTIME","HYPERTY_INTERCEPTOR","HYPERTY_DATA_OBJECT","JAVASCRIPT_ECMA6","JAVASCRIPT_ECMA5","JSON_SCHEMA_V4","PYTHON","TYPESCRIPT","../reTHINKObject/RethinkObject","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","92","_CatalogueDataObject","_CatalogueDataObject2","_HypertyRuntimeDescriptor","_HypertyRuntimeDescriptor2","_HypertyInterceptorDescriptor","_HypertyInterceptorDescriptor2","_DataObjectSchema","CatalogueDataObjectFactory","hypertyType","dataObjects","messageSchemas","configuration","constraints","interworking","idpProxy","mutualAuthentication","runtimeType","hypertyCapabilities","protocolCapabilities","p2pHandlerStub","p2pRequesterStub","policies","DataObjectSchema","accessControlPolicy","scheme","DataUrlScheme","COMM","CommunicationDataObjectSchema","CONNECTION","ConnectionDataObjectSchema","CTXT","ContextDataObjectSchema","IDENTITY","IdentityDataObjectSchema","sourceCodeClassname","sourceCode","./CatalogueDataObject","./DataObjectSchema","./HypertyDescriptor","./HypertyInterceptorDescriptor","./HypertyRuntimeDescriptor","./ProtocolStubDescriptor","./SourcePackage","93","HypertyDataObjectSchema","MessageDataObjectSchema","_CatalogueDataObject3","_DataObjectSchema2","dataUrlScheme","_this3","_accessControlPolicy","_scheme","_HypertyDataObjectSch","_HypertyDataObjectSch2","_HypertyDataObjectSch3","_HypertyDataObjectSch4","94","HypertyResourceType","HypertyType","RuntimeHypertyCapabilityType","catalogueType","dataObjectUrls","_configuration","_constraints","_policies","_messageSchema","_hypertyType","_dataObjects","hType","messageSchema","COMMUNICATOR","CONTEXT","chat","audio","video","av","screen","file","midi","95","PolicyEnforcerDescriptor","96","RuntimeType","RuntimeProtocolCapability","RuntimeHypertyCapability","_stringify2","HypertyRuntimeDescriptor","_runtimeType","_hypertyCapabilities","_protocolCapabilities","_p2pHandlerStub","_p2pRequesterStub","isWebRTCSupported","isMicSupported","isCameraSupported","isSensorSupported","isORTCSupported","_isWebRTC","_isMic","_isCamera","_isSensor","_isORTC","isHttp","isHttps","isWS","isWSS","isCoap","isDataChannel","_isHttp","_isHttps","_isWS","_isWSS","_isCoap","_isDataChannel","BROWSER","STANDALONE","SERVER","GATEWAY","babel-runtime/core-js/json/stringify","97","_messageSchemas","_interworking","_idpProxy","_mutualAuthentication","98","_sourceCode","_sourceCodeClassname","_encoding","encoding","sign","99","RethinkObject","_tv","_tv2","parse","forEach","console","warn","log"],"mappings":"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","file":"CatalogueFactory.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.CatalogueFactory = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":13}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":14}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":15}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":16}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":17}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":18}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":19}],8:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":3}],10:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":2,\"../core-js/object/set-prototype-of\":5,\"../helpers/typeof\":12}],11:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":12}],12:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":6,\"../core-js/symbol/iterator\":7}],13:[function(require,module,exports){\nvar core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":25}],14:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":25,\"../../modules/es6.object.create\":79}],15:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":25,\"../../modules/es6.object.define-property\":80}],16:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":25,\"../../modules/es6.object.get-prototype-of\":81}],17:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":25,\"../../modules/es6.object.set-prototype-of\":82}],18:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":25,\"../../modules/es6.object.to-string\":83,\"../../modules/es6.symbol\":85,\"../../modules/es7.symbol.async-iterator\":86,\"../../modules/es7.symbol.observable\":87}],19:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":76,\"../../modules/es6.string.iterator\":84,\"../../modules/web.dom.iterable\":88}],20:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],21:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],22:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":41}],23:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":68,\"./_to-iobject\":70,\"./_to-length\":71}],24:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],25:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],26:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":20}],27:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],28:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":33}],29:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":34,\"./_is-object\":41}],30:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],31:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":55,\"./_object-keys\":58,\"./_object-pie\":59}],32:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":25,\"./_ctx\":26,\"./_global\":34,\"./_hide\":36}],33:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],34:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],35:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],36:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":28,\"./_object-dp\":50,\"./_property-desc\":61}],37:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":34}],38:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":28,\"./_dom-create\":29,\"./_fails\":33}],39:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":24}],40:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":24}],41:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],42:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":36,\"./_object-create\":49,\"./_property-desc\":61,\"./_set-to-string-tag\":64,\"./_wks\":77}],43:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":32,\"./_has\":35,\"./_hide\":36,\"./_iter-create\":42,\"./_iterators\":45,\"./_library\":47,\"./_object-gpo\":56,\"./_redefine\":62,\"./_set-to-string-tag\":64,\"./_wks\":77}],44:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],45:[function(require,module,exports){\nmodule.exports = {};\n},{}],46:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":58,\"./_to-iobject\":70}],47:[function(require,module,exports){\nmodule.exports = true;\n},{}],48:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":33,\"./_has\":35,\"./_is-object\":41,\"./_object-dp\":50,\"./_uid\":74}],49:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":22,\"./_dom-create\":29,\"./_enum-bug-keys\":30,\"./_html\":37,\"./_object-dps\":51,\"./_shared-key\":65}],50:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":22,\"./_descriptors\":28,\"./_ie8-dom-define\":38,\"./_to-primitive\":73}],51:[function(require,module,exports){\nvar dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":22,\"./_descriptors\":28,\"./_object-dp\":50,\"./_object-keys\":58}],52:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":28,\"./_has\":35,\"./_ie8-dom-define\":38,\"./_object-pie\":59,\"./_property-desc\":61,\"./_to-iobject\":70,\"./_to-primitive\":73}],53:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":54,\"./_to-iobject\":70}],54:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":30,\"./_object-keys-internal\":57}],55:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],56:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":35,\"./_shared-key\":65,\"./_to-object\":72}],57:[function(require,module,exports){\nvar has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":23,\"./_has\":35,\"./_shared-key\":65,\"./_to-iobject\":70}],58:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":30,\"./_object-keys-internal\":57}],59:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],60:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":25,\"./_export\":32,\"./_fails\":33}],61:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],62:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":36}],63:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":22,\"./_ctx\":26,\"./_is-object\":41,\"./_object-gopd\":52}],64:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":35,\"./_object-dp\":50,\"./_wks\":77}],65:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":66,\"./_uid\":74}],66:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":34}],67:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":27,\"./_to-integer\":69}],68:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":69}],69:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],70:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":27,\"./_iobject\":39}],71:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":69}],72:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":27}],73:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":41}],74:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],75:[function(require,module,exports){\nvar global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":25,\"./_global\":34,\"./_library\":47,\"./_object-dp\":50,\"./_wks-ext\":76}],76:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":77}],77:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":34,\"./_shared\":66,\"./_uid\":74}],78:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":21,\"./_iter-define\":43,\"./_iter-step\":44,\"./_iterators\":45,\"./_to-iobject\":70}],79:[function(require,module,exports){\nvar $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n},{\"./_export\":32,\"./_object-create\":49}],80:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":28,\"./_export\":32,\"./_object-dp\":50}],81:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":56,\"./_object-sap\":60,\"./_to-object\":72}],82:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n},{\"./_export\":32,\"./_set-proto\":63}],83:[function(require,module,exports){\n\n},{}],84:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":43,\"./_string-at\":67}],85:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":22,\"./_descriptors\":28,\"./_enum-keys\":31,\"./_export\":32,\"./_fails\":33,\"./_global\":34,\"./_has\":35,\"./_hide\":36,\"./_is-array\":40,\"./_keyof\":46,\"./_library\":47,\"./_meta\":48,\"./_object-create\":49,\"./_object-dp\":50,\"./_object-gopd\":52,\"./_object-gopn\":54,\"./_object-gopn-ext\":53,\"./_object-gops\":55,\"./_object-keys\":58,\"./_object-pie\":59,\"./_property-desc\":61,\"./_redefine\":62,\"./_set-to-string-tag\":64,\"./_shared\":66,\"./_to-iobject\":70,\"./_to-primitive\":73,\"./_uid\":74,\"./_wks\":77,\"./_wks-define\":75,\"./_wks-ext\":76}],86:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":75}],87:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":75}],88:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":34,\"./_hide\":36,\"./_iterators\":45,\"./_wks\":77,\"./es6.array.iterator\":78}],89:[function(require,module,exports){\n/*\nAuthor: Geraint Luff and others\nYear: 2013\n\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\n\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\n*/\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof module !== 'undefined' && module.exports){\n    // CommonJS. Define export.\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.tv4 = factory();\n  }\n}(this, function () {\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\nif (!Object.keys) {\n\tObject.keys = (function () {\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n\t\t\tdontEnums = [\n\t\t\t\t'toString',\n\t\t\t\t'toLocaleString',\n\t\t\t\t'valueOf',\n\t\t\t\t'hasOwnProperty',\n\t\t\t\t'isPrototypeOf',\n\t\t\t\t'propertyIsEnumerable',\n\t\t\t\t'constructor'\n\t\t\t],\n\t\t\tdontEnumsLength = dontEnums.length;\n\n\t\treturn function (obj) {\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\n\t\t\t}\n\n\t\t\tvar result = [];\n\n\t\t\tfor (var prop in obj) {\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\n\t\t\t\t\tresult.push(prop);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasDontEnumBug) {\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\n\t\t\t\t\t\tresult.push(dontEnums[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\nif (!Object.create) {\n\tObject.create = (function(){\n\t\tfunction F(){}\n\n\t\treturn function(o){\n\t\t\tif (arguments.length !== 1) {\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\n\t\t\t}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\nif(!Array.isArray) {\n\tArray.isArray = function (vArg) {\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\n\t};\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\n\t\tif (this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\t\tvar t = Object(this);\n\t\tvar len = t.length >>> 0;\n\n\t\tif (len === 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar n = 0;\n\t\tif (arguments.length > 1) {\n\t\t\tn = Number(arguments[1]);\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\n\t\t\t\tn = 0;\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\n\t\t\t}\n\t\t}\n\t\tif (n >= len) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\t\tfor (; k < len; k++) {\n\t\t\tif (k in t && t[k] === searchElement) {\n\t\t\t\treturn k;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n}\n\n// Grungey Object.isFrozen hack\nif (!Object.isFrozen) {\n\tObject.isFrozen = function (obj) {\n\t\tvar key = \"tv4_test_frozen_key\";\n\t\twhile (obj.hasOwnProperty(key)) {\n\t\t\tkey += Math.random();\n\t\t}\n\t\ttry {\n\t\t\tobj[key] = true;\n\t\t\tdelete obj[key];\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t};\n}\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\n\nvar uriTemplateGlobalModifiers = {\n\t\"+\": true,\n\t\"#\": true,\n\t\".\": true,\n\t\"/\": true,\n\t\";\": true,\n\t\"?\": true,\n\t\"&\": true\n};\nvar uriTemplateSuffices = {\n\t\"*\": true\n};\n\nfunction notReallyPercentEncode(string) {\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\treturn \"%\" + doubleEncoded.substring(3);\n\t});\n}\n\nfunction uriTemplateSubstitution(spec) {\n\tvar modifier = \"\";\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\tmodifier = spec.charAt(0);\n\t\tspec = spec.substring(1);\n\t}\n\tvar separator = \"\";\n\tvar prefix = \"\";\n\tvar shouldEscape = true;\n\tvar showVariables = false;\n\tvar trimEmptyString = false;\n\tif (modifier === '+') {\n\t\tshouldEscape = false;\n\t} else if (modifier === \".\") {\n\t\tprefix = \".\";\n\t\tseparator = \".\";\n\t} else if (modifier === \"/\") {\n\t\tprefix = \"/\";\n\t\tseparator = \"/\";\n\t} else if (modifier === '#') {\n\t\tprefix = \"#\";\n\t\tshouldEscape = false;\n\t} else if (modifier === ';') {\n\t\tprefix = \";\";\n\t\tseparator = \";\";\n\t\tshowVariables = true;\n\t\ttrimEmptyString = true;\n\t} else if (modifier === '?') {\n\t\tprefix = \"?\";\n\t\tseparator = \"&\";\n\t\tshowVariables = true;\n\t} else if (modifier === '&') {\n\t\tprefix = \"&\";\n\t\tseparator = \"&\";\n\t\tshowVariables = true;\n\t}\n\n\tvar varNames = [];\n\tvar varList = spec.split(\",\");\n\tvar varSpecs = [];\n\tvar varSpecMap = {};\n\tfor (var i = 0; i < varList.length; i++) {\n\t\tvar varName = varList[i];\n\t\tvar truncate = null;\n\t\tif (varName.indexOf(\":\") !== -1) {\n\t\t\tvar parts = varName.split(\":\");\n\t\t\tvarName = parts[0];\n\t\t\ttruncate = parseInt(parts[1], 10);\n\t\t}\n\t\tvar suffices = {};\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t}\n\t\tvar varSpec = {\n\t\t\ttruncate: truncate,\n\t\t\tname: varName,\n\t\t\tsuffices: suffices\n\t\t};\n\t\tvarSpecs.push(varSpec);\n\t\tvarSpecMap[varName] = varSpec;\n\t\tvarNames.push(varName);\n\t}\n\tvar subFunction = function (valueFunction) {\n\t\tvar result = \"\";\n\t\tvar startIndex = 0;\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\tvar varSpec = varSpecs[i];\n\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\n\t\t\t\tstartIndex++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (i === startIndex) {\n\t\t\t\tresult += prefix;\n\t\t\t} else {\n\t\t\t\tresult += (separator || \",\");\n\t\t\t}\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\n\t\t\t\t}\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\n\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t}\n\t\t\t\tvar first = true;\n\t\t\t\tfor (var key in value) {\n\t\t\t\t\tif (!first) {\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t}\n\t\t\t\t\tfirst = false;\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\n\t\t\t\t\t\tresult += \"=\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t}\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tsubFunction.varNames = varNames;\n\treturn {\n\t\tprefix: prefix,\n\t\tsubstitution: subFunction\n\t};\n}\n\nfunction UriTemplate(template) {\n\tif (!(this instanceof UriTemplate)) {\n\t\treturn new UriTemplate(template);\n\t}\n\tvar parts = template.split(\"{\");\n\tvar textParts = [parts.shift()];\n\tvar prefixes = [];\n\tvar substitutions = [];\n\tvar varNames = [];\n\twhile (parts.length > 0) {\n\t\tvar part = parts.shift();\n\t\tvar spec = part.split(\"}\")[0];\n\t\tvar remainder = part.substring(spec.length + 1);\n\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\tsubstitutions.push(funcs.substitution);\n\t\tprefixes.push(funcs.prefix);\n\t\ttextParts.push(remainder);\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\n\t}\n\tthis.fill = function (valueFunction) {\n\t\tvar result = textParts[0];\n\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\tvar substitution = substitutions[i];\n\t\t\tresult += substitution(valueFunction);\n\t\t\tresult += textParts[i + 1];\n\t\t}\n\t\treturn result;\n\t};\n\tthis.varNames = varNames;\n\tthis.template = template;\n}\nUriTemplate.prototype = {\n\ttoString: function () {\n\t\treturn this.template;\n\t},\n\tfillFromObject: function (obj) {\n\t\treturn this.fill(function (varName) {\n\t\t\treturn obj[varName];\n\t\t});\n\t}\n};\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\n\tthis.collectMultiple = collectMultiple;\n\tthis.errors = [];\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\n\tif (checkRecursive) {\n\t\tthis.checkRecursive = true;\n\t\tthis.scanned = [];\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t\tthis.scannedFrozenValidationErrors = [];\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\n\t}\n\tif (trackUnknownProperties) {\n\t\tthis.trackUnknownProperties = true;\n\t\tthis.knownPropertyPaths = {};\n\t\tthis.unknownPropertyPaths = {};\n\t}\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\n\tif (typeof this.errorReporter === 'string') {\n\t\tthrow new Error('debug');\n\t}\n\tthis.definedKeywords = {};\n\tif (parent) {\n\t\tfor (var key in parent.definedKeywords) {\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\n\t\t}\n\t}\n};\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\n\tthis.definedKeywords[keyword].push(keywordFunction);\n};\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\n\terror.message = this.errorReporter(error, data, schema);\n\treturn error;\n};\nValidatorContext.prototype.returnError = function (error) {\n\treturn error;\n};\nValidatorContext.prototype.collectError = function (error) {\n\tif (error) {\n\t\tthis.errors.push(error);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\n\tfor (var i = startIndex; i < this.errors.length; i++) {\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\n\t}\n\treturn this;\n};\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\n\tfor (var unknownPath in this.unknownPropertyPaths) {\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\n\t\tvar result = this.handleError(error);\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.addFormat = function (format, validator) {\n\tif (typeof format === 'object') {\n\t\tfor (var key in format) {\n\t\t\tthis.addFormat(key, format[key]);\n\t\t}\n\t\treturn this;\n\t}\n\tthis.formatValidators[format] = validator;\n};\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\n\tif (schema['$ref'] !== undefined) {\n\t\turlHistory = urlHistory || {};\n\t\tif (urlHistory[schema['$ref']]) {\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\n\t\t}\n\t\turlHistory[schema['$ref']] = true;\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\n\t}\n\treturn schema;\n};\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\n\tvar schema;\n\tif (this.schemas[url] !== undefined) {\n\t\tschema = this.schemas[url];\n\t\treturn this.resolveRefs(schema, urlHistory);\n\t}\n\tvar baseUrl = url;\n\tvar fragment = \"\";\n\tif (url.indexOf('#') !== -1) {\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\n\t}\n\tif (typeof this.schemas[baseUrl] === 'object') {\n\t\tschema = this.schemas[baseUrl];\n\t\tvar pointerPath = decodeURIComponent(fragment);\n\t\tif (pointerPath === \"\") {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\n\t\t\treturn undefined;\n\t\t}\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\n\t\tfor (var i = 0; i < parts.length; i++) {\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n\t\t\tif (schema[component] === undefined) {\n\t\t\t\tschema = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tschema = schema[component];\n\t\t}\n\t\tif (schema !== undefined) {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t}\n\t}\n\tif (this.missing[baseUrl] === undefined) {\n\t\tthis.missing.push(baseUrl);\n\t\tthis.missing[baseUrl] = baseUrl;\n\t\tthis.missingMap[baseUrl] = baseUrl;\n\t}\n};\nValidatorContext.prototype.searchSchemas = function (schema, url) {\n\tif (Array.isArray(schema)) {\n\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\tthis.searchSchemas(schema[i], url);\n\t\t}\n\t} else if (schema && typeof schema === \"object\") {\n\t\tif (typeof schema.id === \"string\") {\n\t\t\tif (isTrustedUrl(url, schema.id)) {\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\n\t\t\t\t\tthis.schemas[schema.id] = schema;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var key in schema) {\n\t\t\tif (key !== \"enum\") {\n\t\t\t\tif (typeof schema[key] === \"object\") {\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\n\t\t\t\t} else if (key === \"$ref\") {\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\nValidatorContext.prototype.addSchema = function (url, schema) {\n\t//overload\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\n\t\t\tschema = url;\n\t\t\turl = schema.id;\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (url === getDocumentUri(url) + \"#\") {\n\t\t// Remove empty fragment\n\t\turl = getDocumentUri(url);\n\t}\n\tthis.schemas[url] = schema;\n\tdelete this.missingMap[url];\n\tnormSchema(schema, url);\n\tthis.searchSchemas(schema, url);\n};\n\nValidatorContext.prototype.getSchemaMap = function () {\n\tvar map = {};\n\tfor (var key in this.schemas) {\n\t\tmap[key] = this.schemas[key];\n\t}\n\treturn map;\n};\n\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.schemas) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.missingMap) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.dropSchemas = function () {\n\tthis.schemas = {};\n\tthis.reset();\n};\nValidatorContext.prototype.reset = function () {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.errors = [];\n};\n\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\n\tvar topLevel;\n\tschema = this.resolveRefs(schema);\n\tif (!schema) {\n\t\treturn null;\n\t} else if (schema instanceof ValidationError) {\n\t\tthis.errors.push(schema);\n\t\treturn schema;\n\t}\n\n\tvar startErrorCount = this.errors.length;\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\n\tif (this.checkRecursive && data && typeof data === 'object') {\n\t\ttopLevel = !this.scanned.length;\n\t\tif (data[this.validatedSchemasKey]) {\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\n\t\t\tif (schemaIndex !== -1) {\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif (Object.isFrozen(data)) {\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\n\t\t\tif (frozenIndex !== -1) {\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\n\t\t\t\tif (frozenSchemaIndex !== -1) {\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.scanned.push(data);\n\t\tif (Object.isFrozen(data)) {\n\t\t\tif (frozenIndex === -1) {\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\n\t\t\t\tthis.scannedFrozen.push(data);\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\n\t\t\t}\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\n\t\t} else {\n\t\t\tif (!data[this.validatedSchemasKey]) {\n\t\t\t\ttry {\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//IE 7/8 workaround\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\n\t\t}\n\t}\n\n\tvar errorCount = this.errors.length;\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\n\t\t|| this.validateString(data, schema, dataPointerPath)\n\t\t|| this.validateArray(data, schema, dataPointerPath)\n\t\t|| this.validateObject(data, schema, dataPointerPath)\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\n\t\t|| null;\n\n\tif (topLevel) {\n\t\twhile (this.scanned.length) {\n\t\t\tvar item = this.scanned.pop();\n\t\t\tdelete item[this.validatedSchemasKey];\n\t\t}\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t}\n\n\tif (error || errorCount !== this.errors.length) {\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\n\t\t\tif (error) {\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\n\t\t\t}\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\n\t\t}\n\t}\n\n\tif (scannedFrozenSchemaIndex !== null) {\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\n\t} else if (scannedSchemasIndex !== null) {\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\n\t}\n\n\treturn this.handleError(error);\n};\nValidatorContext.prototype.validateFormat = function (data, schema) {\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\n\t\treturn null;\n\t}\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\n\t} else if (errorMessage && typeof errorMessage === 'object') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\n\tfor (var key in this.definedKeywords) {\n\t\tif (typeof schema[key] === 'undefined') {\n\t\t\tcontinue;\n\t\t}\n\t\tvar validationFunctions = this.definedKeywords[key];\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\n\t\t\tvar func = validationFunctions[i];\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\n\t\t\t} else if (result && typeof result === 'object') {\n\t\t\t\tvar code = result.code;\n\t\t\t\tif (typeof code === 'string') {\n\t\t\t\t\tif (!ErrorCodes[code]) {\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\n\t\t\t\t\t}\n\t\t\t\t\tcode = ErrorCodes[code];\n\t\t\t\t} else if (typeof code !== 'number') {\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\n\t\t\t\t}\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nfunction recursiveCompare(A, B) {\n\tif (A === B) {\n\t\treturn true;\n\t}\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\n\t\t\treturn false;\n\t\t} else if (Array.isArray(A)) {\n\t\t\tif (A.length !== B.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < A.length; i++) {\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar key;\n\t\t\tfor (key in A) {\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in B) {\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in A) {\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\n\tvar error;\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, \"type\");\n\t}\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, \"type\");\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateType = function validateType(data, schema) {\n\tif (schema.type === undefined) {\n\t\treturn null;\n\t}\n\tvar dataType = typeof data;\n\tif (data === null) {\n\t\tdataType = \"null\";\n\t} else if (Array.isArray(data)) {\n\t\tdataType = \"array\";\n\t}\n\tvar allowedTypes = schema.type;\n\tif (!Array.isArray(allowedTypes)) {\n\t\tallowedTypes = [allowedTypes];\n\t}\n\n\tfor (var i = 0; i < allowedTypes.length; i++) {\n\t\tvar type = allowedTypes[i];\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\n};\n\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\n\tif (schema[\"enum\"] === undefined) {\n\t\treturn null;\n\t}\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\n\t\tvar enumVal = schema[\"enum\"][i];\n\t\tif (recursiveCompare(data, enumVal)) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\n};\n\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\n\tif (multipleOf === undefined) {\n\t\treturn null;\n\t}\n\tif (typeof data === \"number\") {\n\t\tvar remainder = (data/multipleOf)%1;\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\n\tif (typeof data !== \"number\") {\n\t\treturn null;\n\t}\n\tif (schema.minimum !== undefined) {\n\t\tif (data < schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maximum !== undefined) {\n\t\tif (data > schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\n\tif (typeof data !== \"number\") {\n\t\treturn null;\n\t}\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\n\treturn this.validateStringLength(data, schema, dataPointerPath)\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\n\tif (typeof data !== \"string\") {\n\t\treturn null;\n\t}\n\tif (schema.minLength !== undefined) {\n\t\tif (data.length < schema.minLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maxLength !== undefined) {\n\t\tif (data.length > schema.maxLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\n\t\treturn null;\n\t}\n\tvar regexp;\n\tif (schema.pattern instanceof RegExp) {\n\t  regexp = schema.pattern;\n\t}\n\telse {\n\t  var body, flags = '';\n\t  // Check for regular expression literals\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\n\t  if (literal) {\n\t    body = literal[1];\n\t    flags = literal[2];\n\t  }\n\t  else {\n\t    body = schema.pattern;\n\t  }\n\t  regexp = new RegExp(body, flags);\n\t}\n\tif (!regexp.test(data)) {\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\n\tif (!Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\n\tvar error;\n\tif (schema.minItems !== undefined) {\n\t\tif (data.length < schema.minItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxItems !== undefined) {\n\t\tif (data.length > schema.maxItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\n\tif (schema.uniqueItems) {\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\n\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\n\tif (schema.items === undefined) {\n\t\treturn null;\n\t}\n\tvar error, i;\n\tif (Array.isArray(schema.items)) {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (i < schema.items.length) {\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t} else if (schema.additionalItems !== undefined) {\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\n\t\t\t\t\tif (!schema.additionalItems) {\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\n\tvar keys = Object.keys(data);\n\tvar error;\n\tif (schema.minProperties !== undefined) {\n\t\tif (keys.length < schema.minProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxProperties !== undefined) {\n\t\tif (keys.length > schema.maxProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\n\tif (schema.required !== undefined) {\n\t\tfor (var i = 0; i < schema.required.length; i++) {\n\t\t\tvar key = schema.required[i];\n\t\t\tif (data[key] === undefined) {\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\n\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\n\tvar error;\n\tfor (var key in data) {\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\n\t\tvar foundMatch = false;\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\n\t\t\tfoundMatch = true;\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t\tif (schema.patternProperties !== undefined) {\n\t\t\tfor (var patternKey in schema.patternProperties) {\n\t\t\t\tvar regexp = new RegExp(patternKey);\n\t\t\t\tif (regexp.test(key)) {\n\t\t\t\t\tfoundMatch = true;\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!foundMatch) {\n\t\t\tif (schema.additionalProperties !== undefined) {\n\t\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t\t\t}\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\n\t\t\t\t\tif (!schema.additionalProperties) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\n\t\t\t}\n\t\t} else if (this.trackUnknownProperties) {\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\n\tvar error;\n\tif (schema.dependencies !== undefined) {\n\t\tfor (var depKey in schema.dependencies) {\n\t\t\tif (data[depKey] !== undefined) {\n\t\t\t\tvar dep = schema.dependencies[depKey];\n\t\t\t\tif (typeof dep === \"string\") {\n\t\t\t\t\tif (data[dep] === undefined) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (Array.isArray(dep)) {\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\t\tvar requiredKey = dep[i];\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n\t\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\n\treturn this.validateAllOf(data, schema, dataPointerPath)\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\n\t\t|| this.validateNot(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\n\tif (schema.allOf === undefined) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.allOf.length; i++) {\n\t\tvar subSchema = schema.allOf[i];\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\n\t\t\treturn error;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\n\tif (schema.anyOf === undefined) {\n\t\treturn null;\n\t}\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tvar errorAtEnd = true;\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.anyOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\n\t\t\t\terrorAtEnd = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t\tif (error) {\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (errorAtEnd) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\n\t}\n};\n\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\n\tif (schema.oneOf === undefined) {\n\t\treturn null;\n\t}\n\tvar validIndex = null;\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.oneOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tif (validIndex === null) {\n\t\t\t\tvalidIndex = i;\n\t\t\t} else {\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\n\t\t\t}\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (error) {\n\t\t\terrors.push(error);\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (validIndex === null) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\n\t} else {\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\n\tif (schema.not === undefined) {\n\t\treturn null;\n\t}\n\tvar oldErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t\tthis.unknownPropertyPaths = {};\n\t\tthis.knownPropertyPaths = {};\n\t}\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\n\tvar notErrors = this.errors.slice(oldErrorCount);\n\tthis.errors = this.errors.slice(0, oldErrorCount);\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (error === null && notErrors.length === 0) {\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\n\tif (!schema.links) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.links.length; i++) {\n\t\tvar ldo = schema.links[i];\n\t\tif (ldo.rel === \"describedby\") {\n\t\t\tvar template = new UriTemplate(ldo.href);\n\t\t\tvar allPresent = true;\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\n\t\t\t\tif (!(template.varNames[j] in data)) {\n\t\t\t\t\tallPresent = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (allPresent) {\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\n\nfunction parseURI(url) {\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\n\treturn (m ? {\n\t\thref     : m[0] || '',\n\t\tprotocol : m[1] || '',\n\t\tauthority: m[2] || '',\n\t\thost     : m[3] || '',\n\t\thostname : m[4] || '',\n\t\tport     : m[5] || '',\n\t\tpathname : m[6] || '',\n\t\tsearch   : m[7] || '',\n\t\thash     : m[8] || ''\n\t} : null);\n}\n\nfunction resolveUrl(base, href) {// RFC 3986\n\n\tfunction removeDotSegments(input) {\n\t\tvar output = [];\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\n\t\t\t\tif (p === '/..') {\n\t\t\t\t\toutput.pop();\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(p);\n\t\t\t\t}\n\t\t});\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\n\t}\n\n\thref = parseURI(href || '');\n\tbase = parseURI(base || '');\n\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\n\t\thref.hash;\n}\n\nfunction getDocumentUri(uri) {\n\treturn uri.split('#')[0];\n}\nfunction normSchema(schema, baseUri) {\n\tif (schema && typeof schema === \"object\") {\n\t\tif (baseUri === undefined) {\n\t\t\tbaseUri = schema.id;\n\t\t} else if (typeof schema.id === \"string\") {\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\n\t\t\tschema.id = baseUri;\n\t\t}\n\t\tif (Array.isArray(schema)) {\n\t\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\t\tnormSchema(schema[i], baseUri);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof schema['$ref'] === \"string\") {\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\n\t\t\t}\n\t\t\tfor (var key in schema) {\n\t\t\t\tif (key !== \"enum\") {\n\t\t\t\t\tnormSchema(schema[key], baseUri);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction defaultErrorReporter(language) {\n\tlanguage = language || 'en';\n\n\tvar errorMessages = languages[language];\n\n\treturn function (error) {\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\n\t\tif (typeof messageTemplate !== 'string') {\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\n\t\t}\n\t\tvar messageParams = error.params;\n\t\t// Adapted from Crockford's supplant()\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\n\t\t\tvar subValue = messageParams[varName];\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\n\t\t});\n\t};\n}\n\nvar ErrorCodes = {\n\tINVALID_TYPE: 0,\n\tENUM_MISMATCH: 1,\n\tANY_OF_MISSING: 10,\n\tONE_OF_MISSING: 11,\n\tONE_OF_MULTIPLE: 12,\n\tNOT_PASSED: 13,\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: 100,\n\tNUMBER_MINIMUM: 101,\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\n\tNUMBER_MAXIMUM: 103,\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\n\tNUMBER_NOT_A_NUMBER: 105,\n\t// String errors\n\tSTRING_LENGTH_SHORT: 200,\n\tSTRING_LENGTH_LONG: 201,\n\tSTRING_PATTERN: 202,\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: 300,\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\n\tOBJECT_REQUIRED: 302,\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\n\tOBJECT_DEPENDENCY_KEY: 304,\n\t// Array errors\n\tARRAY_LENGTH_SHORT: 400,\n\tARRAY_LENGTH_LONG: 401,\n\tARRAY_UNIQUE: 402,\n\tARRAY_ADDITIONAL_ITEMS: 403,\n\t// Custom/user-defined errors\n\tFORMAT_CUSTOM: 500,\n\tKEYWORD_CUSTOM: 501,\n\t// Schema structure\n\tCIRCULAR_REFERENCE: 600,\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: 1000\n};\nvar ErrorCodeLookup = {};\nfor (var key in ErrorCodes) {\n\tErrorCodeLookup[ErrorCodes[key]] = key;\n}\nvar ErrorMessagesDefault = {\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\n\tENUM_MISMATCH: \"No enum match for: {value}\",\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\n\t// String errors\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\n\t// Array errors\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\n\t// Format errors\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\n\t// Schema structure\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\n};\n\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\n\tError.call(this);\n\tif (code === undefined) {\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\n\t}\n\tthis.message = '';\n\tthis.params = params;\n\tthis.code = code;\n\tthis.dataPath = dataPath || \"\";\n\tthis.schemaPath = schemaPath || \"\";\n\tthis.subErrors = subErrors || null;\n\n\tvar err = new Error(this.message);\n\tthis.stack = err.stack || err.stacktrace;\n\tif (!this.stack) {\n\t\ttry {\n\t\t\tthrow err;\n\t\t}\n\t\tcatch(err) {\n\t\t\tthis.stack = err.stack || err.stacktrace;\n\t\t}\n\t}\n}\nValidationError.prototype = Object.create(Error.prototype);\nValidationError.prototype.constructor = ValidationError;\nValidationError.prototype.name = 'ValidationError';\n\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\n\tif (dataPrefix !== null) {\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\n\t}\n\tif (schemaPrefix !== null) {\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\n\t}\n\tif (this.subErrors !== null) {\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\n\t\t}\n\t}\n\treturn this;\n};\n\nfunction isTrustedUrl(baseUrl, testUrl) {\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\n\t\tvar remainder = testUrl.substring(baseUrl.length);\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\n\t\t\t|| remainder.charAt(0) === \"#\"\n\t\t\t|| remainder.charAt(0) === \"?\") {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvar languages = {};\nfunction createApi(language) {\n\tvar globalContext = new ValidatorContext();\n\tvar currentLanguage;\n\tvar customErrorReporter;\n\tvar api = {\n\t\tsetErrorReporter: function (reporter) {\n\t\t\tif (typeof reporter === 'string') {\n\t\t\t\treturn this.language(reporter);\n\t\t\t}\n\t\t\tcustomErrorReporter = reporter;\n\t\t\treturn true;\n\t\t},\n\t\taddFormat: function () {\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\n\t\t},\n\t\tlanguage: function (code) {\n\t\t\tif (!code) {\n\t\t\t\treturn currentLanguage;\n\t\t\t}\n\t\t\tif (!languages[code]) {\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\n\t\t\t}\n\t\t\tif (languages[code]) {\n\t\t\t\tcurrentLanguage = code;\n\t\t\t\treturn code; // so you can tell if fall-back has happened\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\taddLanguage: function (code, messageMap) {\n\t\t\tvar key;\n\t\t\tfor (key in ErrorCodes) {\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar rootCode = code.split('-')[0];\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\n\t\t\t\tlanguages[code] = messageMap;\n\t\t\t\tlanguages[rootCode] = messageMap;\n\t\t\t} else {\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\n\t\t\t\tfor (key in messageMap) {\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\n\t\t\t\t\t}\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tfreshApi: function (language) {\n\t\t\tvar result = createApi();\n\t\t\tif (language) {\n\t\t\t\tresult.language(language);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === \"string\") {\n\t\t\t\tschema = {\"$ref\": schema};\n\t\t\t}\n\t\t\tcontext.addSchema(\"\", schema);\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\n\t\t\tif (!error && banUnknownProperties) {\n\t\t\t\terror = context.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tthis.error = error;\n\t\t\tthis.missing = context.missing;\n\t\t\tthis.valid = (error === null);\n\t\t\treturn this.valid;\n\t\t},\n\t\tvalidateResult: function () {\n\t\t\tvar result = {};\n\t\t\tthis.validate.apply(result, arguments);\n\t\t\treturn result;\n\t\t},\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === \"string\") {\n\t\t\t\tschema = {\"$ref\": schema};\n\t\t\t}\n\t\t\tcontext.addSchema(\"\", schema);\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\n\t\t\tif (banUnknownProperties) {\n\t\t\t\tcontext.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tvar result = {};\n\t\t\tresult.errors = context.errors;\n\t\t\tresult.missing = context.missing;\n\t\t\tresult.valid = (result.errors.length === 0);\n\t\t\treturn result;\n\t\t},\n\t\taddSchema: function () {\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchema: function () {\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaMap: function () {\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaUris: function () {\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\n\t\t},\n\t\tgetMissingUris: function () {\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\n\t\t},\n\t\tdropSchemas: function () {\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\n\t\t},\n\t\tdefineKeyword: function () {\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\n\t\t},\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\n\t\t\t}\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\n\t\t\t}\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\n\t\t\t}\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\n\t\t\t}\n\t\t\tErrorCodes[codeName] = codeNumber;\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\n\t\t\tfor (var langCode in languages) {\n\t\t\t\tvar language = languages[langCode];\n\t\t\t\tif (language[codeName]) {\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\treset: function () {\n\t\t\tglobalContext.reset();\n\t\t\tthis.error = null;\n\t\t\tthis.missing = [];\n\t\t\tthis.valid = true;\n\t\t},\n\t\tmissing: [],\n\t\terror: null,\n\t\tvalid: true,\n\t\tnormSchema: normSchema,\n\t\tresolveUrl: resolveUrl,\n\t\tgetDocumentUri: getDocumentUri,\n\t\terrorCodes: ErrorCodes\n\t};\n\tapi.language(language || 'en');\n\treturn api;\n}\n\nvar tv4 = createApi();\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\n\n//legacy property\ntv4.tv4 = tv4;\n\nreturn tv4; // used by _header.js to globalise.\n\n}));\n},{}],90:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SourcePackage = exports.ProtocolStubDescriptor = exports.HypertyDescriptor = undefined;\n\nvar _CatalogueDataObjectFactory = require('./catalogue-factory/CatalogueDataObjectFactory');\n\nvar _CatalogueDataObjectFactory2 = _interopRequireDefault(_CatalogueDataObjectFactory);\n\nvar _HypertyDescriptor = require('./catalogue-factory/HypertyDescriptor');\n\nvar _HypertyDescriptor2 = _interopRequireDefault(_HypertyDescriptor);\n\nvar _ProtocolStubDescriptor = require('./catalogue-factory/ProtocolStubDescriptor');\n\nvar _ProtocolStubDescriptor2 = _interopRequireDefault(_ProtocolStubDescriptor);\n\nvar _SourcePackage = require('./catalogue-factory/SourcePackage');\n\nvar _SourcePackage2 = _interopRequireDefault(_SourcePackage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.HypertyDescriptor = _HypertyDescriptor2.default;\nexports.ProtocolStubDescriptor = _ProtocolStubDescriptor2.default;\nexports.SourcePackage = _SourcePackage2.default;\nexports.default = _CatalogueDataObjectFactory2.default;\n\n},{\"./catalogue-factory/CatalogueDataObjectFactory\":92,\"./catalogue-factory/HypertyDescriptor\":94,\"./catalogue-factory/ProtocolStubDescriptor\":97,\"./catalogue-factory/SourcePackage\":98}],91:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DataObjectSourceLanguage = exports.CatalogueObjectType = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _RethinkObject2 = require('../reTHINKObject/RethinkObject');\n\nvar _RethinkObject3 = _interopRequireDefault(_RethinkObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author alice.cheambe[at]fokus.fraunhofer.de\n * The CatalogueDataObject class is the representation of the reTHINK Catalogue Data Model\n */\nvar CatalogueDataObject = function (_RethinkObject) {\n    (0, _inherits3.default)(CatalogueDataObject, _RethinkObject);\n\n    /**\n     * Creates the Catalogue Data Object\n     * @param guid - Global Unique identifier of the Catalogue Object (e.g. Hyperty descriptor, ProtocolStub descriptor,\n     * etc) enabling the same object to be stored and discovered in different Catalogues. That means, guid corresponds to\n     * [resource-type-id] per BNF of Resource Path. Couldn't we have problems with too long URL paths?\n     * @param type - indicates the type of Catalogue Data Object e.g. Hyperty, ProtocolStub, etc\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param objectName - human-understandable name of the catalogue object e.g. \"My Awesome Hyperty\"\n     * @param description - description of the source package\n     * @param language - the programming language used in the SourcePackage.SourceCode\n     * @param sourcePackageURL - A string containing the URL from where the source code package of the corresponding\n     * catalogue object, e.g. deployable packages containing executable code for Hyperties or ProtoStubs, can be downloaded\n     */\n    function CatalogueDataObject(guid, type, version, objectName, description, language, sourcePackageURL) {\n        (0, _classCallCheck3.default)(this, CatalogueDataObject);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CatalogueDataObject.__proto__ || (0, _getPrototypeOf2.default)(CatalogueDataObject)).call(this));\n\n        _this._guid = guid;\n        _this._type = type;\n        _this._version = version;\n        _this._objectName = objectName;\n        _this._description = description;\n        _this._language = language;\n        _this._sourcePackageURL = sourcePackageURL;\n\n        _this._signature = null;\n        _this._sourcePackage = null;\n        return _this;\n    }\n\n    // Getters\n\n\n    (0, _createClass3.default)(CatalogueDataObject, [{\n        key: 'guid',\n        get: function get() {\n            return this._guid;\n        },\n        set: function set(guid) {\n            if (guid) this._guid = guid;\n        }\n    }, {\n        key: 'type',\n        get: function get() {\n            return this._type;\n        },\n        set: function set(type) {\n            if (type) this._type = type;\n        }\n    }, {\n        key: 'version',\n        get: function get() {\n            return this._version;\n        },\n        set: function set(version) {\n            if (version) {\n                this._version = version;\n            }\n        }\n    }, {\n        key: 'objectName',\n        get: function get() {\n            return this._objectName;\n        },\n        set: function set(objectName) {\n            if (objectName) this._objectName = objectName;\n        }\n    }, {\n        key: 'description',\n        get: function get() {\n            return this._description;\n        },\n        set: function set(description) {\n            if (description) this._description = description;\n        }\n    }, {\n        key: 'language',\n        get: function get() {\n            return this._language;\n        },\n        set: function set(language) {\n            if (language) this._language = language;\n        }\n    }, {\n        key: 'signature',\n        get: function get() {\n            return this._signature;\n        },\n\n\n        // Setters\n        /**\n         * Set the signature to enables integrity and authenticity verification\n         * @param signature\n         */\n        set: function set(signature) {\n            if (signature) this._signature = signature;\n        }\n    }, {\n        key: 'sourcePackage',\n        get: function get() {\n            return this._sourcePackage;\n        },\n        set: function set(sourcePackage) {\n            if (sourcePackage) this._sourcePackage = sourcePackage;\n        }\n    }, {\n        key: 'sourcePackageURL',\n        get: function get() {\n            return this._sourcePackageURL;\n        },\n        set: function set(sourcePackageURL) {\n            if (sourcePackageURL) this._sourcePackageURL = sourcePackageURL;\n        }\n    }]);\n    return CatalogueDataObject;\n}(_RethinkObject3.default);\n//Alice: removed POLICY_ENFORCER: 'policy_enforcer', DATA_SCHEMA: 'data_schema' from the list\n//wrt: https://github.com/reTHINK-project/dev-service-framework/blob/develop/docs/datamodel/core/hyperty-catalogue/readme.md#data-object-schema\n/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\n\nvar CatalogueObjectType = exports.CatalogueObjectType = {\n    HYPERTY: 'hyperty', PROTOSTUB: 'protostub', HYPERTY_RUNTIME: 'hyperty_runtime',\n    HYPERTY_INTERCEPTOR: 'hyperty_inspector', HYPERTY_DATA_OBJECT: 'hyperty_data_object'\n};\nvar DataObjectSourceLanguage = exports.DataObjectSourceLanguage = {\n    JAVASCRIPT_ECMA6: 'javascript_ecma6', JAVASCRIPT_ECMA5: 'javascript_ecma5',\n    JSON_SCHEMA_V4: 'json_schema_v4', PYTHON: 'python', TYPESCRIPT: 'typescript'\n};\nexports.default = CatalogueDataObject;\n\n},{\"../reTHINKObject/RethinkObject\":99,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],92:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _CatalogueDataObject = require(\"./CatalogueDataObject\");\n\nvar _CatalogueDataObject2 = _interopRequireDefault(_CatalogueDataObject);\n\nvar _SourcePackage = require(\"./SourcePackage\");\n\nvar _SourcePackage2 = _interopRequireDefault(_SourcePackage);\n\nvar _HypertyDescriptor = require(\"./HypertyDescriptor\");\n\nvar _HypertyDescriptor2 = _interopRequireDefault(_HypertyDescriptor);\n\nvar _ProtocolStubDescriptor = require(\"./ProtocolStubDescriptor\");\n\nvar _ProtocolStubDescriptor2 = _interopRequireDefault(_ProtocolStubDescriptor);\n\nvar _HypertyRuntimeDescriptor = require(\"./HypertyRuntimeDescriptor\");\n\nvar _HypertyRuntimeDescriptor2 = _interopRequireDefault(_HypertyRuntimeDescriptor);\n\nvar _HypertyInterceptorDescriptor = require(\"./HypertyInterceptorDescriptor\");\n\nvar _HypertyInterceptorDescriptor2 = _interopRequireDefault(_HypertyInterceptorDescriptor);\n\nvar _DataObjectSchema = require(\"./DataObjectSchema\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CatalogueDataObjectFactory = function () {\n    function CatalogueDataObjectFactory() {\n        (0, _classCallCheck3.default)(this, CatalogueDataObjectFactory);\n    }\n\n    (0, _createClass3.default)(CatalogueDataObjectFactory, [{\n        key: \"createCatalogueDataObject\",\n\n\n        /**\n         * Create CatalogueDataObject\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {CatalogueObjectType} type - Indicates the type of Catalogue Data Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @returns {CatalogueDataObject}\n         */\n        value: function createCatalogueDataObject(guid, type, version, objectName, description, language, sourcePackageURL) {\n            if (typeof guid === \"undefined\" || typeof type === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\") throw new Error(\"Invalid parameters!\");\n            return new _CatalogueDataObject2.default(guid, type, version, objectName, description, language, sourcePackageURL);\n        }\n\n        /**\n         * Create HypertyDescriptor\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object\n         * can be downloaded.\n         * @param {HypertyResourceType[]} hypertyType - An array of HypertyResourceType that identifies what type of hyperty\n         * resources are handled by the object.\n         * @param {URL.URLList} dataObjects - Defines the Data Object Schemas supported by the Hyperty through a list of Catalogue URLs from where these schemas can be reached.\n         * @returns {HypertyDescriptor}\n         */\n\n    }, {\n        key: \"createHypertyDescriptorObject\",\n        value: function createHypertyDescriptorObject(guid, version, objectName, description, language, sourcePackageURL, hypertyType, dataObjects) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\" || typeof hypertyType === \"undefined\" || typeof dataObjects === \"undefined\") throw new Error(\"Invalid parameters!\");\n            return new _HypertyDescriptor2.default(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY, version, objectName, description, language, sourcePackageURL, hypertyType, dataObjects);\n        }\n\n        /**\n         * Create ProtocolStubDescriptor\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @param {URL.URL} messageSchemas - Defines the Schema describing the Message Data Model used by the Hyperty through the Catalogue URL from where the Message schema can be reached. If not defined, by default it is assumed the standard Message Model is used.\n         * @param configuration - Data required to configure the ProtocolStub\n         * @param constraints - Describes capabilities required from the Hyperty Runtime in order to be able to execute the ProtocolStub\n         * @param hypertyType\n         * @param dataObjects\n         * @param interworking\n         * @param idpProxy\n         * @param mutualAuthentication\n         * @returns {ProtocolStubDescriptor}\n         */\n\n    }, {\n        key: \"createProtoStubDescriptorObject\",\n        value: function createProtoStubDescriptorObject(guid, version, objectName, description, language, sourcePackageURL, messageSchemas, configuration, constraints, hypertyType, dataObjects, interworking, idpProxy, mutualAuthentication) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\" || typeof messageSchemas === \"undefined\" || typeof configuration === \"undefined\" || typeof constraints === \"undefined\") throw new Error(\"Invalid parameters!\");\n            return new _ProtocolStubDescriptor2.default(guid, _CatalogueDataObject.CatalogueObjectType.PROTOSTUB, version, objectName, description, language, sourcePackageURL, messageSchemas, configuration, constraints, hypertyType, dataObjects, interworking, idpProxy, mutualAuthentication);\n        }\n\n        /**\n         * Create HypertyRuntimeDescriptor\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @param {RuntimeType}runtimeType\n         * @param {RuntimeHypertyCapabilities} hypertyCapabilities - Supported capabilities to execute Hyperties\n         * @param {RuntimeProtocolCapabilities} protocolCapabilities - Supported capabilities to execute Protocol Stubs\n         * @param p2pHandlerStub\n         * @param p2pRequesterStub\n         * @returns {HypertyRuntimeDescriptor} the data object of the Hyperty Runtime Descriptor\n         */\n\n    }, {\n        key: \"createHypertyRuntimeDescriptorObject\",\n        value: function createHypertyRuntimeDescriptorObject(guid, version, objectName, description, language, sourcePackageURL, runtimeType, hypertyCapabilities, protocolCapabilities, p2pHandlerStub, p2pRequesterStub) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\" || typeof runtimeType === \"undefined\") throw new Error(\"Invalid parameters!\");\n\n            return new _HypertyRuntimeDescriptor2.default(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_RUNTIME, version, objectName, description, language, sourcePackageURL, runtimeType, hypertyCapabilities, protocolCapabilities, p2pHandlerStub, p2pRequesterStub);\n        }\n\n        /**\n         * Create Hyperty Interceptor Descriptor\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @param configuration\n         * @param policies\n         * @returns {PolicyEnforcerDescriptor}\n         */\n\n    }, {\n        key: \"createHypertyInterceptorDescriptorObject\",\n        value: function createHypertyInterceptorDescriptorObject(guid, version, objectName, description, language, sourcePackageURL, configuration, policies) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\") throw new Error(\"Invalid parameters!\");\n\n            return new _HypertyInterceptorDescriptor2.default(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_INTERCEPTOR, version, objectName, description, language, sourcePackageURL, configuration, policies);\n        }\n\n        /**\n         * Create DataObjectSchema which in effect is the MessageDataObjectSchema\n         * @deprecated Use either createMessageDataObjectSchema or createHypertyDataObjectSchema instead\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @returns {DataObjectSchema}\n         */\n\n    }, {\n        key: \"createDataObjectSchema\",\n        value: function createDataObjectSchema(guid, version, objectName, description, language, sourcePackageURL) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\") throw new Error(\"Invalid parameters!\");\n\n            return new _DataObjectSchema.DataObjectSchema(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT, version, objectName, description, language, sourcePackageURL);\n        }\n\n        /**\n         * Create DataObjectSchema which in effect is the MessageDataObjectSchema\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @returns {DataObjectSchema}\n         */\n\n    }, {\n        key: \"createMessageDataObjectSchema\",\n        value: function createMessageDataObjectSchema(guid, version, objectName, description, language, sourcePackageURL) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\") throw new Error(\"Invalid parameters!\");\n\n            return new _DataObjectSchema.DataObjectSchema(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT, version, objectName, description, language, sourcePackageURL);\n        }\n\n        /**\n         * Create HypertyDataObjectSchema\n         * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n         * @param {string} version - Indicates the version of Catalogue Data\n         * @param {string} objectName - Human-understandable name of the catalogue object\n         * @param {string} description\n         * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n         * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n         * @param {string} accessControlPolicy - policy rule to access object (see Reporter-Observer Comm pattern)\n         * @param {DataUrlScheme} scheme - identifies the data scheme (COMM, CONNECTION, CTXT or IDENTITY)\n         * @returns {DataObjectSchema}\n         */\n\n    }, {\n        key: \"createHypertyDataObjectSchema\",\n        value: function createHypertyDataObjectSchema(guid, version, objectName, description, language, sourcePackageURL, accessControlPolicy, scheme) {\n            if (typeof guid === \"undefined\" || typeof version === \"undefined\" || typeof objectName === \"undefined\" || typeof description === \"undefined\" || typeof language === \"undefined\" || typeof sourcePackageURL === \"undefined\" || typeof scheme === \"undefined\" || typeof accessControlPolicy === \"undefined\") throw new Error(\"Invalid parameters!\");\n\n            if (scheme === _DataObjectSchema.DataUrlScheme.COMM) return new _DataObjectSchema.CommunicationDataObjectSchema(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT, version, objectName, description, language, sourcePackageURL, scheme, accessControlPolicy);else if (scheme === _DataObjectSchema.DataUrlScheme.CONNECTION) return new _DataObjectSchema.ConnectionDataObjectSchema(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT, version, objectName, description, language, sourcePackageURL, scheme, accessControlPolicy);else if (scheme === _DataObjectSchema.DataUrlScheme.CTXT) return new _DataObjectSchema.ContextDataObjectSchema(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT, version, objectName, description, language, sourcePackageURL, scheme, accessControlPolicy);else if (scheme === _DataObjectSchema.DataUrlScheme.IDENTITY) return new _DataObjectSchema.IdentityDataObjectSchema(guid, _CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT, version, objectName, description, language, sourcePackageURL, scheme, accessControlPolicy);\n        }\n\n        /**\n         * Create SourcePackage\n         * @param sourceCodeClassname - The Class-name of the SourceCode\n         * @param sourceCode - The source code of the catalogue object\n         * @returns {SourcePackage}\n         */\n\n    }, {\n        key: \"createSourcePackage\",\n        value: function createSourcePackage(sourceCodeClassname, sourceCode) {\n            if (typeof sourceCode === \"undefined\" || typeof sourceCodeClassname === \"undefined\") throw new Error(\"Invalid parameters!\");\n\n            return new _SourcePackage2.default(sourceCodeClassname, sourceCode);\n        }\n    }]);\n    return CatalogueDataObjectFactory;\n}(); /**\n      * Copyright 2016 PT Inovação e Sistemas SA\n      * Copyright 2016 INESC-ID\n      * Copyright 2016 QUOBIS NETWORKS SL\n      * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n      * Copyright 2016 ORANGE SA\n      * Copyright 2016 Deutsche Telekom AG\n      * Copyright 2016 Apizee\n      * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n      *\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *   http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      **/\n\nexports.default = CatalogueDataObjectFactory;\nmodule.exports = exports['default'];\n\n},{\"./CatalogueDataObject\":91,\"./DataObjectSchema\":93,\"./HypertyDescriptor\":94,\"./HypertyInterceptorDescriptor\":95,\"./HypertyRuntimeDescriptor\":96,\"./ProtocolStubDescriptor\":97,\"./SourcePackage\":98,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9}],93:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DataUrlScheme = exports.ContextDataObjectSchema = exports.IdentityDataObjectSchema = exports.ConnectionDataObjectSchema = exports.CommunicationDataObjectSchema = exports.HypertyDataObjectSchema = exports.MessageDataObjectSchema = exports.DataObjectSchema = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CatalogueDataObject2 = require('./CatalogueDataObject');\n\nvar _CatalogueDataObject3 = _interopRequireDefault(_CatalogueDataObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DataObjectSchema = exports.DataObjectSchema = function (_CatalogueDataObject) {\n    (0, _inherits3.default)(DataObjectSchema, _CatalogueDataObject);\n\n    function DataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL) {\n        (0, _classCallCheck3.default)(this, DataObjectSchema);\n        return (0, _possibleConstructorReturn3.default)(this, (DataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(DataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL));\n    }\n\n    return DataObjectSchema;\n}(_CatalogueDataObject3.default);\n\n//Children\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n * Created by pzu on 19.11.15.\n */\n\nvar MessageDataObjectSchema = exports.MessageDataObjectSchema = function (_DataObjectSchema) {\n    (0, _inherits3.default)(MessageDataObjectSchema, _DataObjectSchema);\n\n    function MessageDataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL) {\n        (0, _classCallCheck3.default)(this, MessageDataObjectSchema);\n        return (0, _possibleConstructorReturn3.default)(this, (MessageDataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(MessageDataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL));\n    }\n\n    return MessageDataObjectSchema;\n}(DataObjectSchema);\n\nvar HypertyDataObjectSchema = exports.HypertyDataObjectSchema = function (_DataObjectSchema2) {\n    (0, _inherits3.default)(HypertyDataObjectSchema, _DataObjectSchema2);\n\n    function HypertyDataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy, dataUrlScheme) {\n        (0, _classCallCheck3.default)(this, HypertyDataObjectSchema);\n\n        var _this3 = (0, _possibleConstructorReturn3.default)(this, (HypertyDataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(HypertyDataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL));\n\n        _this3._accessControlPolicy = accessControlPolicy;\n        _this3._scheme = dataUrlScheme;\n        return _this3;\n    }\n\n    return HypertyDataObjectSchema;\n}(DataObjectSchema);\n\n//Children\n\n\nvar CommunicationDataObjectSchema = exports.CommunicationDataObjectSchema = function (_HypertyDataObjectSch) {\n    (0, _inherits3.default)(CommunicationDataObjectSchema, _HypertyDataObjectSch);\n\n    function CommunicationDataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy) {\n        (0, _classCallCheck3.default)(this, CommunicationDataObjectSchema);\n        return (0, _possibleConstructorReturn3.default)(this, (CommunicationDataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(CommunicationDataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy));\n    }\n\n    return CommunicationDataObjectSchema;\n}(HypertyDataObjectSchema);\n\nvar ConnectionDataObjectSchema = exports.ConnectionDataObjectSchema = function (_HypertyDataObjectSch2) {\n    (0, _inherits3.default)(ConnectionDataObjectSchema, _HypertyDataObjectSch2);\n\n    function ConnectionDataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy) {\n        (0, _classCallCheck3.default)(this, ConnectionDataObjectSchema);\n        return (0, _possibleConstructorReturn3.default)(this, (ConnectionDataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(ConnectionDataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy));\n    }\n\n    return ConnectionDataObjectSchema;\n}(HypertyDataObjectSchema);\n\nvar IdentityDataObjectSchema = exports.IdentityDataObjectSchema = function (_HypertyDataObjectSch3) {\n    (0, _inherits3.default)(IdentityDataObjectSchema, _HypertyDataObjectSch3);\n\n    function IdentityDataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy) {\n        (0, _classCallCheck3.default)(this, IdentityDataObjectSchema);\n        return (0, _possibleConstructorReturn3.default)(this, (IdentityDataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(IdentityDataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy));\n    }\n\n    return IdentityDataObjectSchema;\n}(HypertyDataObjectSchema);\n\nvar ContextDataObjectSchema = exports.ContextDataObjectSchema = function (_HypertyDataObjectSch4) {\n    (0, _inherits3.default)(ContextDataObjectSchema, _HypertyDataObjectSch4);\n\n    function ContextDataObjectSchema(guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy) {\n        (0, _classCallCheck3.default)(this, ContextDataObjectSchema);\n        return (0, _possibleConstructorReturn3.default)(this, (ContextDataObjectSchema.__proto__ || (0, _getPrototypeOf2.default)(ContextDataObjectSchema)).call(this, guid, type, version, objectName, description, language, sourcePackageURL, accessControlPolicy));\n    }\n\n    return ContextDataObjectSchema;\n}(HypertyDataObjectSchema);\n\nvar DataUrlScheme = exports.DataUrlScheme = {\n    COMM: 'COMM', CONNECTION: 'CONNECTION', CTXT: 'CTXT', IDENTITY: 'IDENTITY'\n};\n\nexports.default = DataObjectSchema;\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],94:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.HypertyResourceType = exports.HypertyType = exports.RuntimeHypertyCapabilityType = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CatalogueDataObject2 = require('./CatalogueDataObject');\n\nvar _CatalogueDataObject3 = _interopRequireDefault(_CatalogueDataObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HypertyDescriptor = function (_CatalogueDataObject) {\n    (0, _inherits3.default)(HypertyDescriptor, _CatalogueDataObject);\n\n    /**\n     *\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object enabling the same object to be\n     * stored and discovered in different Catalogues. Guid corresponds to <resource-type-id> per BNF of Resource Path.\n     * @param {CatalogueObjectType} catalogueType - \tIndicates the type of Catalogue Data Object\n     * @param {string} version\n     * @param {string} objectName\n     * @param {string} description\n     * @param {string} language\n     * @param {string} sourcePackageURL\n     * @param {HypertyResourceType[]} hypertyType A tag that identifies what type of hyperty is described in the object.\n     * @param {URL.HypertyCatalogueURLList} dataObjectUrls - It defines the Data Object Schemas supported by the Hyperty\n     * through a list of Catalogue URLs from where these schemas can be reached\n     */\n    function HypertyDescriptor(guid, catalogueType, version, objectName, description, language, sourcePackageURL, hypertyType, dataObjectUrls) {\n        (0, _classCallCheck3.default)(this, HypertyDescriptor);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (HypertyDescriptor.__proto__ || (0, _getPrototypeOf2.default)(HypertyDescriptor)).call(this, guid, catalogueType, version, objectName, description, language, sourcePackageURL));\n\n        _this._configuration = {};\n        _this._constraints = {};\n        _this._policies = {};\n        _this._messageSchema = null;\n\n        _this._hypertyType = hypertyType;\n        _this._dataObjects = dataObjectUrls;\n        return _this;\n    }\n\n    (0, _createClass3.default)(HypertyDescriptor, [{\n        key: 'hypertyType',\n        get: function get() {\n            return this._hypertyType;\n        },\n        set: function set(hType) {\n            if (hType) this._hypertyType = hType;\n        }\n    }, {\n        key: 'dataObjects',\n        get: function get() {\n            return this._dataObjects;\n        },\n        set: function set(dataObjects) {\n            if (dataObjects) this._dataObjects = dataObjects;\n        }\n    }, {\n        key: 'configuration',\n        get: function get() {\n            return this._configuration;\n        },\n        set: function set(configuration) {\n            if (configuration) this._configuration = configuration;\n        }\n    }, {\n        key: 'constraints',\n        get: function get() {\n            return this._constraints;\n        },\n        set: function set(constraints) {\n            if (constraints) this._constraints = constraints;\n        }\n    }, {\n        key: 'messageSchema',\n        get: function get() {\n            return this._messageSchema;\n        },\n        set: function set(messageSchema) {\n            if (messageSchema) this._messageSchema = messageSchema;\n        }\n    }, {\n        key: 'policies',\n        get: function get() {\n            return this._policies;\n        },\n        set: function set(policies) {\n            if (policies) this._policies = policies;\n        }\n    }]);\n    return HypertyDescriptor;\n}(_CatalogueDataObject3.default); /**\n                                  * Copyright 2016 PT Inovação e Sistemas SA\n                                  * Copyright 2016 INESC-ID\n                                  * Copyright 2016 QUOBIS NETWORKS SL\n                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                  * Copyright 2016 ORANGE SA\n                                  * Copyright 2016 Deutsche Telekom AG\n                                  * Copyright 2016 Apizee\n                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                  *\n                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                  * you may not use this file except in compliance with the License.\n                                  * You may obtain a copy of the License at\n                                  *\n                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                  *\n                                  * Unless required by applicable law or agreed to in writing, software\n                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                  * See the License for the specific language governing permissions and\n                                  * limitations under the License.\n                                  **/\n\n/**\n * Created by amo on 14/11/2015.\n */\n\n\nvar RuntimeHypertyCapabilityType = exports.RuntimeHypertyCapabilityType = {};\nvar HypertyType = exports.HypertyType = { COMMUNICATOR: 'communicator', IDENTITY: 'identity', CONTEXT: 'context' };\nvar HypertyResourceType = exports.HypertyResourceType = { chat: 'CHAT', audio: 'Audio', video: 'Video', av: 'AV', screen: 'SCREEN',\n    file: 'FILe', midi: 'MIDI' };\nexports.default = HypertyDescriptor;\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],95:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CatalogueDataObject2 = require('./CatalogueDataObject');\n\nvar _CatalogueDataObject3 = _interopRequireDefault(_CatalogueDataObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PolicyEnforcerDescriptor = function (_CatalogueDataObject) {\n    (0, _inherits3.default)(PolicyEnforcerDescriptor, _CatalogueDataObject);\n\n    function PolicyEnforcerDescriptor(guid, type, version, objectName, description, language, sourcePackageURL, configuration, policies) {\n        (0, _classCallCheck3.default)(this, PolicyEnforcerDescriptor);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PolicyEnforcerDescriptor.__proto__ || (0, _getPrototypeOf2.default)(PolicyEnforcerDescriptor)).call(this, guid, type, version, objectName, description, language, sourcePackageURL));\n\n        _this._configuration = configuration;\n        _this._policies = policies;\n        return _this;\n    }\n\n    (0, _createClass3.default)(PolicyEnforcerDescriptor, [{\n        key: 'configuration',\n        get: function get() {\n            return this._configuration;\n        },\n        set: function set(configuration) {\n            this._configuration = configuration;\n        }\n    }, {\n        key: 'policies',\n        get: function get() {\n            return this._policies;\n        },\n        set: function set(policies) {\n            this._policies = policies;\n        }\n    }]);\n    return PolicyEnforcerDescriptor;\n}(_CatalogueDataObject3.default); /**\n                                  * Copyright 2016 PT Inovação e Sistemas SA\n                                  * Copyright 2016 INESC-ID\n                                  * Copyright 2016 QUOBIS NETWORKS SL\n                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                  * Copyright 2016 ORANGE SA\n                                  * Copyright 2016 Deutsche Telekom AG\n                                  * Copyright 2016 Apizee\n                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                  *\n                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                  * you may not use this file except in compliance with the License.\n                                  * You may obtain a copy of the License at\n                                  *\n                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                  *\n                                  * Unless required by applicable law or agreed to in writing, software\n                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                  * See the License for the specific language governing permissions and\n                                  * limitations under the License.\n                                  **/\n\n/**\n * Created by pzu on 19.11.15.\n */\n\n\nexports.default = PolicyEnforcerDescriptor;\nmodule.exports = exports['default'];\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],96:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.RuntimeType = exports.RuntimeProtocolCapability = exports.RuntimeHypertyCapability = undefined;\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CatalogueDataObject2 = require('./CatalogueDataObject');\n\nvar _CatalogueDataObject3 = _interopRequireDefault(_CatalogueDataObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HypertyRuntimeDescriptor = function (_CatalogueDataObject) {\n    (0, _inherits3.default)(HypertyRuntimeDescriptor, _CatalogueDataObject);\n\n    function HypertyRuntimeDescriptor(guid, catalogueType, version, objectName, description, language, sourcePackageURL, runtimeType, hypertyCapabilities, protocolCapabilities, p2pHandlerStub, p2pRequesterStub) {\n        (0, _classCallCheck3.default)(this, HypertyRuntimeDescriptor);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (HypertyRuntimeDescriptor.__proto__ || (0, _getPrototypeOf2.default)(HypertyRuntimeDescriptor)).call(this, guid, catalogueType, version, objectName, description, language, sourcePackageURL));\n\n        _this._runtimeType = runtimeType;\n\n        if (hypertyCapabilities) _this._hypertyCapabilities = hypertyCapabilities;else _this._hypertyCapabilities = new RuntimeHypertyCapability(true, false, false, false, false);\n        if (protocolCapabilities) _this._protocolCapabilities = protocolCapabilities;else _this._protocolCapabilities = new RuntimeProtocolCapability(true, false, true, false, false, false);\n\n        _this._p2pHandlerStub = p2pHandlerStub;\n        _this._p2pRequesterStub = p2pRequesterStub;\n        return _this;\n    }\n\n    (0, _createClass3.default)(HypertyRuntimeDescriptor, [{\n        key: 'runtimeType',\n        get: function get() {\n            return this._runtimeType;\n        },\n        set: function set(runtimeType) {\n            if (runtimeType) this._runtimeType = runtimeType;\n        }\n    }, {\n        key: 'hypertyCapabilities',\n        get: function get() {\n            return this._hypertyCapabilities;\n        },\n        set: function set(hypertyCapabilities) {\n            if (hypertyCapabilities) this._hypertyCapabilities = hypertyCapabilities;\n        }\n    }, {\n        key: 'protocolCapabilities',\n        get: function get() {\n            return this._hypertyCapabilities;\n        },\n        set: function set(protocolCapabilities) {\n            if (protocolCapabilities) this._protocolCapabilities = protocolCapabilities;\n        }\n    }, {\n        key: 'p2pHandlerStub',\n        get: function get() {\n            return this._p2pHandlerStub;\n        },\n        set: function set(value) {\n            this._p2pHandlerStub = value;\n        }\n    }, {\n        key: 'p2pRequesterStub',\n        get: function get() {\n            return this._p2pRequesterStub;\n        },\n        set: function set(value) {\n            this._p2pRequesterStub = value;\n        }\n    }]);\n    return HypertyRuntimeDescriptor;\n}(_CatalogueDataObject3.default);\n\n/**\n * A class representation of the capability set of the Runtime Hyperty\n */\n/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\n/**\n * Created by amo on 14/11/2015.\n */\n\nvar RuntimeHypertyCapability = exports.RuntimeHypertyCapability = function () {\n    /**\n     * Creates an object of the Runtime Hyperty capability set\n     * @param {boolean} isWebRTCSupported\n     * @param {boolean} isMicSupported\n     * @param {boolean} isCameraSupported\n     * @param {boolean} isSensorSupported\n     * @param {boolean} isORTCSupported\n     */\n    function RuntimeHypertyCapability(isWebRTCSupported, isMicSupported, isCameraSupported, isSensorSupported, isORTCSupported) {\n        (0, _classCallCheck3.default)(this, RuntimeHypertyCapability);\n\n        this._isWebRTC = isWebRTCSupported;\n        this._isMic = isMicSupported;\n        this._isCamera = isCameraSupported;\n        this._isSensor = isSensorSupported;\n        this._isORTC = isORTCSupported;\n    }\n\n    (0, _createClass3.default)(RuntimeHypertyCapability, [{\n        key: 'getCapabilitySet',\n        value: function getCapabilitySet() {\n            return (0, _stringify2.default)(this);\n        }\n    }, {\n        key: 'isMic',\n        get: function get() {\n            return this._isMic;\n        }\n    }, {\n        key: 'isCamera',\n        get: function get() {\n            return this._isCamera;\n        }\n    }, {\n        key: 'isSensor',\n        get: function get() {\n            return this._isSensor;\n        }\n    }, {\n        key: 'isWebRTC',\n        get: function get() {\n            return this._isWebRTC;\n        }\n    }, {\n        key: 'isORTCS',\n        get: function get() {\n            return this._isORTC;\n        }\n    }]);\n    return RuntimeHypertyCapability;\n}();\n\n/**\n * A class representation of the protocol capability set of the Runtime Hyperty\n */\n\n\nvar RuntimeProtocolCapability = exports.RuntimeProtocolCapability = function () {\n\n    /**\n     * Creates an object of the runtime protocol capability\n     * @param {boolean} isHttp\n     * @param {boolean} isHttps\n     * @param {boolean} isWS\n     * @param {boolean} isWSS\n     * @param {boolean} isCoap\n     * @param {boolean} isDataChannel\n     */\n    function RuntimeProtocolCapability(isHttp, isHttps, isWS, isWSS, isCoap, isDataChannel) {\n        (0, _classCallCheck3.default)(this, RuntimeProtocolCapability);\n\n        this._isHttp = isHttp;\n        this._isHttps = isHttps;\n        this._isWS = isWS;\n        this._isWSS = isWSS;\n        this._isCoap = isCoap;\n        this._isDataChannel = isDataChannel;\n    }\n\n    (0, _createClass3.default)(RuntimeProtocolCapability, [{\n        key: 'isHttp',\n        value: function isHttp() {\n            return this._isHttp;\n        }\n    }, {\n        key: 'isHttps',\n        value: function isHttps() {\n            return this._isHttps;\n        }\n    }, {\n        key: 'isWS',\n        value: function isWS() {\n            return this._isWS;\n        }\n    }, {\n        key: 'isSensorSupported',\n        value: function isSensorSupported() {\n            return this._isSensor;\n        }\n    }, {\n        key: 'isWSS',\n        value: function isWSS() {\n            return this._isWSS;\n        }\n    }, {\n        key: 'isCoap',\n        value: function isCoap() {\n            return this._isCoap;\n        }\n    }, {\n        key: 'isDataChannel',\n        value: function isDataChannel() {\n            return this._isDataChannel;\n        }\n    }, {\n        key: 'getCapabilitySet',\n        value: function getCapabilitySet() {\n            return (0, _stringify2.default)(this);\n        }\n    }]);\n    return RuntimeProtocolCapability;\n}();\n\nvar RuntimeType = exports.RuntimeType = { BROWSER: 'browser', STANDALONE: 'standalone', SERVER: 'server', GATEWAY: 'gateway' };\n\nexports.default = HypertyRuntimeDescriptor;\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],97:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CatalogueDataObject2 = require(\"./CatalogueDataObject\");\n\nvar _CatalogueDataObject3 = _interopRequireDefault(_CatalogueDataObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ProtocolStubDescriptor = function (_CatalogueDataObject) {\n    (0, _inherits3.default)(ProtocolStubDescriptor, _CatalogueDataObject);\n\n    function ProtocolStubDescriptor(guid, type, version, objectName, description, language, sourcePackageURL, messageSchemas, configuration, constraints, hypertyType, dataObjects, interworking, idpProxy, mutualAuthentication) {\n        (0, _classCallCheck3.default)(this, ProtocolStubDescriptor);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ProtocolStubDescriptor.__proto__ || (0, _getPrototypeOf2.default)(ProtocolStubDescriptor)).call(this, guid, type, version, objectName, description, language, sourcePackageURL));\n\n        _this._messageSchemas = messageSchemas;\n\n        if (configuration) _this._configuration = configuration;else _this._configuration = {};\n\n        if (constraints) _this._constraints = constraints;else _this._constraints = {};\n\n        _this._hypertyType = hypertyType;\n\n        if (dataObjects) _this._dataObjects = dataObjects;else _this._dataObjects = [];\n\n        _this._interworking = interworking;\n        _this._idpProxy = idpProxy;\n        _this._mutualAuthentication = mutualAuthentication;\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(ProtocolStubDescriptor, [{\n        key: \"messageSchemas\",\n        get: function get() {\n            return this._messageSchemas;\n        },\n        set: function set(messageSchemas) {\n            if (messageSchemas) this._messageSchemas = messageSchemas;\n        }\n    }, {\n        key: \"constraints\",\n        get: function get() {\n            return this._constraints;\n        },\n        set: function set(constraints) {\n            if (constraints) this._constraints = constraints;\n        }\n    }, {\n        key: \"configuration\",\n        get: function get() {\n            return this._configuration;\n        },\n        set: function set(configuration) {\n            if (configuration) this._configuration = configuration;\n        }\n    }, {\n        key: \"hypertyType\",\n        get: function get() {\n            return this._hypertyType;\n        },\n        set: function set(value) {\n            this._hypertyType = value;\n        }\n    }, {\n        key: \"dataObjects\",\n        get: function get() {\n            return this._dataObjects;\n        },\n        set: function set(value) {\n            this._dataObjects = value;\n        }\n    }, {\n        key: \"interworking\",\n        get: function get() {\n            return this._interworking;\n        },\n        set: function set(value) {\n            this._interworking = value;\n        }\n    }, {\n        key: \"idpProxy\",\n        get: function get() {\n            return this._idpProxy;\n        },\n        set: function set(value) {\n            this._idpProxy = value;\n        }\n    }, {\n        key: \"mutualAuthentication\",\n        get: function get() {\n            return this._mutualAuthentication;\n        },\n        set: function set(value) {\n            this._mutualAuthentication = value;\n        }\n    }]);\n    return ProtocolStubDescriptor;\n}(_CatalogueDataObject3.default); /**\n                                   * Copyright 2016 PT Inovação e Sistemas SA\n                                   * Copyright 2016 INESC-ID\n                                   * Copyright 2016 QUOBIS NETWORKS SL\n                                   * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                   * Copyright 2016 ORANGE SA\n                                   * Copyright 2016 Deutsche Telekom AG\n                                   * Copyright 2016 Apizee\n                                   * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                   *\n                                   * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                   * you may not use this file except in compliance with the License.\n                                   * You may obtain a copy of the License at\n                                   *\n                                   *   http://www.apache.org/licenses/LICENSE-2.0\n                                   *\n                                   * Unless required by applicable law or agreed to in writing, software\n                                   * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                   * See the License for the specific language governing permissions and\n                                   * limitations under the License.\n                                   **/\n\n/**\n * Created by amo on 14/11/2015.\n */\n\nexports.default = ProtocolStubDescriptor;\nmodule.exports = exports['default'];\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],98:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n * Created by amo on 14/11/2015.\n */\nvar SourcePackage = function () {\n    function SourcePackage(sourceCodeClassname, sourceCode) {\n        (0, _classCallCheck3.default)(this, SourcePackage);\n\n        this._sourceCode = sourceCode;\n        this._sourceCodeClassname = sourceCodeClassname;\n\n        this._encoding = null;\n        this._signature = null;\n    }\n\n    (0, _createClass3.default)(SourcePackage, [{\n        key: \"sourceCode\",\n        get: function get() {\n            return this._sourceCode;\n        },\n        set: function set(sourceCode) {\n            if (sourceCode) this._sourceCode = sourceCode;\n        }\n    }, {\n        key: \"sourceCodeClassname\",\n        get: function get() {\n            return this._sourceCodeClassname;\n        },\n        set: function set(sourceCodeClassname) {\n            if (sourceCodeClassname) this._sourceCodeClassname = sourceCodeClassname;\n        }\n    }, {\n        key: \"encoding\",\n        get: function get() {\n            return this._encoding;\n        },\n        set: function set(encoding) {\n            if (encoding) this._encoding = encoding;\n        }\n    }, {\n        key: \"signature\",\n        get: function get() {\n            return this._signature;\n        },\n        set: function set(sign) {\n            if (sign) this._signature = sign;\n        }\n    }]);\n    return SourcePackage;\n}();\n\nexports.default = SourcePackage;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9}],99:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.RethinkObject = undefined;\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _tv = require(\"tv4\");\n\nvar _tv2 = _interopRequireDefault(_tv);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RethinkObject = exports.RethinkObject = function () {\n    function RethinkObject() {\n        (0, _classCallCheck3.default)(this, RethinkObject);\n    }\n\n    (0, _createClass3.default)(RethinkObject, [{\n        key: \"validate\",\n\n\n        /**\n         * Validates this RethinkObject against the provided schema.\n         *\n         * LIMITATIONS: The provided schema cannot contain references to other schemas, since they can't be resolved.\n         * @param schema - schema to validate against\n         * @returns {boolean} true if valid, false otherwise\n         */\n        value: function validate(schema) {\n            // add schema itself so local references work\n            _tv2.default.addSchema(schema.id, schema);\n\n            // JSON stringify -> parse needed to have proper validation\n            var result = _tv2.default.validateMultiple(JSON.parse((0, _stringify2.default)(this)), schema);\n\n            // delete error stacks to improve logging\n            result.errors.forEach(function (error) {\n                delete error.stack;\n            });\n\n            // print more details about validation if it fails or schema contains $refs\n            if (!result.valid || result.missing.length > 0) {\n                console.warn(\"Object validation \" + (result.valid ? \"succeeded, but schema contained references:\" : \"failed:\"), (0, _stringify2.default)(result, null, 2));\n                console.log(\"Object:\", (0, _stringify2.default)(this, null, 2));\n            }\n            return result.valid;\n        }\n    }]);\n    return RethinkObject;\n}(); /**\n      * Copyright 2016 PT Inovação e Sistemas SA\n      * Copyright 2016 INESC-ID\n      * Copyright 2016 QUOBIS NETWORKS SL\n      * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n      * Copyright 2016 ORANGE SA\n      * Copyright 2016 Deutsche Telekom AG\n      * Copyright 2016 Apizee\n      * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n      *\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *   http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      **/\n\n\nexports.default = RethinkObject;\n\n},{\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"tv4\":89}]},{},[90])(90)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy90djQvdHY0LmpzIiwic3JjL0NhdGFsb2d1ZUZhY3RvcnkuanMiLCJzcmMvY2F0YWxvZ3VlLWZhY3RvcnkvQ2F0YWxvZ3VlRGF0YU9iamVjdC5qcyIsInNyYy9jYXRhbG9ndWUtZmFjdG9yeS9DYXRhbG9ndWVEYXRhT2JqZWN0RmFjdG9yeS5qcyIsInNyYy9jYXRhbG9ndWUtZmFjdG9yeS9EYXRhT2JqZWN0U2NoZW1hLmpzIiwic3JjL2NhdGFsb2d1ZS1mYWN0b3J5L0h5cGVydHlEZXNjcmlwdG9yLmpzIiwic3JjL2NhdGFsb2d1ZS1mYWN0b3J5L0h5cGVydHlJbnRlcmNlcHRvckRlc2NyaXB0b3IuanMiLCJzcmMvY2F0YWxvZ3VlLWZhY3RvcnkvSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLmpzIiwic3JjL2NhdGFsb2d1ZS1mYWN0b3J5L1Byb3RvY29sU3R1YkRlc2NyaXB0b3IuanMiLCJzcmMvY2F0YWxvZ3VlLWZhY3RvcnkvU291cmNlUGFja2FnZS5qcyIsInNyYy9yZVRISU5LT2JqZWN0L1JldGhpbmtPYmplY3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxT0E7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LHlCQUFJLFNBQUosQ0FBYyxPQUFPLEVBQXJCLEVBQXlCLE1BQXpCOztBQUVBO0FBQ0EsZ0JBQUksU0FBUyxhQUFJLGdCQUFKLENBQXFCLEtBQUssS0FBTCxDQUFXLHlCQUFlLElBQWYsQ0FBWCxDQUFyQixFQUF1RCxNQUF2RCxDQUFiOztBQUVBO0FBQ0EsbUJBQU8sTUFBUCxDQUFjLE9BQWQsQ0FBc0IsVUFBQyxLQUFELEVBQVc7QUFDN0IsdUJBQU8sTUFBTSxLQUFiO0FBQ0gsYUFGRDs7QUFJQTtBQUNBLGdCQUFJLENBQUMsT0FBTyxLQUFSLElBQWtCLE9BQU8sT0FBUCxDQUFlLE1BQWYsR0FBd0IsQ0FBOUMsRUFBa0Q7QUFDOUMsd0JBQVEsSUFBUixDQUFhLHdCQUF3QixPQUFPLEtBQVAsR0FBZSw2Q0FBZixHQUErRCxTQUF2RixDQUFiLEVBQWdILHlCQUFlLE1BQWYsRUFBdUIsSUFBdkIsRUFBNkIsQ0FBN0IsQ0FBaEg7QUFDQSx3QkFBUSxHQUFSLENBQVksU0FBWixFQUF1Qix5QkFBZSxJQUFmLEVBQXFCLElBQXJCLEVBQTJCLENBQTNCLENBQXZCO0FBQ0g7QUFDRCxtQkFBTyxPQUFPLEtBQWQ7QUFDSDs7O0tBbkRMOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBdURlLGEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07IiwidmFyIGNvcmUgID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpXG4gICwgJEpTT04gPSBjb3JlLkpTT04gfHwgKGNvcmUuSlNPTiA9IHtzdHJpbmdpZnk6IEpTT04uc3RyaW5naWZ5fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG4gIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL193a3MtZXh0JykuZignaXRlcmF0b3InKTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07IiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59OyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07IiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pOyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTsiLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTsiLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9IHBJRS5mXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTsiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTsiLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBkZXNjcmlwdG9yICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHt9OyIsInZhciBnZXRLZXlzICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSBnZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHRydWU7IiwidmFyIE1FVEEgICAgID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKVxuICAsIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBoYXMgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgc2V0RGVzYyAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaWQgICAgICAgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbnZhciBzZXRNZXRhID0gZnVuY3Rpb24oaXQpe1xuICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcbiAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcbiAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9fSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiAgICAgIE1FVEEsXG4gIE5FRUQ6ICAgICBmYWxzZSxcbiAgZmFzdEtleTogIGZhc3RLZXksXG4gIGdldFdlYWs6ICBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07IiwiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGRQcyAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJylcbiAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuICAgICwgbHQgICAgID0gJzwnXG4gICAgLCBndCAgICAgPSAnPidcbiAgICAsIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XG4gIHZhciByZXN1bHQ7XG4gIGlmKE8gIT09IG51bGwpe1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTsiLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59OyIsInZhciBwSUUgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTsiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuIiwiLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxudmFyICRrZXlzICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTsiLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzOyIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07IiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9JT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59OyIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlOyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpOyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTsiLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcbn07IiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07IiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTsiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTsiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59OyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59OyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59OyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTsiLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTsiLCJ2YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xufTsiLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTsiLCJ2YXIgc3RvcmUgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFN5bWJvbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2xcbiAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTsiLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpOyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jylcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyl9KTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTsiLCIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsICRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0fSk7IiwiIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCAgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgTUVUQSAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZXG4gICwgJGZhaWxzICAgICAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCB3a3NEZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fa2V5b2YnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJylcbiAgLCBpc0FycmF5ICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBfY3JlYXRlICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGdPUE5FeHQgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0JylcbiAgLCAkR09QRCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJylcbiAgLCAkRFAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgJGtleXMgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QRCAgICAgICAgICAgPSAkR09QRC5mXG4gICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG4gICwgUFJPVE9UWVBFICAgICAgPSAncHJvdG90eXBlJ1xuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuICAsIGlzRW51bSAgICAgICAgID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgT1BTeW1ib2xzICAgICAgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKVxuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cbiAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcbiAgLCBRT2JqZWN0ICAgICAgICA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZih0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgaXQgID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnT1BOKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIElTX09QICA9IGl0ID09PSBPYmplY3RQcm90b1xuICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighVVNFX05BVElWRSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5Jykpe1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuZm9yKHZhciBzeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblxuZm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIGlmKGlzU3ltYm9sKGtleSkpcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXtcbiAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICB2YXIgYXJncyA9IFtpdF1cbiAgICAgICwgaSAgICA9IDFcbiAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICBpZigkcmVwbGFjZXIpdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTsiLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ2FzeW5jSXRlcmF0b3InKTsiLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTsiLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59IiwiLypcbkF1dGhvcjogR2VyYWludCBMdWZmIGFuZCBvdGhlcnNcblllYXI6IDIwMTNcblxuVGhpcyBjb2RlIGlzIHJlbGVhc2VkIGludG8gdGhlIFwicHVibGljIGRvbWFpblwiIGJ5IGl0cyBhdXRob3IocykuICBBbnlib2R5IG1heSB1c2UsIGFsdGVyIGFuZCBkaXN0cmlidXRlIHRoZSBjb2RlIHdpdGhvdXQgcmVzdHJpY3Rpb24uICBUaGUgYXV0aG9yIG1ha2VzIG5vIGd1YXJhbnRlZXMsIGFuZCB0YWtlcyBubyBsaWFiaWxpdHkgb2YgYW55IGtpbmQgZm9yIHVzZSBvZiB0aGlzIGNvZGUuXG5cbklmIHlvdSBmaW5kIGEgYnVnIG9yIG1ha2UgYW4gaW1wcm92ZW1lbnQsIGl0IHdvdWxkIGJlIGNvdXJ0ZW91cyB0byBsZXQgdGhlIGF1dGhvciBrbm93LCBidXQgaXQgaXMgbm90IGNvbXB1bHNvcnkuXG4qL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKXtcbiAgICAvLyBDb21tb25KUy4gRGVmaW5lIGV4cG9ydC5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwudHY0ID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXM/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRk9iamVjdCUyRmtleXNcbmlmICghT2JqZWN0LmtleXMpIHtcblx0T2JqZWN0LmtleXMgPSAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG5cdFx0XHRoYXNEb250RW51bUJ1ZyA9ICEoe3RvU3RyaW5nOiBudWxsfSkucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyksXG5cdFx0XHRkb250RW51bXMgPSBbXG5cdFx0XHRcdCd0b1N0cmluZycsXG5cdFx0XHRcdCd0b0xvY2FsZVN0cmluZycsXG5cdFx0XHRcdCd2YWx1ZU9mJyxcblx0XHRcdFx0J2hhc093blByb3BlcnR5Jyxcblx0XHRcdFx0J2lzUHJvdG90eXBlT2YnLFxuXHRcdFx0XHQncHJvcGVydHlJc0VudW1lcmFibGUnLFxuXHRcdFx0XHQnY29uc3RydWN0b3InXG5cdFx0XHRdLFxuXHRcdFx0ZG9udEVudW1zTGVuZ3RoID0gZG9udEVudW1zLmxlbmd0aDtcblxuXHRcdHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJyB8fCBvYmogPT09IG51bGwpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iaikge1xuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gocHJvcCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGhhc0RvbnRFbnVtQnVnKSB7XG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaSA8IGRvbnRFbnVtc0xlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBkb250RW51bXNbaV0pKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQucHVzaChkb250RW51bXNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9O1xuXHR9KSgpO1xufVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2NyZWF0ZVxuaWYgKCFPYmplY3QuY3JlYXRlKSB7XG5cdE9iamVjdC5jcmVhdGUgPSAoZnVuY3Rpb24oKXtcblx0XHRmdW5jdGlvbiBGKCl7fVxuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKG8pe1xuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdPYmplY3QuY3JlYXRlIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLicpO1xuXHRcdFx0fVxuXHRcdFx0Ri5wcm90b3R5cGUgPSBvO1xuXHRcdFx0cmV0dXJuIG5ldyBGKCk7XG5cdFx0fTtcblx0fSkoKTtcbn1cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2lzQXJyYXk/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkFycmF5JTJGaXNBcnJheVxuaWYoIUFycmF5LmlzQXJyYXkpIHtcblx0QXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uICh2QXJnKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2QXJnKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuXHR9O1xufVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5kZXhPZj9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZpbmRleE9mXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG5cdEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCAqLyApIHtcblx0XHRpZiAodGhpcyA9PT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXHRcdH1cblx0XHR2YXIgdCA9IE9iamVjdCh0aGlzKTtcblx0XHR2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cblx0XHRpZiAobGVuID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fVxuXHRcdHZhciBuID0gMDtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdG4gPSBOdW1iZXIoYXJndW1lbnRzWzFdKTtcblx0XHRcdGlmIChuICE9PSBuKSB7IC8vIHNob3J0Y3V0IGZvciB2ZXJpZnlpbmcgaWYgaXQncyBOYU5cblx0XHRcdFx0biA9IDA7XG5cdFx0XHR9IGVsc2UgaWYgKG4gIT09IDAgJiYgbiAhPT0gSW5maW5pdHkgJiYgbiAhPT0gLUluZmluaXR5KSB7XG5cdFx0XHRcdG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChuID49IGxlbikge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH1cblx0XHR2YXIgayA9IG4gPj0gMCA/IG4gOiBNYXRoLm1heChsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG5cdFx0Zm9yICg7IGsgPCBsZW47IGsrKykge1xuXHRcdFx0aWYgKGsgaW4gdCAmJiB0W2tdID09PSBzZWFyY2hFbGVtZW50KSB7XG5cdFx0XHRcdHJldHVybiBrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH07XG59XG5cbi8vIEdydW5nZXkgT2JqZWN0LmlzRnJvemVuIGhhY2tcbmlmICghT2JqZWN0LmlzRnJvemVuKSB7XG5cdE9iamVjdC5pc0Zyb3plbiA9IGZ1bmN0aW9uIChvYmopIHtcblx0XHR2YXIga2V5ID0gXCJ0djRfdGVzdF9mcm96ZW5fa2V5XCI7XG5cdFx0d2hpbGUgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRrZXkgKz0gTWF0aC5yYW5kb20oKTtcblx0XHR9XG5cdFx0dHJ5IHtcblx0XHRcdG9ialtrZXldID0gdHJ1ZTtcblx0XHRcdGRlbGV0ZSBvYmpba2V5XTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH07XG59XG4vLyBCYXNlZCBvbjogaHR0cHM6Ly9naXRodWIuY29tL2dlcmFpbnRsdWZmL3VyaS10ZW1wbGF0ZXMsIGJ1dCB3aXRoIGFsbCB0aGUgZGUtc3Vic3RpdHV0aW9uIHN0dWZmIHJlbW92ZWRcblxudmFyIHVyaVRlbXBsYXRlR2xvYmFsTW9kaWZpZXJzID0ge1xuXHRcIitcIjogdHJ1ZSxcblx0XCIjXCI6IHRydWUsXG5cdFwiLlwiOiB0cnVlLFxuXHRcIi9cIjogdHJ1ZSxcblx0XCI7XCI6IHRydWUsXG5cdFwiP1wiOiB0cnVlLFxuXHRcIiZcIjogdHJ1ZVxufTtcbnZhciB1cmlUZW1wbGF0ZVN1ZmZpY2VzID0ge1xuXHRcIipcIjogdHJ1ZVxufTtcblxuZnVuY3Rpb24gbm90UmVhbGx5UGVyY2VudEVuY29kZShzdHJpbmcpIHtcblx0cmV0dXJuIGVuY29kZVVSSShzdHJpbmcpLnJlcGxhY2UoLyUyNVswLTldWzAtOV0vZywgZnVuY3Rpb24gKGRvdWJsZUVuY29kZWQpIHtcblx0XHRyZXR1cm4gXCIlXCIgKyBkb3VibGVFbmNvZGVkLnN1YnN0cmluZygzKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHNwZWMpIHtcblx0dmFyIG1vZGlmaWVyID0gXCJcIjtcblx0aWYgKHVyaVRlbXBsYXRlR2xvYmFsTW9kaWZpZXJzW3NwZWMuY2hhckF0KDApXSkge1xuXHRcdG1vZGlmaWVyID0gc3BlYy5jaGFyQXQoMCk7XG5cdFx0c3BlYyA9IHNwZWMuc3Vic3RyaW5nKDEpO1xuXHR9XG5cdHZhciBzZXBhcmF0b3IgPSBcIlwiO1xuXHR2YXIgcHJlZml4ID0gXCJcIjtcblx0dmFyIHNob3VsZEVzY2FwZSA9IHRydWU7XG5cdHZhciBzaG93VmFyaWFibGVzID0gZmFsc2U7XG5cdHZhciB0cmltRW1wdHlTdHJpbmcgPSBmYWxzZTtcblx0aWYgKG1vZGlmaWVyID09PSAnKycpIHtcblx0XHRzaG91bGRFc2NhcGUgPSBmYWxzZTtcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gXCIuXCIpIHtcblx0XHRwcmVmaXggPSBcIi5cIjtcblx0XHRzZXBhcmF0b3IgPSBcIi5cIjtcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gXCIvXCIpIHtcblx0XHRwcmVmaXggPSBcIi9cIjtcblx0XHRzZXBhcmF0b3IgPSBcIi9cIjtcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJyMnKSB7XG5cdFx0cHJlZml4ID0gXCIjXCI7XG5cdFx0c2hvdWxkRXNjYXBlID0gZmFsc2U7XG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICc7Jykge1xuXHRcdHByZWZpeCA9IFwiO1wiO1xuXHRcdHNlcGFyYXRvciA9IFwiO1wiO1xuXHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xuXHRcdHRyaW1FbXB0eVN0cmluZyA9IHRydWU7XG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICc/Jykge1xuXHRcdHByZWZpeCA9IFwiP1wiO1xuXHRcdHNlcGFyYXRvciA9IFwiJlwiO1xuXHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnJicpIHtcblx0XHRwcmVmaXggPSBcIiZcIjtcblx0XHRzZXBhcmF0b3IgPSBcIiZcIjtcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcblx0fVxuXG5cdHZhciB2YXJOYW1lcyA9IFtdO1xuXHR2YXIgdmFyTGlzdCA9IHNwZWMuc3BsaXQoXCIsXCIpO1xuXHR2YXIgdmFyU3BlY3MgPSBbXTtcblx0dmFyIHZhclNwZWNNYXAgPSB7fTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJMaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHZhck5hbWUgPSB2YXJMaXN0W2ldO1xuXHRcdHZhciB0cnVuY2F0ZSA9IG51bGw7XG5cdFx0aWYgKHZhck5hbWUuaW5kZXhPZihcIjpcIikgIT09IC0xKSB7XG5cdFx0XHR2YXIgcGFydHMgPSB2YXJOYW1lLnNwbGl0KFwiOlwiKTtcblx0XHRcdHZhck5hbWUgPSBwYXJ0c1swXTtcblx0XHRcdHRydW5jYXRlID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcblx0XHR9XG5cdFx0dmFyIHN1ZmZpY2VzID0ge307XG5cdFx0d2hpbGUgKHVyaVRlbXBsYXRlU3VmZmljZXNbdmFyTmFtZS5jaGFyQXQodmFyTmFtZS5sZW5ndGggLSAxKV0pIHtcblx0XHRcdHN1ZmZpY2VzW3Zhck5hbWUuY2hhckF0KHZhck5hbWUubGVuZ3RoIC0gMSldID0gdHJ1ZTtcblx0XHRcdHZhck5hbWUgPSB2YXJOYW1lLnN1YnN0cmluZygwLCB2YXJOYW1lLmxlbmd0aCAtIDEpO1xuXHRcdH1cblx0XHR2YXIgdmFyU3BlYyA9IHtcblx0XHRcdHRydW5jYXRlOiB0cnVuY2F0ZSxcblx0XHRcdG5hbWU6IHZhck5hbWUsXG5cdFx0XHRzdWZmaWNlczogc3VmZmljZXNcblx0XHR9O1xuXHRcdHZhclNwZWNzLnB1c2godmFyU3BlYyk7XG5cdFx0dmFyU3BlY01hcFt2YXJOYW1lXSA9IHZhclNwZWM7XG5cdFx0dmFyTmFtZXMucHVzaCh2YXJOYW1lKTtcblx0fVxuXHR2YXIgc3ViRnVuY3Rpb24gPSBmdW5jdGlvbiAodmFsdWVGdW5jdGlvbikge1xuXHRcdHZhciByZXN1bHQgPSBcIlwiO1xuXHRcdHZhciBzdGFydEluZGV4ID0gMDtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHZhclNwZWNzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgdmFyU3BlYyA9IHZhclNwZWNzW2ldO1xuXHRcdFx0dmFyIHZhbHVlID0gdmFsdWVGdW5jdGlvbih2YXJTcGVjLm5hbWUpO1xuXHRcdFx0aWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgfHwgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMCkpIHtcblx0XHRcdFx0c3RhcnRJbmRleCsrO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChpID09PSBzdGFydEluZGV4KSB7XG5cdFx0XHRcdHJlc3VsdCArPSBwcmVmaXg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgKz0gKHNlcGFyYXRvciB8fCBcIixcIik7XG5cdFx0XHR9XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGlmIChqID4gMCkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XG5cdFx0XHRcdFx0XHRpZiAodmFyU3BlYy5zdWZmaWNlc1snKiddICYmIHNob3dWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2pdKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZVtqXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzICYmICF2YXJTcGVjLnN1ZmZpY2VzWycqJ10pIHtcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGZpcnN0ID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCFmaXJzdCkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZpcnN0ID0gZmFsc2U7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudChrZXkpLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKGtleSk7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/ICc9JyA6IFwiLFwiO1xuXHRcdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVba2V5XSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWVba2V5XSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzKSB7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZTtcblx0XHRcdFx0XHRpZiAoIXRyaW1FbXB0eVN0cmluZyB8fCB2YWx1ZSAhPT0gXCJcIikge1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IFwiPVwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodmFyU3BlYy50cnVuY2F0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFyU3BlYy50cnVuY2F0ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKTogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cdHN1YkZ1bmN0aW9uLnZhck5hbWVzID0gdmFyTmFtZXM7XG5cdHJldHVybiB7XG5cdFx0cHJlZml4OiBwcmVmaXgsXG5cdFx0c3Vic3RpdHV0aW9uOiBzdWJGdW5jdGlvblxuXHR9O1xufVxuXG5mdW5jdGlvbiBVcmlUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgVXJpVGVtcGxhdGUpKSB7XG5cdFx0cmV0dXJuIG5ldyBVcmlUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG5cdH1cblx0dmFyIHBhcnRzID0gdGVtcGxhdGUuc3BsaXQoXCJ7XCIpO1xuXHR2YXIgdGV4dFBhcnRzID0gW3BhcnRzLnNoaWZ0KCldO1xuXHR2YXIgcHJlZml4ZXMgPSBbXTtcblx0dmFyIHN1YnN0aXR1dGlvbnMgPSBbXTtcblx0dmFyIHZhck5hbWVzID0gW107XG5cdHdoaWxlIChwYXJ0cy5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdHZhciBzcGVjID0gcGFydC5zcGxpdChcIn1cIilbMF07XG5cdFx0dmFyIHJlbWFpbmRlciA9IHBhcnQuc3Vic3RyaW5nKHNwZWMubGVuZ3RoICsgMSk7XG5cdFx0dmFyIGZ1bmNzID0gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oc3BlYyk7XG5cdFx0c3Vic3RpdHV0aW9ucy5wdXNoKGZ1bmNzLnN1YnN0aXR1dGlvbik7XG5cdFx0cHJlZml4ZXMucHVzaChmdW5jcy5wcmVmaXgpO1xuXHRcdHRleHRQYXJ0cy5wdXNoKHJlbWFpbmRlcik7XG5cdFx0dmFyTmFtZXMgPSB2YXJOYW1lcy5jb25jYXQoZnVuY3Muc3Vic3RpdHV0aW9uLnZhck5hbWVzKTtcblx0fVxuXHR0aGlzLmZpbGwgPSBmdW5jdGlvbiAodmFsdWVGdW5jdGlvbikge1xuXHRcdHZhciByZXN1bHQgPSB0ZXh0UGFydHNbMF07XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzdGl0dXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgc3Vic3RpdHV0aW9uID0gc3Vic3RpdHV0aW9uc1tpXTtcblx0XHRcdHJlc3VsdCArPSBzdWJzdGl0dXRpb24odmFsdWVGdW5jdGlvbik7XG5cdFx0XHRyZXN1bHQgKz0gdGV4dFBhcnRzW2kgKyAxXTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblx0dGhpcy52YXJOYW1lcyA9IHZhck5hbWVzO1xuXHR0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG59XG5VcmlUZW1wbGF0ZS5wcm90b3R5cGUgPSB7XG5cdHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMudGVtcGxhdGU7XG5cdH0sXG5cdGZpbGxGcm9tT2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmlsbChmdW5jdGlvbiAodmFyTmFtZSkge1xuXHRcdFx0cmV0dXJuIG9ialt2YXJOYW1lXTtcblx0XHR9KTtcblx0fVxufTtcbnZhciBWYWxpZGF0b3JDb250ZXh0ID0gZnVuY3Rpb24gVmFsaWRhdG9yQ29udGV4dChwYXJlbnQsIGNvbGxlY3RNdWx0aXBsZSwgZXJyb3JSZXBvcnRlciwgY2hlY2tSZWN1cnNpdmUsIHRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0dGhpcy5taXNzaW5nID0gW107XG5cdHRoaXMubWlzc2luZ01hcCA9IHt9O1xuXHR0aGlzLmZvcm1hdFZhbGlkYXRvcnMgPSBwYXJlbnQgPyBPYmplY3QuY3JlYXRlKHBhcmVudC5mb3JtYXRWYWxpZGF0b3JzKSA6IHt9O1xuXHR0aGlzLnNjaGVtYXMgPSBwYXJlbnQgPyBPYmplY3QuY3JlYXRlKHBhcmVudC5zY2hlbWFzKSA6IHt9O1xuXHR0aGlzLmNvbGxlY3RNdWx0aXBsZSA9IGNvbGxlY3RNdWx0aXBsZTtcblx0dGhpcy5lcnJvcnMgPSBbXTtcblx0dGhpcy5oYW5kbGVFcnJvciA9IGNvbGxlY3RNdWx0aXBsZSA/IHRoaXMuY29sbGVjdEVycm9yIDogdGhpcy5yZXR1cm5FcnJvcjtcblx0aWYgKGNoZWNrUmVjdXJzaXZlKSB7XG5cdFx0dGhpcy5jaGVja1JlY3Vyc2l2ZSA9IHRydWU7XG5cdFx0dGhpcy5zY2FubmVkID0gW107XG5cdFx0dGhpcy5zY2FubmVkRnJvemVuID0gW107XG5cdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcyA9IFtdO1xuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnMgPSBbXTtcblx0XHR0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXkgPSAndHY0X3ZhbGlkYXRpb25faWQnO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSA9ICd0djRfdmFsaWRhdGlvbl9lcnJvcnNfaWQnO1xuXHR9XG5cdGlmICh0cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzID0gdHJ1ZTtcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0fVxuXHR0aGlzLmVycm9yUmVwb3J0ZXIgPSBlcnJvclJlcG9ydGVyIHx8IGRlZmF1bHRFcnJvclJlcG9ydGVyKCdlbicpO1xuXHRpZiAodHlwZW9mIHRoaXMuZXJyb3JSZXBvcnRlciA9PT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2RlYnVnJyk7XG5cdH1cblx0dGhpcy5kZWZpbmVkS2V5d29yZHMgPSB7fTtcblx0aWYgKHBhcmVudCkge1xuXHRcdGZvciAodmFyIGtleSBpbiBwYXJlbnQuZGVmaW5lZEtleXdvcmRzKSB7XG5cdFx0XHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXldID0gcGFyZW50LmRlZmluZWRLZXl3b3Jkc1trZXldLnNsaWNlKDApO1xuXHRcdH1cblx0fVxufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmRlZmluZUtleXdvcmQgPSBmdW5jdGlvbiAoa2V5d29yZCwga2V5d29yZEZ1bmN0aW9uKSB7XG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdID0gdGhpcy5kZWZpbmVkS2V5d29yZHNba2V5d29yZF0gfHwgW107XG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdLnB1c2goa2V5d29yZEZ1bmN0aW9uKTtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChjb2RlLCBtZXNzYWdlUGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzLCBkYXRhLCBzY2hlbWEpIHtcblx0dmFyIGVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihjb2RlLCBtZXNzYWdlUGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzKTtcblx0ZXJyb3IubWVzc2FnZSA9IHRoaXMuZXJyb3JSZXBvcnRlcihlcnJvciwgZGF0YSwgc2NoZW1hKTtcblx0cmV0dXJuIGVycm9yO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJldHVybkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdHJldHVybiBlcnJvcjtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5jb2xsZWN0RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0aWYgKGVycm9yKSB7XG5cdFx0dGhpcy5lcnJvcnMucHVzaChlcnJvcik7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucHJlZml4RXJyb3JzID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGRhdGFQYXRoLCBzY2hlbWFQYXRoKSB7XG5cdGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgdGhpcy5lcnJvcnMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLmVycm9yc1tpXSA9IHRoaXMuZXJyb3JzW2ldLnByZWZpeFdpdGgoZGF0YVBhdGgsIHNjaGVtYVBhdGgpO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmJhblVua25vd25Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSkge1xuXHRmb3IgKHZhciB1bmtub3duUGF0aCBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XG5cdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlVOS05PV05fUFJPUEVSVFksIHtwYXRoOiB1bmtub3duUGF0aH0sIHVua25vd25QYXRoLCBcIlwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdHZhciByZXN1bHQgPSB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcblx0XHRpZiAocmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmFkZEZvcm1hdCA9IGZ1bmN0aW9uIChmb3JtYXQsIHZhbGlkYXRvcikge1xuXHRpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ29iamVjdCcpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gZm9ybWF0KSB7XG5cdFx0XHR0aGlzLmFkZEZvcm1hdChrZXksIGZvcm1hdFtrZXldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0dGhpcy5mb3JtYXRWYWxpZGF0b3JzW2Zvcm1hdF0gPSB2YWxpZGF0b3I7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmVzb2x2ZVJlZnMgPSBmdW5jdGlvbiAoc2NoZW1hLCB1cmxIaXN0b3J5KSB7XG5cdGlmIChzY2hlbWFbJyRyZWYnXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dXJsSGlzdG9yeSA9IHVybEhpc3RvcnkgfHwge307XG5cdFx0aWYgKHVybEhpc3Rvcnlbc2NoZW1hWyckcmVmJ11dKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkNJUkNVTEFSX1JFRkVSRU5DRSwge3VybHM6IE9iamVjdC5rZXlzKHVybEhpc3RvcnkpLmpvaW4oJywgJyl9LCAnJywgJycsIG51bGwsIHVuZGVmaW5lZCwgc2NoZW1hKTtcblx0XHR9XG5cdFx0dXJsSGlzdG9yeVtzY2hlbWFbJyRyZWYnXV0gPSB0cnVlO1xuXHRcdHNjaGVtYSA9IHRoaXMuZ2V0U2NoZW1hKHNjaGVtYVsnJHJlZiddLCB1cmxIaXN0b3J5KTtcblx0fVxuXHRyZXR1cm4gc2NoZW1hO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwsIHVybEhpc3RvcnkpIHtcblx0dmFyIHNjaGVtYTtcblx0aWYgKHRoaXMuc2NoZW1hc1t1cmxdICE9PSB1bmRlZmluZWQpIHtcblx0XHRzY2hlbWEgPSB0aGlzLnNjaGVtYXNbdXJsXTtcblx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xuXHR9XG5cdHZhciBiYXNlVXJsID0gdXJsO1xuXHR2YXIgZnJhZ21lbnQgPSBcIlwiO1xuXHRpZiAodXJsLmluZGV4T2YoJyMnKSAhPT0gLTEpIHtcblx0XHRmcmFnbWVudCA9IHVybC5zdWJzdHJpbmcodXJsLmluZGV4T2YoXCIjXCIpICsgMSk7XG5cdFx0YmFzZVVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoXCIjXCIpKTtcblx0fVxuXHRpZiAodHlwZW9mIHRoaXMuc2NoZW1hc1tiYXNlVXJsXSA9PT0gJ29iamVjdCcpIHtcblx0XHRzY2hlbWEgPSB0aGlzLnNjaGVtYXNbYmFzZVVybF07XG5cdFx0dmFyIHBvaW50ZXJQYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGZyYWdtZW50KTtcblx0XHRpZiAocG9pbnRlclBhdGggPT09IFwiXCIpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XG5cdFx0fSBlbHNlIGlmIChwb2ludGVyUGF0aC5jaGFyQXQoMCkgIT09IFwiL1wiKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR2YXIgcGFydHMgPSBwb2ludGVyUGF0aC5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGNvbXBvbmVudCA9IHBhcnRzW2ldLnJlcGxhY2UoL34xL2csIFwiL1wiKS5yZXBsYWNlKC9+MC9nLCBcIn5cIik7XG5cdFx0XHRpZiAoc2NoZW1hW2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzY2hlbWEgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0c2NoZW1hID0gc2NoZW1hW2NvbXBvbmVudF07XG5cdFx0fVxuXHRcdGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hLCB1cmxIaXN0b3J5KTtcblx0XHR9XG5cdH1cblx0aWYgKHRoaXMubWlzc2luZ1tiYXNlVXJsXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhpcy5taXNzaW5nLnB1c2goYmFzZVVybCk7XG5cdFx0dGhpcy5taXNzaW5nW2Jhc2VVcmxdID0gYmFzZVVybDtcblx0XHR0aGlzLm1pc3NpbmdNYXBbYmFzZVVybF0gPSBiYXNlVXJsO1xuXHR9XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuc2VhcmNoU2NoZW1hcyA9IGZ1bmN0aW9uIChzY2hlbWEsIHVybCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEpKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWFbaV0sIHVybCk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYgKHR5cGVvZiBzY2hlbWEuaWQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdGlmIChpc1RydXN0ZWRVcmwodXJsLCBzY2hlbWEuaWQpKSB7XG5cdFx0XHRcdGlmICh0aGlzLnNjaGVtYXNbc2NoZW1hLmlkXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGhpcy5zY2hlbWFzW3NjaGVtYS5pZF0gPSBzY2hlbWE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuXHRcdFx0aWYgKGtleSAhPT0gXCJlbnVtXCIpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWFba2V5XSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRcdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWFba2V5XSwgdXJsKTtcblx0XHRcdFx0fSBlbHNlIGlmIChrZXkgPT09IFwiJHJlZlwiKSB7XG5cdFx0XHRcdFx0dmFyIHVyaSA9IGdldERvY3VtZW50VXJpKHNjaGVtYVtrZXldKTtcblx0XHRcdFx0XHRpZiAodXJpICYmIHRoaXMuc2NoZW1hc1t1cmldID09PSB1bmRlZmluZWQgJiYgdGhpcy5taXNzaW5nTWFwW3VyaV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0dGhpcy5taXNzaW5nTWFwW3VyaV0gPSB1cmk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYWRkU2NoZW1hID0gZnVuY3Rpb24gKHVybCwgc2NoZW1hKSB7XG5cdC8vb3ZlcmxvYWRcblx0aWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBzY2hlbWEgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0aWYgKHR5cGVvZiB1cmwgPT09ICdvYmplY3QnICYmIHR5cGVvZiB1cmwuaWQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRzY2hlbWEgPSB1cmw7XG5cdFx0XHR1cmwgPSBzY2hlbWEuaWQ7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRpZiAodXJsID09PSBnZXREb2N1bWVudFVyaSh1cmwpICsgXCIjXCIpIHtcblx0XHQvLyBSZW1vdmUgZW1wdHkgZnJhZ21lbnRcblx0XHR1cmwgPSBnZXREb2N1bWVudFVyaSh1cmwpO1xuXHR9XG5cdHRoaXMuc2NoZW1hc1t1cmxdID0gc2NoZW1hO1xuXHRkZWxldGUgdGhpcy5taXNzaW5nTWFwW3VybF07XG5cdG5vcm1TY2hlbWEoc2NoZW1hLCB1cmwpO1xuXHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hLCB1cmwpO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0U2NoZW1hTWFwID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgbWFwID0ge307XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLnNjaGVtYXMpIHtcblx0XHRtYXBba2V5XSA9IHRoaXMuc2NoZW1hc1trZXldO1xuXHR9XG5cdHJldHVybiBtYXA7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWFVcmlzID0gZnVuY3Rpb24gKGZpbHRlclJlZ0V4cCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zY2hlbWFzKSB7XG5cdFx0aWYgKCFmaWx0ZXJSZWdFeHAgfHwgZmlsdGVyUmVnRXhwLnRlc3Qoa2V5KSkge1xuXHRcdFx0bGlzdC5wdXNoKGtleSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsaXN0O1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0TWlzc2luZ1VyaXMgPSBmdW5jdGlvbiAoZmlsdGVyUmVnRXhwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLm1pc3NpbmdNYXApIHtcblx0XHRpZiAoIWZpbHRlclJlZ0V4cCB8fCBmaWx0ZXJSZWdFeHAudGVzdChrZXkpKSB7XG5cdFx0XHRsaXN0LnB1c2goa2V5KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5kcm9wU2NoZW1hcyA9IGZ1bmN0aW9uICgpIHtcblx0dGhpcy5zY2hlbWFzID0ge307XG5cdHRoaXMucmVzZXQoKTtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblx0dGhpcy5taXNzaW5nID0gW107XG5cdHRoaXMubWlzc2luZ01hcCA9IHt9O1xuXHR0aGlzLmVycm9ycyA9IFtdO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBbGwgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBkYXRhUGF0aFBhcnRzLCBzY2hlbWFQYXRoUGFydHMsIGRhdGFQb2ludGVyUGF0aCkge1xuXHR2YXIgdG9wTGV2ZWw7XG5cdHNjaGVtYSA9IHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hKTtcblx0aWYgKCFzY2hlbWEpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcblx0XHR0aGlzLmVycm9ycy5wdXNoKHNjaGVtYSk7XG5cdFx0cmV0dXJuIHNjaGVtYTtcblx0fVxuXG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdHZhciBmcm96ZW5JbmRleCwgc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ID0gbnVsbCwgc2Nhbm5lZFNjaGVtYXNJbmRleCA9IG51bGw7XG5cdGlmICh0aGlzLmNoZWNrUmVjdXJzaXZlICYmIGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG5cdFx0dG9wTGV2ZWwgPSAhdGhpcy5zY2FubmVkLmxlbmd0aDtcblx0XHRpZiAoZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKSB7XG5cdFx0XHR2YXIgc2NoZW1hSW5kZXggPSBkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0uaW5kZXhPZihzY2hlbWEpO1xuXHRcdFx0aWYgKHNjaGVtYUluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdChkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2NoZW1hSW5kZXhdKTtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChPYmplY3QuaXNGcm96ZW4oZGF0YSkpIHtcblx0XHRcdGZyb3plbkluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuLmluZGV4T2YoZGF0YSk7XG5cdFx0XHRpZiAoZnJvemVuSW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdHZhciBmcm96ZW5TY2hlbWFJbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbZnJvemVuSW5kZXhdLmluZGV4T2Yoc2NoZW1hKTtcblx0XHRcdFx0aWYgKGZyb3plblNjaGVtYUluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW2Zyb3plblNjaGVtYUluZGV4XSk7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5zY2FubmVkLnB1c2goZGF0YSk7XG5cdFx0aWYgKE9iamVjdC5pc0Zyb3plbihkYXRhKSkge1xuXHRcdFx0aWYgKGZyb3plbkluZGV4ID09PSAtMSkge1xuXHRcdFx0XHRmcm96ZW5JbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plbi5sZW5ndGg7XG5cdFx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plbi5wdXNoKGRhdGEpO1xuXHRcdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzLnB1c2goW10pO1xuXHRcdFx0fVxuXHRcdFx0c2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF0ubGVuZ3RoO1xuXHRcdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IHNjaGVtYTtcblx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW3NjYW5uZWRGcm96ZW5TY2hlbWFJbmRleF0gPSBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCFkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGF0YSwgdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5LCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogW10sXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGF0YSwgdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5LCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogW10sXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdC8vSUUgNy84IHdvcmthcm91bmRcblx0XHRcdFx0XHRkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0gPSBbXTtcblx0XHRcdFx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV0gPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0c2Nhbm5lZFNjaGVtYXNJbmRleCA9IGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5sZW5ndGg7XG5cdFx0XHRkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSBzY2hlbWE7XG5cdFx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSBbXTtcblx0XHR9XG5cdH1cblxuXHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUJhc2ljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVOdW1lcmljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVTdHJpbmcoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlSHlwZXJtZWRpYShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlRm9ybWF0KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgbnVsbDtcblxuXHRpZiAodG9wTGV2ZWwpIHtcblx0XHR3aGlsZSAodGhpcy5zY2FubmVkLmxlbmd0aCkge1xuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzLnNjYW5uZWQucG9wKCk7XG5cdFx0XHRkZWxldGUgaXRlbVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldO1xuXHRcdH1cblx0XHR0aGlzLnNjYW5uZWRGcm96ZW4gPSBbXTtcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzID0gW107XG5cdH1cblxuXHRpZiAoZXJyb3IgfHwgZXJyb3JDb3VudCAhPT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XG5cdFx0d2hpbGUgKChkYXRhUGF0aFBhcnRzICYmIGRhdGFQYXRoUGFydHMubGVuZ3RoKSB8fCAoc2NoZW1hUGF0aFBhcnRzICYmIHNjaGVtYVBhdGhQYXJ0cy5sZW5ndGgpKSB7XG5cdFx0XHR2YXIgZGF0YVBhcnQgPSAoZGF0YVBhdGhQYXJ0cyAmJiBkYXRhUGF0aFBhcnRzLmxlbmd0aCkgPyBcIlwiICsgZGF0YVBhdGhQYXJ0cy5wb3AoKSA6IG51bGw7XG5cdFx0XHR2YXIgc2NoZW1hUGFydCA9IChzY2hlbWFQYXRoUGFydHMgJiYgc2NoZW1hUGF0aFBhcnRzLmxlbmd0aCkgPyBcIlwiICsgc2NoZW1hUGF0aFBhcnRzLnBvcCgpIDogbnVsbDtcblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRlcnJvciA9IGVycm9yLnByZWZpeFdpdGgoZGF0YVBhcnQsIHNjaGVtYVBhcnQpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wcmVmaXhFcnJvcnMoZXJyb3JDb3VudCwgZGF0YVBhcnQsIHNjaGVtYVBhcnQpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChzY2FubmVkRnJvemVuU2NoZW1hSW5kZXggIT09IG51bGwpIHtcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gdGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KTtcblx0fSBlbHNlIGlmIChzY2FubmVkU2NoZW1hc0luZGV4ICE9PSBudWxsKSB7XG5cdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3NjYW5uZWRTY2hlbWFzSW5kZXhdID0gdGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KTtcblx0fVxuXG5cdHJldHVybiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBzY2hlbWEuZm9ybWF0ICE9PSAnc3RyaW5nJyB8fCAhdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3NjaGVtYS5mb3JtYXRdKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIGVycm9yTWVzc2FnZSA9IHRoaXMuZm9ybWF0VmFsaWRhdG9yc1tzY2hlbWEuZm9ybWF0XS5jYWxsKG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdGlmICh0eXBlb2YgZXJyb3JNZXNzYWdlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZXJyb3JNZXNzYWdlID09PSAnbnVtYmVyJykge1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRk9STUFUX0NVU1RPTSwge21lc3NhZ2U6IGVycm9yTWVzc2FnZX0sICcnLCAnL2Zvcm1hdCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlICYmIHR5cGVvZiBlcnJvck1lc3NhZ2UgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5GT1JNQVRfQ1VTVE9NLCB7bWVzc2FnZTogZXJyb3JNZXNzYWdlLm1lc3NhZ2UgfHwgXCI/XCJ9LCBlcnJvck1lc3NhZ2UuZGF0YVBhdGggfHwgJycsIGVycm9yTWVzc2FnZS5zY2hlbWFQYXRoIHx8IFwiL2Zvcm1hdFwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLmRlZmluZWRLZXl3b3Jkcykge1xuXHRcdGlmICh0eXBlb2Ygc2NoZW1hW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0dmFyIHZhbGlkYXRpb25GdW5jdGlvbnMgPSB0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXldO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFsaWRhdGlvbkZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGZ1bmMgPSB2YWxpZGF0aW9uRnVuY3Rpb25zW2ldO1xuXHRcdFx0dmFyIHJlc3VsdCA9IGZ1bmMoZGF0YSwgc2NoZW1hW2tleV0sIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKTtcblx0XHRcdGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLktFWVdPUkRfQ1VTVE9NLCB7a2V5OiBrZXksIG1lc3NhZ2U6IHJlc3VsdH0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKG51bGwsIGtleSk7XG5cdFx0XHR9IGVsc2UgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHR2YXIgY29kZSA9IHJlc3VsdC5jb2RlO1xuXHRcdFx0XHRpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0aWYgKCFFcnJvckNvZGVzW2NvZGVdKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCBlcnJvciBjb2RlICh1c2UgZGVmaW5lRXJyb3IpOiAnICsgY29kZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvZGUgPSBFcnJvckNvZGVzW2NvZGVdO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjb2RlICE9PSAnbnVtYmVyJykge1xuXHRcdFx0XHRcdGNvZGUgPSBFcnJvckNvZGVzLktFWVdPUkRfQ1VTVE9NO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBtZXNzYWdlUGFyYW1zID0gKHR5cGVvZiByZXN1bHQubWVzc2FnZSA9PT0gJ29iamVjdCcpID8gcmVzdWx0Lm1lc3NhZ2UgOiB7a2V5OiBrZXksIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIHx8IFwiP1wifTtcblx0XHRcdFx0dmFyIHNjaGVtYVBhdGggPSByZXN1bHQuc2NoZW1hUGF0aCB8fCAoXCIvXCIgKyBrZXkucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJykpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihjb2RlLCBtZXNzYWdlUGFyYW1zLCByZXN1bHQuZGF0YVBhdGggfHwgbnVsbCwgc2NoZW1hUGF0aCwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5mdW5jdGlvbiByZWN1cnNpdmVDb21wYXJlKEEsIEIpIHtcblx0aWYgKEEgPT09IEIpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRpZiAoQSAmJiBCICYmIHR5cGVvZiBBID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBCID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoQSkgIT09IEFycmF5LmlzQXJyYXkoQikpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQSkpIHtcblx0XHRcdGlmIChBLmxlbmd0aCAhPT0gQi5sZW5ndGgpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBBLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmICghcmVjdXJzaXZlQ29tcGFyZShBW2ldLCBCW2ldKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIga2V5O1xuXHRcdFx0Zm9yIChrZXkgaW4gQSkge1xuXHRcdFx0XHRpZiAoQltrZXldID09PSB1bmRlZmluZWQgJiYgQVtrZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoa2V5IGluIEIpIHtcblx0XHRcdFx0aWYgKEFba2V5XSA9PT0gdW5kZWZpbmVkICYmIEJba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGtleSBpbiBBKSB7XG5cdFx0XHRcdGlmICghcmVjdXJzaXZlQ29tcGFyZShBW2tleV0sIEJba2V5XSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUJhc2ljID0gZnVuY3Rpb24gdmFsaWRhdGVCYXNpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHR2YXIgZXJyb3I7XG5cdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVUeXBlKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSkge1xuXHRcdHJldHVybiBlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwidHlwZVwiKTtcblx0fVxuXHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlRW51bShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkpIHtcblx0XHRyZXR1cm4gZXJyb3IucHJlZml4V2l0aChudWxsLCBcInR5cGVcIik7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVR5cGUgPSBmdW5jdGlvbiB2YWxpZGF0ZVR5cGUoZGF0YSwgc2NoZW1hKSB7XG5cdGlmIChzY2hlbWEudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIGRhdGFUeXBlID0gdHlwZW9mIGRhdGE7XG5cdGlmIChkYXRhID09PSBudWxsKSB7XG5cdFx0ZGF0YVR5cGUgPSBcIm51bGxcIjtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG5cdFx0ZGF0YVR5cGUgPSBcImFycmF5XCI7XG5cdH1cblx0dmFyIGFsbG93ZWRUeXBlcyA9IHNjaGVtYS50eXBlO1xuXHRpZiAoIUFycmF5LmlzQXJyYXkoYWxsb3dlZFR5cGVzKSkge1xuXHRcdGFsbG93ZWRUeXBlcyA9IFthbGxvd2VkVHlwZXNdO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhbGxvd2VkVHlwZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdHlwZSA9IGFsbG93ZWRUeXBlc1tpXTtcblx0XHRpZiAodHlwZSA9PT0gZGF0YVR5cGUgfHwgKHR5cGUgPT09IFwiaW50ZWdlclwiICYmIGRhdGFUeXBlID09PSBcIm51bWJlclwiICYmIChkYXRhICUgMSA9PT0gMCkpKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5JTlZBTElEX1RZUEUsIHt0eXBlOiBkYXRhVHlwZSwgZXhwZWN0ZWQ6IGFsbG93ZWRUeXBlcy5qb2luKFwiL1wiKX0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRW51bSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW51bShkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHNjaGVtYVtcImVudW1cIl0gPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hW1wiZW51bVwiXS5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBlbnVtVmFsID0gc2NoZW1hW1wiZW51bVwiXVtpXTtcblx0XHRpZiAocmVjdXJzaXZlQ29tcGFyZShkYXRhLCBlbnVtVmFsKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRU5VTV9NSVNNQVRDSCwge3ZhbHVlOiAodHlwZW9mIEpTT04gIT09ICd1bmRlZmluZWQnKSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogZGF0YX0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTnVtZXJpYyA9IGZ1bmN0aW9uIHZhbGlkYXRlTnVtZXJpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU1pbk1heChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlTmFOKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IG51bGw7XG59O1xuXG52YXIgQ0xPU0VfRU5PVUdIX0xPVyA9IE1hdGgucG93KDIsIC01MSk7XG52YXIgQ0xPU0VfRU5PVUdIX0hJR0ggPSAxIC0gQ0xPU0VfRU5PVUdIX0xPVztcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTXVsdGlwbGVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlTXVsdGlwbGVPZihkYXRhLCBzY2hlbWEpIHtcblx0dmFyIG11bHRpcGxlT2YgPSBzY2hlbWEubXVsdGlwbGVPZiB8fCBzY2hlbWEuZGl2aXNpYmxlQnk7XG5cdGlmIChtdWx0aXBsZU9mID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAodHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCIpIHtcblx0XHR2YXIgcmVtYWluZGVyID0gKGRhdGEvbXVsdGlwbGVPZiklMTtcblx0XHRpZiAocmVtYWluZGVyID49IENMT1NFX0VOT1VHSF9MT1cgJiYgcmVtYWluZGVyIDwgQ0xPU0VfRU5PVUdIX0hJR0gpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01VTFRJUExFX09GLCB7dmFsdWU6IGRhdGEsIG11bHRpcGxlT2Y6IG11bHRpcGxlT2Z9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXggPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbk1heChkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0aWYgKHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoZGF0YSA8IHNjaGVtYS5taW5pbXVtKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NSU5JTVVNLCB7dmFsdWU6IGRhdGEsIG1pbmltdW06IHNjaGVtYS5taW5pbXVtfSwgJycsICcvbWluaW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHRcdGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAmJiBkYXRhID09PSBzY2hlbWEubWluaW11bSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUsIHt2YWx1ZTogZGF0YSwgbWluaW11bTogc2NoZW1hLm1pbmltdW19LCAnJywgJy9leGNsdXNpdmVNaW5pbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdH1cblx0aWYgKHNjaGVtYS5tYXhpbXVtICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoZGF0YSA+IHNjaGVtYS5tYXhpbXVtKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NQVhJTVVNLCB7dmFsdWU6IGRhdGEsIG1heGltdW06IHNjaGVtYS5tYXhpbXVtfSwgJycsICcvbWF4aW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHRcdGlmIChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSAmJiBkYXRhID09PSBzY2hlbWEubWF4aW11bSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUFYSU1VTV9FWENMVVNJVkUsIHt2YWx1ZTogZGF0YSwgbWF4aW11bTogc2NoZW1hLm1heGltdW19LCAnJywgJy9leGNsdXNpdmVNYXhpbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU5hTiA9IGZ1bmN0aW9uIHZhbGlkYXRlTmFOKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAoaXNOYU4oZGF0YSkgPT09IHRydWUgfHwgZGF0YSA9PT0gSW5maW5pdHkgfHwgZGF0YSA9PT0gLUluZmluaXR5KSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTk9UX0FfTlVNQkVSLCB7dmFsdWU6IGRhdGF9LCAnJywgJy90eXBlJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmdMZW5ndGgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmdMZW5ndGgoZGF0YSwgc2NoZW1hKSB7XG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGlmIChzY2hlbWEubWluTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoZGF0YS5sZW5ndGggPCBzY2hlbWEubWluTGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19MRU5HVEhfU0hPUlQsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluTGVuZ3RofSwgJycsICcvbWluTGVuZ3RoJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdH1cblx0aWYgKHNjaGVtYS5tYXhMZW5ndGggIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5tYXhMZW5ndGgpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuU1RSSU5HX0xFTkdUSF9MT05HLCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heExlbmd0aH0sICcnLCAnL21heExlbmd0aCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdQYXR0ZXJuID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmdQYXR0ZXJuKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgfHwgKHR5cGVvZiBzY2hlbWEucGF0dGVybiAhPT0gXCJzdHJpbmdcIiAmJiAhKHNjaGVtYS5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSkpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgcmVnZXhwO1xuXHRpZiAoc2NoZW1hLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICByZWdleHAgPSBzY2hlbWEucGF0dGVybjtcblx0fVxuXHRlbHNlIHtcblx0ICB2YXIgYm9keSwgZmxhZ3MgPSAnJztcblx0ICAvLyBDaGVjayBmb3IgcmVndWxhciBleHByZXNzaW9uIGxpdGVyYWxzXG5cdCAgLy8gQHNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtNy44LjVcblx0ICB2YXIgbGl0ZXJhbCA9IHNjaGVtYS5wYXR0ZXJuLm1hdGNoKC9eXFwvKC4rKVxcLyhbaW1nXSopJC8pO1xuXHQgIGlmIChsaXRlcmFsKSB7XG5cdCAgICBib2R5ID0gbGl0ZXJhbFsxXTtcblx0ICAgIGZsYWdzID0gbGl0ZXJhbFsyXTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICBib2R5ID0gc2NoZW1hLnBhdHRlcm47XG5cdCAgfVxuXHQgIHJlZ2V4cCA9IG5ldyBSZWdFeHAoYm9keSwgZmxhZ3MpO1xuXHR9XG5cdGlmICghcmVnZXhwLnRlc3QoZGF0YSkpIHtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19QQVRURVJOLCB7cGF0dGVybjogc2NoZW1hLnBhdHRlcm59LCAnJywgJy9wYXR0ZXJuJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXkgPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHJldHVybiB0aGlzLnZhbGlkYXRlQXJyYXlMZW5ndGgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5SXRlbXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5TGVuZ3RoKGRhdGEsIHNjaGVtYSkge1xuXHR2YXIgZXJyb3I7XG5cdGlmIChzY2hlbWEubWluSXRlbXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChkYXRhLmxlbmd0aCA8IHNjaGVtYS5taW5JdGVtcykge1xuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfTEVOR1RIX1NIT1JULCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pbkl0ZW1zfSwgJycsICcvbWluSXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKHNjaGVtYS5tYXhJdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGRhdGEubGVuZ3RoID4gc2NoZW1hLm1heEl0ZW1zKSB7XG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9MRU5HVEhfTE9ORywge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhJdGVtc30sICcnLCAnL21heEl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqID0gaSArIDE7IGogPCBkYXRhLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmIChyZWN1cnNpdmVDb21wYXJlKGRhdGFbaV0sIGRhdGFbal0pKSB7XG5cdFx0XHRcdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX1VOSVFVRSwge21hdGNoMTogaSwgbWF0Y2gyOiBqfSwgJycsICcvdW5pcXVlSXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgZXJyb3IsIGk7XG5cdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGkgPCBzY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLml0ZW1zW2ldLCBbaV0sIFtcIml0ZW1zXCIsIGldLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IFwiYm9vbGVhblwiKSB7XG5cdFx0XHRcdFx0aWYgKCFzY2hlbWEuYWRkaXRpb25hbEl0ZW1zKSB7XG5cdFx0XHRcdFx0XHRlcnJvciA9ICh0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfQURESVRJT05BTF9JVEVNUywge30sICcvJyArIGksICcvYWRkaXRpb25hbEl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKSk7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLmFkZGl0aW9uYWxJdGVtcywgW2ldLCBbXCJhZGRpdGlvbmFsSXRlbXNcIl0sIGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsgaSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLml0ZW1zLCBbaV0sIFtcIml0ZW1zXCJdLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XG5cdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdCA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCBkYXRhID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKSB7XG5cdHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG5cdHZhciBlcnJvcjtcblx0aWYgKHNjaGVtYS5taW5Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoa2V5cy5sZW5ndGggPCBzY2hlbWEubWluUHJvcGVydGllcykge1xuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSwge3Byb3BlcnR5Q291bnQ6IGtleXMubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluUHJvcGVydGllc30sICcnLCAnL21pblByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKHNjaGVtYS5tYXhQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoa2V5cy5sZW5ndGggPiBzY2hlbWEubWF4UHJvcGVydGllcykge1xuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSwge3Byb3BlcnR5Q291bnQ6IGtleXMubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4UHJvcGVydGllc30sICcnLCAnL21heFByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAoc2NoZW1hLnJlcXVpcmVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5yZXF1aXJlZC5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGtleSA9IHNjaGVtYS5yZXF1aXJlZFtpXTtcblx0XHRcdGlmIChkYXRhW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR2YXIgZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1JFUVVJUkVELCB7a2V5OiBrZXl9LCAnJywgJy9yZXF1aXJlZC8nICsgaSwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHZhciBlcnJvcjtcblx0Zm9yICh2YXIga2V5IGluIGRhdGEpIHtcblx0XHR2YXIga2V5UG9pbnRlclBhdGggPSBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTtcblx0XHR2YXIgZm91bmRNYXRjaCA9IGZhbHNlO1xuXHRcdGlmIChzY2hlbWEucHJvcGVydGllcyAhPT0gdW5kZWZpbmVkICYmIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm91bmRNYXRjaCA9IHRydWU7XG5cdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLnByb3BlcnRpZXNba2V5XSwgW2tleV0sIFtcInByb3BlcnRpZXNcIiwga2V5XSwga2V5UG9pbnRlclBhdGgpKSB7XG5cdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKHZhciBwYXR0ZXJuS2V5IGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuXHRcdFx0XHR2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuS2V5KTtcblx0XHRcdFx0aWYgKHJlZ2V4cC50ZXN0KGtleSkpIHtcblx0XHRcdFx0XHRmb3VuZE1hdGNoID0gdHJ1ZTtcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5LZXldLCBba2V5XSwgW1wicGF0dGVyblByb3BlcnRpZXNcIiwgcGF0dGVybktleV0sIGtleVBvaW50ZXJQYXRoKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIWZvdW5kTWF0Y2gpIHtcblx0XHRcdGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy51bmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IFwiYm9vbGVhblwiKSB7XG5cdFx0XHRcdFx0aWYgKCFzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVMsIHtrZXk6IGtleX0sICcnLCAnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKGtleSwgbnVsbCk7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBba2V5XSwgW1wiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sIGtleVBvaW50ZXJQYXRoKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMgJiYgIXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSkge1xuXHRcdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSA9IHRydWU7XG5cdFx0XHRkZWxldGUgdGhpcy51bmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHR2YXIgZXJyb3I7XG5cdGlmIChzY2hlbWEuZGVwZW5kZW5jaWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRmb3IgKHZhciBkZXBLZXkgaW4gc2NoZW1hLmRlcGVuZGVuY2llcykge1xuXHRcdFx0aWYgKGRhdGFbZGVwS2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHZhciBkZXAgPSBzY2hlbWEuZGVwZW5kZW5jaWVzW2RlcEtleV07XG5cdFx0XHRcdGlmICh0eXBlb2YgZGVwID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0aWYgKGRhdGFbZGVwXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfREVQRU5ERU5DWV9LRVksIHtrZXk6IGRlcEtleSwgbWlzc2luZzogZGVwfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwgZGVwS2V5KS5wcmVmaXhXaXRoKG51bGwsIFwiZGVwZW5kZW5jaWVzXCIpO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHZhciByZXF1aXJlZEtleSA9IGRlcFtpXTtcblx0XHRcdFx0XHRcdGlmIChkYXRhW3JlcXVpcmVkS2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSwge2tleTogZGVwS2V5LCBtaXNzaW5nOiByZXF1aXJlZEtleX0sICcnLCAnLycgKyBpLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwgZGVwS2V5KS5wcmVmaXhXaXRoKG51bGwsIFwiZGVwZW5kZW5jaWVzXCIpO1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBkZXAsIFtdLCBbXCJkZXBlbmRlbmNpZXNcIiwgZGVwS2V5XSwgZGF0YVBvaW50ZXJQYXRoKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQ29tYmluYXRpb25zID0gZnVuY3Rpb24gdmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVBbGxPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlQW55T2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9uZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVOb3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQWxsT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFsbE9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmIChzY2hlbWEuYWxsT2YgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBlcnJvcjtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEuYWxsT2YubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLmFsbE9mW2ldO1xuXHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wiYWxsT2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcblx0XHRcdHJldHVybiBlcnJvcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFueU9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbnlPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoc2NoZW1hLmFueU9mID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgZXJyb3JzID0gW107XG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdHZhciBvbGRVbmtub3duUHJvcGVydHlQYXRocywgb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdG9sZEtub3duUHJvcGVydHlQYXRocyA9IHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHR9XG5cdHZhciBlcnJvckF0RW5kID0gdHJ1ZTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEuYW55T2YubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHRcdH1cblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLmFueU9mW2ldO1xuXG5cdFx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdFx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJhbnlPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKTtcblxuXHRcdGlmIChlcnJvciA9PT0gbnVsbCAmJiBlcnJvckNvdW50ID09PSB0aGlzLmVycm9ycy5sZW5ndGgpIHtcblx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcblxuXHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0XHRmb3IgKHZhciBrbm93bktleSBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocykge1xuXHRcdFx0XHRcdG9sZEtub3duUHJvcGVydHlQYXRoc1trbm93bktleV0gPSB0cnVlO1xuXHRcdFx0XHRcdGRlbGV0ZSBvbGRVbmtub3duUHJvcGVydHlQYXRoc1trbm93bktleV07XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yICh2YXIgdW5rbm93bktleSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRLbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0pIHtcblx0XHRcdFx0XHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gV2UgbmVlZCB0byBjb250aW51ZSBsb29waW5nIHNvIHdlIGNhdGNoIGFsbCB0aGUgcHJvcGVydHkgZGVmaW5pdGlvbnMsIGJ1dCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhbiBlcnJvclxuXHRcdFx0XHRlcnJvckF0RW5kID0gZmFsc2U7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRlcnJvcnMucHVzaChlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwiXCIgKyBpKS5wcmVmaXhXaXRoKG51bGwsIFwiYW55T2ZcIikpO1xuXHRcdH1cblx0fVxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xuXHR9XG5cdGlmIChlcnJvckF0RW5kKSB7XG5cdFx0ZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpKTtcblx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BTllfT0ZfTUlTU0lORywge30sIFwiXCIsIFwiL2FueU9mXCIsIGVycm9ycywgZGF0YSwgc2NoZW1hKTtcblx0fVxufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPbmVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlT25lT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKHNjaGVtYS5vbmVPZiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIHZhbGlkSW5kZXggPSBudWxsO1xuXHR2YXIgZXJyb3JzID0gW107XG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdHZhciBvbGRVbmtub3duUHJvcGVydHlQYXRocywgb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdG9sZEtub3duUHJvcGVydHlQYXRocyA9IHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLm9uZU9mLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0XHR9XG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5vbmVPZltpXTtcblxuXHRcdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHRcdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wib25lT2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCk7XG5cblx0XHRpZiAoZXJyb3IgPT09IG51bGwgJiYgZXJyb3JDb3VudCA9PT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XG5cdFx0XHRpZiAodmFsaWRJbmRleCA9PT0gbnVsbCkge1xuXHRcdFx0XHR2YWxpZEluZGV4ID0gaTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PTkVfT0ZfTVVMVElQTEUsIHtpbmRleDE6IHZhbGlkSW5kZXgsIGluZGV4MjogaX0sIFwiXCIsIFwiL29uZU9mXCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGZvciAodmFyIGtub3duS2V5IGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKSB7XG5cdFx0XHRcdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XSA9IHRydWU7XG5cdFx0XHRcdFx0ZGVsZXRlIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKHZhciB1bmtub3duS2V5IGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcblx0XHRcdFx0XHRpZiAoIW9sZEtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSkge1xuXHRcdFx0XHRcdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0gPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZXJyb3IpIHtcblx0XHRcdGVycm9ycy5wdXNoKGVycm9yKTtcblx0XHR9XG5cdH1cblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRVbmtub3duUHJvcGVydHlQYXRocztcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IG9sZEtub3duUHJvcGVydHlQYXRocztcblx0fVxuXHRpZiAodmFsaWRJbmRleCA9PT0gbnVsbCkge1xuXHRcdGVycm9ycyA9IGVycm9ycy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KSk7XG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT05FX09GX01JU1NJTkcsIHt9LCBcIlwiLCBcIi9vbmVPZlwiLCBlcnJvcnMsIGRhdGEsIHNjaGVtYSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVOb3QgPSBmdW5jdGlvbiB2YWxpZGF0ZU5vdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoc2NoZW1hLm5vdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIG9sZEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdHZhciBvbGRVbmtub3duUHJvcGVydHlQYXRocywgb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdG9sZEtub3duUHJvcGVydHlQYXRocyA9IHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHR9XG5cdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLm5vdCwgbnVsbCwgbnVsbCwgZGF0YVBvaW50ZXJQYXRoKTtcblx0dmFyIG5vdEVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKG9sZEVycm9yQ291bnQpO1xuXHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIG9sZEVycm9yQ291bnQpO1xuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xuXHR9XG5cdGlmIChlcnJvciA9PT0gbnVsbCAmJiBub3RFcnJvcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OT1RfUEFTU0VELCB7fSwgXCJcIiwgXCIvbm90XCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUh5cGVybWVkaWEgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoIXNjaGVtYS5saW5rcykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBlcnJvcjtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGlua3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgbGRvID0gc2NoZW1hLmxpbmtzW2ldO1xuXHRcdGlmIChsZG8ucmVsID09PSBcImRlc2NyaWJlZGJ5XCIpIHtcblx0XHRcdHZhciB0ZW1wbGF0ZSA9IG5ldyBVcmlUZW1wbGF0ZShsZG8uaHJlZik7XG5cdFx0XHR2YXIgYWxsUHJlc2VudCA9IHRydWU7XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRlbXBsYXRlLnZhck5hbWVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmICghKHRlbXBsYXRlLnZhck5hbWVzW2pdIGluIGRhdGEpKSB7XG5cdFx0XHRcdFx0YWxsUHJlc2VudCA9IGZhbHNlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoYWxsUHJlc2VudCkge1xuXHRcdFx0XHR2YXIgc2NoZW1hVXJsID0gdGVtcGxhdGUuZmlsbEZyb21PYmplY3QoZGF0YSk7XG5cdFx0XHRcdHZhciBzdWJTY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYVVybH07XG5cdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wibGlua3NcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIHBhcnNlVVJJKCkgYW5kIHJlc29sdmVVcmwoKSBhcmUgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDg4ODUwXG4vLyAgIC0gIHJlbGVhc2VkIGFzIHB1YmxpYyBkb21haW4gYnkgYXV0aG9yIChcIllhZmZsZVwiKSAtIHNlZSBjb21tZW50cyBvbiBnaXN0XG5cbmZ1bmN0aW9uIHBhcnNlVVJJKHVybCkge1xuXHR2YXIgbSA9IFN0cmluZyh1cmwpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKS5tYXRjaCgvXihbXjpcXC8/I10rOik/KFxcL1xcLyg/OlteOkBdKig/OjpbXjpAXSopP0ApPygoW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oW14/I10qKShcXD9bXiNdKik/KCNbXFxzXFxTXSopPy8pO1xuXHQvLyBhdXRob3JpdHkgPSAnLy8nICsgdXNlciArICc6JyArIHBhc3MgJ0AnICsgaG9zdG5hbWUgKyAnOicgcG9ydFxuXHRyZXR1cm4gKG0gPyB7XG5cdFx0aHJlZiAgICAgOiBtWzBdIHx8ICcnLFxuXHRcdHByb3RvY29sIDogbVsxXSB8fCAnJyxcblx0XHRhdXRob3JpdHk6IG1bMl0gfHwgJycsXG5cdFx0aG9zdCAgICAgOiBtWzNdIHx8ICcnLFxuXHRcdGhvc3RuYW1lIDogbVs0XSB8fCAnJyxcblx0XHRwb3J0ICAgICA6IG1bNV0gfHwgJycsXG5cdFx0cGF0aG5hbWUgOiBtWzZdIHx8ICcnLFxuXHRcdHNlYXJjaCAgIDogbVs3XSB8fCAnJyxcblx0XHRoYXNoICAgICA6IG1bOF0gfHwgJydcblx0fSA6IG51bGwpO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHsvLyBSRkMgMzk4NlxuXG5cdGZ1bmN0aW9uIHJlbW92ZURvdFNlZ21lbnRzKGlucHV0KSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdO1xuXHRcdGlucHV0LnJlcGxhY2UoL14oXFwuXFwuPyhcXC98JCkpKy8sICcnKVxuXHRcdFx0LnJlcGxhY2UoL1xcLyhcXC4oXFwvfCQpKSsvZywgJy8nKVxuXHRcdFx0LnJlcGxhY2UoL1xcL1xcLlxcLiQvLCAnLy4uLycpXG5cdFx0XHQucmVwbGFjZSgvXFwvP1teXFwvXSovZywgZnVuY3Rpb24gKHApIHtcblx0XHRcdFx0aWYgKHAgPT09ICcvLi4nKSB7XG5cdFx0XHRcdFx0b3V0cHV0LnBvcCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHApO1xuXHRcdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKS5yZXBsYWNlKC9eXFwvLywgaW5wdXQuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJyk7XG5cdH1cblxuXHRocmVmID0gcGFyc2VVUkkoaHJlZiB8fCAnJyk7XG5cdGJhc2UgPSBwYXJzZVVSSShiYXNlIHx8ICcnKTtcblxuXHRyZXR1cm4gIWhyZWYgfHwgIWJhc2UgPyBudWxsIDogKGhyZWYucHJvdG9jb2wgfHwgYmFzZS5wcm90b2NvbCkgK1xuXHRcdChocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5ID8gaHJlZi5hdXRob3JpdHkgOiBiYXNlLmF1dGhvcml0eSkgK1xuXHRcdHJlbW92ZURvdFNlZ21lbnRzKGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgfHwgaHJlZi5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/IGhyZWYucGF0aG5hbWUgOiAoaHJlZi5wYXRobmFtZSA/ICgoYmFzZS5hdXRob3JpdHkgJiYgIWJhc2UucGF0aG5hbWUgPyAnLycgOiAnJykgKyBiYXNlLnBhdGhuYW1lLnNsaWNlKDAsIGJhc2UucGF0aG5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpICsgaHJlZi5wYXRobmFtZSkgOiBiYXNlLnBhdGhuYW1lKSkgK1xuXHRcdChocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5IHx8IGhyZWYucGF0aG5hbWUgPyBocmVmLnNlYXJjaCA6IChocmVmLnNlYXJjaCB8fCBiYXNlLnNlYXJjaCkpICtcblx0XHRocmVmLmhhc2g7XG59XG5cbmZ1bmN0aW9uIGdldERvY3VtZW50VXJpKHVyaSkge1xuXHRyZXR1cm4gdXJpLnNwbGl0KCcjJylbMF07XG59XG5mdW5jdGlvbiBub3JtU2NoZW1hKHNjaGVtYSwgYmFzZVVyaSkge1xuXHRpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcblx0XHRpZiAoYmFzZVVyaSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRiYXNlVXJpID0gc2NoZW1hLmlkO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHNjaGVtYS5pZCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0YmFzZVVyaSA9IHJlc29sdmVVcmwoYmFzZVVyaSwgc2NoZW1hLmlkKTtcblx0XHRcdHNjaGVtYS5pZCA9IGJhc2VVcmk7XG5cdFx0fVxuXHRcdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdG5vcm1TY2hlbWEoc2NoZW1hW2ldLCBiYXNlVXJpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHR5cGVvZiBzY2hlbWFbJyRyZWYnXSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRzY2hlbWFbJyRyZWYnXSA9IHJlc29sdmVVcmwoYmFzZVVyaSwgc2NoZW1hWyckcmVmJ10pO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuXHRcdFx0XHRpZiAoa2V5ICE9PSBcImVudW1cIikge1xuXHRcdFx0XHRcdG5vcm1TY2hlbWEoc2NoZW1hW2tleV0sIGJhc2VVcmkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvclJlcG9ydGVyKGxhbmd1YWdlKSB7XG5cdGxhbmd1YWdlID0gbGFuZ3VhZ2UgfHwgJ2VuJztcblxuXHR2YXIgZXJyb3JNZXNzYWdlcyA9IGxhbmd1YWdlc1tsYW5ndWFnZV07XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdHZhciBtZXNzYWdlVGVtcGxhdGUgPSBlcnJvck1lc3NhZ2VzW2Vycm9yLmNvZGVdIHx8IEVycm9yTWVzc2FnZXNEZWZhdWx0W2Vycm9yLmNvZGVdO1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZVRlbXBsYXRlICE9PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIFwiVW5rbm93biBlcnJvciBjb2RlIFwiICsgZXJyb3IuY29kZSArIFwiOiBcIiArIEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2VQYXJhbXMpO1xuXHRcdH1cblx0XHR2YXIgbWVzc2FnZVBhcmFtcyA9IGVycm9yLnBhcmFtcztcblx0XHQvLyBBZGFwdGVkIGZyb20gQ3JvY2tmb3JkJ3Mgc3VwcGxhbnQoKVxuXHRcdHJldHVybiBtZXNzYWdlVGVtcGxhdGUucmVwbGFjZSgvXFx7KFtee31dKilcXH0vZywgZnVuY3Rpb24gKHdob2xlLCB2YXJOYW1lKSB7XG5cdFx0XHR2YXIgc3ViVmFsdWUgPSBtZXNzYWdlUGFyYW1zW3Zhck5hbWVdO1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBzdWJWYWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHN1YlZhbHVlID09PSAnbnVtYmVyJyA/IHN1YlZhbHVlIDogd2hvbGU7XG5cdFx0fSk7XG5cdH07XG59XG5cbnZhciBFcnJvckNvZGVzID0ge1xuXHRJTlZBTElEX1RZUEU6IDAsXG5cdEVOVU1fTUlTTUFUQ0g6IDEsXG5cdEFOWV9PRl9NSVNTSU5HOiAxMCxcblx0T05FX09GX01JU1NJTkc6IDExLFxuXHRPTkVfT0ZfTVVMVElQTEU6IDEyLFxuXHROT1RfUEFTU0VEOiAxMyxcblx0Ly8gTnVtZXJpYyBlcnJvcnNcblx0TlVNQkVSX01VTFRJUExFX09GOiAxMDAsXG5cdE5VTUJFUl9NSU5JTVVNOiAxMDEsXG5cdE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRTogMTAyLFxuXHROVU1CRVJfTUFYSU1VTTogMTAzLFxuXHROVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IDEwNCxcblx0TlVNQkVSX05PVF9BX05VTUJFUjogMTA1LFxuXHQvLyBTdHJpbmcgZXJyb3JzXG5cdFNUUklOR19MRU5HVEhfU0hPUlQ6IDIwMCxcblx0U1RSSU5HX0xFTkdUSF9MT05HOiAyMDEsXG5cdFNUUklOR19QQVRURVJOOiAyMDIsXG5cdC8vIE9iamVjdCBlcnJvcnNcblx0T0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTTogMzAwLFxuXHRPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiAzMDEsXG5cdE9CSkVDVF9SRVFVSVJFRDogMzAyLFxuXHRPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiAzMDMsXG5cdE9CSkVDVF9ERVBFTkRFTkNZX0tFWTogMzA0LFxuXHQvLyBBcnJheSBlcnJvcnNcblx0QVJSQVlfTEVOR1RIX1NIT1JUOiA0MDAsXG5cdEFSUkFZX0xFTkdUSF9MT05HOiA0MDEsXG5cdEFSUkFZX1VOSVFVRTogNDAyLFxuXHRBUlJBWV9BRERJVElPTkFMX0lURU1TOiA0MDMsXG5cdC8vIEN1c3RvbS91c2VyLWRlZmluZWQgZXJyb3JzXG5cdEZPUk1BVF9DVVNUT006IDUwMCxcblx0S0VZV09SRF9DVVNUT006IDUwMSxcblx0Ly8gU2NoZW1hIHN0cnVjdHVyZVxuXHRDSVJDVUxBUl9SRUZFUkVOQ0U6IDYwMCxcblx0Ly8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9uc1xuXHRVTktOT1dOX1BST1BFUlRZOiAxMDAwXG59O1xudmFyIEVycm9yQ29kZUxvb2t1cCA9IHt9O1xuZm9yICh2YXIga2V5IGluIEVycm9yQ29kZXMpIHtcblx0RXJyb3JDb2RlTG9va3VwW0Vycm9yQ29kZXNba2V5XV0gPSBrZXk7XG59XG52YXIgRXJyb3JNZXNzYWdlc0RlZmF1bHQgPSB7XG5cdElOVkFMSURfVFlQRTogXCJJbnZhbGlkIHR5cGU6IHt0eXBlfSAoZXhwZWN0ZWQge2V4cGVjdGVkfSlcIixcblx0RU5VTV9NSVNNQVRDSDogXCJObyBlbnVtIG1hdGNoIGZvcjoge3ZhbHVlfVwiLFxuXHRBTllfT0ZfTUlTU0lORzogXCJEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gXFxcImFueU9mXFxcIlwiLFxuXHRPTkVfT0ZfTUlTU0lORzogXCJEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gXFxcIm9uZU9mXFxcIlwiLFxuXHRPTkVfT0ZfTVVMVElQTEU6IFwiRGF0YSBpcyB2YWxpZCBhZ2FpbnN0IG1vcmUgdGhhbiBvbmUgc2NoZW1hIGZyb20gXFxcIm9uZU9mXFxcIjogaW5kaWNlcyB7aW5kZXgxfSBhbmQge2luZGV4Mn1cIixcblx0Tk9UX1BBU1NFRDogXCJEYXRhIG1hdGNoZXMgc2NoZW1hIGZyb20gXFxcIm5vdFxcXCJcIixcblx0Ly8gTnVtZXJpYyBlcnJvcnNcblx0TlVNQkVSX01VTFRJUExFX09GOiBcIlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgbXVsdGlwbGUgb2Yge211bHRpcGxlT2Z9XCIsXG5cdE5VTUJFUl9NSU5JTVVNOiBcIlZhbHVlIHt2YWx1ZX0gaXMgbGVzcyB0aGFuIG1pbmltdW0ge21pbmltdW19XCIsXG5cdE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRTogXCJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtaW5pbXVtIHttaW5pbXVtfVwiLFxuXHROVU1CRVJfTUFYSU1VTTogXCJWYWx1ZSB7dmFsdWV9IGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHttYXhpbXVtfVwiLFxuXHROVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IFwiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWF4aW11bSB7bWF4aW11bX1cIixcblx0TlVNQkVSX05PVF9BX05VTUJFUjogXCJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIHZhbGlkIG51bWJlclwiLFxuXHQvLyBTdHJpbmcgZXJyb3JzXG5cdFNUUklOR19MRU5HVEhfU0hPUlQ6IFwiU3RyaW5nIGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0gY2hhcnMpLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxuXHRTVFJJTkdfTEVOR1RIX0xPTkc6IFwiU3RyaW5nIGlzIHRvbyBsb25nICh7bGVuZ3RofSBjaGFycyksIG1heGltdW0ge21heGltdW19XCIsXG5cdFNUUklOR19QQVRURVJOOiBcIlN0cmluZyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuOiB7cGF0dGVybn1cIixcblx0Ly8gT2JqZWN0IGVycm9yc1xuXHRPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiBcIlRvbyBmZXcgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxuXHRPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiBcIlRvbyBtYW55IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWF4aW11bSB7bWF4aW11bX1cIixcblx0T0JKRUNUX1JFUVVJUkVEOiBcIk1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHk6IHtrZXl9XCIsXG5cdE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IFwiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIG5vdCBhbGxvd2VkXCIsXG5cdE9CSkVDVF9ERVBFTkRFTkNZX0tFWTogXCJEZXBlbmRlbmN5IGZhaWxlZCAtIGtleSBtdXN0IGV4aXN0OiB7bWlzc2luZ30gKGR1ZSB0byBrZXk6IHtrZXl9KVwiLFxuXHQvLyBBcnJheSBlcnJvcnNcblx0QVJSQVlfTEVOR1RIX1NIT1JUOiBcIkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxuXHRBUlJBWV9MRU5HVEhfTE9ORzogXCJBcnJheSBpcyB0b28gbG9uZyAoe2xlbmd0aH0pLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxuXHRBUlJBWV9VTklRVUU6IFwiQXJyYXkgaXRlbXMgYXJlIG5vdCB1bmlxdWUgKGluZGljZXMge21hdGNoMX0gYW5kIHttYXRjaDJ9KVwiLFxuXHRBUlJBWV9BRERJVElPTkFMX0lURU1TOiBcIkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWRcIixcblx0Ly8gRm9ybWF0IGVycm9yc1xuXHRGT1JNQVRfQ1VTVE9NOiBcIkZvcm1hdCB2YWxpZGF0aW9uIGZhaWxlZCAoe21lc3NhZ2V9KVwiLFxuXHRLRVlXT1JEX0NVU1RPTTogXCJLZXl3b3JkIGZhaWxlZDoge2tleX0gKHttZXNzYWdlfSlcIixcblx0Ly8gU2NoZW1hIHN0cnVjdHVyZVxuXHRDSVJDVUxBUl9SRUZFUkVOQ0U6IFwiQ2lyY3VsYXIgJHJlZnM6IHt1cmxzfVwiLFxuXHQvLyBOb24tc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb25zXG5cdFVOS05PV05fUFJPUEVSVFk6IFwiVW5rbm93biBwcm9wZXJ0eSAobm90IGluIHNjaGVtYSlcIlxufTtcblxuZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yKGNvZGUsIHBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycykge1xuXHRFcnJvci5jYWxsKHRoaXMpO1xuXHRpZiAoY29kZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yIChcIk5vIGVycm9yIGNvZGUgc3VwcGxpZWQ6IFwiICsgc2NoZW1hUGF0aCk7XG5cdH1cblx0dGhpcy5tZXNzYWdlID0gJyc7XG5cdHRoaXMucGFyYW1zID0gcGFyYW1zO1xuXHR0aGlzLmNvZGUgPSBjb2RlO1xuXHR0aGlzLmRhdGFQYXRoID0gZGF0YVBhdGggfHwgXCJcIjtcblx0dGhpcy5zY2hlbWFQYXRoID0gc2NoZW1hUGF0aCB8fCBcIlwiO1xuXHR0aGlzLnN1YkVycm9ycyA9IHN1YkVycm9ycyB8fCBudWxsO1xuXG5cdHZhciBlcnIgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKTtcblx0dGhpcy5zdGFjayA9IGVyci5zdGFjayB8fCBlcnIuc3RhY2t0cmFjZTtcblx0aWYgKCF0aGlzLnN0YWNrKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cdFx0Y2F0Y2goZXJyKSB7XG5cdFx0XHR0aGlzLnN0YWNrID0gZXJyLnN0YWNrIHx8IGVyci5zdGFja3RyYWNlO1xuXHRcdH1cblx0fVxufVxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWYWxpZGF0aW9uRXJyb3I7XG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnVmFsaWRhdGlvbkVycm9yJztcblxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5wcmVmaXhXaXRoID0gZnVuY3Rpb24gKGRhdGFQcmVmaXgsIHNjaGVtYVByZWZpeCkge1xuXHRpZiAoZGF0YVByZWZpeCAhPT0gbnVsbCkge1xuXHRcdGRhdGFQcmVmaXggPSBkYXRhUHJlZml4LnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcblx0XHR0aGlzLmRhdGFQYXRoID0gXCIvXCIgKyBkYXRhUHJlZml4ICsgdGhpcy5kYXRhUGF0aDtcblx0fVxuXHRpZiAoc2NoZW1hUHJlZml4ICE9PSBudWxsKSB7XG5cdFx0c2NoZW1hUHJlZml4ID0gc2NoZW1hUHJlZml4LnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcblx0XHR0aGlzLnNjaGVtYVBhdGggPSBcIi9cIiArIHNjaGVtYVByZWZpeCArIHRoaXMuc2NoZW1hUGF0aDtcblx0fVxuXHRpZiAodGhpcy5zdWJFcnJvcnMgIT09IG51bGwpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3ViRXJyb3JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0aGlzLnN1YkVycm9yc1tpXS5wcmVmaXhXaXRoKGRhdGFQcmVmaXgsIHNjaGVtYVByZWZpeCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gaXNUcnVzdGVkVXJsKGJhc2VVcmwsIHRlc3RVcmwpIHtcblx0aWYodGVzdFVybC5zdWJzdHJpbmcoMCwgYmFzZVVybC5sZW5ndGgpID09PSBiYXNlVXJsKXtcblx0XHR2YXIgcmVtYWluZGVyID0gdGVzdFVybC5zdWJzdHJpbmcoYmFzZVVybC5sZW5ndGgpO1xuXHRcdGlmICgodGVzdFVybC5sZW5ndGggPiAwICYmIHRlc3RVcmwuY2hhckF0KGJhc2VVcmwubGVuZ3RoIC0gMSkgPT09IFwiL1wiKVxuXHRcdFx0fHwgcmVtYWluZGVyLmNoYXJBdCgwKSA9PT0gXCIjXCJcblx0XHRcdHx8IHJlbWFpbmRlci5jaGFyQXQoMCkgPT09IFwiP1wiKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG52YXIgbGFuZ3VhZ2VzID0ge307XG5mdW5jdGlvbiBjcmVhdGVBcGkobGFuZ3VhZ2UpIHtcblx0dmFyIGdsb2JhbENvbnRleHQgPSBuZXcgVmFsaWRhdG9yQ29udGV4dCgpO1xuXHR2YXIgY3VycmVudExhbmd1YWdlO1xuXHR2YXIgY3VzdG9tRXJyb3JSZXBvcnRlcjtcblx0dmFyIGFwaSA9IHtcblx0XHRzZXRFcnJvclJlcG9ydGVyOiBmdW5jdGlvbiAocmVwb3J0ZXIpIHtcblx0XHRcdGlmICh0eXBlb2YgcmVwb3J0ZXIgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmxhbmd1YWdlKHJlcG9ydGVyKTtcblx0XHRcdH1cblx0XHRcdGN1c3RvbUVycm9yUmVwb3J0ZXIgPSByZXBvcnRlcjtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cdFx0YWRkRm9ybWF0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRnbG9iYWxDb250ZXh0LmFkZEZvcm1hdC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0bGFuZ3VhZ2U6IGZ1bmN0aW9uIChjb2RlKSB7XG5cdFx0XHRpZiAoIWNvZGUpIHtcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRMYW5ndWFnZTtcblx0XHRcdH1cblx0XHRcdGlmICghbGFuZ3VhZ2VzW2NvZGVdKSB7XG5cdFx0XHRcdGNvZGUgPSBjb2RlLnNwbGl0KCctJylbMF07IC8vIGZhbGwgYmFjayB0byBiYXNlIGxhbmd1YWdlXG5cdFx0XHR9XG5cdFx0XHRpZiAobGFuZ3VhZ2VzW2NvZGVdKSB7XG5cdFx0XHRcdGN1cnJlbnRMYW5ndWFnZSA9IGNvZGU7XG5cdFx0XHRcdHJldHVybiBjb2RlOyAvLyBzbyB5b3UgY2FuIHRlbGwgaWYgZmFsbC1iYWNrIGhhcyBoYXBwZW5lZFxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0YWRkTGFuZ3VhZ2U6IGZ1bmN0aW9uIChjb2RlLCBtZXNzYWdlTWFwKSB7XG5cdFx0XHR2YXIga2V5O1xuXHRcdFx0Zm9yIChrZXkgaW4gRXJyb3JDb2Rlcykge1xuXHRcdFx0XHRpZiAobWVzc2FnZU1hcFtrZXldICYmICFtZXNzYWdlTWFwW0Vycm9yQ29kZXNba2V5XV0pIHtcblx0XHRcdFx0XHRtZXNzYWdlTWFwW0Vycm9yQ29kZXNba2V5XV0gPSBtZXNzYWdlTWFwW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHZhciByb290Q29kZSA9IGNvZGUuc3BsaXQoJy0nKVswXTtcblx0XHRcdGlmICghbGFuZ3VhZ2VzW3Jvb3RDb2RlXSkgeyAvLyB1c2UgZm9yIGJhc2UgbGFuZ3VhZ2UgaWYgbm90IHlldCBkZWZpbmVkXG5cdFx0XHRcdGxhbmd1YWdlc1tjb2RlXSA9IG1lc3NhZ2VNYXA7XG5cdFx0XHRcdGxhbmd1YWdlc1tyb290Q29kZV0gPSBtZXNzYWdlTWFwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGFuZ3VhZ2VzW2NvZGVdID0gT2JqZWN0LmNyZWF0ZShsYW5ndWFnZXNbcm9vdENvZGVdKTtcblx0XHRcdFx0Zm9yIChrZXkgaW4gbWVzc2FnZU1hcCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbGFuZ3VhZ2VzW3Jvb3RDb2RlXVtrZXldID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0bGFuZ3VhZ2VzW3Jvb3RDb2RlXVtrZXldID0gbWVzc2FnZU1hcFtrZXldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsYW5ndWFnZXNbY29kZV1ba2V5XSA9IG1lc3NhZ2VNYXBba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRmcmVzaEFwaTogZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gY3JlYXRlQXBpKCk7XG5cdFx0XHRpZiAobGFuZ3VhZ2UpIHtcblx0XHRcdFx0cmVzdWx0Lmxhbmd1YWdlKGxhbmd1YWdlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSxcblx0XHR2YWxpZGF0ZTogZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHR2YXIgZGVmID0gZGVmYXVsdEVycm9yUmVwb3J0ZXIoY3VycmVudExhbmd1YWdlKTtcblx0XHRcdHZhciBlcnJvclJlcG9ydGVyID0gY3VzdG9tRXJyb3JSZXBvcnRlciA/IGZ1bmN0aW9uIChlcnJvciwgZGF0YSwgc2NoZW1hKSB7XG5cdFx0XHRcdHJldHVybiBjdXN0b21FcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpIHx8IGRlZihlcnJvciwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdH0gOiBkZWY7XG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KGdsb2JhbENvbnRleHQsIGZhbHNlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpO1xuXHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0c2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWF9O1xuXHRcdFx0fVxuXHRcdFx0Y29udGV4dC5hZGRTY2hlbWEoXCJcIiwgc2NoZW1hKTtcblx0XHRcdHZhciBlcnJvciA9IGNvbnRleHQudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLCBudWxsLCBudWxsLCBcIlwiKTtcblx0XHRcdGlmICghZXJyb3IgJiYgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdFx0ZXJyb3IgPSBjb250ZXh0LmJhblVua25vd25Qcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmVycm9yID0gZXJyb3I7XG5cdFx0XHR0aGlzLm1pc3NpbmcgPSBjb250ZXh0Lm1pc3Npbmc7XG5cdFx0XHR0aGlzLnZhbGlkID0gKGVycm9yID09PSBudWxsKTtcblx0XHRcdHJldHVybiB0aGlzLnZhbGlkO1xuXHRcdH0sXG5cdFx0dmFsaWRhdGVSZXN1bHQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRcdHRoaXMudmFsaWRhdGUuYXBwbHkocmVzdWx0LCBhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcdHZhbGlkYXRlTXVsdGlwbGU6IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0dmFyIGRlZiA9IGRlZmF1bHRFcnJvclJlcG9ydGVyKGN1cnJlbnRMYW5ndWFnZSk7XG5cdFx0XHR2YXIgZXJyb3JSZXBvcnRlciA9IGN1c3RvbUVycm9yUmVwb3J0ZXIgPyBmdW5jdGlvbiAoZXJyb3IsIGRhdGEsIHNjaGVtYSkge1xuXHRcdFx0XHRyZXR1cm4gY3VzdG9tRXJyb3JSZXBvcnRlcihlcnJvciwgZGF0YSwgc2NoZW1hKSB8fCBkZWYoZXJyb3IsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHR9IDogZGVmO1xuXHRcdFx0dmFyIGNvbnRleHQgPSBuZXcgVmFsaWRhdG9yQ29udGV4dChnbG9iYWxDb250ZXh0LCB0cnVlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpO1xuXHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0c2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWF9O1xuXHRcdFx0fVxuXHRcdFx0Y29udGV4dC5hZGRTY2hlbWEoXCJcIiwgc2NoZW1hKTtcblx0XHRcdGNvbnRleHQudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLCBudWxsLCBudWxsLCBcIlwiKTtcblx0XHRcdGlmIChiYW5Vbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0XHRjb250ZXh0LmJhblVua25vd25Qcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0XHRyZXN1bHQuZXJyb3JzID0gY29udGV4dC5lcnJvcnM7XG5cdFx0XHRyZXN1bHQubWlzc2luZyA9IGNvbnRleHQubWlzc2luZztcblx0XHRcdHJlc3VsdC52YWxpZCA9IChyZXN1bHQuZXJyb3JzLmxlbmd0aCA9PT0gMCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0sXG5cdFx0YWRkU2NoZW1hOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5hZGRTY2hlbWEuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGdldFNjaGVtYTogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRnZXRTY2hlbWFNYXA6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYU1hcC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0Z2V0U2NoZW1hVXJpczogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hVXJpcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0Z2V0TWlzc2luZ1VyaXM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldE1pc3NpbmdVcmlzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRkcm9wU2NoZW1hczogZnVuY3Rpb24gKCkge1xuXHRcdFx0Z2xvYmFsQ29udGV4dC5kcm9wU2NoZW1hcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0ZGVmaW5lS2V5d29yZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0Z2xvYmFsQ29udGV4dC5kZWZpbmVLZXl3b3JkLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRkZWZpbmVFcnJvcjogZnVuY3Rpb24gKGNvZGVOYW1lLCBjb2RlTnVtYmVyLCBkZWZhdWx0TWVzc2FnZSkge1xuXHRcdFx0aWYgKHR5cGVvZiBjb2RlTmFtZSAhPT0gJ3N0cmluZycgfHwgIS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoY29kZU5hbWUpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ29kZSBuYW1lIG11c3QgYmUgYSBzdHJpbmcgaW4gVVBQRVJfQ0FTRV9XSVRIX1VOREVSU0NPUkVTJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIGNvZGVOdW1iZXIgIT09ICdudW1iZXInIHx8IGNvZGVOdW1iZXIlMSAhPT0gMCB8fCBjb2RlTnVtYmVyIDwgMTAwMDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCcpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBFcnJvckNvZGVzW2NvZGVOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICcgKyBjb2RlTmFtZSArICcgYXMgJyArIEVycm9yQ29kZXNbY29kZU5hbWVdKTtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlb2YgRXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGNvZGUgYWxyZWFkeSB1c2VkOiAnICsgRXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdICsgJyBhcyAnICsgY29kZU51bWJlcik7XG5cdFx0XHR9XG5cdFx0XHRFcnJvckNvZGVzW2NvZGVOYW1lXSA9IGNvZGVOdW1iZXI7XG5cdFx0XHRFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gPSBjb2RlTmFtZTtcblx0XHRcdEVycm9yTWVzc2FnZXNEZWZhdWx0W2NvZGVOYW1lXSA9IEVycm9yTWVzc2FnZXNEZWZhdWx0W2NvZGVOdW1iZXJdID0gZGVmYXVsdE1lc3NhZ2U7XG5cdFx0XHRmb3IgKHZhciBsYW5nQ29kZSBpbiBsYW5ndWFnZXMpIHtcblx0XHRcdFx0dmFyIGxhbmd1YWdlID0gbGFuZ3VhZ2VzW2xhbmdDb2RlXTtcblx0XHRcdFx0aWYgKGxhbmd1YWdlW2NvZGVOYW1lXSkge1xuXHRcdFx0XHRcdGxhbmd1YWdlW2NvZGVOdW1iZXJdID0gbGFuZ3VhZ2VbY29kZU51bWJlcl0gfHwgbGFuZ3VhZ2VbY29kZU5hbWVdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRyZXNldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0Z2xvYmFsQ29udGV4dC5yZXNldCgpO1xuXHRcdFx0dGhpcy5lcnJvciA9IG51bGw7XG5cdFx0XHR0aGlzLm1pc3NpbmcgPSBbXTtcblx0XHRcdHRoaXMudmFsaWQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0bWlzc2luZzogW10sXG5cdFx0ZXJyb3I6IG51bGwsXG5cdFx0dmFsaWQ6IHRydWUsXG5cdFx0bm9ybVNjaGVtYTogbm9ybVNjaGVtYSxcblx0XHRyZXNvbHZlVXJsOiByZXNvbHZlVXJsLFxuXHRcdGdldERvY3VtZW50VXJpOiBnZXREb2N1bWVudFVyaSxcblx0XHRlcnJvckNvZGVzOiBFcnJvckNvZGVzXG5cdH07XG5cdGFwaS5sYW5ndWFnZShsYW5ndWFnZSB8fCAnZW4nKTtcblx0cmV0dXJuIGFwaTtcbn1cblxudmFyIHR2NCA9IGNyZWF0ZUFwaSgpO1xudHY0LmFkZExhbmd1YWdlKCdlbi1nYicsIEVycm9yTWVzc2FnZXNEZWZhdWx0KTtcblxuLy9sZWdhY3kgcHJvcGVydHlcbnR2NC50djQgPSB0djQ7XG5cbnJldHVybiB0djQ7IC8vIHVzZWQgYnkgX2hlYWRlci5qcyB0byBnbG9iYWxpc2UuXG5cbn0pKTsiLCJpbXBvcnQgQ2F0YWxvZ3VlRmFjdG9yeSBmcm9tICcuL2NhdGFsb2d1ZS1mYWN0b3J5L0NhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5JztcbmltcG9ydCBIeXBlcnR5RGVzY3JpcHRvciBmcm9tICcuL2NhdGFsb2d1ZS1mYWN0b3J5L0h5cGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCBQcm90b2NvbFN0dWJEZXNjcmlwdG9yIGZyb20gJy4vY2F0YWxvZ3VlLWZhY3RvcnkvUHJvdG9jb2xTdHViRGVzY3JpcHRvcic7XG5pbXBvcnQgU291cmNlUGFja2FnZSBmcm9tICcuL2NhdGFsb2d1ZS1mYWN0b3J5L1NvdXJjZVBhY2thZ2UnO1xuXG5leHBvcnQge0h5cGVydHlEZXNjcmlwdG9yLCBQcm90b2NvbFN0dWJEZXNjcmlwdG9yLCBTb3VyY2VQYWNrYWdlfTtcbmV4cG9ydCBkZWZhdWx0IENhdGFsb2d1ZUZhY3Rvcnk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuICogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4gKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiovXG5pbXBvcnQgUmV0aGlua09iamVjdCBmcm9tIFwiLi4vcmVUSElOS09iamVjdC9SZXRoaW5rT2JqZWN0XCI7XG5cbi8qKlxuICogQGF1dGhvciBhbGljZS5jaGVhbWJlW2F0XWZva3VzLmZyYXVuaG9mZXIuZGVcbiAqIFRoZSBDYXRhbG9ndWVEYXRhT2JqZWN0IGNsYXNzIGlzIHRoZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVUSElOSyBDYXRhbG9ndWUgRGF0YSBNb2RlbFxuICovXG5jbGFzcyBDYXRhbG9ndWVEYXRhT2JqZWN0IGV4dGVuZHMgUmV0aGlua09iamVjdCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgQ2F0YWxvZ3VlIERhdGEgT2JqZWN0XG4gICAgICogQHBhcmFtIGd1aWQgLSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3QgKGUuZy4gSHlwZXJ0eSBkZXNjcmlwdG9yLCBQcm90b2NvbFN0dWIgZGVzY3JpcHRvcixcbiAgICAgKiBldGMpIGVuYWJsaW5nIHRoZSBzYW1lIG9iamVjdCB0byBiZSBzdG9yZWQgYW5kIGRpc2NvdmVyZWQgaW4gZGlmZmVyZW50IENhdGFsb2d1ZXMuIFRoYXQgbWVhbnMsIGd1aWQgY29ycmVzcG9uZHMgdG9cbiAgICAgKiBbcmVzb3VyY2UtdHlwZS1pZF0gcGVyIEJORiBvZiBSZXNvdXJjZSBQYXRoLiBDb3VsZG4ndCB3ZSBoYXZlIHByb2JsZW1zIHdpdGggdG9vIGxvbmcgVVJMIHBhdGhzP1xuICAgICAqIEBwYXJhbSB0eXBlIC0gaW5kaWNhdGVzIHRoZSB0eXBlIG9mIENhdGFsb2d1ZSBEYXRhIE9iamVjdCBlLmcuIEh5cGVydHksIFByb3RvY29sU3R1YiwgZXRjXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0gb2JqZWN0TmFtZSAtIGh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3QgZS5nLiBcIk15IEF3ZXNvbWUgSHlwZXJ0eVwiXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uIC0gZGVzY3JpcHRpb24gb2YgdGhlIHNvdXJjZSBwYWNrYWdlXG4gICAgICogQHBhcmFtIGxhbmd1YWdlIC0gdGhlIHByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2UuU291cmNlQ29kZVxuICAgICAqIEBwYXJhbSBzb3VyY2VQYWNrYWdlVVJMIC0gQSBzdHJpbmcgY29udGFpbmluZyB0aGUgVVJMIGZyb20gd2hlcmUgdGhlIHNvdXJjZSBjb2RlIHBhY2thZ2Ugb2YgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBjYXRhbG9ndWUgb2JqZWN0LCBlLmcuIGRlcGxveWFibGUgcGFja2FnZXMgY29udGFpbmluZyBleGVjdXRhYmxlIGNvZGUgZm9yIEh5cGVydGllcyBvciBQcm90b1N0dWJzLCBjYW4gYmUgZG93bmxvYWRlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9ndWlkID0gZ3VpZDtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLl9vYmplY3ROYW1lID0gb2JqZWN0TmFtZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgdGhpcy5fc291cmNlUGFja2FnZVVSTCA9IHNvdXJjZVBhY2thZ2VVUkw7XG5cbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc291cmNlUGFja2FnZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gR2V0dGVyc1xuICAgIGdldCBndWlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3VpZDtcbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgZ2V0IHZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICAgIH1cblxuICAgIGdldCBvYmplY3ROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0TmFtZTtcbiAgICB9XG5cbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgbGFuZ3VhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZTtcbiAgICB9XG5cbiAgICBnZXQgc2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlO1xuICAgIH1cblxuICAgIGdldCBzb3VyY2VQYWNrYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlUGFja2FnZTtcbiAgICB9XG5cbiAgICBnZXQgc291cmNlUGFja2FnZVVSTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZVBhY2thZ2VVUkw7XG4gICAgfVxuXG5cbiAgICAvLyBTZXR0ZXJzXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzaWduYXR1cmUgdG8gZW5hYmxlcyBpbnRlZ3JpdHkgYW5kIGF1dGhlbnRpY2l0eSB2ZXJpZmljYXRpb25cbiAgICAgKiBAcGFyYW0gc2lnbmF0dXJlXG4gICAgICovXG4gICAgc2V0IHNpZ25hdHVyZShzaWduYXR1cmUpIHtcbiAgICAgICAgaWYgKHNpZ25hdHVyZSlcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICB9XG5cbiAgICBzZXQgc291cmNlUGFja2FnZShzb3VyY2VQYWNrYWdlKSB7XG4gICAgICAgIGlmIChzb3VyY2VQYWNrYWdlKVxuICAgICAgICAgICAgdGhpcy5fc291cmNlUGFja2FnZSA9IHNvdXJjZVBhY2thZ2U7XG4gICAgfVxuXG4gICAgc2V0IGd1aWQoZ3VpZCkge1xuICAgICAgICBpZiAoZ3VpZClcbiAgICAgICAgICAgIHRoaXMuX2d1aWQgPSBndWlkO1xuICAgIH1cblxuICAgIHNldCB0eXBlKHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUpXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICB9XG5cbiAgICBzZXQgdmVyc2lvbih2ZXJzaW9uKSB7XG4gICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldCBvYmplY3ROYW1lKG9iamVjdE5hbWUpIHtcbiAgICAgICAgaWYgKG9iamVjdE5hbWUpXG4gICAgICAgICAgICB0aGlzLl9vYmplY3ROYW1lID0gb2JqZWN0TmFtZTtcbiAgICB9XG5cbiAgICBzZXQgZGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgbGFuZ3VhZ2UobGFuZ3VhZ2UpIHtcbiAgICAgICAgaWYgKGxhbmd1YWdlKVxuICAgICAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICB9XG5cbiAgICBzZXQgc291cmNlUGFja2FnZVVSTChzb3VyY2VQYWNrYWdlVVJMKSB7XG4gICAgICAgIGlmIChzb3VyY2VQYWNrYWdlVVJMKVxuICAgICAgICAgICAgdGhpcy5fc291cmNlUGFja2FnZVVSTCA9IHNvdXJjZVBhY2thZ2VVUkw7XG4gICAgfVxufVxuLy9BbGljZTogcmVtb3ZlZCBQT0xJQ1lfRU5GT1JDRVI6ICdwb2xpY3lfZW5mb3JjZXInLCBEQVRBX1NDSEVNQTogJ2RhdGFfc2NoZW1hJyBmcm9tIHRoZSBsaXN0XG4vL3dydDogaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9kZXYtc2VydmljZS1mcmFtZXdvcmsvYmxvYi9kZXZlbG9wL2RvY3MvZGF0YW1vZGVsL2NvcmUvaHlwZXJ0eS1jYXRhbG9ndWUvcmVhZG1lLm1kI2RhdGEtb2JqZWN0LXNjaGVtYVxuZXhwb3J0IGNvbnN0IENhdGFsb2d1ZU9iamVjdFR5cGUgPSB7XG4gICAgSFlQRVJUWTogJ2h5cGVydHknLCBQUk9UT1NUVUI6ICdwcm90b3N0dWInLCBIWVBFUlRZX1JVTlRJTUU6ICdoeXBlcnR5X3J1bnRpbWUnLFxuICAgIEhZUEVSVFlfSU5URVJDRVBUT1I6ICdoeXBlcnR5X2luc3BlY3RvcicsIEhZUEVSVFlfREFUQV9PQkpFQ1Q6ICdoeXBlcnR5X2RhdGFfb2JqZWN0J1xufTtcbmV4cG9ydCBjb25zdCBEYXRhT2JqZWN0U291cmNlTGFuZ3VhZ2UgPSB7XG4gICAgSkFWQVNDUklQVF9FQ01BNjogJ2phdmFzY3JpcHRfZWNtYTYnLCBKQVZBU0NSSVBUX0VDTUE1OiAnamF2YXNjcmlwdF9lY21hNScsXG4gICAgSlNPTl9TQ0hFTUFfVjQ6ICdqc29uX3NjaGVtYV92NCcsIFBZVEhPTjogJ3B5dGhvbicsIFRZUEVTQ1JJUFQ6ICd0eXBlc2NyaXB0J1xufTtcbmV4cG9ydCBkZWZhdWx0IENhdGFsb2d1ZURhdGFPYmplY3Q7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4gKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4gKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiAqIENvcHlyaWdodCAyMDE2IEFwaXplZVxuICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICoqL1xuXG5pbXBvcnQgQ2F0YWxvZ3VlRGF0YU9iamVjdCwge0NhdGFsb2d1ZU9iamVjdFR5cGUsIERhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gZnJvbSBcIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdFwiO1xuaW1wb3J0IFNvdXJjZVBhY2thZ2UgZnJvbSBcIi4vU291cmNlUGFja2FnZVwiO1xuaW1wb3J0IEh5cGVydHlEZXNjcmlwdG9yIGZyb20gXCIuL0h5cGVydHlEZXNjcmlwdG9yXCI7XG5pbXBvcnQgUHJvdG9jb2xTdHViRGVzY3JpcHRvciBmcm9tIFwiLi9Qcm90b2NvbFN0dWJEZXNjcmlwdG9yXCI7XG5pbXBvcnQgSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLCB7UnVudGltZVR5cGV9IGZyb20gXCIuL0h5cGVydHlSdW50aW1lRGVzY3JpcHRvclwiO1xuaW1wb3J0IEh5cGVydHlJbnRlcmNlcHRvckRlc2NyaXB0b3IgZnJvbSBcIi4vSHlwZXJ0eUludGVyY2VwdG9yRGVzY3JpcHRvclwiO1xuaW1wb3J0IHtcbiAgICBEYXRhT2JqZWN0U2NoZW1hLFxuICAgIERhdGFVcmxTY2hlbWUsXG4gICAgQ29tbXVuaWNhdGlvbkRhdGFPYmplY3RTY2hlbWEsXG4gICAgQ29ubmVjdGlvbkRhdGFPYmplY3RTY2hlbWEsXG4gICAgQ29udGV4dERhdGFPYmplY3RTY2hlbWEsXG4gICAgSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hXG59IGZyb20gXCIuL0RhdGFPYmplY3RTY2hlbWFcIjtcblxuY2xhc3MgQ2F0YWxvZ3VlRGF0YU9iamVjdEZhY3Rvcnkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIENhdGFsb2d1ZURhdGFPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge0NhdGFsb2d1ZU9iamVjdFR5cGV9IHR5cGUgLSBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgQ2F0YWxvZ3VlIERhdGEgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0IGNhbiBiZSBkb3dubG9hZGVkLlxuICAgICAqIEByZXR1cm5zIHtDYXRhbG9ndWVEYXRhT2JqZWN0fVxuICAgICAqL1xuICAgIGNyZWF0ZUNhdGFsb2d1ZURhdGFPYmplY3QoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdHlwZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYXRhbG9ndWVEYXRhT2JqZWN0KGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEh5cGVydHlEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0XG4gICAgICogY2FuIGJlIGRvd25sb2FkZWQuXG4gICAgICogQHBhcmFtIHtIeXBlcnR5UmVzb3VyY2VUeXBlW119IGh5cGVydHlUeXBlIC0gQW4gYXJyYXkgb2YgSHlwZXJ0eVJlc291cmNlVHlwZSB0aGF0IGlkZW50aWZpZXMgd2hhdCB0eXBlIG9mIGh5cGVydHlcbiAgICAgKiByZXNvdXJjZXMgYXJlIGhhbmRsZWQgYnkgdGhlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1VSTC5VUkxMaXN0fSBkYXRhT2JqZWN0cyAtIERlZmluZXMgdGhlIERhdGEgT2JqZWN0IFNjaGVtYXMgc3VwcG9ydGVkIGJ5IHRoZSBIeXBlcnR5IHRocm91Z2ggYSBsaXN0IG9mIENhdGFsb2d1ZSBVUkxzIGZyb20gd2hlcmUgdGhlc2Ugc2NoZW1hcyBjYW4gYmUgcmVhY2hlZC5cbiAgICAgKiBAcmV0dXJucyB7SHlwZXJ0eURlc2NyaXB0b3J9XG4gICAgICovXG4gICAgY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QoZ3VpZCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBoeXBlcnR5VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhT2JqZWN0cykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZ3VpZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBoeXBlcnR5VHlwZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGRhdGFPYmplY3RzID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgIClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyFcIik7XG4gICAgICAgIHJldHVybiBuZXcgSHlwZXJ0eURlc2NyaXB0b3IoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBoeXBlcnR5VHlwZSwgZGF0YU9iamVjdHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBQcm90b2NvbFN0dWJEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0IGNhbiBiZSBkb3dubG9hZGVkLlxuICAgICAqIEBwYXJhbSB7VVJMLlVSTH0gbWVzc2FnZVNjaGVtYXMgLSBEZWZpbmVzIHRoZSBTY2hlbWEgZGVzY3JpYmluZyB0aGUgTWVzc2FnZSBEYXRhIE1vZGVsIHVzZWQgYnkgdGhlIEh5cGVydHkgdGhyb3VnaCB0aGUgQ2F0YWxvZ3VlIFVSTCBmcm9tIHdoZXJlIHRoZSBNZXNzYWdlIHNjaGVtYSBjYW4gYmUgcmVhY2hlZC4gSWYgbm90IGRlZmluZWQsIGJ5IGRlZmF1bHQgaXQgaXMgYXNzdW1lZCB0aGUgc3RhbmRhcmQgTWVzc2FnZSBNb2RlbCBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSBjb25maWd1cmF0aW9uIC0gRGF0YSByZXF1aXJlZCB0byBjb25maWd1cmUgdGhlIFByb3RvY29sU3R1YlxuICAgICAqIEBwYXJhbSBjb25zdHJhaW50cyAtIERlc2NyaWJlcyBjYXBhYmlsaXRpZXMgcmVxdWlyZWQgZnJvbSB0aGUgSHlwZXJ0eSBSdW50aW1lIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gZXhlY3V0ZSB0aGUgUHJvdG9jb2xTdHViXG4gICAgICogQHBhcmFtIGh5cGVydHlUeXBlXG4gICAgICogQHBhcmFtIGRhdGFPYmplY3RzXG4gICAgICogQHBhcmFtIGludGVyd29ya2luZ1xuICAgICAqIEBwYXJhbSBpZHBQcm94eVxuICAgICAqIEBwYXJhbSBtdXR1YWxBdXRoZW50aWNhdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm90b2NvbFN0dWJEZXNjcmlwdG9yfVxuICAgICAqL1xuICAgIGNyZWF0ZVByb3RvU3R1YkRlc2NyaXB0b3JPYmplY3QoZ3VpZCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBtZXNzYWdlU2NoZW1hcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24sIGNvbnN0cmFpbnRzLCBoeXBlcnR5VHlwZSwgZGF0YU9iamVjdHMsIGludGVyd29ya2luZywgaWRwUHJveHksIG11dHVhbEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBndWlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG9iamVjdE5hbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGxhbmd1YWdlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygc291cmNlUGFja2FnZVVSTCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIG1lc3NhZ2VTY2hlbWFzID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgY29uZmlndXJhdGlvbiA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGNvbnN0cmFpbnRzID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgIClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyFcIik7XG4gICAgICAgIHJldHVybiBuZXcgUHJvdG9jb2xTdHViRGVzY3JpcHRvcihndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLlBST1RPU1RVQiwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgbWVzc2FnZVNjaGVtYXMsIGNvbmZpZ3VyYXRpb24sIGNvbnN0cmFpbnRzLCBoeXBlcnR5VHlwZSwgZGF0YU9iamVjdHMsIGludGVyd29ya2luZywgaWRwUHJveHksIG11dHVhbEF1dGhlbnRpY2F0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0IGNhbiBiZSBkb3dubG9hZGVkLlxuICAgICAqIEBwYXJhbSB7UnVudGltZVR5cGV9cnVudGltZVR5cGVcbiAgICAgKiBAcGFyYW0ge1J1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0aWVzfSBoeXBlcnR5Q2FwYWJpbGl0aWVzIC0gU3VwcG9ydGVkIGNhcGFiaWxpdGllcyB0byBleGVjdXRlIEh5cGVydGllc1xuICAgICAqIEBwYXJhbSB7UnVudGltZVByb3RvY29sQ2FwYWJpbGl0aWVzfSBwcm90b2NvbENhcGFiaWxpdGllcyAtIFN1cHBvcnRlZCBjYXBhYmlsaXRpZXMgdG8gZXhlY3V0ZSBQcm90b2NvbCBTdHVic1xuICAgICAqIEBwYXJhbSBwMnBIYW5kbGVyU3R1YlxuICAgICAqIEBwYXJhbSBwMnBSZXF1ZXN0ZXJTdHViXG4gICAgICogQHJldHVybnMge0h5cGVydHlSdW50aW1lRGVzY3JpcHRvcn0gdGhlIGRhdGEgb2JqZWN0IG9mIHRoZSBIeXBlcnR5IFJ1bnRpbWUgRGVzY3JpcHRvclxuICAgICAqL1xuICAgIGNyZWF0ZUh5cGVydHlSdW50aW1lRGVzY3JpcHRvck9iamVjdChndWlkLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVUeXBlLCBoeXBlcnR5Q2FwYWJpbGl0aWVzLCBwcm90b2NvbENhcGFiaWxpdGllcywgcDJwSGFuZGxlclN0dWIsIHAycFJlcXVlc3RlclN0dWIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGd1aWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiB2ZXJzaW9uID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2Ygb2JqZWN0TmFtZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIGRlc2NyaXB0aW9uID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgbGFuZ3VhZ2UgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBzb3VyY2VQYWNrYWdlVVJMID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgcnVudGltZVR5cGUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcblxuICAgICAgICByZXR1cm4gbmV3IEh5cGVydHlSdW50aW1lRGVzY3JpcHRvcihndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfUlVOVElNRSwgdmVyc2lvbiwgb2JqZWN0TmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgcnVudGltZVR5cGUsIGh5cGVydHlDYXBhYmlsaXRpZXMsIHByb3RvY29sQ2FwYWJpbGl0aWVzLCBwMnBIYW5kbGVyU3R1YiwgcDJwUmVxdWVzdGVyU3R1Yik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEh5cGVydHkgSW50ZXJjZXB0b3IgRGVzY3JpcHRvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBndWlkIC0gQ2F0YWxvZ3VlIEdsb2JhbCBVbmlxdWUgaWRlbnRpZmllciBvZiB0aGUgQ2F0YWxvZ3VlIE9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gSW5kaWNhdGVzIHRoZSB2ZXJzaW9uIG9mIENhdGFsb2d1ZSBEYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdE5hbWUgLSBIdW1hbi11bmRlcnN0YW5kYWJsZSBuYW1lIG9mIHRoZSBjYXRhbG9ndWUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtEYXRhT2JqZWN0U291cmNlTGFuZ3VhZ2V9IGxhbmd1YWdlIC0gUHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgdXNlZCBpbiB0aGUgU291cmNlUGFja2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VQYWNrYWdlVVJMIC0gVVJMIGZyb20gd2hlcmUgdGhlIHNvdXJjZSBjb2RlIHBhY2thZ2Ugb2YgdGhlIGNvcnJlc3BvbmRpbmcgY2F0YWxvZ3VlIG9iamVjdCBjYW4gYmUgZG93bmxvYWRlZC5cbiAgICAgKiBAcGFyYW0gY29uZmlndXJhdGlvblxuICAgICAqIEBwYXJhbSBwb2xpY2llc1xuICAgICAqIEByZXR1cm5zIHtQb2xpY3lFbmZvcmNlckRlc2NyaXB0b3J9XG4gICAgICovXG4gICAgY3JlYXRlSHlwZXJ0eUludGVyY2VwdG9yRGVzY3JpcHRvck9iamVjdChndWlkLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2xpY2llcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZ3VpZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcblxuICAgICAgICByZXR1cm4gbmV3IEh5cGVydHlJbnRlcmNlcHRvckRlc2NyaXB0b3IoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0lOVEVSQ0VQVE9SLCB2ZXJzaW9uLCBvYmplY3ROYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBjb25maWd1cmF0aW9uLCBwb2xpY2llcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIERhdGFPYmplY3RTY2hlbWEgd2hpY2ggaW4gZWZmZWN0IGlzIHRoZSBNZXNzYWdlRGF0YU9iamVjdFNjaGVtYVxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBlaXRoZXIgY3JlYXRlTWVzc2FnZURhdGFPYmplY3RTY2hlbWEgb3IgY3JlYXRlSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEgaW5zdGVhZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBndWlkIC0gQ2F0YWxvZ3VlIEdsb2JhbCBVbmlxdWUgaWRlbnRpZmllciBvZiB0aGUgQ2F0YWxvZ3VlIE9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gSW5kaWNhdGVzIHRoZSB2ZXJzaW9uIG9mIENhdGFsb2d1ZSBEYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdE5hbWUgLSBIdW1hbi11bmRlcnN0YW5kYWJsZSBuYW1lIG9mIHRoZSBjYXRhbG9ndWUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtEYXRhT2JqZWN0U291cmNlTGFuZ3VhZ2V9IGxhbmd1YWdlIC0gUHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgdXNlZCBpbiB0aGUgU291cmNlUGFja2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VQYWNrYWdlVVJMIC0gVVJMIGZyb20gd2hlcmUgdGhlIHNvdXJjZSBjb2RlIHBhY2thZ2Ugb2YgdGhlIGNvcnJlc3BvbmRpbmcgY2F0YWxvZ3VlIG9iamVjdCBjYW4gYmUgZG93bmxvYWRlZC5cbiAgICAgKiBAcmV0dXJucyB7RGF0YU9iamVjdFNjaGVtYX1cbiAgICAgKi9cbiAgICBjcmVhdGVEYXRhT2JqZWN0U2NoZW1hKGd1aWQsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZ3VpZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcblxuICAgICAgICByZXR1cm4gbmV3IERhdGFPYmplY3RTY2hlbWEoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsXG4gICAgICAgICAgICBzb3VyY2VQYWNrYWdlVVJMKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgRGF0YU9iamVjdFNjaGVtYSB3aGljaCBpbiBlZmZlY3QgaXMgdGhlIE1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBJbmRpY2F0ZXMgdGhlIHZlcnNpb24gb2YgQ2F0YWxvZ3VlIERhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0TmFtZSAtIEh1bWFuLXVuZGVyc3RhbmRhYmxlIG5hbWUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge0RhdGFPYmplY3RTb3VyY2VMYW5ndWFnZX0gbGFuZ3VhZ2UgLSBQcm9ncmFtbWluZyBsYW5ndWFnZSB1c2VkIGluIHRoZSBTb3VyY2VQYWNrYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhY2thZ2VVUkwgLSBVUkwgZnJvbSB3aGVyZSB0aGUgc291cmNlIGNvZGUgcGFja2FnZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYXRhbG9ndWUgb2JqZWN0IGNhbiBiZSBkb3dubG9hZGVkLlxuICAgICAqIEByZXR1cm5zIHtEYXRhT2JqZWN0U2NoZW1hfVxuICAgICAqL1xuICAgIGNyZWF0ZU1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hKGd1aWQsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZ3VpZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIVwiKTtcblxuICAgICAgICByZXR1cm4gbmV3IERhdGFPYmplY3RTY2hlbWEoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsXG4gICAgICAgICAgICBzb3VyY2VQYWNrYWdlVVJMKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgSHlwZXJ0eURhdGFPYmplY3RTY2hlbWFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3VpZCAtIENhdGFsb2d1ZSBHbG9iYWwgVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIENhdGFsb2d1ZSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIEluZGljYXRlcyB0aGUgdmVyc2lvbiBvZiBDYXRhbG9ndWUgRGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lIC0gSHVtYW4tdW5kZXJzdGFuZGFibGUgbmFtZSBvZiB0aGUgY2F0YWxvZ3VlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7RGF0YU9iamVjdFNvdXJjZUxhbmd1YWdlfSBsYW5ndWFnZSAtIFByb2dyYW1taW5nIGxhbmd1YWdlIHVzZWQgaW4gdGhlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTCAtIFVSTCBmcm9tIHdoZXJlIHRoZSBzb3VyY2UgY29kZSBwYWNrYWdlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGNhdGFsb2d1ZSBvYmplY3QgY2FuIGJlIGRvd25sb2FkZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjY2Vzc0NvbnRyb2xQb2xpY3kgLSBwb2xpY3kgcnVsZSB0byBhY2Nlc3Mgb2JqZWN0IChzZWUgUmVwb3J0ZXItT2JzZXJ2ZXIgQ29tbSBwYXR0ZXJuKVxuICAgICAqIEBwYXJhbSB7RGF0YVVybFNjaGVtZX0gc2NoZW1lIC0gaWRlbnRpZmllcyB0aGUgZGF0YSBzY2hlbWUgKENPTU0sIENPTk5FQ1RJT04sIENUWFQgb3IgSURFTlRJVFkpXG4gICAgICogQHJldHVybnMge0RhdGFPYmplY3RTY2hlbWF9XG4gICAgICovXG4gICAgY3JlYXRlSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEoZ3VpZCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc0NvbnRyb2xQb2xpY3ksIHNjaGVtZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgZ3VpZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHZlcnNpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBvYmplY3ROYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICB8fCB0eXBlb2YgZGVzY3JpcHRpb24gPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgfHwgdHlwZW9mIHNvdXJjZVBhY2thZ2VVUkwgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBzY2hlbWUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBhY2Nlc3NDb250cm9sUG9saWN5ID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgIClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyFcIik7XG5cbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gRGF0YVVybFNjaGVtZS5DT01NKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYShndWlkLCBDYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBzY2hlbWUsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpO1xuICAgICAgICBlbHNlIGlmIChzY2hlbWUgPT09IERhdGFVcmxTY2hlbWUuQ09OTkVDVElPTilcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGlvbkRhdGFPYmplY3RTY2hlbWEoZ3VpZCwgQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgc2NoZW1lLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICAgICAgZWxzZSBpZiAoc2NoZW1lID09PSBEYXRhVXJsU2NoZW1lLkNUWFQpXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbnRleHREYXRhT2JqZWN0U2NoZW1hKGd1aWQsIENhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9EQVRBX09CSkVDVCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIHNjaGVtZSwgYWNjZXNzQ29udHJvbFBvbGljeSk7XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtZSA9PT0gRGF0YVVybFNjaGVtZS5JREVOVElUWSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKGd1aWQsIENhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9EQVRBX09CSkVDVCwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIHNjaGVtZSwgYWNjZXNzQ29udHJvbFBvbGljeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFNvdXJjZVBhY2thZ2VcbiAgICAgKiBAcGFyYW0gc291cmNlQ29kZUNsYXNzbmFtZSAtIFRoZSBDbGFzcy1uYW1lIG9mIHRoZSBTb3VyY2VDb2RlXG4gICAgICogQHBhcmFtIHNvdXJjZUNvZGUgLSBUaGUgc291cmNlIGNvZGUgb2YgdGhlIGNhdGFsb2d1ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7U291cmNlUGFja2FnZX1cbiAgICAgKi9cbiAgICBjcmVhdGVTb3VyY2VQYWNrYWdlKHNvdXJjZUNvZGVDbGFzc25hbWUsIHNvdXJjZUNvZGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIHNvdXJjZUNvZGUgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgIHx8IHR5cGVvZiBzb3VyY2VDb2RlQ2xhc3NuYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgIClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyFcIik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2VQYWNrYWdlKHNvdXJjZUNvZGVDbGFzc25hbWUsIHNvdXJjZUNvZGUpO1xuXG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQ2F0YWxvZ3VlRGF0YU9iamVjdEZhY3Rvcnk7XG4iLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbi8qKlxuICogQ3JlYXRlZCBieSBwenUgb24gMTkuMTEuMTUuXG4gKi9cblxuaW1wb3J0IENhdGFsb2d1ZURhdGFPYmplY3QgZnJvbSAnLi9DYXRhbG9ndWVEYXRhT2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIERhdGFPYmplY3RTY2hlbWEgZXh0ZW5kcyBDYXRhbG9ndWVEYXRhT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKTtcbiAgICB9XG5cbn1cblxuXG4vL0NoaWxkcmVuXG5leHBvcnQgY2xhc3MgTWVzc2FnZURhdGFPYmplY3RTY2hlbWEgZXh0ZW5kcyBEYXRhT2JqZWN0U2NoZW1hIHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIeXBlcnR5RGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIERhdGFPYmplY3RTY2hlbWEge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgYWNjZXNzQ29udHJvbFBvbGljeSwgZGF0YVVybFNjaGVtZSkge1xuICAgICAgICBzdXBlcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpO1xuICAgICAgICB0aGlzLl9hY2Nlc3NDb250cm9sUG9saWN5ID0gYWNjZXNzQ29udHJvbFBvbGljeTtcbiAgICAgICAgdGhpcy5fc2NoZW1lID0gZGF0YVVybFNjaGVtZTtcbiAgICB9XG59XG5cbi8vQ2hpbGRyZW5cbmV4cG9ydCBjbGFzcyBDb21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYSBleHRlbmRzIEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGFjY2Vzc0NvbnRyb2xQb2xpY3kpIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJZGVudGl0eURhdGFPYmplY3RTY2hlbWEgZXh0ZW5kcyBIeXBlcnR5RGF0YU9iamVjdFNjaGVtYSB7XG4gICAgY29uc3RydWN0b3IoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5KSB7XG4gICAgICAgIHN1cGVyKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgYWNjZXNzQ29udHJvbFBvbGljeSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGV4dERhdGFPYmplY3RTY2hlbWEgZXh0ZW5kcyBIeXBlcnR5RGF0YU9iamVjdFNjaGVtYSB7XG4gICAgY29uc3RydWN0b3IoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMLCBhY2Nlc3NDb250cm9sUG9saWN5KSB7XG4gICAgICAgIHN1cGVyKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgYWNjZXNzQ29udHJvbFBvbGljeSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgRGF0YVVybFNjaGVtZSA9IHtcbiAgICBDT01NOiAnQ09NTScsIENPTk5FQ1RJT046ICdDT05ORUNUSU9OJywgQ1RYVDogJ0NUWFQnLCBJREVOVElUWTogJ0lERU5USVRZJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdFNjaGVtYTsiLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbi8qKlxuICogQ3JlYXRlZCBieSBhbW8gb24gMTQvMTEvMjAxNS5cbiAqL1xuaW1wb3J0IENhdGFsb2d1ZURhdGFPYmplY3QgZnJvbSAnLi9DYXRhbG9ndWVEYXRhT2JqZWN0JztcblxuY2xhc3MgSHlwZXJ0eURlc2NyaXB0b3IgZXh0ZW5kcyBDYXRhbG9ndWVEYXRhT2JqZWN0IHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1aWQgLSBDYXRhbG9ndWUgR2xvYmFsIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBDYXRhbG9ndWUgT2JqZWN0IGVuYWJsaW5nIHRoZSBzYW1lIG9iamVjdCB0byBiZVxuICAgICAqIHN0b3JlZCBhbmQgZGlzY292ZXJlZCBpbiBkaWZmZXJlbnQgQ2F0YWxvZ3Vlcy4gR3VpZCBjb3JyZXNwb25kcyB0byA8cmVzb3VyY2UtdHlwZS1pZD4gcGVyIEJORiBvZiBSZXNvdXJjZSBQYXRoLlxuICAgICAqIEBwYXJhbSB7Q2F0YWxvZ3VlT2JqZWN0VHlwZX0gY2F0YWxvZ3VlVHlwZSAtIFx0SW5kaWNhdGVzIHRoZSB0eXBlIG9mIENhdGFsb2d1ZSBEYXRhIE9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGFja2FnZVVSTFxuICAgICAqIEBwYXJhbSB7SHlwZXJ0eVJlc291cmNlVHlwZVtdfSBoeXBlcnR5VHlwZSBBIHRhZyB0aGF0IGlkZW50aWZpZXMgd2hhdCB0eXBlIG9mIGh5cGVydHkgaXMgZGVzY3JpYmVkIGluIHRoZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtVUkwuSHlwZXJ0eUNhdGFsb2d1ZVVSTExpc3R9IGRhdGFPYmplY3RVcmxzIC0gSXQgZGVmaW5lcyB0aGUgRGF0YSBPYmplY3QgU2NoZW1hcyBzdXBwb3J0ZWQgYnkgdGhlIEh5cGVydHlcbiAgICAgKiB0aHJvdWdoIGEgbGlzdCBvZiBDYXRhbG9ndWUgVVJMcyBmcm9tIHdoZXJlIHRoZXNlIHNjaGVtYXMgY2FuIGJlIHJlYWNoZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihndWlkLCBjYXRhbG9ndWVUeXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGh5cGVydHlUeXBlLCBkYXRhT2JqZWN0VXJscykge1xuICAgICAgICBzdXBlcihndWlkLCBjYXRhbG9ndWVUeXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwpO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZ3VyYXRpb24gPSB7fTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWludHMgPSB7fTtcbiAgICAgICAgdGhpcy5fcG9saWNpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZVNjaGVtYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faHlwZXJ0eVR5cGUgPSBoeXBlcnR5VHlwZTtcbiAgICAgICAgdGhpcy5fZGF0YU9iamVjdHMgPSBkYXRhT2JqZWN0VXJscztcbiAgICB9XG5cbiAgICBnZXQgaHlwZXJ0eVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oeXBlcnR5VHlwZTtcbiAgICB9XG5cbiAgICBnZXQgZGF0YU9iamVjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhT2JqZWN0cztcbiAgICB9XG5cbiAgICBnZXQgY29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb247XG4gICAgfVxuXG4gICAgZ2V0IGNvbnN0cmFpbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3RyYWludHM7XG4gICAgfVxuXG4gICAgZ2V0IG1lc3NhZ2VTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlU2NoZW1hO1xuICAgIH1cblxuICAgIGdldCBwb2xpY2llcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvbGljaWVzO1xuICAgIH1cblxuICAgIHNldCBoeXBlcnR5VHlwZShoVHlwZSkge1xuICAgICAgICBpZiAoaFR5cGUpXG4gICAgICAgICAgICB0aGlzLl9oeXBlcnR5VHlwZSA9IGhUeXBlO1xuICAgIH1cblxuICAgIHNldCBkYXRhT2JqZWN0cyhkYXRhT2JqZWN0cykge1xuICAgICAgICBpZiAoZGF0YU9iamVjdHMpXG4gICAgICAgICAgICB0aGlzLl9kYXRhT2JqZWN0cyA9IGRhdGFPYmplY3RzO1xuICAgIH1cblxuICAgIHNldCBjb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pXG4gICAgICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgY29uc3RyYWludHMoY29uc3RyYWludHMpIHtcbiAgICAgICAgaWYgKGNvbnN0cmFpbnRzKVxuICAgICAgICAgICAgdGhpcy5fY29uc3RyYWludHMgPSBjb25zdHJhaW50cztcbiAgICB9XG5cbiAgICBzZXQgbWVzc2FnZVNjaGVtYShtZXNzYWdlU2NoZW1hKSB7XG4gICAgICAgIGlmIChtZXNzYWdlU2NoZW1hKVxuICAgICAgICAgICAgdGhpcy5fbWVzc2FnZVNjaGVtYSA9IG1lc3NhZ2VTY2hlbWE7XG4gICAgfVxuXG4gICAgc2V0IHBvbGljaWVzKHBvbGljaWVzKSB7XG4gICAgICAgIGlmIChwb2xpY2llcylcbiAgICAgICAgICAgIHRoaXMuX3BvbGljaWVzID0gcG9saWNpZXM7XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IGNvbnN0IFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eVR5cGUgPSB7fTtcbmV4cG9ydCBjb25zdCBIeXBlcnR5VHlwZSA9IHtDT01NVU5JQ0FUT1I6ICdjb21tdW5pY2F0b3InLCBJREVOVElUWTogJ2lkZW50aXR5JywgQ09OVEVYVDogJ2NvbnRleHQnfTtcbmV4cG9ydCBjb25zdCBIeXBlcnR5UmVzb3VyY2VUeXBlID0ge2NoYXQ6ICdDSEFUJywgYXVkaW86ICdBdWRpbycsIHZpZGVvOiAnVmlkZW8nLCBhdjogJ0FWJywgc2NyZWVuOidTQ1JFRU4nLFxuICAgIGZpbGU6ICdGSUxlJywgbWlkaTonTUlESSd9O1xuZXhwb3J0IGRlZmF1bHQgSHlwZXJ0eURlc2NyaXB0b3I7IiwiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgcHp1IG9uIDE5LjExLjE1LlxuICovXG5pbXBvcnQgQ2F0YWxvZ3VlRGF0YU9iamVjdCBmcm9tICcuL0NhdGFsb2d1ZURhdGFPYmplY3QnO1xuXG5jbGFzcyBQb2xpY3lFbmZvcmNlckRlc2NyaXB0b3IgZXh0ZW5kcyBDYXRhbG9ndWVEYXRhT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihndWlkLCB0eXBlLCB2ZXJzaW9uLCBvYmplY3ROYW1lLCBkZXNjcmlwdGlvbiwgbGFuZ3VhZ2UsIHNvdXJjZVBhY2thZ2VVUkwsIGNvbmZpZ3VyYXRpb24sIHBvbGljaWVzKSB7XG4gICAgICAgIHN1cGVyKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHRoaXMuX3BvbGljaWVzID0gcG9saWNpZXM7XG4gICAgfVxuXG4gICAgZ2V0IGNvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWd1cmF0aW9uO1xuICAgIH1cblxuICAgIGdldCBwb2xpY2llcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvbGljaWVzO1xuICAgIH1cblxuICAgIHNldCBwb2xpY2llcyhwb2xpY2llcykge1xuICAgICAgICB0aGlzLl9wb2xpY2llcyA9IHBvbGljaWVzO1xuICAgIH1cblxuICAgIHNldCBjb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY3lFbmZvcmNlckRlc2NyaXB0b3I7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4gKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4gKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiAqIENvcHlyaWdodCAyMDE2IEFwaXplZVxuICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICoqL1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgYW1vIG9uIDE0LzExLzIwMTUuXG4gKi9cblxuaW1wb3J0IENhdGFsb2d1ZURhdGFPYmplY3QgZnJvbSBcIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdFwiO1xuXG5jbGFzcyBIeXBlcnR5UnVudGltZURlc2NyaXB0b3IgZXh0ZW5kcyBDYXRhbG9ndWVEYXRhT2JqZWN0IHtcblxuICAgIGNvbnN0cnVjdG9yKGd1aWQsIGNhdGFsb2d1ZVR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgcnVudGltZVR5cGUsXG4gICAgICAgICAgICAgICAgaHlwZXJ0eUNhcGFiaWxpdGllcywgcHJvdG9jb2xDYXBhYmlsaXRpZXMsIHAycEhhbmRsZXJTdHViLCBwMnBSZXF1ZXN0ZXJTdHViKSB7XG4gICAgICAgIHN1cGVyKGd1aWQsIGNhdGFsb2d1ZVR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCk7XG5cbiAgICAgICAgdGhpcy5fcnVudGltZVR5cGUgPSBydW50aW1lVHlwZTtcblxuICAgICAgICBpZiAoaHlwZXJ0eUNhcGFiaWxpdGllcylcbiAgICAgICAgICAgIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXMgPSBoeXBlcnR5Q2FwYWJpbGl0aWVzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9oeXBlcnR5Q2FwYWJpbGl0aWVzID0gbmV3IFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eSh0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChwcm90b2NvbENhcGFiaWxpdGllcylcbiAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sQ2FwYWJpbGl0aWVzID0gcHJvdG9jb2xDYXBhYmlsaXRpZXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sQ2FwYWJpbGl0aWVzID0gbmV3IFJ1bnRpbWVQcm90b2NvbENhcGFiaWxpdHkodHJ1ZSwgZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX3AycEhhbmRsZXJTdHViID0gcDJwSGFuZGxlclN0dWI7XG4gICAgICAgIHRoaXMuX3AycFJlcXVlc3RlclN0dWIgPSBwMnBSZXF1ZXN0ZXJTdHViO1xuICAgIH1cblxuICAgIGdldCBydW50aW1lVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J1bnRpbWVUeXBlO1xuICAgIH1cblxuICAgIGdldCBoeXBlcnR5Q2FwYWJpbGl0aWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllcztcbiAgICB9XG5cbiAgICBnZXQgcHJvdG9jb2xDYXBhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oeXBlcnR5Q2FwYWJpbGl0aWVzO1xuICAgIH1cblxuICAgIHNldCBydW50aW1lVHlwZShydW50aW1lVHlwZSkge1xuICAgICAgICBpZiAocnVudGltZVR5cGUpXG4gICAgICAgICAgICB0aGlzLl9ydW50aW1lVHlwZSA9IHJ1bnRpbWVUeXBlO1xuICAgIH1cblxuICAgIHNldCBoeXBlcnR5Q2FwYWJpbGl0aWVzKGh5cGVydHlDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgaWYgKGh5cGVydHlDYXBhYmlsaXRpZXMpXG4gICAgICAgICAgICB0aGlzLl9oeXBlcnR5Q2FwYWJpbGl0aWVzID0gaHlwZXJ0eUNhcGFiaWxpdGllcztcbiAgICB9XG5cbiAgICBzZXQgcHJvdG9jb2xDYXBhYmlsaXRpZXMocHJvdG9jb2xDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgaWYgKHByb3RvY29sQ2FwYWJpbGl0aWVzKVxuICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2xDYXBhYmlsaXRpZXMgPSBwcm90b2NvbENhcGFiaWxpdGllcztcbiAgICB9XG5cbiAgICBnZXQgcDJwSGFuZGxlclN0dWIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wMnBIYW5kbGVyU3R1YjtcbiAgICB9XG5cbiAgICBzZXQgcDJwSGFuZGxlclN0dWIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcDJwSGFuZGxlclN0dWIgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcDJwUmVxdWVzdGVyU3R1YigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3AycFJlcXVlc3RlclN0dWI7XG4gICAgfVxuXG4gICAgc2V0IHAycFJlcXVlc3RlclN0dWIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcDJwUmVxdWVzdGVyU3R1YiA9IHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjYXBhYmlsaXR5IHNldCBvZiB0aGUgUnVudGltZSBIeXBlcnR5XG4gKi9cbmV4cG9ydCBjbGFzcyBSdW50aW1lSHlwZXJ0eUNhcGFiaWxpdHkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IG9mIHRoZSBSdW50aW1lIEh5cGVydHkgY2FwYWJpbGl0eSBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzV2ViUlRDU3VwcG9ydGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc01pY1N1cHBvcnRlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNDYW1lcmFTdXBwb3J0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2Vuc29yU3VwcG9ydGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc09SVENTdXBwb3J0ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpc1dlYlJUQ1N1cHBvcnRlZCwgaXNNaWNTdXBwb3J0ZWQsIGlzQ2FtZXJhU3VwcG9ydGVkLCBpc1NlbnNvclN1cHBvcnRlZCwgaXNPUlRDU3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMuX2lzV2ViUlRDID0gaXNXZWJSVENTdXBwb3J0ZWQ7XG4gICAgICAgIHRoaXMuX2lzTWljID0gaXNNaWNTdXBwb3J0ZWQ7XG4gICAgICAgIHRoaXMuX2lzQ2FtZXJhID0gaXNDYW1lcmFTdXBwb3J0ZWQ7XG4gICAgICAgIHRoaXMuX2lzU2Vuc29yID0gaXNTZW5zb3JTdXBwb3J0ZWQ7XG4gICAgICAgIHRoaXMuX2lzT1JUQyA9IGlzT1JUQ1N1cHBvcnRlZDtcbiAgICB9XG5cbiAgICBnZXQgaXNNaWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc01pYztcbiAgICB9XG5cbiAgICBnZXQgaXNDYW1lcmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0NhbWVyYTtcbiAgICB9XG5cbiAgICBnZXQgaXNTZW5zb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NlbnNvcjtcbiAgICB9XG5cbiAgICBnZXQgaXNXZWJSVEMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1dlYlJUQztcbiAgICB9XG5cbiAgICBnZXQgaXNPUlRDUygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzT1JUQztcbiAgICB9XG5cbiAgICBnZXRDYXBhYmlsaXR5U2V0KCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHJvdG9jb2wgY2FwYWJpbGl0eSBzZXQgb2YgdGhlIFJ1bnRpbWUgSHlwZXJ0eVxuICovXG5leHBvcnQgY2xhc3MgUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBvZiB0aGUgcnVudGltZSBwcm90b2NvbCBjYXBhYmlsaXR5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc0h0dHBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHR0cHNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzV1NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzV1NTXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc0NvYXBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRGF0YUNoYW5uZWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpc0h0dHAsIGlzSHR0cHMsIGlzV1MsIGlzV1NTLCBpc0NvYXAsIGlzRGF0YUNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy5faXNIdHRwID0gaXNIdHRwO1xuICAgICAgICB0aGlzLl9pc0h0dHBzID0gaXNIdHRwcztcbiAgICAgICAgdGhpcy5faXNXUyA9IGlzV1M7XG4gICAgICAgIHRoaXMuX2lzV1NTID0gaXNXU1M7XG4gICAgICAgIHRoaXMuX2lzQ29hcCA9IGlzQ29hcDtcbiAgICAgICAgdGhpcy5faXNEYXRhQ2hhbm5lbCA9IGlzRGF0YUNoYW5uZWw7XG4gICAgfVxuXG4gICAgaXNIdHRwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNIdHRwO1xuICAgIH1cblxuICAgIGlzSHR0cHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0h0dHBzO1xuICAgIH1cblxuICAgIGlzV1MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1dTO1xuICAgIH1cblxuICAgIGlzU2Vuc29yU3VwcG9ydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTZW5zb3I7XG4gICAgfVxuXG4gICAgaXNXU1MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1dTUztcbiAgICB9XG5cbiAgICBpc0NvYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0NvYXA7XG4gICAgfVxuXG4gICAgaXNEYXRhQ2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGF0YUNoYW5uZWw7XG4gICAgfVxuXG5cbiAgICBnZXRDYXBhYmlsaXR5U2V0KCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUnVudGltZVR5cGUgPSB7QlJPV1NFUjogJ2Jyb3dzZXInLCBTVEFOREFMT05FOiAnc3RhbmRhbG9uZScsIFNFUlZFUjogJ3NlcnZlcicsIEdBVEVXQVk6ICdnYXRld2F5J307XG5cbmV4cG9ydCBkZWZhdWx0IEh5cGVydHlSdW50aW1lRGVzY3JpcHRvcjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4gKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4gKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4gKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4gKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqKi9cblxuLyoqXG4gKiBDcmVhdGVkIGJ5IGFtbyBvbiAxNC8xMS8yMDE1LlxuICovXG5cbmltcG9ydCBDYXRhbG9ndWVEYXRhT2JqZWN0IGZyb20gXCIuL0NhdGFsb2d1ZURhdGFPYmplY3RcIjtcblxuY2xhc3MgUHJvdG9jb2xTdHViRGVzY3JpcHRvciBleHRlbmRzIENhdGFsb2d1ZURhdGFPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGd1aWQsIHR5cGUsIHZlcnNpb24sIG9iamVjdE5hbWUsIGRlc2NyaXB0aW9uLCBsYW5ndWFnZSwgc291cmNlUGFja2FnZVVSTCwgbWVzc2FnZVNjaGVtYXMsIGNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgY29uc3RyYWludHMsIGh5cGVydHlUeXBlLCBkYXRhT2JqZWN0cywgaW50ZXJ3b3JraW5nLCBpZHBQcm94eSwgbXV0dWFsQXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgc3VwZXIoZ3VpZCwgdHlwZSwgdmVyc2lvbiwgb2JqZWN0TmFtZSwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzb3VyY2VQYWNrYWdlVVJMKTtcblxuICAgICAgICB0aGlzLl9tZXNzYWdlU2NoZW1hcyA9IG1lc3NhZ2VTY2hlbWFzO1xuXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKVxuICAgICAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3VyYXRpb24gPSB7fTtcblxuICAgICAgICBpZiAoY29uc3RyYWludHMpXG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2h5cGVydHlUeXBlID0gaHlwZXJ0eVR5cGU7XG5cbiAgICAgICAgaWYgKGRhdGFPYmplY3RzKVxuICAgICAgICAgICAgdGhpcy5fZGF0YU9iamVjdHMgPSBkYXRhT2JqZWN0cztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fZGF0YU9iamVjdHMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2ludGVyd29ya2luZyA9IGludGVyd29ya2luZztcbiAgICAgICAgdGhpcy5faWRwUHJveHkgPSBpZHBQcm94eTtcbiAgICAgICAgdGhpcy5fbXV0dWFsQXV0aGVudGljYXRpb24gPSBtdXR1YWxBdXRoZW50aWNhdGlvbjtcblxuICAgIH1cblxuICAgIGdldCBtZXNzYWdlU2NoZW1hcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VTY2hlbWFzO1xuICAgIH1cblxuICAgIGdldCBjb25zdHJhaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzO1xuICAgIH1cblxuICAgIGdldCBjb25maWd1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgbWVzc2FnZVNjaGVtYXMobWVzc2FnZVNjaGVtYXMpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2VTY2hlbWFzKVxuICAgICAgICAgICAgdGhpcy5fbWVzc2FnZVNjaGVtYXMgPSBtZXNzYWdlU2NoZW1hcztcbiAgICB9XG5cbiAgICBzZXQgY29uc3RyYWludHMoY29uc3RyYWludHMpIHtcbiAgICAgICAgaWYgKGNvbnN0cmFpbnRzKVxuICAgICAgICAgICAgdGhpcy5fY29uc3RyYWludHMgPSBjb25zdHJhaW50cztcbiAgICB9XG5cbiAgICBzZXQgY29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKVxuICAgICAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgfVxuXG4gICAgZ2V0IGh5cGVydHlUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faHlwZXJ0eVR5cGU7XG4gICAgfVxuXG4gICAgc2V0IGh5cGVydHlUeXBlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2h5cGVydHlUeXBlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGRhdGFPYmplY3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YU9iamVjdHM7XG4gICAgfVxuXG4gICAgc2V0IGRhdGFPYmplY3RzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFPYmplY3RzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGludGVyd29ya2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVyd29ya2luZztcbiAgICB9XG5cbiAgICBzZXQgaW50ZXJ3b3JraW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ludGVyd29ya2luZyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBpZHBQcm94eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkcFByb3h5O1xuICAgIH1cblxuICAgIHNldCBpZHBQcm94eSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pZHBQcm94eSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtdXR1YWxBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX211dHVhbEF1dGhlbnRpY2F0aW9uO1xuICAgIH1cblxuICAgIHNldCBtdXR1YWxBdXRoZW50aWNhdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tdXR1YWxBdXRoZW50aWNhdGlvbiA9IHZhbHVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvdG9jb2xTdHViRGVzY3JpcHRvcjsiLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbi8qKlxuICogQ3JlYXRlZCBieSBhbW8gb24gMTQvMTEvMjAxNS5cbiAqL1xuY2xhc3MgU291cmNlUGFja2FnZSB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlQ29kZUNsYXNzbmFtZSwgc291cmNlQ29kZSkge1xuICAgICAgICB0aGlzLl9zb3VyY2VDb2RlID0gc291cmNlQ29kZTtcbiAgICAgICAgdGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZSA9IHNvdXJjZUNvZGVDbGFzc25hbWU7XG5cbiAgICAgICAgdGhpcy5fZW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9zaWduYXR1cmUgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCBzb3VyY2VDb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlQ29kZTtcbiAgICB9XG5cbiAgICBnZXQgc291cmNlQ29kZUNsYXNzbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZUNvZGVDbGFzc25hbWU7XG4gICAgfVxuXG4gICAgZ2V0IGVuY29kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5jb2Rpbmc7XG4gICAgfVxuXG4gICAgZ2V0IHNpZ25hdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hdHVyZTtcbiAgICB9XG5cbiAgICBzZXQgZW5jb2RpbmcoZW5jb2RpbmcpIHtcbiAgICAgICAgaWYgKGVuY29kaW5nKVxuICAgICAgICAgICAgdGhpcy5fZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgICB9XG5cbiAgICBzZXQgc2lnbmF0dXJlKHNpZ24pIHtcbiAgICAgICAgaWYgKHNpZ24pXG4gICAgICAgICAgICB0aGlzLl9zaWduYXR1cmUgPSBzaWduO1xuICAgIH1cblxuICAgIHNldCBzb3VyY2VDb2RlKHNvdXJjZUNvZGUpIHtcbiAgICAgICAgaWYgKHNvdXJjZUNvZGUpXG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VDb2RlID0gc291cmNlQ29kZTtcbiAgICB9XG5cbiAgICBzZXQgc291cmNlQ29kZUNsYXNzbmFtZShzb3VyY2VDb2RlQ2xhc3NuYW1lKSB7XG4gICAgICAgIGlmIChzb3VyY2VDb2RlQ2xhc3NuYW1lKVxuICAgICAgICAgICAgdGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZSA9IHNvdXJjZUNvZGVDbGFzc25hbWU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTb3VyY2VQYWNrYWdlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4gKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4gKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiAqIENvcHlyaWdodCAyMDE2IEFwaXplZVxuICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICoqL1xuaW1wb3J0IHR2NCBmcm9tIFwidHY0XCI7XG5cbmV4cG9ydCBjbGFzcyBSZXRoaW5rT2JqZWN0IHtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGlzIFJldGhpbmtPYmplY3QgYWdhaW5zdCB0aGUgcHJvdmlkZWQgc2NoZW1hLlxuICAgICAqXG4gICAgICogTElNSVRBVElPTlM6IFRoZSBwcm92aWRlZCBzY2hlbWEgY2Fubm90IGNvbnRhaW4gcmVmZXJlbmNlcyB0byBvdGhlciBzY2hlbWFzLCBzaW5jZSB0aGV5IGNhbid0IGJlIHJlc29sdmVkLlxuICAgICAqIEBwYXJhbSBzY2hlbWEgLSBzY2hlbWEgdG8gdmFsaWRhdGUgYWdhaW5zdFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICB2YWxpZGF0ZShzY2hlbWEpIHtcbiAgICAgICAgLy8gYWRkIHNjaGVtYSBpdHNlbGYgc28gbG9jYWwgcmVmZXJlbmNlcyB3b3JrXG4gICAgICAgIHR2NC5hZGRTY2hlbWEoc2NoZW1hLmlkLCBzY2hlbWEpO1xuXG4gICAgICAgIC8vIEpTT04gc3RyaW5naWZ5IC0+IHBhcnNlIG5lZWRlZCB0byBoYXZlIHByb3BlciB2YWxpZGF0aW9uXG4gICAgICAgIGxldCByZXN1bHQgPSB0djQudmFsaWRhdGVNdWx0aXBsZShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSwgc2NoZW1hKTtcblxuICAgICAgICAvLyBkZWxldGUgZXJyb3Igc3RhY2tzIHRvIGltcHJvdmUgbG9nZ2luZ1xuICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgZXJyb3Iuc3RhY2s7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHByaW50IG1vcmUgZGV0YWlscyBhYm91dCB2YWxpZGF0aW9uIGlmIGl0IGZhaWxzIG9yIHNjaGVtYSBjb250YWlucyAkcmVmc1xuICAgICAgICBpZiAoIXJlc3VsdC52YWxpZCB8fCAocmVzdWx0Lm1pc3NpbmcubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk9iamVjdCB2YWxpZGF0aW9uIFwiICsgKHJlc3VsdC52YWxpZCA/IFwic3VjY2VlZGVkLCBidXQgc2NoZW1hIGNvbnRhaW5lZCByZWZlcmVuY2VzOlwiIDogXCJmYWlsZWQ6XCIpLCBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT2JqZWN0OlwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLCBudWxsLCAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC52YWxpZDtcbiAgICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgUmV0aGlua09iamVjdDtcblxuIl19\n"]}
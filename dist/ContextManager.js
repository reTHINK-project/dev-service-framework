// version: 0.8.0
// date: Wed Apr 04 2018 16:41:42 GMT+0100 (GMT Daylight Time)
// licence: 
/**
* Copyright 2016 PT Inovação e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/


!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("ContextManager",[],n):"object"==typeof exports?exports.ContextManager=n():(e[""]=e[""]||{},e[""].ContextManager=n())}("undefined"!=typeof self?self:this,function(){return function(e){function n(I){if(c[I])return c[I].exports;var l=c[I]={i:I,l:!1,exports:{}};return e[I].call(l.exports,l,l.exports,n),l.l=!0,l.exports}var c={};return n.m=e,n.c=c,n.d=function(e,c,I){n.o(e,c)||Object.defineProperty(e,c,{configurable:!1,enumerable:!0,get:I})},n.n=function(e){var c=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(c,"a",c),c},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=161)}([function(module,exports){eval("var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanM/MTVlMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2QkFBNkI7QUFDN0IsdUNBQXVDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjMnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcz9lY2FiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval("var store = __webpack_require__(34)('wks');\nvar uid = __webpack_require__(19);\nvar Symbol = __webpack_require__(1).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcz83NTJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(12)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzP2Y4NGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLGlDQUFpQyxRQUFRLG1CQUFtQixVQUFVLEVBQUUsRUFBRTtBQUMxRSxDQUFDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzPzY2YjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar ctx = __webpack_require__(14);\nvar hide = __webpack_require__(10);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcz85MGNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQSxrRkFBa0Y7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsY0FBYztBQUNkLGNBQWM7QUFDZCxjQUFjO0FBQ2QsZUFBZTtBQUNmLGVBQWU7QUFDZixlQUFlO0FBQ2YsZ0JBQWdCO0FBQ2hCIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYga2V5IGluIGV4cG9ydHMpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n")},function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcz8xMmE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(55);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzP2MzMTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(9);\nvar IE8_DOM_DEFINE = __webpack_require__(38);\nvar toPrimitive = __webpack_require__(24);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(3) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcz83YWYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWTtBQUNmO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(6);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcz9lZmIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(8);\nvar createDesc = __webpack_require__(15);\nmodule.exports = __webpack_require__(3) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanM/ODQ5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcz8wZjYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzPzRiY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(56);\nvar defined = __webpack_require__(29);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanM/NGRjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n")},function(module,exports,__webpack_require__){eval("// optional / simple context binding\nvar aFunction = __webpack_require__(22);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcz9mOTkzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanM/NWZjMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n")},function(module,exports){eval("module.exports = {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcz9mZGI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(44);\nvar enumBugKeys = __webpack_require__(35);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzPzk2NGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcz80N2QzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n")},function(module,exports){eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcz9kYzRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(102), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanM/ZmZmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = __webpack_require__(59);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.divideURL = divideURL;\nexports.divideEmail = divideEmail;\nexports.emptyObject = emptyObject;\nexports.deepClone = deepClone;\nexports.getUserURLFromEmail = getUserURLFromEmail;\nexports.getUserEmailFromURL = getUserEmailFromURL;\nexports.convertToUserURL = convertToUserURL;\nexports.checkAttribute = checkAttribute;\nexports.parseAttributes = parseAttributes;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n/**\n * Support module with some functions will be useful\n * @module utils\n */\n\n/**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n */\n\n/**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */\nfunction divideURL(url) {\n\n  function recurse(value) {\n    var regex = /([a-zA-Z-]*)(:\\/\\/(?:\\.)?|:)([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;\n    var subst = '$1,$3,$4';\n    var parts = value.replace(regex, subst).split(',');\n    return parts;\n  }\n\n  var parts = recurse(url);\n\n  // If the url has no scheme\n  if (parts[0] === url && !parts[0].includes('@')) {\n\n    var _result = {\n      type: '',\n      domain: url,\n      identity: ''\n    };\n\n    console.warn('[DivideURL] DivideURL don\\'t support url without scheme. Please review your url address', url);\n\n    return _result;\n  }\n\n  // check if the url has the scheme and includes an @\n  if (parts[0] === url && parts[0].includes('@')) {\n    var scheme = parts[0] === url ? 'smtp' : parts[0];\n    parts = recurse(scheme + '://' + parts[0]);\n  }\n\n  // if the domain includes an @, divide it to domain and identity respectively\n  if (parts[1].includes('@')) {\n    parts[2] = parts[0] + '://' + parts[1];\n    parts[1] = parts[1].substr(parts[1].indexOf('@') + 1);\n  } /*else if (parts[2].includes('/')) {\n    parts[2] = parts[2].substr(parts[2].lastIndexOf('/')+1);\n    }*/\n\n  var result = {\n    type: parts[0],\n    domain: parts[1],\n    identity: parts[2]\n  };\n\n  return result;\n}\n\nfunction divideEmail(email) {\n  var indexOfAt = email.indexOf('@');\n\n  var result = {\n    username: email.substring(0, indexOfAt),\n    domain: email.substring(indexOfAt + 1, email.length)\n  };\n\n  return result;\n}\n\n/**\n * Check if an Object is empty\n * @param  {Object} object Object to be checked\n * @return {Boolean}       status of Object, empty or not (true|false);\n */\nfunction emptyObject(object) {\n  return (0, _keys2.default)(object).length > 0 ? false : true;\n}\n\n/**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */\nfunction deepClone(obj) {\n  //TODO: simple but inefficient JSON deep clone...\n  if (obj) return JSON.parse((0, _stringify2.default)(obj));\n}\n\n/**\n * Obtains the user URL that corresponds to a given email\n * @param  {string} userEmail The user email\n * @return {URL.URL} userURL The user URL\n */\nfunction getUserURLFromEmail(userEmail) {\n  var indexOfAt = userEmail.indexOf('@');\n  return 'user://' + userEmail.substring(indexOfAt + 1, userEmail.length) + '/' + userEmail.substring(0, indexOfAt);\n}\n\n/**\n * Obtains the user email that corresponds to a given URL\n * @param  {URL.URL} userURL The user URL\n * @return {string} userEmail The user email\n */\nfunction getUserEmailFromURL(userURL) {\n  var url = divideURL(userURL);\n  return url.identity.replace('/', '') + '@' + url.domain; // identity field has '/exampleID' instead of 'exampleID'\n}\n\n/**\n * Check if the user identifier is already in the URL format, if not, convert to URL format\n * @param  {string}   identifier  user identifier\n * @return {string}   userURL    the user URL\n */\nfunction convertToUserURL(identifier) {\n\n  // check if the identifier is already in the url format\n  if (identifier.substring(0, 7) === 'user://') {\n    var dividedURL = divideURL(identifier);\n\n    //check if the url is well formated\n    if (dividedURL.domain && dividedURL.identity) {\n      return identifier;\n    } else {\n      throw 'userURL with wrong format';\n    }\n\n    //if not, convert the user email to URL format\n  } else {\n    return getUserURLFromEmail(identifier);\n  }\n}\n\nfunction checkAttribute(path) {\n\n  var regex = /((([a-zA-Z]+):\\/\\/([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})\\/[a-zA-Z0-9\\.]+@[a-zA-Z0-9]+(\\-)?[a-zA-Z0-9]+(\\.)?[a-zA-Z0-9]{2,10}?\\.[a-zA-Z]{2,10})(.+(?=.identity))?/gm;\n\n  var list = [];\n  var final = [];\n  var test = path.match(regex);\n\n  if (test == null) {\n    final = path.split('.');\n  } else {\n    var m = void 0;\n    while ((m = regex.exec(path)) !== null) {\n      // This is necessary to avoid infinite loops with zero-width matches\n      if (m.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n\n      // The result can be accessed through the `m`-variable.\n      m.forEach(function (match, groupIndex) {\n        if (groupIndex === 0) {\n          list.push(match);\n        }\n      });\n    }\n    var result = void 0;\n    list.forEach(function (url) {\n      result = path.replace(url, '*+*');\n\n      final = result.split('.').map(function (item) {\n        if (item === '*+*') {\n          return url;\n        }\n        return item;\n      });\n    });\n  }\n\n  console.log('[ServiceFramework.Utils.checkAttribute]', final);\n  return final;\n}\n\nfunction parseAttributes(path) {\n  var regex = /([0-9a-zA-Z][-\\w]*):\\/\\//g;\n\n  var string3 = 'identity';\n\n  if (!path.includes('://')) {\n    return path.split('.');\n  } else {\n    var string1 = path.split(regex)[0];\n\n    var array1 = string1.split('.');\n\n    var string2 = path.replace(string1, '');\n\n    if (path.includes(string3)) {\n\n      var array2 = string2.split(string3 + '.');\n\n      console.log('array2 ' + array2);\n\n      string2 = array2[0].slice('.', -1);\n\n      array2 = array2[1].split('.');\n\n      array1.push(string2, string3);\n\n      array1 = array1.concat(array2);\n    } else {\n      array1.push(string2);\n    }\n\n    return array1.filter(Boolean);\n  }\n}\n/*\nexport function assign(obj, keyPath, value) {\n\n  if (!obj) obj = {};\n  if (typeof(keyPath) === 'string') keyPath = parseAttributes(keyPath);\n\n  let lastKeyIndex = keyPath.length - 1;\n\n  for (var i = 0; i < lastKeyIndex; ++i) {\n    let key = keyPath[i];\n    if (!(key in obj)) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n\n  }\n\n  obj[keyPath[lastKeyIndex]] = value;\n}*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXRpbHMuanM/YTAwNSJdLCJuYW1lcyI6WyJkaXZpZGVVUkwiLCJkaXZpZGVFbWFpbCIsImVtcHR5T2JqZWN0IiwiZGVlcENsb25lIiwiZ2V0VXNlclVSTEZyb21FbWFpbCIsImdldFVzZXJFbWFpbEZyb21VUkwiLCJjb252ZXJ0VG9Vc2VyVVJMIiwiY2hlY2tBdHRyaWJ1dGUiLCJwYXJzZUF0dHJpYnV0ZXMiLCJ1cmwiLCJyZWN1cnNlIiwidmFsdWUiLCJyZWdleCIsInN1YnN0IiwicGFydHMiLCJyZXBsYWNlIiwic3BsaXQiLCJpbmNsdWRlcyIsInJlc3VsdCIsInR5cGUiLCJkb21haW4iLCJpZGVudGl0eSIsImNvbnNvbGUiLCJ3YXJuIiwic2NoZW1lIiwic3Vic3RyIiwiaW5kZXhPZiIsImVtYWlsIiwiaW5kZXhPZkF0IiwidXNlcm5hbWUiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJvYmplY3QiLCJvYmoiLCJKU09OIiwicGFyc2UiLCJ1c2VyRW1haWwiLCJ1c2VyVVJMIiwiaWRlbnRpZmllciIsImRpdmlkZWRVUkwiLCJwYXRoIiwibGlzdCIsImZpbmFsIiwidGVzdCIsIm1hdGNoIiwibSIsImV4ZWMiLCJpbmRleCIsImxhc3RJbmRleCIsImZvckVhY2giLCJncm91cEluZGV4IiwicHVzaCIsIm1hcCIsIml0ZW0iLCJsb2ciLCJzdHJpbmczIiwic3RyaW5nMSIsImFycmF5MSIsInN0cmluZzIiLCJhcnJheTIiLCJzbGljZSIsImNvbmNhdCIsImZpbHRlciIsIkJvb2xlYW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O1FBd0NnQkEsUyxHQUFBQSxTO1FBaURBQyxXLEdBQUFBLFc7UUFnQkFDLFcsR0FBQUEsVztRQVNBQyxTLEdBQUFBLFM7UUFVQUMsbUIsR0FBQUEsbUI7UUFVQUMsbUIsR0FBQUEsbUI7UUFXQUMsZ0IsR0FBQUEsZ0I7UUFtQkFDLGMsR0FBQUEsYztRQXlDQUMsZSxHQUFBQSxlOzs7O0FB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LEVBQXNCLEVBQXRCLENBQWQ7O0FBRUEsUUFBSWhCLEtBQUt2QixRQUFMLENBQWNzQyxPQUFkLENBQUosRUFBNEI7O0FBRTFCLFVBQUlJLFNBQVNELFFBQVExQyxLQUFSLENBQWN1QyxVQUFVLEdBQXhCLENBQWI7O0FBRUFqQyxjQUFRZ0MsR0FBUixDQUFZLFlBQVlLLE1BQXhCOztBQUVBRCxnQkFBVUMsT0FBTyxDQUFQLEVBQVVDLEtBQVYsQ0FBZ0IsR0FBaEIsRUFBcUIsQ0FBQyxDQUF0QixDQUFWOztBQUVBRCxlQUFTQSxPQUFPLENBQVAsRUFBVTNDLEtBQVYsQ0FBZ0IsR0FBaEIsQ0FBVDs7QUFFQXlDLGFBQU9OLElBQVAsQ0FBWU8sT0FBWixFQUFxQkgsT0FBckI7O0FBRUFFLGVBQVNBLE9BQU9JLE1BQVAsQ0FBY0YsTUFBZCxDQUFUO0FBRUQsS0FkRCxNQWNPO0FBQ0xGLGFBQU9OLElBQVAsQ0FBWU8sT0FBWjtBQUVEOztBQUVELFdBQVFELE9BQU9LLE1BQVAsQ0FBY0MsT0FBZCxDQUFSO0FBRUQ7QUFFRjtBQUNEIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuLyoqXG4gKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsXG4gKiBAbW9kdWxlIHV0aWxzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBkaXZpZGVVUkxcbiAqIEB0eXBlIE9iamVjdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTFxuICovXG5cbi8qKlxuICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5XG4gKiBAcGFyYW0gIHtVUkwuVVJMfSB1cmwgLSB1cmwgYWRkcmVzc1xuICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkge1xuXG4gIGZ1bmN0aW9uIHJlY3Vyc2UodmFsdWUpIHtcbiAgICBjb25zdCByZWdleCA9IC8oW2EtekEtWi1dKikoOlxcL1xcLyg/OlxcLik/fDopKFstYS16QS1aMC05QDolLl9cXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1xcK34jPVxcL10qKS9naTtcbiAgICBjb25zdCBzdWJzdCA9ICckMSwkMywkNCc7XG4gICAgbGV0IHBhcnRzID0gdmFsdWUucmVwbGFjZShyZWdleCwgc3Vic3QpLnNwbGl0KCcsJyk7XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG5cbiAgbGV0IHBhcnRzID0gcmVjdXJzZSh1cmwpO1xuXG4gIC8vIElmIHRoZSB1cmwgaGFzIG5vIHNjaGVtZVxuICBpZiAocGFydHNbMF0gPT09IHVybCAmJiAhcGFydHNbMF0uaW5jbHVkZXMoJ0AnKSkge1xuXG4gICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgIHR5cGU6ICcnLFxuICAgICAgZG9tYWluOiB1cmwsXG4gICAgICBpZGVudGl0eTogJydcbiAgICB9O1xuXG4gICAgY29uc29sZS53YXJuKCdbRGl2aWRlVVJMXSBEaXZpZGVVUkwgZG9uXFwndCBzdXBwb3J0IHVybCB3aXRob3V0IHNjaGVtZS4gUGxlYXNlIHJldmlldyB5b3VyIHVybCBhZGRyZXNzJywgdXJsKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBjaGVjayBpZiB0aGUgdXJsIGhhcyB0aGUgc2NoZW1lIGFuZCBpbmNsdWRlcyBhbiBAXG4gIGlmIChwYXJ0c1swXSA9PT0gdXJsICYmIHBhcnRzWzBdLmluY2x1ZGVzKCdAJykpIHtcbiAgICBsZXQgc2NoZW1lID0gcGFydHNbMF0gPT09IHVybCA/ICdzbXRwJyA6IHBhcnRzWzBdO1xuICAgIHBhcnRzID0gcmVjdXJzZShzY2hlbWUgKyAnOi8vJyArIHBhcnRzWzBdKTtcbiAgfVxuXG4gIC8vIGlmIHRoZSBkb21haW4gaW5jbHVkZXMgYW4gQCwgZGl2aWRlIGl0IHRvIGRvbWFpbiBhbmQgaWRlbnRpdHkgcmVzcGVjdGl2ZWx5XG4gIGlmIChwYXJ0c1sxXS5pbmNsdWRlcygnQCcpKSB7XG4gICAgcGFydHNbMl0gPSBwYXJ0c1swXSArICc6Ly8nICsgcGFydHNbMV07XG4gICAgcGFydHNbMV0gPSBwYXJ0c1sxXS5zdWJzdHIocGFydHNbMV0uaW5kZXhPZignQCcpICsgMSk7XG4gIH0gXHQvKmVsc2UgaWYgKHBhcnRzWzJdLmluY2x1ZGVzKCcvJykpIHtcbiAgICAgcGFydHNbMl0gPSBwYXJ0c1syXS5zdWJzdHIocGFydHNbMl0ubGFzdEluZGV4T2YoJy8nKSsxKTtcbiAgIH0qL1xuXG4gIGxldCByZXN1bHQgPSB7XG4gICAgdHlwZTogcGFydHNbMF0sXG4gICAgZG9tYWluOiBwYXJ0c1sxXSxcbiAgICBpZGVudGl0eTogcGFydHNbMl1cbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVFbWFpbChlbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gZW1haWwuaW5kZXhPZignQCcpO1xuXG4gIGxldCByZXN1bHQgPSB7XG4gICAgdXNlcm5hbWU6IGVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpLFxuICAgIGRvbWFpbjogZW1haWwuc3Vic3RyaW5nKGluZGV4T2ZBdCArIDEsIGVtYWlsLmxlbmd0aClcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGFuIE9iamVjdCBpcyBlbXB0eVxuICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIHN0YXR1cyBvZiBPYmplY3QsIGVtcHR5IG9yIG5vdCAodHJ1ZXxmYWxzZSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID4gMCA/IGZhbHNlIDogdHJ1ZTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iaikge1xuICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uXG4gIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG4vKipcbiAqIE9idGFpbnMgdGhlIHVzZXIgVVJMIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBlbWFpbFxuICogQHBhcmFtICB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcbiAqIEByZXR1cm4ge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKHVzZXJFbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gdXNlckVtYWlsLmluZGV4T2YoJ0AnKTtcbiAgcmV0dXJuICd1c2VyOi8vJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgdXNlckVtYWlsLmxlbmd0aCkgKyAnLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCk7XG59XG5cbi8qKlxuICogT2J0YWlucyB0aGUgdXNlciBlbWFpbCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gVVJMXG4gKiBAcGFyYW0gIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTFxuICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwodXNlclVSTCkge1xuICBsZXQgdXJsID0gZGl2aWRlVVJMKHVzZXJVUkwpO1xuICByZXR1cm4gdXJsLmlkZW50aXR5LnJlcGxhY2UoJy8nLCAnJykgKyAnQCcgKyB1cmwuZG9tYWluOyAvLyBpZGVudGl0eSBmaWVsZCBoYXMgJy9leGFtcGxlSUQnIGluc3RlYWQgb2YgJ2V4YW1wbGVJRCdcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSB1c2VyIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgVVJMIGZvcm1hdCwgaWYgbm90LCBjb252ZXJ0IHRvIFVSTCBmb3JtYXRcbiAqIEBwYXJhbSAge3N0cmluZ30gICBpZGVudGlmaWVyICB1c2VyIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gICB1c2VyVVJMICAgIHRoZSB1c2VyIFVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvVXNlclVSTChpZGVudGlmaWVyKSB7XG5cbiAgLy8gY2hlY2sgaWYgdGhlIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgdXJsIGZvcm1hdFxuICBpZiAoaWRlbnRpZmllci5zdWJzdHJpbmcoMCwgNykgPT09ICd1c2VyOi8vJykge1xuICAgIGxldCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKGlkZW50aWZpZXIpO1xuXG4gICAgLy9jaGVjayBpZiB0aGUgdXJsIGlzIHdlbGwgZm9ybWF0ZWRcbiAgICBpZiAoZGl2aWRlZFVSTC5kb21haW4gJiYgZGl2aWRlZFVSTC5pZGVudGl0eSkge1xuICAgICAgcmV0dXJuIGlkZW50aWZpZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93ICd1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0JztcbiAgICB9XG5cbiAgLy9pZiBub3QsIGNvbnZlcnQgdGhlIHVzZXIgZW1haWwgdG8gVVJMIGZvcm1hdFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRVc2VyVVJMRnJvbUVtYWlsKGlkZW50aWZpZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0F0dHJpYnV0ZShwYXRoKSB7XG5cbiAgbGV0IHJlZ2V4ID0gLygoKFthLXpBLVpdKyk6XFwvXFwvKFswLTlhLXpBLVpdWy1cXHddKlswLTlhLXpBLVpdXFwuKStbYS16QS1aXXsyLDl9KVxcL1thLXpBLVowLTlcXC5dK0BbYS16QS1aMC05XSsoXFwtKT9bYS16QS1aMC05XSsoXFwuKT9bYS16QS1aMC05XXsyLDEwfT9cXC5bYS16QS1aXXsyLDEwfSkoLisoPz0uaWRlbnRpdHkpKT8vZ207XG5cbiAgbGV0IGxpc3QgPSBbXTtcbiAgbGV0IGZpbmFsID0gW107XG4gIGxldCB0ZXN0ID0gcGF0aC5tYXRjaChyZWdleCk7XG5cbiAgaWYgKHRlc3QgPT0gbnVsbCkge1xuICAgIGZpbmFsID0gcGF0aC5zcGxpdCgnLicpO1xuICB9IGVsc2Uge1xuICAgIGxldCBtO1xuICAgIHdoaWxlICgobSA9IHJlZ2V4LmV4ZWMocGF0aCkpICE9PSBudWxsKSB7XG4gICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcyB3aXRoIHplcm8td2lkdGggbWF0Y2hlc1xuICAgICAgaWYgKG0uaW5kZXggPT09IHJlZ2V4Lmxhc3RJbmRleCkge1xuICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlc3VsdCBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGUgYG1gLXZhcmlhYmxlLlxuICAgICAgbS5mb3JFYWNoKChtYXRjaCwgZ3JvdXBJbmRleCkgPT4ge1xuICAgICAgICBpZiAoZ3JvdXBJbmRleCA9PT0gMCkge1xuICAgICAgICAgIGxpc3QucHVzaChtYXRjaCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGxpc3QuZm9yRWFjaCgodXJsKSA9PiB7XG4gICAgICByZXN1bHQgPSBwYXRoLnJlcGxhY2UodXJsLCAnKisqJyk7XG5cbiAgICAgIGZpbmFsID0gcmVzdWx0LnNwbGl0KCcuJykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpdGVtID09PSAnKisqJykgeyByZXR1cm4gdXJsOyB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCdbU2VydmljZUZyYW1ld29yay5VdGlscy5jaGVja0F0dHJpYnV0ZV0nLCBmaW5hbCk7XG4gIHJldHVybiBmaW5hbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlcyhwYXRoKSB7XG4gIGxldCByZWdleCA9IC8oWzAtOWEtekEtWl1bLVxcd10qKTpcXC9cXC8vZztcblxuICBsZXQgc3RyaW5nMyA9ICdpZGVudGl0eSc7XG5cbiAgaWYgKCFwYXRoLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgIHJldHVybiAocGF0aC5zcGxpdCgnLicpKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgc3RyaW5nMSA9IHBhdGguc3BsaXQocmVnZXgpWzBdO1xuXG4gICAgbGV0IGFycmF5MSA9IHN0cmluZzEuc3BsaXQoJy4nKTtcblxuICAgIGxldCBzdHJpbmcyID0gcGF0aC5yZXBsYWNlKHN0cmluZzEsICcnKTtcblxuICAgIGlmIChwYXRoLmluY2x1ZGVzKHN0cmluZzMpKSB7XG5cbiAgICAgIGxldCBhcnJheTIgPSBzdHJpbmcyLnNwbGl0KHN0cmluZzMgKyAnLicpO1xuXG4gICAgICBjb25zb2xlLmxvZygnYXJyYXkyICcgKyBhcnJheTIpO1xuXG4gICAgICBzdHJpbmcyID0gYXJyYXkyWzBdLnNsaWNlKCcuJywgLTEpO1xuXG4gICAgICBhcnJheTIgPSBhcnJheTJbMV0uc3BsaXQoJy4nKTtcblxuICAgICAgYXJyYXkxLnB1c2goc3RyaW5nMiwgc3RyaW5nMyk7XG5cbiAgICAgIGFycmF5MSA9IGFycmF5MS5jb25jYXQoYXJyYXkyKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBhcnJheTEucHVzaChzdHJpbmcyKTtcblxuICAgIH1cblxuICAgIHJldHVybiAoYXJyYXkxLmZpbHRlcihCb29sZWFuKSk7XG5cbiAgfVxuXG59XG4vKlxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbihvYmosIGtleVBhdGgsIHZhbHVlKSB7XG5cbiAgaWYgKCFvYmopIG9iaiA9IHt9O1xuICBpZiAodHlwZW9mKGtleVBhdGgpID09PSAnc3RyaW5nJykga2V5UGF0aCA9IHBhcnNlQXR0cmlidXRlcyhrZXlQYXRoKTtcblxuICBsZXQgbGFzdEtleUluZGV4ID0ga2V5UGF0aC5sZW5ndGggLSAxO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdEtleUluZGV4OyArK2kpIHtcbiAgICBsZXQga2V5ID0ga2V5UGF0aFtpXTtcbiAgICBpZiAoIShrZXkgaW4gb2JqKSkge1xuICAgICAgb2JqW2tleV0gPSB7fTtcbiAgICB9XG5cbiAgICBvYmogPSBvYmpba2V5XTtcblxuICB9XG5cbiAgb2JqW2tleVBhdGhbbGFzdEtleUluZGV4XV0gPSB2YWx1ZTtcbn0qL1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n")},function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanM/OTRlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    "use strict";\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module === \'object\' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    "use strict";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = "undefined";\n\n    var logMethods = [\n        "trace",\n        "debug",\n        "info",\n        "warn",\n        "error"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === \'function\') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === \'debug\') {\n            methodName = \'log\';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, \'log\');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn\'t present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = "loglevel";\n      if (name) {\n        storageKey += ":" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || \'silent\').toUpperCase();\n\n          if (typeof window === undefinedType) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + "=" + levelName + ";";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + "=");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { "TRACE": 0, "DEBUG": 1, "INFO": 2, "WARN": 3,\n          "ERROR": 4, "SILENT": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === "string" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === "number" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return "No console available for logging";\n              }\n          } else {\n              throw "log.setLevel() called with invalid level: " + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? "WARN" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== "string" || name === "") {\n          throw new TypeError("You must supply a name when creating a logger.");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    return defaultLogger;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzPzA2ZmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiogbG9nbGV2ZWwgLSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWxcbipcbiogQ29weXJpZ2h0IChjKSAyMDEzIFRpbSBQZXJyeVxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4qL1xuKGZ1bmN0aW9uIChyb290LCBkZWZpbml0aW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmxvZyA9IGRlZmluaXRpb24oKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIFNsaWdodGx5IGR1YmlvdXMgdHJpY2tzIHRvIGN1dCBkb3duIG1pbmltaXplZCBmaWxlIHNpemVcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG4gICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBcInVuZGVmaW5lZFwiO1xuXG4gICAgdmFyIGxvZ01ldGhvZHMgPSBbXG4gICAgICAgIFwidHJhY2VcIixcbiAgICAgICAgXCJkZWJ1Z1wiLFxuICAgICAgICBcImluZm9cIixcbiAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgIFwiZXJyb3JcIlxuICAgIF07XG5cbiAgICAvLyBDcm9zcy1icm93c2VyIGJpbmQgZXF1aXZhbGVudCB0aGF0IHdvcmtzIGF0IGxlYXN0IGJhY2sgdG8gSUU2XG4gICAgZnVuY3Rpb24gYmluZE1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IG9ialttZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKG1ldGhvZCwgb2JqKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KG1ldGhvZCwgW29iaiwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJ1aWxkIHRoZSBiZXN0IGxvZ2dpbmcgbWV0aG9kIHBvc3NpYmxlIGZvciB0aGlzIGVudlxuICAgIC8vIFdoZXJldmVyIHBvc3NpYmxlIHdlIHdhbnQgdG8gYmluZCwgbm90IHdyYXAsIHRvIHByZXNlcnZlIHN0YWNrIHRyYWNlc1xuICAgIGZ1bmN0aW9uIHJlYWxNZXRob2QobWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAobWV0aG9kTmFtZSA9PT0gJ2RlYnVnJykge1xuICAgICAgICAgICAgbWV0aG9kTmFtZSA9ICdsb2cnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG1ldGhvZCBwb3NzaWJsZSwgZm9yIG5vdyAtIGZpeGVkIGxhdGVyIGJ5IGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXNcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlW21ldGhvZE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBiaW5kTWV0aG9kKGNvbnNvbGUsIG1ldGhvZE5hbWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGUubG9nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBiaW5kTWV0aG9kKGNvbnNvbGUsICdsb2cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhlc2UgcHJpdmF0ZSBmdW5jdGlvbnMgYWx3YXlzIG5lZWQgYHRoaXNgIHRvIGJlIHNldCBwcm9wZXJseVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKGxldmVsLCBsb2dnZXJOYW1lKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9nTWV0aG9kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBsb2dNZXRob2RzW2ldO1xuICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXSA9IChpIDwgbGV2ZWwpID9cbiAgICAgICAgICAgICAgICBub29wIDpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZEZhY3RvcnkobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmaW5lIGxvZy5sb2cgYXMgYW4gYWxpYXMgZm9yIGxvZy5kZWJ1Z1xuICAgICAgICB0aGlzLmxvZyA9IHRoaXMuZGVidWc7XG4gICAgfVxuXG4gICAgLy8gSW4gb2xkIElFIHZlcnNpb25zLCB0aGUgY29uc29sZSBpc24ndCBwcmVzZW50IHVudGlsIHlvdSBmaXJzdCBvcGVuIGl0LlxuICAgIC8vIFdlIGJ1aWxkIHJlYWxNZXRob2QoKSByZXBsYWNlbWVudHMgaGVyZSB0aGF0IHJlZ2VuZXJhdGUgbG9nZ2luZyBtZXRob2RzXG4gICAgZnVuY3Rpb24gZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcyhtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwodGhpcywgbGV2ZWwsIGxvZ2dlck5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0LCB3ZSB1c2UgY2xvc2VseSBib3VuZCByZWFsIG1ldGhvZHMgd2hlcmV2ZXIgcG9zc2libGUsIGFuZFxuICAgIC8vIG90aGVyd2lzZSB3ZSB3YWl0IGZvciBhIGNvbnNvbGUgdG8gYXBwZWFyLCBhbmQgdGhlbiB0cnkgYWdhaW4uXG4gICAgZnVuY3Rpb24gZGVmYXVsdE1ldGhvZEZhY3RvcnkobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgcmV0dXJuIHJlYWxNZXRob2QobWV0aG9kTmFtZSkgfHxcbiAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSwgZGVmYXVsdExldmVsLCBmYWN0b3J5KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgY3VycmVudExldmVsO1xuICAgICAgdmFyIHN0b3JhZ2VLZXkgPSBcImxvZ2xldmVsXCI7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBzdG9yYWdlS2V5ICs9IFwiOlwiICsgbmFtZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGVyc2lzdExldmVsSWZQb3NzaWJsZShsZXZlbE51bSkge1xuICAgICAgICAgIHZhciBsZXZlbE5hbWUgPSAobG9nTWV0aG9kc1tsZXZlbE51bV0gfHwgJ3NpbGVudCcpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gdW5kZWZpbmVkVHlwZSkgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gVXNlIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGVcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldID0gbGV2ZWxOYW1lO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gVXNlIHNlc3Npb24gY29va2llIGFzIGZhbGxiYWNrXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9XG4gICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VLZXkpICsgXCI9XCIgKyBsZXZlbE5hbWUgKyBcIjtcIjtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBlcnNpc3RlZExldmVsKCkge1xuICAgICAgICAgIHZhciBzdG9yZWRMZXZlbDtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSB1bmRlZmluZWRUeXBlKSByZXR1cm47XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleV07XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29va2llcyBpZiBsb2NhbCBzdG9yYWdlIGdpdmVzIHVzIG5vdGhpbmdcbiAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZExldmVsID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB2YXIgY29va2llID0gd2luZG93LmRvY3VtZW50LmNvb2tpZTtcbiAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNvb2tpZS5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IC9eKFteO10rKS8uZXhlYyhjb29raWUuc2xpY2UobG9jYXRpb24pKVsxXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBzdG9yZWQgbGV2ZWwgaXMgbm90IHZhbGlkLCB0cmVhdCBpdCBhcyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG4gICAgICAgICAgaWYgKHNlbGYubGV2ZWxzW3N0b3JlZExldmVsXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHN0b3JlZExldmVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdG9yZWRMZXZlbDtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqXG4gICAgICAgKiBQdWJsaWMgbG9nZ2VyIEFQSSAtIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWwgZm9yIGRldGFpbHNcbiAgICAgICAqXG4gICAgICAgKi9cblxuICAgICAgc2VsZi5uYW1lID0gbmFtZTtcblxuICAgICAgc2VsZi5sZXZlbHMgPSB7IFwiVFJBQ0VcIjogMCwgXCJERUJVR1wiOiAxLCBcIklORk9cIjogMiwgXCJXQVJOXCI6IDMsXG4gICAgICAgICAgXCJFUlJPUlwiOiA0LCBcIlNJTEVOVFwiOiA1fTtcblxuICAgICAgc2VsZi5tZXRob2RGYWN0b3J5ID0gZmFjdG9yeSB8fCBkZWZhdWx0TWV0aG9kRmFjdG9yeTtcblxuICAgICAgc2VsZi5nZXRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY3VycmVudExldmVsO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5zZXRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCwgcGVyc2lzdCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09IFwic3RyaW5nXCIgJiYgc2VsZi5sZXZlbHNbbGV2ZWwudG9VcHBlckNhc2UoKV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBsZXZlbCA9IHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcIm51bWJlclwiICYmIGxldmVsID49IDAgJiYgbGV2ZWwgPD0gc2VsZi5sZXZlbHMuU0lMRU5UKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IGxldmVsO1xuICAgICAgICAgICAgICBpZiAocGVyc2lzdCAhPT0gZmFsc2UpIHsgIC8vIGRlZmF1bHRzIHRvIHRydWVcbiAgICAgICAgICAgICAgICAgIHBlcnNpc3RMZXZlbElmUG9zc2libGUobGV2ZWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHNlbGYsIGxldmVsLCBuYW1lKTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlICYmIGxldmVsIDwgc2VsZi5sZXZlbHMuU0lMRU5UKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgXCJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiBcIiArIGxldmVsO1xuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlbGYuc2V0RGVmYXVsdExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgICAgaWYgKCFnZXRQZXJzaXN0ZWRMZXZlbCgpKSB7XG4gICAgICAgICAgICAgIHNlbGYuc2V0TGV2ZWwobGV2ZWwsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmVuYWJsZUFsbCA9IGZ1bmN0aW9uKHBlcnNpc3QpIHtcbiAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlRSQUNFLCBwZXJzaXN0KTtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZGlzYWJsZUFsbCA9IGZ1bmN0aW9uKHBlcnNpc3QpIHtcbiAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlNJTEVOVCwgcGVyc2lzdCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbml0aWFsaXplIHdpdGggdGhlIHJpZ2h0IGxldmVsXG4gICAgICB2YXIgaW5pdGlhbExldmVsID0gZ2V0UGVyc2lzdGVkTGV2ZWwoKTtcbiAgICAgIGlmIChpbml0aWFsTGV2ZWwgPT0gbnVsbCkge1xuICAgICAgICAgIGluaXRpYWxMZXZlbCA9IGRlZmF1bHRMZXZlbCA9PSBudWxsID8gXCJXQVJOXCIgOiBkZWZhdWx0TGV2ZWw7XG4gICAgICB9XG4gICAgICBzZWxmLnNldExldmVsKGluaXRpYWxMZXZlbCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICpcbiAgICAgKiBUb3AtbGV2ZWwgQVBJXG4gICAgICpcbiAgICAgKi9cblxuICAgIHZhciBkZWZhdWx0TG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG4gICAgdmFyIF9sb2dnZXJzQnlOYW1lID0ge307XG4gICAgZGVmYXVsdExvZ2dlci5nZXRMb2dnZXIgPSBmdW5jdGlvbiBnZXRMb2dnZXIobmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIgfHwgbmFtZSA9PT0gXCJcIikge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBzdXBwbHkgYSBuYW1lIHdoZW4gY3JlYXRpbmcgYSBsb2dnZXIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdO1xuICAgICAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgICAgIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdID0gbmV3IExvZ2dlcihcbiAgICAgICAgICAgIG5hbWUsIGRlZmF1bHRMb2dnZXIuZ2V0TGV2ZWwoKSwgZGVmYXVsdExvZ2dlci5tZXRob2RGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nZ2VyO1xuICAgIH07XG5cbiAgICAvLyBHcmFiIHRoZSBjdXJyZW50IGdsb2JhbCBsb2cgdmFyaWFibGUgaW4gY2FzZSBvZiBvdmVyd3JpdGVcbiAgICB2YXIgX2xvZyA9ICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlKSA/IHdpbmRvdy5sb2cgOiB1bmRlZmluZWQ7XG4gICAgZGVmYXVsdExvZ2dlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlICYmXG4gICAgICAgICAgICAgICB3aW5kb3cubG9nID09PSBkZWZhdWx0TG9nZ2VyKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9nID0gX2xvZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xuICAgIH07XG5cbiAgICBkZWZhdWx0TG9nZ2VyLmdldExvZ2dlcnMgPSBmdW5jdGlvbiBnZXRMb2dnZXJzKCkge1xuICAgICAgICByZXR1cm4gX2xvZ2dlcnNCeU5hbWU7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n')},function(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(6);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcz8zMjYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n")},function(module,exports,__webpack_require__){eval("var def = __webpack_require__(8).f;\nvar has = __webpack_require__(11);\nvar TAG = __webpack_require__(2)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzPzdiYTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLGlDQUFpQztBQUNyRyIsImZpbGUiOiIyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(6);\nvar document = __webpack_require__(1).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanM/MzhkZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n")},function(module,exports){eval("module.exports = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanM/M2I4OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(91), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzPzY3MWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n')},function(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanM/ZTc2OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29\n')},function(module,exports){eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanM/NTJlMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n")},function(module,exports){eval("exports.f = {}.propertyIsEnumerable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanM/MzY5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjIiwiZmlsZSI6IjMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n")},function(module,exports,__webpack_require__){eval("var shared = __webpack_require__(34)('keys');\nvar uid = __webpack_require__(19);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanM/NmIxZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(29);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcz9iMDFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///33\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcz83YmMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSx1Q0FBdUM7QUFDdkMiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n")},function(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanM/YzY3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(49);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n  }\n\n  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanM/Y2YwYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(93);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(97);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(49);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzPzNkZmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EiLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37\n')},function(module,exports,__webpack_require__){eval("module.exports = !__webpack_require__(3) && !__webpack_require__(12)(function () {\n  return Object.defineProperty(__webpack_require__(26)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzPzQ5ZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxxRUFBc0UsbUJBQW1CLFVBQVUsRUFBRSxFQUFFO0FBQ3ZHLENBQUMiLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(9);\nvar dPs = __webpack_require__(72);\nvar enumBugKeys = __webpack_require__(35);\nvar IE_PROTO = __webpack_require__(32)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(26)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(57).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanM/NjI4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39\n")},function(module,exports,__webpack_require__){eval("exports.f = __webpack_require__(2);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanM/MmExZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///40\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar LIBRARY = __webpack_require__(27);\nvar wksExt = __webpack_require__(40);\nvar defineProperty = __webpack_require__(8).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanM/NzJiOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsc0JBQXNCO0FBQ2hGLGtGQUFrRix3QkFBd0I7QUFDMUciLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///41\n")},function(module,exports){eval("exports.f = Object.getOwnPropertySymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzP2Q2NDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///42\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(89), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzPzdkOTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDQgNSA2IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43\n')},function(module,exports,__webpack_require__){eval("var has = __webpack_require__(11);\nvar toIObject = __webpack_require__(13);\nvar arrayIndexOf = __webpack_require__(63)(false);\nvar IE_PROTO = __webpack_require__(32)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzPzIxYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///44\n")},function(module,exports,__webpack_require__){eval("// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(5);\nvar core = __webpack_require__(0);\nvar fails = __webpack_require__(12);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanM/YmFhNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxxREFBcUQsT0FBTyxFQUFFO0FBQzlEIiwiZmlsZSI6IjQ1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZLCBleGVjKSB7XG4gIHZhciBmbiA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXTtcbiAgdmFyIGV4cCA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uICgpIHsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(27);\nvar $export = __webpack_require__(5);\nvar redefine = __webpack_require__(50);\nvar hide = __webpack_require__(10);\nvar has = __webpack_require__(11);\nvar Iterators = __webpack_require__(16);\nvar $iterCreate = __webpack_require__(71);\nvar setToStringTag = __webpack_require__(25);\nvar getPrototypeOf = __webpack_require__(52);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzP2JjODAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLGFBQWE7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsb0NBQW9DO0FBQzdFLDZDQUE2QyxvQ0FBb0M7QUFDakYsS0FBSyw0QkFBNEIsb0NBQW9DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7QUFDQSxrQ0FBa0MsMkJBQTJCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciAkaXRlckNyZWF0ZSA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbnZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbiAoa2luZCkge1xuICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bykgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVM7XG4gIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7XG4gIHZhciBwcm90byA9IEJhc2UucHJvdG90eXBlO1xuICB2YXIgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXTtcbiAgdmFyICRkZWZhdWx0ID0gKCFCVUdHWSAmJiAkbmF0aXZlKSB8fCBnZXRNZXRob2QoREVGQVVMVCk7XG4gIHZhciAkZW50cmllcyA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWQ7XG4gIHZhciAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZTtcbiAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYgKCRhbnlOYXRpdmUpIHtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZiAoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKSBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddID0gcmV0dXJuVGhpcztcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGlmICghKGtleSBpbiBwcm90bykpIHJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///46\n")},function(module,exports,__webpack_require__){eval("var pIE = __webpack_require__(31);\nvar createDesc = __webpack_require__(15);\nvar toIObject = __webpack_require__(13);\nvar toPrimitive = __webpack_require__(24);\nvar has = __webpack_require__(11);\nvar IE8_DOM_DEFINE = __webpack_require__(38);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(3) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzPzJjYTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWTtBQUNmO0FBQ0EiLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47\n")},function(module,exports,__webpack_require__){eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(30);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcz80MTExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(78);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(80);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {\n  return typeof obj === "undefined" ? "undefined" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcz9hNDU2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLGlIQUFpSCxtQkFBbUIsRUFBRSxtQkFBbUIsNEpBQTRKOztBQUVyVCxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBIiwiZmlsZSI6IjQ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qc1xuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49\n')},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(10);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzP2YzY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $at = __webpack_require__(70)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(46)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcz9jZDA0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixjQUFjO0FBQ2Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsQ0FBQyIsImZpbGUiOiI1MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///51\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(11);\nvar toObject = __webpack_require__(33);\nvar IE_PROTO = __webpack_require__(32)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanM/M2YzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoTykge1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmIChoYXMoTywgSUVfUFJPVE8pKSByZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(73);\nvar global = __webpack_require__(1);\nvar hide = __webpack_require__(10);\nvar Iterators = __webpack_require__(16);\nvar TO_STRING_TAG = __webpack_require__(2)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcz9mYWQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHlCQUF5QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = __webpack_require__(22);\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX25ldy1wcm9taXNlLWNhcGFiaWxpdHkuanM/YTgwNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyAyNS40LjEuNSBOZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcblxuZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbmV3LXByb21pc2UtY2FwYWJpbGl0eS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///54\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(60), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanM/MGI4MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///55\n')},function(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(18);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanM/MzE0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56\n")},function(module,exports,__webpack_require__){eval("var document = __webpack_require__(1).document;\nmodule.exports = document && document.documentElement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanM/NDRmMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwiZmlsZSI6IjU3LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(44);\nvar hiddenKeys = __webpack_require__(35).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzPzlmNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiI1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbi8vIG1vZHVsZSBpZCA9IDU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///58\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(76), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzPzlhZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjU5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA5IDExIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(61);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanM/ZjViMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjYwLmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///60\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(5);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(3), 'Object', { defineProperty: __webpack_require__(8).f });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanM/OTgyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0Esb0VBQXVFLDJDQUE0QyIsImZpbGUiOiI2MS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYgfSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDExIDEyIDEzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///61\n")},function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiI2Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///62\n")},function(module,exports,__webpack_require__){eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(13);\nvar toLength = __webpack_require__(48);\nvar toAbsoluteIndex = __webpack_require__(64);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzP2JjNTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxZQUFZLGVBQWU7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsImZpbGUiOiI2My5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(30);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzPzdlNDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///64\n")},function(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(18);\nvar TAG = __webpack_require__(2)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanM/NDU4ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrQkFBa0IsRUFBRTs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFlBQVk7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI2NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIEFSRyA9IGNvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///65\n")},function(module,exports,__webpack_require__){eval("// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(9);\nvar aFunction = __webpack_require__(22);\nvar SPECIES = __webpack_require__(2)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NwZWNpZXMtY29uc3RydWN0b3IuanM/YjdjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBTUEVDSUVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIEQpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66\n")},function(module,exports,__webpack_require__){eval("var ctx = __webpack_require__(14);\nvar invoke = __webpack_require__(108);\nvar html = __webpack_require__(57);\nvar cel = __webpack_require__(26);\nvar global = __webpack_require__(1);\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(18)(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanM/MmY4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjY3LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGludm9rZSA9IHJlcXVpcmUoJy4vX2ludm9rZScpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuL19odG1sJyk7XG52YXIgY2VsID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBzZXRUYXNrID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbnZhciBjbGVhclRhc2sgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGU7XG52YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG52YXIgRGlzcGF0Y2ggPSBnbG9iYWwuRGlzcGF0Y2g7XG52YXIgY291bnRlciA9IDA7XG52YXIgcXVldWUgPSB7fTtcbnZhciBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbnZhciBkZWZlciwgY2hhbm5lbCwgcG9ydDtcbnZhciBydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpZCA9ICt0aGlzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gIGlmIChxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICBmbigpO1xuICB9XG59O1xudmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmICghc2V0VGFzayB8fCAhY2xlYXJUYXNrKSB7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIHZhciBpID0gMTtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmIChyZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2VzcycpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIFNwaGVyZSAoSlMgZ2FtZSBlbmdpbmUpIERpc3BhdGNoIEFQSVxuICB9IGVsc2UgaWYgKERpc3BhdGNoICYmIERpc3BhdGNoLm5vdykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBEaXNwYXRjaC5ub3coY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0ZW5lcjtcbiAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0JykpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcbiAgICB9O1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanNcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///67\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3BlcmZvcm0uanM/NzRkMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLEdBQUc7QUFDSCxZQUFZO0FBQ1o7QUFDQSIsImZpbGUiOiI2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlOiBmYWxzZSwgdjogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyBlOiB0cnVlLCB2OiBlIH07XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcGVyZm9ybS5qc1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///68\n")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(6);\nvar newPromiseCapability = __webpack_require__(54);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb21pc2UtcmVzb2x2ZS5qcz83Yzk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjY5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IHJlcXVpcmUoJy4vX25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQywgeCkge1xuICBhbk9iamVjdChDKTtcbiAgaWYgKGlzT2JqZWN0KHgpICYmIHguY29uc3RydWN0b3IgPT09IEMpIHJldHVybiB4O1xuICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eS5mKEMpO1xuICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG4gIHJlc29sdmUoeCk7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9taXNlLXJlc29sdmUuanNcbi8vIG1vZHVsZSBpZCA9IDY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///69\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(30);\nvar defined = __webpack_require__(29);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcz84N2FlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuLy8gbW9kdWxlIGlkID0gNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///70\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar create = __webpack_require__(39);\nvar descriptor = __webpack_require__(15);\nvar setToStringTag = __webpack_require__(25);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(10)(IteratorPrototype, __webpack_require__(2)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzP2Y3ODUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUFrRixhQUFhLEVBQUU7O0FBRWpHO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBIiwiZmlsZSI6IjcxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBkZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///71\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(8);\nvar anObject = __webpack_require__(9);\nvar getKeys = __webpack_require__(17);\n\nmodule.exports = __webpack_require__(3) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanM/YWEyYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjcyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///72\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(74);\nvar step = __webpack_require__(75);\nvar Iterators = __webpack_require__(16);\nvar toIObject = __webpack_require__(13);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(46)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzP2M0NjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGNBQWM7QUFDZCxpQkFBaUI7QUFDakI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6IjczLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///73\n")},function(module,exports){eval("module.exports = function () { /* empty */ };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcz9lMjY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QiIsImZpbGUiOiI3NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuLy8gbW9kdWxlIGlkID0gNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74\n")},function(module,exports){eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcz8xMDY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsVUFBVTtBQUNWIiwiZmlsZSI6Ijc1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///75\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(0);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzP2FhNDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSx1Q0FBdUMsNEJBQTRCO0FBQ25FLHlDQUF5QztBQUN6QztBQUNBIiwiZmlsZSI6Ijc2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJyk7XG52YXIgJEpTT04gPSBjb3JlLkpTT04gfHwgKGNvcmUuSlNPTiA9IHsgc3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeSB9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDkgMTEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///76\n")},function(module,exports,__webpack_require__){eval("var META = __webpack_require__(19)('meta');\nvar isObject = __webpack_require__(6);\nvar has = __webpack_require__(11);\nvar setDesc = __webpack_require__(8).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(12)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanM/ZDNhMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsQ0FBQztBQUNEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsU0FBUztBQUNULEdBQUcsRUFBRTtBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzXG4vLyBtb2R1bGUgaWQgPSA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///77\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(79), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qcz82NzM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQiIsImZpbGUiOiI3OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(51);\n__webpack_require__(53);\nmodule.exports = __webpack_require__(40).f('iterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcz9mZTdlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSIsImZpbGUiOiI3OS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///79\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(81), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcz9lNTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQiIsImZpbGUiOiI4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///80\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(82);\n__webpack_require__(62);\n__webpack_require__(86);\n__webpack_require__(87);\nmodule.exports = __webpack_require__(0).Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcz8wNzA3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(1);\nvar has = __webpack_require__(11);\nvar DESCRIPTORS = __webpack_require__(3);\nvar $export = __webpack_require__(5);\nvar redefine = __webpack_require__(50);\nvar META = __webpack_require__(77).KEY;\nvar $fails = __webpack_require__(12);\nvar shared = __webpack_require__(34);\nvar setToStringTag = __webpack_require__(25);\nvar uid = __webpack_require__(19);\nvar wks = __webpack_require__(2);\nvar wksExt = __webpack_require__(40);\nvar wksDefine = __webpack_require__(41);\nvar enumKeys = __webpack_require__(83);\nvar isArray = __webpack_require__(84);\nvar anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(6);\nvar toIObject = __webpack_require__(13);\nvar toPrimitive = __webpack_require__(24);\nvar createDesc = __webpack_require__(15);\nvar _create = __webpack_require__(39);\nvar gOPNExt = __webpack_require__(85);\nvar $GOPD = __webpack_require__(47);\nvar $DP = __webpack_require__(8);\nvar $keys = __webpack_require__(17);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(58).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(31).f = $propertyIsEnumerable;\n  __webpack_require__(42).f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(27)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(10)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcz83ZDY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsc0JBQXNCLHVCQUF1QixXQUFXLElBQUk7QUFDNUQsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsbUNBQW1DO0FBQ3pELEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnQ0FBZ0M7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBEQUEwRCxrQkFBa0I7O0FBRTVFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7O0FBRTNDLG9EQUFvRCw2QkFBNkI7O0FBRWpGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEIsZUFBZSxFQUFFO0FBQzNDLDBCQUEwQixnQkFBZ0I7QUFDMUMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU8sUUFBUSxpQ0FBaUM7QUFDcEcsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBnT1BORXh0ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0Jyk7XG52YXIgJEdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRQKHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChpdCwga2V5LCBEKSB7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmIChwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKSBkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpIHtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90bykgJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzKGl0LCBISURERU4pKSBkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkgaXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7IGVudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYgKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkgRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICB2YXIgbmFtZXMgPSBnT1BOKHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5JykpIHtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFN5bWJvbDogJFN5bWJvbCB9KTtcblxuZm9yICh2YXIgZXM2U3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBqID0gMDsgZXM2U3ltYm9scy5sZW5ndGggPiBqOyl3a3MoZXM2U3ltYm9sc1tqKytdKTtcblxuZm9yICh2YXIgd2VsbEtub3duU3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSB3a3NEZWZpbmUod2VsbEtub3duU3ltYm9sc1trKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gU3ltYm9sUmVnaXN0cnkpIGlmIChTeW1ib2xSZWdpc3RyeVtrZXldID09PSBzeW0pIHJldHVybiBrZXk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7IGE6IFMgfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7XG4gICAgdmFyIGFyZ3MgPSBbaXRdO1xuICAgIHZhciBpID0gMTtcbiAgICB2YXIgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgJHJlcGxhY2VyID0gcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmICghaXNPYmplY3QocmVwbGFjZXIpICYmIGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mICRyZXBsYWNlciA9PSAnZnVuY3Rpb24nKSB2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzXG4vLyBtb2R1bGUgaWQgPSA4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///82\n")},function(module,exports,__webpack_require__){eval("// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(17);\nvar gOPS = __webpack_require__(42);\nvar pIE = __webpack_require__(31);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcz81ZGNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwiZmlsZSI6IjgzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0S2V5cyhpdCk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZiAoZ2V0U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdCk7XG4gICAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83\n")},function(module,exports,__webpack_require__){eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(18);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzP2VkNDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///84\n")},function(module,exports,__webpack_require__){eval("// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(13);\nvar gOPN = __webpack_require__(58).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcz80NmI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiI4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgZ09QTiA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZjtcbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1xuLy8gbW9kdWxlIGlkID0gODVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///85\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(41)('asyncIterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcz8zOTg5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijg2LmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///86\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(41)('observable');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzPzQxNjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gODdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(118), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanM/YzI4MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiODguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzXG4vLyBtb2R1bGUgaWQgPSA4OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDggMTAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///88\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(90);\nmodule.exports = __webpack_require__(0).Object.keys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzPzhjNTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsImZpbGUiOiI4OS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5cztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA0IDUgNiA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///89\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(33);\nvar $keys = __webpack_require__(17);\n\n__webpack_require__(45)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzPzA5ZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiI5MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KSB7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA0IDUgNiA4IDkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(92);\nmodule.exports = __webpack_require__(0).Object.getPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzPzdkMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsImZpbGUiOiI5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///91\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(33);\nvar $getPrototypeOf = __webpack_require__(52);\n\n__webpack_require__(45)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzPzJhMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiI5Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///92\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(94), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzPzkyMjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjkzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///93\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(95);\nmodule.exports = __webpack_require__(0).Object.setPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzPzhiZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsImZpbGUiOiI5NC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///94\n")},function(module,exports,__webpack_require__){eval("// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(5);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(96).set });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzPzdiMTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBOEMiLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0IH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///95\n")},function(module,exports,__webpack_require__){eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(6);\nvar anObject = __webpack_require__(9);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(14)(Function.call, __webpack_require__(47).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcz82NWE0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxZQUFZLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQSIsImZpbGUiOiI5Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbiAoTywgcHJvdG8pIHtcbiAgYW5PYmplY3QoTyk7XG4gIGlmICghaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKSB0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiAodGVzdCwgYnVnZ3ksIHNldCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZiAoYnVnZ3kpIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcbi8vIG1vZHVsZSBpZCA9IDk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(98), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanM/M2FmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiOTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///97\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(99);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanM/YTBjZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ijk4LmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(5);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(39) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanM/YjA1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFzQyIsImZpbGUiOiI5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKSB9KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///99\n")},function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(65);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar Iterators = __webpack_require__(16);\nmodule.exports = __webpack_require__(0).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzP2RkZmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qc1xuLy8gbW9kdWxlIGlkID0gMTAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///100\n")},,function(module,exports,__webpack_require__){eval("__webpack_require__(62);\n__webpack_require__(51);\n__webpack_require__(53);\n__webpack_require__(103);\n__webpack_require__(113);\n__webpack_require__(114);\nmodule.exports = __webpack_require__(0).Promise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanM/NTM5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcucHJvbWlzZS5maW5hbGx5Jyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNy5wcm9taXNlLnRyeScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///102\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(27);\nvar global = __webpack_require__(1);\nvar ctx = __webpack_require__(14);\nvar classof = __webpack_require__(65);\nvar $export = __webpack_require__(5);\nvar isObject = __webpack_require__(6);\nvar aFunction = __webpack_require__(22);\nvar anInstance = __webpack_require__(104);\nvar forOf = __webpack_require__(105);\nvar speciesConstructor = __webpack_require__(66);\nvar task = __webpack_require__(67).set;\nvar microtask = __webpack_require__(109)();\nvar newPromiseCapabilityModule = __webpack_require__(54);\nvar perform = __webpack_require__(68);\nvar promiseResolve = __webpack_require__(69);\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[__webpack_require__(2)('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(110)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(25)($Promise, PROMISE);\n__webpack_require__(111)(PROMISE);\nWrapper = __webpack_require__(0)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(112)(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanM/MDk3YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWTtBQUNmLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQkFBbUIsa0NBQWtDO0FBQ3JELFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWUsdUNBQXVDO0FBQ3REO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCO0FBQ2pEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCLHlCQUF5QixLQUFLO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsd0JBQXdCO0FBQ3hCLGdCQUFnQjtBQUNoQixvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLGdCQUFnQjtBQUNoQixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwREFBMEQsb0JBQW9CO0FBQzlFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIxMDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciB0YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuL19wZXJmb3JtJyk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuL19wcm9taXNlLXJlc29sdmUnKTtcbnZhciBQUk9NSVNFID0gJ1Byb21pc2UnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyICRQcm9taXNlID0gZ2xvYmFsW1BST01JU0VdO1xudmFyIGlzTm9kZSA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xudmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIEludGVybmFsLCBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHksIE93blByb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSA9ICRQcm9taXNlLnJlc29sdmUoMSk7XG4gICAgdmFyIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbiAoZXhlYykge1xuICAgICAgZXhlYyhlbXB0eSwgZW1wdHkpO1xuICAgIH07XG4gICAgLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHByb21pc2UsIGlzUmVqZWN0KSB7XG4gIGlmIChwcm9taXNlLl9uKSByZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIG9rID0gcHJvbWlzZS5fcyA9PSAxO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKHJlYWN0aW9uKSB7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICAgICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgICAgIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gICAgICB2YXIgcmVzdWx0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faCA9PSAyKSBvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKSBydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgcHJvbWlzZS5fYyA9IFtdO1xuICAgIHByb21pc2UuX24gPSBmYWxzZTtcbiAgICBpZiAoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpIG9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcbiAgICB2YXIgdW5oYW5kbGVkID0gaXNVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgdmFyIHJlc3VsdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZiAodW5oYW5kbGVkKSB7XG4gICAgICByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pIHtcbiAgICAgICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBwcm9taXNlLl9oID0gaXNOb2RlIHx8IGlzVW5oYW5kbGVkKHByb21pc2UpID8gMiA6IDE7XG4gICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuICAgIGlmICh1bmhhbmRsZWQgJiYgcmVzdWx0LmUpIHRocm93IHJlc3VsdC52O1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICByZXR1cm4gcHJvbWlzZS5faCAhPT0gMSAmJiAocHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jKS5sZW5ndGggPT09IDA7XG59O1xudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmIChpc05vZGUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpIHtcbiAgICAgIGhhbmRsZXIoeyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHByb21pc2UuX3YgfSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYgKCFwcm9taXNlLl9hKSBwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgdmFyIHRoZW47XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgJHJlamVjdC5jYWxsKHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgIHRoaXMuX3MgPSAwOyAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG4gICAgdGhpcy5faCA9IDA7ICAgICAgICAgICAgICAvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZFxuICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gIH07XG4gIEludGVybmFsLnByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpKCRQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9hKSB0aGlzLl9hLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuX3MpIG5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBPd25Qcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBJbnRlcm5hbCgpO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCA9IGN0eCgkcmVqZWN0LCBwcm9taXNlLCAxKTtcbiAgfTtcbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gJFByb21pc2UgfHwgQyA9PT0gV3JhcHBlclxuICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFByb21pc2U6ICRQcm9taXNlIH0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKTtcbiAgICB2YXIgJCRyZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoTElCUkFSWSAmJiB0aGlzID09PSBXcmFwcGVyID8gJFByb21pc2UgOiB0aGlzLCB4KTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7XG4gICRQcm9taXNlLmFsbChpdGVyKVsnY2F0Y2gnXShlbXB0eSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyICRpbmRleCA9IGluZGV4Kys7XG4gICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lKSByZWplY3QocmVzdWx0LnYpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///103\n")},function(module,exports){eval("module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzP2Q4YWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwiZmlsZSI6IjEwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///104\n")},function(module,exports,__webpack_require__){eval("var ctx = __webpack_require__(14);\nvar call = __webpack_require__(106);\nvar isArrayIter = __webpack_require__(107);\nvar anObject = __webpack_require__(9);\nvar toLength = __webpack_require__(48);\nvar getIterFn = __webpack_require__(100);\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcz8zNTZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxpQkFBaUIsRUFBRTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGdCQUFnQjtBQUNuRjtBQUNBO0FBQ0EsR0FBRyw0Q0FBNEMsZ0NBQWdDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIEJSRUFLID0ge307XG52YXIgUkVUVVJOID0ge307XG52YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1IpIHtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpO1xuICB2YXIgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZiAoaXNBcnJheUl0ZXIoaXRlckZuKSkgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmV4cG9ydHMuQlJFQUsgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMTA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///105\n")},function(module,exports,__webpack_require__){eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(9);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcz85YWM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEwNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkgYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1xuLy8gbW9kdWxlIGlkID0gMTA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///106\n")},function(module,exports,__webpack_require__){eval("// check on default Array iterator\nvar Iterators = __webpack_require__(16);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanM/MzIxYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTA3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuLy8gbW9kdWxlIGlkID0gMTA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///107\n")},function(module,exports){eval("// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qcz85MjdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiMTA4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgYXJncywgdGhhdCkge1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJncyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qc1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///108\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(1);\nvar macrotask = __webpack_require__(67).set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = __webpack_require__(18)(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcz9mMzYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0IsRUFBRTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJmaWxlIjoiMTA5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZSAoaGVhZCkge1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChoZWFkKSBub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBOb2RlLmpzXG4gIGlmIChpc05vZGUpIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgU2FmYXJpIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMzOVxuICB9IGVsc2UgaWYgKE9ic2VydmVyICYmICEoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSB7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWU7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgdmFyIHRhc2sgPSB7IGZuOiBmbiwgbmV4dDogdW5kZWZpbmVkIH07XG4gICAgaWYgKGxhc3QpIGxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYgKCFoZWFkKSB7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qc1xuLy8gbW9kdWxlIGlkID0gMTA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///109\n")},function(module,exports,__webpack_require__){eval("var hide = __webpack_require__(10);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qcz9jNDdmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiMTEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///110\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar dP = __webpack_require__(8);\nvar DESCRIPTORS = __webpack_require__(3);\nvar SPECIES = __webpack_require__(2)('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzPzZkMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGFBQWE7QUFDbkMsR0FBRztBQUNIIiwiZmlsZSI6IjExMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pIGRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///111\n")},function(module,exports,__webpack_require__){eval("var ITERATOR = __webpack_require__(2)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzPzc1OGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDLHFCQUFxQjtBQUN0RDtBQUNBLGlDQUFpQyxTQUFTLEVBQUU7QUFDNUMsQ0FBQyxZQUFZOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTLHFCQUFxQjtBQUMzRCxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBLEdBQUcsWUFBWTtBQUNmO0FBQ0EiLCJmaWxlIjoiMTEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24gKCkgeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbiAoKSB7IHRocm93IDI7IH0pO1xufSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gIGlmICghc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBbN107XG4gICAgdmFyIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4geyBkb25lOiBzYWZlID0gdHJ1ZSB9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMTEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///112\n")},function(module,exports,__webpack_require__){"use strict";eval("// https://github.com/tc39/proposal-promise-finally\n\nvar $export = __webpack_require__(5);\nvar core = __webpack_require__(0);\nvar global = __webpack_require__(1);\nvar speciesConstructor = __webpack_require__(66);\nvar promiseResolve = __webpack_require__(69);\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseS5qcz8xMmEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxVQUFVLEVBQUU7QUFDMUUsS0FBSztBQUNMO0FBQ0EsOERBQThELFNBQVMsRUFBRTtBQUN6RSxLQUFLO0FBQ0w7QUFDQSxDQUFDLEVBQUUiLCJmaWxlIjoiMTEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5XG4ndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi9fcHJvbWlzZS1yZXNvbHZlJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5SLCAnUHJvbWlzZScsIHsgJ2ZpbmFsbHknOiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGNvcmUuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZSk7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIG9uRmluYWxseSA9PSAnZnVuY3Rpb24nO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgIH0gOiBvbkZpbmFsbHksXG4gICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB0aHJvdyBlOyB9KTtcbiAgICB9IDogb25GaW5hbGx5XG4gICk7XG59IH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseS5qc1xuLy8gbW9kdWxlIGlkID0gMTEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgOSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///113\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// https://github.com/tc39/proposal-promise-try\nvar $export = __webpack_require__(5);\nvar newPromiseCapability = __webpack_require__(54);\nvar perform = __webpack_require__(68);\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzPzhjYTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUUiLCJmaWxlIjoiMTE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdQcm9taXNlJywgeyAndHJ5JzogZnVuY3Rpb24gKGNhbGxiYWNrZm4pIHtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZih0aGlzKTtcbiAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oY2FsbGJhY2tmbik7XG4gIChyZXN1bHQuZSA/IHByb21pc2VDYXBhYmlsaXR5LnJlamVjdCA6IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmUpKHJlc3VsdC52KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59IH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///114\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = __webpack_require__(125);\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if ("value" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldC5qcz9jODRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgZGVzYyA9ICgwLCBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMi5kZWZhdWx0KShvYmplY3QsIHByb3BlcnR5KTtcblxuICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHBhcmVudCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKG9iamVjdCk7XG5cbiAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XG5cbiAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///115\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ObjectType = exports.ChangeType = undefined;\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\n__webpack_require__(121);\n\nvar _utils = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar objectType = { ARRAY: '[object Array]', OBJECT: '[object Object]' };\n\n/**\n * @access private\n * Main class that maintains a JSON object, and observes changes in this object, recursively.\n * Internal objects and arrays are also observed.\n */\n\nvar SyncObject = function () {\n  function SyncObject(initialData) {\n    (0, _classCallCheck3.default)(this, SyncObject);\n\n    var _this = this;\n\n    _this._observers = [];\n    _this._filters = {};\n\n    this._data = initialData || {};\n\n    this._internalObserve(this._data);\n  }\n\n  (0, _createClass3.default)(SyncObject, [{\n    key: 'observe',\n    value: function observe(callback) {\n      this._observers.push(callback);\n    }\n  }, {\n    key: 'find',\n    value: function find(path) {\n      var list = (0, _utils.parseAttributes)(path);\n\n      return this._findWithSplit(list);\n    }\n  }, {\n    key: 'findBefore',\n    value: function findBefore(path) {\n      var result = {};\n      var list = (0, _utils.parseAttributes)(path);\n      result.last = list.pop();\n      result.obj = this._findWithSplit(list);\n\n      return result;\n    }\n  }, {\n    key: '_findWithSplit',\n    value: function _findWithSplit(list) {\n      var obj = this._data;\n      list.forEach(function (value) {\n        obj = obj[value];\n      });\n\n      return obj;\n    }\n  }, {\n    key: '_internalObserve',\n    value: function _internalObserve(object) {\n      var _this2 = this;\n\n      var handler = function handler(changeset) {\n\n        changeset.every(function (change) {\n          _this2._onChanges(change);\n        });\n      };\n\n      this._data = Object.deepObserve(object, handler);\n    }\n  }, {\n    key: '_fireEvent',\n    value: function _fireEvent(event) {\n      this._observers.forEach(function (callback) {\n        callback(event);\n      });\n    }\n  }, {\n    key: '_onChanges',\n    value: function _onChanges(change) {\n\n      var obj = change.object;\n      var objType = void 0;\n\n      if (obj.constructor === Object) {\n        objType = ObjectType.OBJECT;\n      }\n\n      if (obj.constructor === Array) {\n        objType = ObjectType.ARRAY;\n      }\n\n      var fieldString = change.keypath;\n\n      // console.log('Field:', fieldString);\n      // console.log('type:', change.type);\n\n      //let oldValue = change.oldValue;\n      var newValue = obj[change.name];\n\n      // console.info(change.type + ' | Field: ' + fieldString + ' | New Value:', JSON.stringify(newValue), fieldString.includes('length'));\n\n      if (change.type === 'update' && !fieldString.includes('.length')) {\n        this._fireEvent({\n          cType: ChangeType.UPDATE,\n          oType: objType,\n          field: fieldString,\n          data: newValue\n        });\n      }\n\n      if (change.type === 'add') {\n        this._fireEvent({\n          cType: ChangeType.ADD,\n          oType: objType,\n          field: fieldString,\n          data: newValue\n        });\n      }\n\n      if (change.type === 'delete') {\n        this._fireEvent({\n          cType: ChangeType.REMOVE,\n          oType: objType,\n          field: fieldString\n        });\n      }\n    }\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._data;\n    }\n  }]);\n  return SyncObject;\n}();\n\nvar ChangeType = exports.ChangeType = { UPDATE: 'update', ADD: 'add', REMOVE: 'remove' };\nvar ObjectType = exports.ObjectType = { OBJECT: 'object', ARRAY: 'array' };\nexports.default = SyncObject;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9Qcm94eU9iamVjdC5qcz85OGI3Il0sIm5hbWVzIjpbIm9iamVjdFR5cGUiLCJBUlJBWSIsIk9CSkVDVCIsIlN5bmNPYmplY3QiLCJpbml0aWFsRGF0YSIsIl90aGlzIiwiX29ic2VydmVycyIsIl9maWx0ZXJzIiwiX2RhdGEiLCJfaW50ZXJuYWxPYnNlcnZlIiwiY2FsbGJhY2siLCJwdXNoIiwicGF0aCIsImxpc3QiLCJfZmluZFdpdGhTcGxpdCIsInJlc3VsdCIsImxhc3QiLCJwb3AiLCJvYmoiLCJmb3JFYWNoIiwidmFsdWUiLCJvYmplY3QiLCJoYW5kbGVyIiwiY2hhbmdlc2V0IiwiZXZlcnkiLCJjaGFuZ2UiLCJfb25DaGFuZ2VzIiwiT2JqZWN0IiwiZGVlcE9ic2VydmUiLCJldmVudCIsIm9ialR5cGUiLCJjb25zdHJ1Y3RvciIsIk9iamVjdFR5cGUiLCJBcnJheSIsImZpZWxkU3RyaW5nIiwia2V5cGF0aCIsIm5ld1ZhbHVlIiwibmFtZSIsInR5cGUiLCJpbmNsdWRlcyIsIl9maXJlRXZlbnQiLCJjVHlwZSIsIkNoYW5nZVR5cGUiLCJVUERBVEUiLCJvVHlwZSIsImZpZWxkIiwiZGF0YSIsIkFERCIsIlJFTU9WRSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxhQUFhLEVBQUNDLE9BQU8sZ0JBQVIsRUFBMEJDLFFBQVEsaUJBQWxDLEVBQW5COztBQUVBOzs7Ozs7SUFLTUMsVTtBQUVKLHNCQUFZQyxXQUFaLEVBQXlCO0FBQUE7O0FBQ3ZCLFFBQUlDLFFBQVEsSUFBWjs7QUFFQUEsVUFBTUMsVUFBTixHQUFtQixFQUFuQjtBQUNBRCxVQUFNRSxRQUFOLEdBQWlCLEVBQWpCOztBQUVBLFNBQUtDLEtBQUwsR0FBYUosZUFBZSxFQUE1Qjs7QUFFQSxTQUFLSyxnQkFBTCxDQUFzQixLQUFLRCxLQUEzQjtBQUNEOzs7OzRCQUlPRSxRLEVBQVU7QUFDaEIsV0FB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cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdwcm94eS1vYnNlcnZlJztcbmltcG9ydCB7cGFyc2VBdHRyaWJ1dGVzfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5cbmNvbnN0IG9iamVjdFR5cGUgPSB7QVJSQVk6ICdbb2JqZWN0IEFycmF5XScsIE9CSkVDVDogJ1tvYmplY3QgT2JqZWN0XScgfTtcblxuLyoqXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqIE1haW4gY2xhc3MgdGhhdCBtYWludGFpbnMgYSBKU09OIG9iamVjdCwgYW5kIG9ic2VydmVzIGNoYW5nZXMgaW4gdGhpcyBvYmplY3QsIHJlY3Vyc2l2ZWx5LlxuICogSW50ZXJuYWwgb2JqZWN0cyBhbmQgYXJyYXlzIGFyZSBhbHNvIG9ic2VydmVkLlxuICovXG5jbGFzcyBTeW5jT2JqZWN0IHtcblxuICBjb25zdHJ1Y3Rvcihpbml0aWFsRGF0YSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fb2JzZXJ2ZXJzID0gW107XG4gICAgX3RoaXMuX2ZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMuX2RhdGEgPSBpbml0aWFsRGF0YSB8fCB7fTtcblxuICAgIHRoaXMuX2ludGVybmFsT2JzZXJ2ZSh0aGlzLl9kYXRhKTtcbiAgfVxuXG4gIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fZGF0YTsgfVxuXG4gIG9ic2VydmUoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9vYnNlcnZlcnMucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBmaW5kKHBhdGgpIHtcbiAgICBsZXQgbGlzdCA9IHBhcnNlQXR0cmlidXRlcyhwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KGxpc3QpO1xuICB9XG5cbiAgZmluZEJlZm9yZShwYXRoKSB7XG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGxldCBsaXN0ID0gcGFyc2VBdHRyaWJ1dGVzKHBhdGgpO1xuICAgIHJlc3VsdC5sYXN0ID0gbGlzdC5wb3AoKTtcbiAgICByZXN1bHQub2JqID0gdGhpcy5fZmluZFdpdGhTcGxpdChsaXN0KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBfZmluZFdpdGhTcGxpdChsaXN0KSB7XG4gICAgbGV0IG9iaiA9IHRoaXMuX2RhdGE7XG4gICAgbGlzdC5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgb2JqID0gb2JqW3ZhbHVlXTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBfaW50ZXJuYWxPYnNlcnZlKG9iamVjdCkge1xuXG4gICAgbGV0IGhhbmRsZXIgPSAoY2hhbmdlc2V0KSA9PiB7XG5cbiAgICAgIGNoYW5nZXNldC5ldmVyeSgoY2hhbmdlKSA9PiB7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlcyhjaGFuZ2UpO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgdGhpcy5fZGF0YSA9IE9iamVjdC5kZWVwT2JzZXJ2ZShvYmplY3QsIGhhbmRsZXIpO1xuXG4gIH1cblxuICBfZmlyZUV2ZW50KGV2ZW50KSB7XG4gICAgdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBfb25DaGFuZ2VzKGNoYW5nZSkge1xuXG4gICAgbGV0IG9iaiA9IGNoYW5nZS5vYmplY3Q7XG4gICAgbGV0IG9ialR5cGU7XG5cbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgIG9ialR5cGUgPSBPYmplY3RUeXBlLk9CSkVDVDtcbiAgICB9XG5cbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgb2JqVHlwZSA9IE9iamVjdFR5cGUuQVJSQVk7XG4gICAgfVxuXG4gICAgbGV0IGZpZWxkU3RyaW5nID0gY2hhbmdlLmtleXBhdGg7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnRmllbGQ6JywgZmllbGRTdHJpbmcpO1xuICAgIC8vIGNvbnNvbGUubG9nKCd0eXBlOicsIGNoYW5nZS50eXBlKTtcblxuICAgIC8vbGV0IG9sZFZhbHVlID0gY2hhbmdlLm9sZFZhbHVlO1xuICAgIGxldCBuZXdWYWx1ZSA9IG9ialtjaGFuZ2UubmFtZV07XG5cbiAgICAvLyBjb25zb2xlLmluZm8oY2hhbmdlLnR5cGUgKyAnIHwgRmllbGQ6ICcgKyBmaWVsZFN0cmluZyArICcgfCBOZXcgVmFsdWU6JywgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpLCBmaWVsZFN0cmluZy5pbmNsdWRlcygnbGVuZ3RoJykpO1xuXG4gICAgaWYgKGNoYW5nZS50eXBlID09PSAndXBkYXRlJyAmJiAhZmllbGRTdHJpbmcuaW5jbHVkZXMoJy5sZW5ndGgnKSkge1xuICAgICAgdGhpcy5fZmlyZUV2ZW50KHtcbiAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuVVBEQVRFLFxuICAgICAgICBvVHlwZTogb2JqVHlwZSxcbiAgICAgICAgZmllbGQ6IGZpZWxkU3RyaW5nLFxuICAgICAgICBkYXRhOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZS50eXBlID09PSAnYWRkJykge1xuICAgICAgdGhpcy5fZmlyZUV2ZW50KHtcbiAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuQURELFxuICAgICAgICBvVHlwZTogb2JqVHlwZSxcbiAgICAgICAgZmllbGQ6IGZpZWxkU3RyaW5nLFxuICAgICAgICBkYXRhOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZS50eXBlID09PSAnZGVsZXRlJykge1xuICAgICAgdGhpcy5fZmlyZUV2ZW50KHtcbiAgICAgICAgY1R5cGU6IENoYW5nZVR5cGUuUkVNT1ZFLFxuICAgICAgICBvVHlwZTogb2JqVHlwZSxcbiAgICAgICAgZmllbGQ6IGZpZWxkU3RyaW5nXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgbGV0IENoYW5nZVR5cGUgPSB7VVBEQVRFOiAndXBkYXRlJywgQUREOiAnYWRkJywgUkVNT1ZFOiAncmVtb3ZlJ307XG5leHBvcnQgbGV0IE9iamVjdFR5cGUgPSB7T0JKRUNUOiAnb2JqZWN0JywgQVJSQVk6ICdhcnJheSd9O1xuZXhwb3J0IGRlZmF1bHQgU3luY09iamVjdDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zeW5jaGVyL1Byb3h5T2JqZWN0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///116\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _ProxyObject = __webpack_require__(116);\n\nvar _ProxyObject2 = _interopRequireDefault(_ProxyObject);\n\nvar _utils = __webpack_require__(21);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObjectChild'); /**\n                                               * Copyright 2016 PT Inovação e Sistemas SA\n                                               * Copyright 2016 INESC-ID\n                                               * Copyright 2016 QUOBIS NETWORKS SL\n                                               * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                               * Copyright 2016 ORANGE SA\n                                               * Copyright 2016 Deutsche Telekom AG\n                                               * Copyright 2016 Apizee\n                                               * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                               *\n                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                               * you may not use this file except in compliance with the License.\n                                               * You may obtain a copy of the License at\n                                               *\n                                               *   http://www.apache.org/licenses/LICENSE-2.0\n                                               *\n                                               * Unless required by applicable law or agreed to in writing, software\n                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                               * See the License for the specific language governing permissions and\n                                               * limitations under the License.\n                                               **/\n// Log System\n\n/**\n * The class returned from the DataObject addChildren call or from onAddChildren if remotely created.\n */\nvar DataObjectChild /* implements SyncStatus */ = function () {\n  /* private\n   ----event handlers----\n  _onResponseHandler: (event) => void\n  */\n\n  /**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the DataObject.addChild\n   */\n  function DataObjectChild(input) {\n    (0, _classCallCheck3.default)(this, DataObjectChild);\n\n    var _this = this;\n\n    function throwMandatoryParmMissingError(par) {\n      throw '[DataObjectChild] ' + par + ' mandatory parameter is missing';\n    }\n\n    input.parent ? _this._parent = input.parent : throwMandatoryParmMissingError('parent');\n    input.url ? _this._url = input.url : throwMandatoryParmMissingError('url');\n    input.created ? _this._created = input.created : throwMandatoryParmMissingError('created');\n    input.reporter ? _this._reporter = input.reporter : throwMandatoryParmMissingError('reporter');\n    input.runtime ? _this._runtime = input.runtime : throwMandatoryParmMissingError('runtime');\n    input.schema ? _this._schema = input.schema : throwMandatoryParmMissingError('schema');\n    input.parentObject ? _this._parentObject = input.parentObject : throwMandatoryParmMissingError('parentObject');\n\n    if (input.name) _this._name = input.name;\n    if (input.description) _this._description = input.description;\n    if (input.tags) _this._tags = input.tags;\n    if (input.resources) _this._resources = input.resources;\n    if (input.observerStorage) _this._observerStorage = input.observerStorage;\n    if (input.publicObservation) _this._publicObservation = input.publicObservation;\n\n    _this._childId = input.url;\n\n    if (input.data) {\n      _this._syncObj = new _ProxyObject2.default(input.data);\n    } else {\n      _this._syncObj = new _ProxyObject2.default({});\n    }\n\n    log.log('[DataObjectChild -  Constructor] - ', _this._syncObj);\n\n    _this._bus = _this._parentObject._bus;\n    _this._owner = _this._parentObject._owner;\n\n    _this._allocateListeners();\n\n    _this._metadata = input;\n\n    // delete _this._metadata.data;\n    delete _this._metadata.parentObject;\n\n    _this._sharingStatus = false;\n  }\n\n  (0, _createClass3.default)(DataObjectChild, [{\n    key: 'share',\n\n\n    /**\n     * This function is used to share the child Object among authorised Hyperties\n     * @param  {boolean}     reporter  If true the child object is only shared to Parent reporter\n     * @return {Promise<JSON>}        It returns a promise with the sharing results.\n     */\n\n    value: function share(toReporter) {\n      var _this = this;\n\n      _this._sharingStatus = new _promise2.default(function (resolve, reject) {\n\n        var to = void 0;\n        var reporter = toReporter;\n\n        if (reporter) {\n          to = _this.metadata.parent;\n        } else to = _this.metadata.parent + '/children/' + _this.metadata.children;\n\n        var childValue = _this.metadata;\n        childValue.data = _this.data;\n\n        //FLOW-OUT: this message will be sent directly to a resource child address: MessageBus\n        var requestMsg = {\n          type: 'create', from: _this.metadata.reporter, to: to,\n          body: { resource: childValue.url, value: childValue }\n        };\n\n        if (_this.identity) {\n          requestMsg.body.identity = _this.identity;\n        }\n\n        //to be used to disable mutual authentication for legacy users\n\n        if (_this._parentObject.data.hasOwnProperty('mutual')) requestMsg.body.mutual = _this._parentObject.data.mutual;\n\n        if (_this._parentObject.metadata.reporter === _this.metadata.reporter) {\n          _this._bus.postMessage((0, _utils.deepClone)(requestMsg));\n          return resolve();\n        } else {\n\n          var callback = function callback(reply) {\n\n            if (reply.to === _this._reporter) {\n              _this._bus.removeResponseListener(requestMsg.from, reply.id);\n\n              log.log('[Syncher.DataObjectChild.share] Parent reporter reply ', reply);\n\n              var result = {\n                code: reply.body && reply.body.code ? reply.body.code : 500,\n                desc: reply.body && reply.body.desc ? reply.body.desc : 'Unknown'\n              };\n\n              if (reply.body.code < 300) {\n                return resolve(result);\n              } else return reject(result);\n            }\n          };\n\n          var id = _this._bus.postMessage((0, _utils.deepClone)(requestMsg), callback, false);\n\n          setTimeout(function () {\n\n            // If Reporter does  not reply the promise is rejected\n            _this._bus.removeResponseListener(requestMsg.from, id);\n\n            var result = {\n              code: 408,\n              desc: 'timout'\n            };\n            return reject(result);\n          }, 3000);\n        }\n      });\n    }\n\n    /**\n       * This function is used to share the child Object among authorised Hyperties\n       * @param  {boolean}     reporter  If true the child object is only shared to Parent reporter\n       * @return {Promise<JSON>}        It returns a promise with the sharing results.\n       */\n\n  }, {\n    key: 'store',\n    value: function store() {\n      var _this = this;\n\n      var child = {};\n      var key = _this.metadata.children + '.' + _this.metadata.url;\n\n      child.value = _this.metadata;\n      child.identity = _this.identity;\n\n      var msg = {\n\n        from: _this.metadata.reporter,\n        to: _this._parentObject._syncher._subURL,\n        type: 'create',\n        body: {\n          resource: _this.metadata.parent,\n          attribute: key,\n          value: child\n        }\n      };\n\n      log.log('[DataObjectChild.store]:', msg);\n\n      _this._bus.postMessage(msg);\n    }\n  }, {\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this = this;\n\n      //this is only needed for children reporters\n      if (_this._reporter === _this._owner) {\n        _this._listener = _this._bus.addListener(_this._reporter, function (msg) {\n          if (msg.type === 'response' && msg.id === _this._msgId) {\n            log.log('DataObjectChild.onResponse:', msg);\n            _this._onResponse(msg);\n          }\n        });\n      }\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      if (_this._listener) {\n        _this._listener.remove();\n      }\n    }\n\n    /**\n     * Release and delete object data\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._releaseListeners();\n\n      //TODO: send delete message ?\n\n      // nothing to be done\n      // return new Promise((resolve) => {\n      //   log.log('[DataObjectChild.delete]');\n      //   resolve();\n      // });\n    }\n\n    /**\n     * All Metadata about the Child Data Object\n     * @type {Object} -\n     */\n\n  }, {\n    key: 'onChange',\n\n\n    /**\n     * Register the change listeners sent by the reporter child\n     * @param {function(event: MsgEvent)} callback\n     */\n    value: function onChange(callback) {\n      this._syncObj.observe(function (event) {\n        log.log('[DataObjectChild - observer] - ', event);\n        callback(event);\n      });\n    }\n\n    /**\n     * Setup the callback to process response notifications of the creates\n     * @param {function(event: MsgEvent)} callback\n     */\n\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      this._onResponseHandler = callback;\n    }\n\n    //FLOW-IN: message received from a remote DataObject -> _onChildCreate\n\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.body.source,\n        code: msg.body.code\n      };\n\n      if (_this._onResponseHandler) {\n        _this._onResponseHandler(event);\n      }\n    }\n  }, {\n    key: 'shareable',\n    get: function get() {\n      var shareable = this.metadata;\n      shareable.data = this.data;\n\n      return shareable;\n    }\n  }, {\n    key: 'metadata',\n    get: function get() {\n      return this._metadata;\n    }\n\n    /**\n     * Children ID generated on addChildren. Unique identifier\n     * @type {URL} - URL of the format <HypertyURL>#<numeric-sequence>\n     */\n\n  }, {\n    key: 'childId',\n    get: function get() {\n      return this._childId;\n    }\n\n    /**\n     * Data Structure to be synchronized.\n     * @type {JSON} - JSON structure that should follow the defined schema, if any.\n     */\n\n  }, {\n    key: 'sharingStatus',\n    get: function get() {\n      return this._sharingStatus;\n    }\n\n    /**\n      * Data Structure to be synchronized.\n      * @type {JSON} - JSON structure that should follow the defined schema, if any.\n      */\n\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._syncObj.data;\n    }\n\n    /**\n     * Set for this dataObjectChild an identity\n     * @method identity\n     * @param  {Identity} identity identity from who created the message\n     */\n\n  }, {\n    key: 'identity',\n    set: function set(identity) {\n      this._identity = identity;\n    }\n\n    /**\n     * Get for this dataObjectChild an identity\n     * @method identity\n     * @return {Identity} identity from who created the message\n     */\n    ,\n    get: function get() {\n      return this._identity;\n    }\n  }]);\n  return DataObjectChild;\n}();\n\nexports.default = DataObjectChild;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0Q2hpbGQuanM/MDViYSJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJEYXRhT2JqZWN0Q2hpbGQiLCJpbnB1dCIsIl90aGlzIiwidGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yIiwicGFyIiwicGFyZW50IiwiX3BhcmVudCIsInVybCIsIl91cmwiLCJjcmVhdGVkIiwiX2NyZWF0ZWQiLCJyZXBvcnRlciIsIl9yZXBvcnRlciIsInJ1bnRpbWUiLCJfcnVudGltZSIsInNjaGVtYSIsIl9zY2hlbWEiLCJwYXJlbnRPYmplY3QiLCJfcGFyZW50T2JqZWN0IiwibmFtZSIsIl9uYW1lIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJ0YWdzIiwiX3RhZ3MiLCJyZXNvdXJjZXMiLCJfcmVzb3VyY2VzIiwib2JzZXJ2ZXJTdG9yYWdlIiwiX29ic2VydmVyU3RvcmFnZSIsInB1YmxpY09ic2VydmF0aW9uIiwiX3B1YmxpY09ic2VydmF0aW9uIiwiX2NoaWxkSWQiLCJkYXRhIiwiX3N5bmNPYmoiLCJfYnVzIiwiX293bmVyIiwiX2FsbG9jYXRlTGlzdGVuZXJzIiwiX21ldGFkYXRhIiwiX3NoYXJpbmdTdGF0dXMiLCJ0b1JlcG9ydGVyIiwicmVzb2x2ZSIsInJlamVjdCIsInRvIiwibWV0YWRhdGEiLCJjaGlsZHJlbiIsImNoaWxkVmFsdWUiLCJyZXF1ZXN0TXNnIiwidHlwZSIsImZyb20iLCJib2R5IiwicmVzb3VyY2UiLCJ2YWx1ZSIsImlkZW50aXR5IiwiaGFzT3duUHJvcGVydHkiLCJtdXR1YWwiLCJwb3N0TWVzc2FnZSIsImNhbGxiYWNrIiwicmVwbHkiLCJyZW1vdmVSZXNwb25zZUxpc3RlbmVyIiwiaWQiLCJyZXN1bHQiLCJjb2RlIiwiZGVzYyIsInNldFRpbWVvdXQiLCJjaGlsZCIsImtleSIsIm1zZyIsIl9zeW5jaGVyIiwiX3N1YlVSTCIsImF0dHJpYnV0ZSIsIl9saXN0ZW5lciIsImFkZExpc3RlbmVyIiwiX21zZ0lkIiwiX29uUmVzcG9uc2UiLCJyZW1vdmUiLCJfcmVsZWFzZUxpc3RlbmVycyIsIm9ic2VydmUiLCJldmVudCIsIl9vblJlc3BvbnNlSGFuZGxlciIsInNvdXJjZSIsInNoYXJlYWJsZSIsIl9pZGVudGl0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztJQUFZQSxNOztBQUdaOzs7O0FBRUE7Ozs7OztBQUpBLElBQUlDLE1BQU1ELE9BQU9FLFNBQVAsQ0FBaUIsaUJBQWpCLENBQVYsQyxDQXhCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCQTs7QUFRQTs7O0lBR01DLGUsQ0FBZ0IsMkI7QUFDcEI7Ozs7O0FBTUE7Ozs7QUFJQSwyQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUNqQixRQUFJQyxRQUFRLElBQVo7O0FBRUEsYUFBU0MsOEJBQVQsQ0FBd0NDLEdBQXhDLEVBQTZDO0FBQzNDLFlBQU0sdUJBQXVCQSxHQUF2QixHQUE2QixpQ0FBbkM7QUFDRDs7QUFFREgsVUFBTUksTUFBTixHQUFnQkgsTUFBTUksT0FBTixHQUFnQkwsTUFBTUksTUFBdEMsR0FBK0NGLCtCQUErQixRQUEvQixDQUEvQztBQUNBRixVQUFNTSxHQUFOLEdBQWFMLE1BQU1NLElBQU4sR0FBYVAsTUFBTU0sR0FBaEMsR0FBc0NKLCtCQUErQixLQUEvQixDQUF0QztBQUNBRixVQUFNUSxPQUFOLEdBQWdCUCxNQUFNUSxRQUFOLEdBQWlCVCxNQUFNUSxPQUF2QyxHQUFpRE4sK0JBQStCLFNBQS9CLENBQWpEO0FBQ0FGLFVBQU1VLFFBQU4sR0FBaUJULE1BQU1VLFNBQU4sR0FBa0JYLE1BQU1VLFFBQXpDLEdBQW9EUiwrQkFBK0IsVUFBL0IsQ0FBcEQ7QUFDQUYsVUFBTVksT0FBTixHQUFnQlgsTUFBTVksUUFBTixHQUFpQmIsTUFBTVksT0FBdkMsR0FBaURWLCtCQUErQixTQUEvQixDQUFqRDtBQUNBRixVQUFNYyxNQUFOLEdBQWViLE1BQU1j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aEQsSUFBVixHQUFpQixLQUFLQSxJQUF0Qjs7QUFFQSxhQUFPZ0QsU0FBUDtBQUNEOzs7d0JBNkpjO0FBQUUsYUFBTyxLQUFLM0MsU0FBWjtBQUF3Qjs7QUFFekM7Ozs7Ozs7d0JBSWM7QUFBRSxhQUFPLEtBQUtOLFFBQVo7QUFBdUI7O0FBRXZDOzs7Ozs7O3dCQUtvQjtBQUNsQixhQUFPLEtBQUtPLGNBQVo7QUFDRDs7QUFFRDs7Ozs7Ozt3QkFLVztBQUFFLGFBQU8sS0FBS0wsUUFBTCxDQUFjRCxJQUFyQjtBQUE0Qjs7QUFFekM7Ozs7Ozs7O3NCQUthb0IsUSxFQUFVO0FBQUUsV0FBSzZCLFNBQUwsR0FBaUI3QixRQUFqQjtBQUE0Qjs7QUFFckQ7Ozs7Ozt3QkFLZTtBQUFFLGFBQU8sS0FBSzZCLFNBQVo7QUFBd0I7Ozs7O2tCQXNDNUJqRixlIiwiZmlsZSI6IjExNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cbi8vIExvZyBTeXN0ZW1cbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XG5sZXQgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignRGF0YU9iamVjdENoaWxkJyk7XG5cbmltcG9ydCBTeW5jT2JqZWN0IGZyb20gJy4vUHJveHlPYmplY3QnO1xuXG5pbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5cbi8qKlxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIERhdGFPYmplY3QgYWRkQ2hpbGRyZW4gY2FsbCBvciBmcm9tIG9uQWRkQ2hpbGRyZW4gaWYgcmVtb3RlbHkgY3JlYXRlZC5cbiAqL1xuY2xhc3MgRGF0YU9iamVjdENoaWxkIC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XG4gIC8qIHByaXZhdGVcblxuICAtLS0tZXZlbnQgaGFuZGxlcnMtLS0tXG4gIF9vblJlc3BvbnNlSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXG4gICovXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogU2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5IGJ5IEh5cGVydGllcy4gSXQncyBjYWxsZWQgYnkgdGhlIERhdGFPYmplY3QuYWRkQ2hpbGRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcihwYXIpIHtcbiAgICAgIHRocm93ICdbRGF0YU9iamVjdENoaWxkXSAnICsgcGFyICsgJyBtYW5kYXRvcnkgcGFyYW1ldGVyIGlzIG1pc3NpbmcnO1xuICAgIH1cblxuICAgIGlucHV0LnBhcmVudCA/ICBfdGhpcy5fcGFyZW50ID0gaW5wdXQucGFyZW50IDogdGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCdwYXJlbnQnKTtcbiAgICBpbnB1dC51cmwgPyAgX3RoaXMuX3VybCA9IGlucHV0LnVybCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigndXJsJyk7XG4gICAgaW5wdXQuY3JlYXRlZCA/IF90aGlzLl9jcmVhdGVkID0gaW5wdXQuY3JlYXRlZCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcignY3JlYXRlZCcpO1xuICAgIGlucHV0LnJlcG9ydGVyID8gX3RoaXMuX3JlcG9ydGVyID0gaW5wdXQucmVwb3J0ZXIgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3JlcG9ydGVyJyk7XG4gICAgaW5wdXQucnVudGltZSA/IF90aGlzLl9ydW50aW1lID0gaW5wdXQucnVudGltZSA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigncnVudGltZScpO1xuICAgIGlucHV0LnNjaGVtYSA/IF90aGlzLl9zY2hlbWEgPSBpbnB1dC5zY2hlbWEgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3NjaGVtYScpO1xuICAgIGlucHV0LnBhcmVudE9iamVjdCA/IF90aGlzLl9wYXJlbnRPYmplY3QgPSBpbnB1dC5wYXJlbnRPYmplY3QgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3BhcmVudE9iamVjdCcpO1xuXG4gICAgaWYgKGlucHV0Lm5hbWUpIF90aGlzLl9uYW1lID0gaW5wdXQubmFtZTtcbiAgICBpZiAoaW5wdXQuZGVzY3JpcHRpb24pIF90aGlzLl9kZXNjcmlwdGlvbiA9IGlucHV0LmRlc2NyaXB0aW9uO1xuICAgIGlmIChpbnB1dC50YWdzKSBfdGhpcy5fdGFncyA9IGlucHV0LnRhZ3M7XG4gICAgaWYgKGlucHV0LnJlc291cmNlcykgX3RoaXMuX3Jlc291cmNlcyA9IGlucHV0LnJlc291cmNlcztcbiAgICBpZiAoaW5wdXQub2JzZXJ2ZXJTdG9yYWdlKSBfdGhpcy5fb2JzZXJ2ZXJTdG9yYWdlID0gaW5wdXQub2JzZXJ2ZXJTdG9yYWdlO1xuICAgIGlmIChpbnB1dC5wdWJsaWNPYnNlcnZhdGlvbikgX3RoaXMuX3B1YmxpY09ic2VydmF0aW9uID0gaW5wdXQucHVibGljT2JzZXJ2YXRpb247XG5cbiAgICBfdGhpcy5fY2hpbGRJZCA9IGlucHV0LnVybDtcblxuICAgIGlmIChpbnB1dC5kYXRhKSB7XG4gICAgICBfdGhpcy5fc3luY09iaiA9IG5ldyBTeW5jT2JqZWN0KGlucHV0LmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5fc3luY09iaiA9IG5ldyBTeW5jT2JqZWN0KHt9KTtcbiAgICB9XG5cbiAgICBsb2cubG9nKCdbRGF0YU9iamVjdENoaWxkIC0gIENvbnN0cnVjdG9yXSAtICcsIF90aGlzLl9zeW5jT2JqKTtcblxuICAgIF90aGlzLl9idXMgPSBfdGhpcy5fcGFyZW50T2JqZWN0Ll9idXM7XG4gICAgX3RoaXMuX293bmVyID0gX3RoaXMuX3BhcmVudE9iamVjdC5fb3duZXI7XG5cbiAgICBfdGhpcy5fYWxsb2NhdGVMaXN0ZW5lcnMoKTtcblxuICAgIF90aGlzLl9tZXRhZGF0YSA9IGlucHV0O1xuXG4gICAgLy8gZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5kYXRhO1xuICAgIGRlbGV0ZSBfdGhpcy5fbWV0YWRhdGEucGFyZW50T2JqZWN0O1xuXG4gICAgX3RoaXMuX3NoYXJpbmdTdGF0dXMgPSBmYWxzZTtcblxuICB9XG5cbiAgZ2V0IHNoYXJlYWJsZSgpIHtcbiAgICBsZXQgc2hhcmVhYmxlID0gdGhpcy5tZXRhZGF0YTtcbiAgICBzaGFyZWFibGUuZGF0YSA9IHRoaXMuZGF0YTtcblxuICAgIHJldHVybiBzaGFyZWFibGU7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNoYXJlIHRoZSBjaGlsZCBPYmplY3QgYW1vbmcgYXV0aG9yaXNlZCBIeXBlcnRpZXNcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gICAgIHJlcG9ydGVyICBJZiB0cnVlIHRoZSBjaGlsZCBvYmplY3QgaXMgb25seSBzaGFyZWQgdG8gUGFyZW50IHJlcG9ydGVyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8SlNPTj59ICAgICAgICBJdCByZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHRoZSBzaGFyaW5nIHJlc3VsdHMuXG4gICAqL1xuXG4gIHNoYXJlKHRvUmVwb3J0ZXIpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX3NoYXJpbmdTdGF0dXMgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGxldCB0bztcbiAgICAgIGxldCByZXBvcnRlciA9IHRvUmVwb3J0ZXI7XG5cbiAgICAgIGlmIChyZXBvcnRlcikge1xuICAgICAgICB0byA9IF90aGlzLm1ldGFkYXRhLnBhcmVudDtcbiAgICAgIH0gZWxzZSB0byA9IF90aGlzLm1ldGFkYXRhLnBhcmVudCArICcvY2hpbGRyZW4vJyArIF90aGlzLm1ldGFkYXRhLmNoaWxkcmVuO1xuXG4gICAgICBsZXQgY2hpbGRWYWx1ZSA9IF90aGlzLm1ldGFkYXRhO1xuICAgICAgY2hpbGRWYWx1ZS5kYXRhID0gX3RoaXMuZGF0YTtcblxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCBkaXJlY3RseSB0byBhIHJlc291cmNlIGNoaWxkIGFkZHJlc3M6IE1lc3NhZ2VCdXNcbiAgICAgIGxldCByZXF1ZXN0TXNnID0ge1xuICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMubWV0YWRhdGEucmVwb3J0ZXIsIHRvOiB0byxcbiAgICAgICAgYm9keTogeyByZXNvdXJjZTogY2hpbGRWYWx1ZS51cmwsIHZhbHVlOiBjaGlsZFZhbHVlIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChfdGhpcy5pZGVudGl0eSkgICAgICB7XG4gICAgICAgIHJlcXVlc3RNc2cuYm9keS5pZGVudGl0eSA9IF90aGlzLmlkZW50aXR5O1xuICAgICAgfVxuXG4gICAgICAvL3RvIGJlIHVzZWQgdG8gZGlzYWJsZSBtdXR1YWwgYXV0aGVudGljYXRpb24gZm9yIGxlZ2FjeSB1c2Vyc1xuXG4gICAgICBpZiAoX3RoaXMuX3BhcmVudE9iamVjdC5kYXRhLmhhc093blByb3BlcnR5KCdtdXR1YWwnKSkgcmVxdWVzdE1zZy5ib2R5Lm11dHVhbCA9IF90aGlzLl9wYXJlbnRPYmplY3QuZGF0YS5tdXR1YWw7XG5cbiAgICAgIGlmIChfdGhpcy5fcGFyZW50T2JqZWN0Lm1ldGFkYXRhLnJlcG9ydGVyID09PSBfdGhpcy5tZXRhZGF0YS5yZXBvcnRlcikge1xuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKGRlZXBDbG9uZShyZXF1ZXN0TXNnKSk7XG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGxldCBjYWxsYmFjayA9IChyZXBseSkgPT4ge1xuXG4gICAgICAgICAgaWYgKHJlcGx5LnRvID09PSBfdGhpcy5fcmVwb3J0ZXIpIHtcbiAgICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyZXF1ZXN0TXNnLmZyb20sIHJlcGx5LmlkKTtcblxuICAgICAgICAgICAgbG9nLmxvZygnW1N5bmNoZXIuRGF0YU9iamVjdENoaWxkLnNoYXJlXSBQYXJlbnQgcmVwb3J0ZXIgcmVwbHkgJywgcmVwbHkpO1xuXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICBjb2RlOiByZXBseS5ib2R5ICYmIHJlcGx5LmJvZHkuY29kZSA/IHJlcGx5LmJvZHkuY29kZSA6IDUwMCxcbiAgICAgICAgICAgICAgZGVzYzogcmVwbHkuYm9keSAmJiByZXBseS5ib2R5LmRlc2MgPyByZXBseS5ib2R5LmRlc2MgOiAnVW5rbm93bidcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPCAzMDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gcmVqZWN0KHJlc3VsdCk7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGlkID0gX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShkZWVwQ2xvbmUocmVxdWVzdE1zZyksIGNhbGxiYWNrLCBmYWxzZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcblxuICAgICAgICAgIC8vIElmIFJlcG9ydGVyIGRvZXMgIG5vdCByZXBseSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZFxuICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyZXF1ZXN0TXNnLmZyb20sIGlkKTtcblxuICAgICAgICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgICAgICBjb2RlOiA0MDgsXG4gICAgICAgICAgICBkZXNjOiAndGltb3V0J1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChyZXN1bHQpO1xuXG4gICAgICAgIH0sIDMwMDApO1xuXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzaGFyZSB0aGUgY2hpbGQgT2JqZWN0IGFtb25nIGF1dGhvcmlzZWQgSHlwZXJ0aWVzXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gICAgIHJlcG9ydGVyICBJZiB0cnVlIHRoZSBjaGlsZCBvYmplY3QgaXMgb25seSBzaGFyZWQgdG8gUGFyZW50IHJlcG9ydGVyXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxKU09OPn0gICAgICAgIEl0IHJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIHNoYXJpbmcgcmVzdWx0cy5cbiAgICAgKi9cblxuICBzdG9yZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGNoaWxkID0ge307XG4gICAgbGV0IGtleSA9IF90aGlzLm1ldGFkYXRhLmNoaWxkcmVuICsgJy4nICsgX3RoaXMubWV0YWRhdGEudXJsO1xuXG4gICAgY2hpbGQudmFsdWUgPSBfdGhpcy5tZXRhZGF0YTtcbiAgICBjaGlsZC5pZGVudGl0eSA9IF90aGlzLmlkZW50aXR5O1xuXG4gICAgbGV0IG1zZyA9IHtcblxuICAgICAgZnJvbTogX3RoaXMubWV0YWRhdGEucmVwb3J0ZXIsXG4gICAgICB0bzogX3RoaXMuX3BhcmVudE9iamVjdC5fc3luY2hlci5fc3ViVVJMLFxuICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICBib2R5OiB7XG4gICAgICAgIHJlc291cmNlOiBfdGhpcy5tZXRhZGF0YS5wYXJlbnQsXG4gICAgICAgIGF0dHJpYnV0ZToga2V5LFxuICAgICAgICB2YWx1ZTogY2hpbGRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9nLmxvZygnW0RhdGFPYmplY3RDaGlsZC5zdG9yZV06JywgbXNnKTtcblxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UobXNnKTtcbiAgfVxuXG4gIF9hbGxvY2F0ZUxpc3RlbmVycygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy90aGlzIGlzIG9ubHkgbmVlZGVkIGZvciBjaGlsZHJlbiByZXBvcnRlcnNcbiAgICBpZiAoX3RoaXMuX3JlcG9ydGVyID09PSBfdGhpcy5fb3duZXIpIHtcbiAgICAgIF90aGlzLl9saXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoX3RoaXMuX3JlcG9ydGVyLCAobXNnKSA9PiB7XG4gICAgICAgIGlmIChtc2cudHlwZSA9PT0gJ3Jlc3BvbnNlJyAmJiBtc2cuaWQgPT09IF90aGlzLl9tc2dJZCkge1xuICAgICAgICAgIGxvZy5sb2coJ0RhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOicsIG1zZyk7XG4gICAgICAgICAgX3RoaXMuX29uUmVzcG9uc2UobXNnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX3JlbGVhc2VMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5fbGlzdGVuZXIpIHtcbiAgICAgIF90aGlzLl9saXN0ZW5lci5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZSBhbmQgZGVsZXRlIG9iamVjdCBkYXRhXG4gICAqL1xuICBkZWxldGUoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuXG4gICAgX3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcblxuICAgIC8vVE9ETzogc2VuZCBkZWxldGUgbWVzc2FnZSA/XG5cbiAgICAvLyBub3RoaW5nIHRvIGJlIGRvbmVcbiAgICAvLyByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAvLyAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0Q2hpbGQuZGVsZXRlXScpO1xuICAgIC8vICAgcmVzb2x2ZSgpO1xuICAgIC8vIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbCBNZXRhZGF0YSBhYm91dCB0aGUgQ2hpbGQgRGF0YSBPYmplY3RcbiAgICogQHR5cGUge09iamVjdH0gLVxuICAgKi9cbiAgZ2V0IG1ldGFkYXRhKCkgeyByZXR1cm4gdGhpcy5fbWV0YWRhdGE7IH1cblxuICAvKipcbiAgICogQ2hpbGRyZW4gSUQgZ2VuZXJhdGVkIG9uIGFkZENoaWxkcmVuLiBVbmlxdWUgaWRlbnRpZmllclxuICAgKiBAdHlwZSB7VVJMfSAtIFVSTCBvZiB0aGUgZm9ybWF0IDxIeXBlcnR5VVJMPiM8bnVtZXJpYy1zZXF1ZW5jZT5cbiAgICovXG4gIGdldCBjaGlsZElkKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRJZDsgfVxuXG4gIC8qKlxuICAgKiBEYXRhIFN0cnVjdHVyZSB0byBiZSBzeW5jaHJvbml6ZWQuXG4gICAqIEB0eXBlIHtKU09OfSAtIEpTT04gc3RydWN0dXJlIHRoYXQgc2hvdWxkIGZvbGxvdyB0aGUgZGVmaW5lZCBzY2hlbWEsIGlmIGFueS5cbiAgICovXG5cbiAgZ2V0IHNoYXJpbmdTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NoYXJpbmdTdGF0dXM7XG4gIH1cblxuICAvKipcbiAgICAqIERhdGEgU3RydWN0dXJlIHRvIGJlIHN5bmNocm9uaXplZC5cbiAgICAqIEB0eXBlIHtKU09OfSAtIEpTT04gc3RydWN0dXJlIHRoYXQgc2hvdWxkIGZvbGxvdyB0aGUgZGVmaW5lZCBzY2hlbWEsIGlmIGFueS5cbiAgICAqL1xuXG4gIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fc3luY09iai5kYXRhOyB9XG5cbiAgLyoqXG4gICAqIFNldCBmb3IgdGhpcyBkYXRhT2JqZWN0Q2hpbGQgYW4gaWRlbnRpdHlcbiAgICogQG1ldGhvZCBpZGVudGl0eVxuICAgKiBAcGFyYW0gIHtJZGVudGl0eX0gaWRlbnRpdHkgaWRlbnRpdHkgZnJvbSB3aG8gY3JlYXRlZCB0aGUgbWVzc2FnZVxuICAgKi9cbiAgc2V0IGlkZW50aXR5KGlkZW50aXR5KSB7IHRoaXMuX2lkZW50aXR5ID0gaWRlbnRpdHk7IH1cblxuICAvKipcbiAgICogR2V0IGZvciB0aGlzIGRhdGFPYmplY3RDaGlsZCBhbiBpZGVudGl0eVxuICAgKiBAbWV0aG9kIGlkZW50aXR5XG4gICAqIEByZXR1cm4ge0lkZW50aXR5fSBpZGVudGl0eSBmcm9tIHdobyBjcmVhdGVkIHRoZSBtZXNzYWdlXG4gICAqL1xuICBnZXQgaWRlbnRpdHkoKSB7IHJldHVybiB0aGlzLl9pZGVudGl0eTsgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgY2hhbmdlIGxpc3RlbmVycyBzZW50IGJ5IHRoZSByZXBvcnRlciBjaGlsZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuICBvbkNoYW5nZShjYWxsYmFjaykge1xuICAgIHRoaXMuX3N5bmNPYmoub2JzZXJ2ZSgoZXZlbnQpID0+IHtcbiAgICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0Q2hpbGQgLSBvYnNlcnZlcl0gLSAnLCBldmVudCk7XG4gICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVzcG9uc2Ugbm90aWZpY2F0aW9ucyBvZiB0aGUgY3JlYXRlc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuICBvblJlc3BvbnNlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25SZXNwb25zZUhhbmRsZXIgPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3QgLT4gX29uQ2hpbGRDcmVhdGVcbiAgX29uUmVzcG9uc2UobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxuICAgICAgdXJsOiBtc2cuYm9keS5zb3VyY2UsXG4gICAgICBjb2RlOiBtc2cuYm9keS5jb2RlXG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIpIHtcbiAgICAgIF90aGlzLl9vblJlc3BvbnNlSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdENoaWxkO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmNoZXIvRGF0YU9iamVjdENoaWxkLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///117\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(119);\nmodule.exports = __webpack_require__(0).Object.assign;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanM/NTc3YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwiZmlsZSI6IjExOC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5hc3NpZ247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qc1xuLy8gbW9kdWxlIGlkID0gMTE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgOCAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///118\n")},function(module,exports,__webpack_require__){eval("// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(5);\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(120) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanM/NDc4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBLDBDQUEwQyxtQ0FBc0MiLCJmaWxlIjoiMTE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0JywgeyBhc3NpZ246IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKSB9KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA4IDEwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///119\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = __webpack_require__(17);\nvar gOPS = __webpack_require__(42);\nvar pIE = __webpack_require__(31);\nvar toObject = __webpack_require__(33);\nvar IObject = __webpack_require__(56);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(12)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanM/NGU4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsVUFBVSxFQUFFO0FBQ2hELG1CQUFtQixzQ0FBc0M7QUFDekQsQ0FBQyxxQ0FBcUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJmaWxlIjoiMTIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICB2YXIgaXNFbnVtID0gcElFLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWFzc2lnbi5qc1xuLy8gbW9kdWxlIGlkID0gMTIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgOCAxMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///120\n")},function(module,exports){eval('//     proxy-observe v0.0.18\r\n//     Copyright (c) 2015, 2016 Simon Y. Blackwell, AnyWhichWay\r\n//     MIT License - http://opensource.org/licenses/mit-license.php\r\n(function() {\r\n\t"use strict";\r\n\t// Creates and returns a Proxy wrapping a target so that all changes can be trapped and forwarded to\r\n\t// a callback. The callback takes an array of changes just like the traditional original Chrome Object.observe\r\n\t// {object:<object changed>,name:<field changed>,type:add|update|delete|reconfigure|preventExtensions|setPrototype,oldValue:<old value if update | delete>}\r\n\t// The acceptlist can be add|update|delete|reconfigure|preventExtensions|setPrototype.\r\n\t// v 0.0.10 to support pausing and restarting observation two additional constructor arguments are available to Object.observe:\r\n\t// pausable - create the Observer so it can be paused\r\n\t// pause - create observer in paused state\r\n\t// if pausable is true then an additional method deliver(ignorePrevious) is available to start delivery\r\n\t// to pause delivery set a property called pause on the function deliver to true\r\n\t// pausable is optional to reduce the chance of shadowing a property or method on any existing code called deliver\r\n\tif(!Object.observe && typeof(Proxy)==="function") {\r\n\t\tfunction Observer(target,callback,acceptlist,pausable,pause,delay) {\r\n\t    \tvar me = this, proxy;\r\n\t    \tfunction deliver(ignorePrevious,delay) {\r\n\t    \t\tdeliver.delay = delay;\r\n\t    \t\tif(!deliver.pause) {\r\n\t        \t\tif(me.changeset.length>0) {\r\n\t        \t\t\tif(!ignorePrevious) {\r\n\t\t    \t    \t\tvar changes = me.changeset.filter(function(change) { return !acceptlist || acceptlist.indexOf(change.type)>=0; });\r\n\t\t        \t\t\tif(changes.length>0) {\r\n\t\t        \t\t\t\tcallback(changes);\r\n\t\t        \t\t\t}\r\n\t        \t\t\t}\r\n\t        \t\t\tme.changeset = [];\r\n\t        \t\t}\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \tdeliver.pause = pause;\r\n\t    \tdeliver.delay = delay;\r\n\t\t    me.get = function(target, property) {\r\n\t\t    \tif(property==="__observer__") {\r\n\t\t    \t\treturn me;\r\n\t\t    \t}\r\n\t\t    \tif(property==="unobserve") {\r\n\t\t    \t\treturn function() {\r\n\t\t    \t\t\tObject.unobserve(target);\r\n\t\t    \t\t\treturn target;\r\n\t\t    \t\t};\r\n\t\t    \t}\r\n\t\t    \tif(property==="deliver") {\r\n\t\t    \t\treturn deliver;\r\n\t\t    \t}\r\n\t\t    \treturn target[property];\r\n\t\t    }\r\n\t    \tme.target = target;\r\n\t    \tme.changeset = [];\r\n\t    \tif(!me.target.__observerCallbacks__) {\r\n\t    \t\t// __observerCallbacks__ is used as an index to get at the proxy which is the observer, so we can unobserve\r\n\t    \t\tObject.defineProperty(target,"__observerCallbacks__",{enumerable:false,configurable:true,writable:false,value:[]});\r\n\t    \t\tObject.defineProperty(target,"__observers__",{enumerable:false,configurable:true,writable:false,value:[]});\r\n\t    \t}\r\n\t    \tme.target.__observerCallbacks__.push(callback);\r\n\t    \tme.target.__observers__.push(this);\r\n\t    \tproxy = new Proxy(target,me);\r\n\t    \tdeliver(false,delay);\r\n\t    \treturn proxy;\r\n\t    }\r\n\t\tObserver.prototype.deliver = function() {\r\n\t\t\treturn this.get(null,"deliver");\r\n\t\t}\r\n\t    Observer.prototype.set = function(target, property, value) { // , receiver\r\n\t    \tvar oldvalue = target[property];\r\n\t    \tvar type = (oldvalue===undefined ? "add" : "update");\r\n\t    \ttarget[property] = value;\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && (!this.acceptlist || this.acceptlist.indexOf(type)>=0)) {\r\n\t        \tvar change = {object:target,name:property,type:type},\r\n\t        \t\tstart = this.changeset.length === 0,\r\n\t        \t\tdeliver = this.deliver();\r\n\t        \tif(type==="update") {\r\n\t        \t\tchange.oldValue = oldvalue;\r\n\t        \t}\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.deleteProperty = function(target, property) {\r\n\t    \tvar oldvalue = target[property];\r\n\t    \t//if(typeof(oldvalue)!=="undefined") {\r\n\t\t    \tdelete target[property];\r\n\t\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("delete")>=0) {\r\n\t\t        \tvar change = {object:target,name:property,type:"delete",oldValue:oldvalue},\r\n\t\t        \t\tstart = this.changeset.length === 0,\r\n\t\t        \t\tdeliver = this.deliver();\r\n\t\t        \tthis.changeset.push(change);\r\n\t\t        \tif(start) {\r\n\t\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t\t        \t}\r\n\t\t    \t}\r\n\t    \t//}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.defineProperty = function(target, property, descriptor) {\r\n\t    \tObject.defineProperty(target, property, descriptor);\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("reconfigure")>=0) {\r\n\t        \tvar change = {object:target,name:property,type:"reconfigure"},\r\n        \t\t\tstart = this.changeset.length === 0,\r\n        \t\t\tdeliver = this.deliver();\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.setPrototypeOf = function(target, prototype) {\r\n\t    \tvar oldvalue = Object.getPrototypeOf(target);\r\n\t    \tObject.setPrototypeOf(target, prototype);\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("setPrototype")>=0) {\r\n\t        \tvar change = {object:target,name:"__proto__",type:"setPrototype",oldValue:oldvalue},\r\n    \t\t\t\tstart = this.changeset.length === 0,\r\n    \t\t\t\tdeliver = this.deliver();\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Observer.prototype.preventExtensions = function(target) {\r\n\t        Object.preventExtensions(target);\r\n\t    \tif(target.__observers__.indexOf(this)>=0 && !this.acceptlist || this.acceptlist.indexOf("preventExtensions")>=0) {\r\n\t        \tvar change = {object:target,type:"preventExtensions"},\r\n\t\t\t\t\tstart = this.changeset.length === 0,\r\n\t\t\t\t\tdeliver = this.deliver();\r\n\t        \tthis.changeset.push(change);\r\n\t        \tif(start) {\r\n\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t        \t}\r\n\t    \t}\r\n\t    \treturn true;\r\n\t    };\r\n\t    Object.observe = function(object,callback,acceptlist,pausable,pause,delay) {\r\n\t    \treturn new Observer(object,callback,acceptlist,pausable,pause,delay);\r\n\t    };\r\n\t    Object.unobserve = function(object,callback) {\r\n\t    \tif(object.__observerCallbacks__) {\r\n\t    \t\tif(!callback) {\r\n\t    \t\t\tobject.__observerCallbacks__.splice(0,object.__observerCallbacks__.length);\r\n\t    \t\t\tobject.__observers__.splice(0,object.__observers__.length);\r\n\t    \t\t\treturn;\r\n\t    \t\t}\r\n\t    \t\tobject.__observerCallbacks__.forEach(function(observercallback,i) {\r\n\t    \t\t\tif(callback===observercallback) {\r\n\t    \t\t\t\tobject.__observerCallbacks__.splice(i,1);\r\n\t    \t\t\t\tdelete object.__observers__[i].callback;\r\n\t    \t\t\t\tobject.__observers__.splice(i,1);\r\n\t    \t\t\t}\r\n\t    \t\t});\r\n\t    \t}\r\n\t    };\r\n\t    Array.observe = function(object,callback,acceptlist,pausable,pause,delay) {\r\n\t    \tif(!(object instanceof Array) && !Array.isArray(object)) {\r\n\t    \t\tthrow new TypeError("First argument to Array.observer is not an Array");\r\n\t    \t}\r\n            \tacceptlist = acceptlist || ["add", "update", "delete", "splice"];\r\n\t    \tvar arrayproxy = new Proxy(object,{get: function(target,property) {\r\n\t    \t\tif(property==="unobserve") {\r\n\t\t    \t\treturn function(callback) {\r\n\t\t    \t\t\tif(callback) {\r\n\t\t    \t\t\t\treturn Object.unobserve(target,callback);\r\n\t\t    \t\t\t}\r\n\t\t    \t\t\treturn target.unobserve();\r\n\t\t    \t\t};\r\n\t\t    \t}\r\n\t    \t\tif(property==="splice") {\r\n\t    \t\t\treturn function(start,end) {\r\n\t    \t\t\t\tif(typeof(start)!=="number" || typeof(end)!=="number") {\r\n\t    \t\t\t\t\tthrow new TypeError("First two arguments to Array splice are not number, number");\r\n\t    \t\t\t\t}\r\n\t    \t    \t\tvar removed = this.slice(start,start+end),\r\n\t    \t    \t\t\taddedCount = (arguments.length > 1 ? arguments.length-2 : 0),\r\n\t    \t    \t\t\tchange =  {object:object,type:"splice",index:start,removed:removed,addedCount:addedCount};\r\n\t    \t    \t\ttarget.splice.apply(target,arguments);\r\n\t    \t    \t\tif(acceptlist.indexOf("splice")>=0) {\r\n\t    \t    \t\t\tvar start = proxy.__observer__.changeset.length === 0,\r\n\t    \t        \t\t\tdeliver = proxy.__observer__.deliver();\r\n\t    \t    \t\t\tproxy.__observer__.changeset.push(change);\r\n\t    \t    \t\t\tif(start) {\r\n\t    \t\t        \t\tdeliver(false,(typeof(deliver.delay)==="number" ? deliver.delay : 10));\r\n\t    \t\t        \t}\r\n\t    \t    \t\t}\r\n\t    \t    \t}\r\n\t    \t\t}\r\n\t    \t\tif(property==="push") {\r\n\t    \t\t\t return function(item) {\r\n\t    \t\t    \treturn this.splice(this.length,0,item);\r\n\t    \t\t    }\r\n\t    \t\t}\r\n\t    \t\tif(property==="pop") {\r\n\t    \t\t\t return function() {\r\n\t    \t\t    \treturn this.splice(this.length-1,1);\r\n\t    \t\t    }\r\n\t    \t\t}\r\n\t    \t\tif(property==="unshift") {\r\n\t    \t\t\t return function(item) {\r\n    \t\t    \t\treturn this.splice(0,0,item);\r\n    \t\t    \t}\r\n\t    \t\t}\r\n\t    \t\tif(property==="shift") {\r\n\t    \t\t\treturn function() {\r\n\t    \t    \t\treturn this.splice(0,1);\r\n\t    \t    \t}\r\n\t    \t\t}\r\n\t    \t\treturn target[property];\r\n\t    \t}});\r\n\t    \tvar proxy = Object.observe(arrayproxy,function(changeset) { \r\n\t    \t\tvar changes = changeset.filter(function(change) { return change.name!=="length" && change.name!=="add" && (!acceptlist || acceptlist.indexOf(change.type)>=0); });\r\n\t    \t\tif(changes.length>0) {\r\n\t    \t\t\tcallback(changes);\r\n\t    \t\t}\r\n\t    \t},acceptlist,pausable,pause,delay);\r\n\t    \treturn proxy;\r\n\t    };\r\n\t    Array.unobserve = function(object,callback) {\r\n\t\t  return object.unobserve(callback);\r\n\t    }\r\n\t}\r\n\tObject.deepObserve = function(object,callback,parts) {\r\n\r\n\t\tparts = (parts ? parts : []);\r\n\r\n\t\tvar toTypeName = function(obj) {\r\n\t\t\treturn ({}).toString.call(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()\r\n\t\t}\r\n\r\n\t\tfunction reobserve(value, parts) {\r\n\t\t\tvar keys = Object.keys(value);\r\n\t\t\tkeys.forEach(function(key) {\r\n\t\t\t\tif((toTypeName(value[key]) === \'object\' || toTypeName(value[key]) === \'array\') && !value[key].hasOwnProperty(\'__observers__\')) {\r\n\t\t\t\t\tvar newparts = parts.slice(0);\r\n\t\t\t\t\tnewparts.push(key);\r\n\t\t\t\t\tvalue[key] = Object.deepObserve(value[key],callback,newparts);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treobserve(object, parts);\r\n\r\n\t\tvar observed = Object.observe(object,function(changeset) {\r\n\t\t\tvar changes = [];\r\n\t\t\tfunction recurse(name,rootObject,oldObject,newObject,path) {\r\n\t\t\t\tif(newObject instanceof Object) {\r\n\t\t\t\t\tvar newkeys = Object.keys(newObject);\r\n\t\t\t\t\tnewkeys.forEach(function(key) {\r\n\t\t\t\t\t\tif(!oldObject || (oldObject[key]!==newObject[key])) {\r\n\t\t\t\t\t\t\tvar oldvalue = (oldObject && oldObject[key]!==undefined ? oldObject[key] : undefined),\r\n\t\t\t\t\t\t\t\tchange = (oldvalue===undefined ? "add" : "update"),\r\n\t\t\t\t\t\t\t\tkeypath = path + "." + key;\r\n\r\n\t\t\t\t\t\t\tchanges.push({name:name,object:rootObject,type:change,oldValue:oldvalue,newValue:newObject[key],keypath:keypath});\r\n\t\t\t\t\t\t\trecurse(name,rootObject,oldvalue,newObject[key],keypath);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if(oldObject instanceof Object) {\r\n\t\t\t\t\tvar oldkeys = Object.keys(oldObject);\r\n\t\t\t\t\toldkeys.forEach(function(key) {\r\n\t\t\t\t\t\tvar change = (newObject===null ? "update" : "delete"),\r\n\t\t\t\t\t\t\tkeypath = path + "." + key;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tchanges.push({name:name,object:rootObject,type:change,oldValue:oldObject[key],newValue:newObject,keypath:keypath});\r\n\t\t\t\t\t\trecurse(name,rootObject,oldObject[key],undefined,keypath);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tchangeset.forEach(function(change) {\r\n\t\t\t\tvar keypath = (parts.length>0 ? parts.join(".") + "." : "") + change.name;\r\n\r\n\t\t\t\tif (change.type === "update" || change.type === "add") { \r\n\t\t\t\t\treobserve(change.object, parts);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchanges.push({name:change.name,object:change.object,type:change.type,oldValue:change.oldValue,newValue:change.object[change.name],keypath:keypath});\r\n\t\t\t\trecurse(change.name,change.object,change.oldValue,change.object[change.name],keypath);\r\n\t\t\t});\r\n\t\t\tcallback(changes);\r\n\t\t});\r\n\t\treturn observed;\r\n\t};\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJveHktb2JzZXJ2ZS9pbmRleC5qcz8xMjBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwwREFBMEQsRUFBRTtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDJEQUEyRDtBQUN4SCxxREFBcUQsMkRBQTJEO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNDQUFzQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDREQUE0RDtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrQ0FBK0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUVBQXFFO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1Q0FBdUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsaUU7QUFDQSx3REFBd0QsNkdBQTZHLEVBQUU7QUFDdks7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLGtHQUFrRztBQUN2SDtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsbUdBQW1HO0FBQ3ZIO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0Isb0lBQW9JO0FBQ3RKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjEyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBwcm94eS1vYnNlcnZlIHYwLjAuMThcclxuLy8gICAgIENvcHlyaWdodCAoYykgMjAxNSwgMjAxNiBTaW1vbiBZLiBCbGFja3dlbGwsIEFueVdoaWNoV2F5XHJcbi8vICAgICBNSVQgTGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuKGZ1bmN0aW9uKCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdC8vIENyZWF0ZXMgYW5kIHJldHVybnMgYSBQcm94eSB3cmFwcGluZyBhIHRhcmdldCBzbyB0aGF0IGFsbCBjaGFuZ2VzIGNhbiBiZSB0cmFwcGVkIGFuZCBmb3J3YXJkZWQgdG9cclxuXHQvLyBhIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgdGFrZXMgYW4gYXJyYXkgb2YgY2hhbmdlcyBqdXN0IGxpa2UgdGhlIHRyYWRpdGlvbmFsIG9yaWdpbmFsIENocm9tZSBPYmplY3Qub2JzZXJ2ZVxyXG5cdC8vIHtvYmplY3Q6PG9iamVjdCBjaGFuZ2VkPixuYW1lOjxmaWVsZCBjaGFuZ2VkPix0eXBlOmFkZHx1cGRhdGV8ZGVsZXRlfHJlY29uZmlndXJlfHByZXZlbnRFeHRlbnNpb25zfHNldFByb3RvdHlwZSxvbGRWYWx1ZTo8b2xkIHZhbHVlIGlmIHVwZGF0ZSB8IGRlbGV0ZT59XHJcblx0Ly8gVGhlIGFjY2VwdGxpc3QgY2FuIGJlIGFkZHx1cGRhdGV8ZGVsZXRlfHJlY29uZmlndXJlfHByZXZlbnRFeHRlbnNpb25zfHNldFByb3RvdHlwZS5cclxuXHQvLyB2IDAuMC4xMCB0byBzdXBwb3J0IHBhdXNpbmcgYW5kIHJlc3RhcnRpbmcgb2JzZXJ2YXRpb24gdHdvIGFkZGl0aW9uYWwgY29uc3RydWN0b3IgYXJndW1lbnRzIGFyZSBhdmFpbGFibGUgdG8gT2JqZWN0Lm9ic2VydmU6XHJcblx0Ly8gcGF1c2FibGUgLSBjcmVhdGUgdGhlIE9ic2VydmVyIHNvIGl0IGNhbiBiZSBwYXVzZWRcclxuXHQvLyBwYXVzZSAtIGNyZWF0ZSBvYnNlcnZlciBpbiBwYXVzZWQgc3RhdGVcclxuXHQvLyBpZiBwYXVzYWJsZSBpcyB0cnVlIHRoZW4gYW4gYWRkaXRpb25hbCBtZXRob2QgZGVsaXZlcihpZ25vcmVQcmV2aW91cykgaXMgYXZhaWxhYmxlIHRvIHN0YXJ0IGRlbGl2ZXJ5XHJcblx0Ly8gdG8gcGF1c2UgZGVsaXZlcnkgc2V0IGEgcHJvcGVydHkgY2FsbGVkIHBhdXNlIG9uIHRoZSBmdW5jdGlvbiBkZWxpdmVyIHRvIHRydWVcclxuXHQvLyBwYXVzYWJsZSBpcyBvcHRpb25hbCB0byByZWR1Y2UgdGhlIGNoYW5jZSBvZiBzaGFkb3dpbmcgYSBwcm9wZXJ0eSBvciBtZXRob2Qgb24gYW55IGV4aXN0aW5nIGNvZGUgY2FsbGVkIGRlbGl2ZXJcclxuXHRpZighT2JqZWN0Lm9ic2VydmUgJiYgdHlwZW9mKFByb3h5KT09PVwiZnVuY3Rpb25cIikge1xyXG5cdFx0ZnVuY3Rpb24gT2JzZXJ2ZXIodGFyZ2V0LGNhbGxiYWNrLGFjY2VwdGxpc3QscGF1c2FibGUscGF1c2UsZGVsYXkpIHtcclxuXHQgICAgXHR2YXIgbWUgPSB0aGlzLCBwcm94eTtcclxuXHQgICAgXHRmdW5jdGlvbiBkZWxpdmVyKGlnbm9yZVByZXZpb3VzLGRlbGF5KSB7XHJcblx0ICAgIFx0XHRkZWxpdmVyLmRlbGF5ID0gZGVsYXk7XHJcblx0ICAgIFx0XHRpZighZGVsaXZlci5wYXVzZSkge1xyXG5cdCAgICAgICAgXHRcdGlmKG1lLmNoYW5nZXNldC5sZW5ndGg+MCkge1xyXG5cdCAgICAgICAgXHRcdFx0aWYoIWlnbm9yZVByZXZpb3VzKSB7XHJcblx0XHQgICAgXHQgICAgXHRcdHZhciBjaGFuZ2VzID0gbWUuY2hhbmdlc2V0LmZpbHRlcihmdW5jdGlvbihjaGFuZ2UpIHsgcmV0dXJuICFhY2NlcHRsaXN0IHx8IGFjY2VwdGxpc3QuaW5kZXhPZihjaGFuZ2UudHlwZSk+PTA7IH0pO1xyXG5cdFx0ICAgICAgICBcdFx0XHRpZihjaGFuZ2VzLmxlbmd0aD4wKSB7XHJcblx0XHQgICAgICAgIFx0XHRcdFx0Y2FsbGJhY2soY2hhbmdlcyk7XHJcblx0XHQgICAgICAgIFx0XHRcdH1cclxuXHQgICAgICAgIFx0XHRcdH1cclxuXHQgICAgICAgIFx0XHRcdG1lLmNoYW5nZXNldCA9IFtdO1xyXG5cdCAgICAgICAgXHRcdH1cclxuXHQgICAgXHRcdH1cclxuXHQgICAgXHR9XHJcblx0ICAgIFx0ZGVsaXZlci5wYXVzZSA9IHBhdXNlO1xyXG5cdCAgICBcdGRlbGl2ZXIuZGVsYXkgPSBkZWxheTtcclxuXHRcdCAgICBtZS5nZXQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5KSB7XHJcblx0XHQgICAgXHRpZihwcm9wZXJ0eT09PVwiX19vYnNlcnZlcl9fXCIpIHtcclxuXHRcdCAgICBcdFx0cmV0dXJuIG1lO1xyXG5cdFx0ICAgIFx0fVxyXG5cdFx0ICAgIFx0aWYocHJvcGVydHk9PT1cInVub2JzZXJ2ZVwiKSB7XHJcblx0XHQgICAgXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdCAgICBcdFx0XHRPYmplY3QudW5vYnNlcnZlKHRhcmdldCk7XHJcblx0XHQgICAgXHRcdFx0cmV0dXJuIHRhcmdldDtcclxuXHRcdCAgICBcdFx0fTtcclxuXHRcdCAgICBcdH1cclxuXHRcdCAgICBcdGlmKHByb3BlcnR5PT09XCJkZWxpdmVyXCIpIHtcclxuXHRcdCAgICBcdFx0cmV0dXJuIGRlbGl2ZXI7XHJcblx0XHQgICAgXHR9XHJcblx0XHQgICAgXHRyZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XTtcclxuXHRcdCAgICB9XHJcblx0ICAgIFx0bWUudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdCAgICBcdG1lLmNoYW5nZXNldCA9IFtdO1xyXG5cdCAgICBcdGlmKCFtZS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fKSB7XHJcblx0ICAgIFx0XHQvLyBfX29ic2VydmVyQ2FsbGJhY2tzX18gaXMgdXNlZCBhcyBhbiBpbmRleCB0byBnZXQgYXQgdGhlIHByb3h5IHdoaWNoIGlzIHRoZSBvYnNlcnZlciwgc28gd2UgY2FuIHVub2JzZXJ2ZVxyXG5cdCAgICBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxcIl9fb2JzZXJ2ZXJDYWxsYmFja3NfX1wiLHtlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlLHdyaXRhYmxlOmZhbHNlLHZhbHVlOltdfSk7XHJcblx0ICAgIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LFwiX19vYnNlcnZlcnNfX1wiLHtlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlLHdyaXRhYmxlOmZhbHNlLHZhbHVlOltdfSk7XHJcblx0ICAgIFx0fVxyXG5cdCAgICBcdG1lLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX18ucHVzaChjYWxsYmFjayk7XHJcblx0ICAgIFx0bWUudGFyZ2V0Ll9fb2JzZXJ2ZXJzX18ucHVzaCh0aGlzKTtcclxuXHQgICAgXHRwcm94eSA9IG5ldyBQcm94eSh0YXJnZXQsbWUpO1xyXG5cdCAgICBcdGRlbGl2ZXIoZmFsc2UsZGVsYXkpO1xyXG5cdCAgICBcdHJldHVybiBwcm94eTtcclxuXHQgICAgfVxyXG5cdFx0T2JzZXJ2ZXIucHJvdG90eXBlLmRlbGl2ZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KG51bGwsXCJkZWxpdmVyXCIpO1xyXG5cdFx0fVxyXG5cdCAgICBPYnNlcnZlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHsgLy8gLCByZWNlaXZlclxyXG5cdCAgICBcdHZhciBvbGR2YWx1ZSA9IHRhcmdldFtwcm9wZXJ0eV07XHJcblx0ICAgIFx0dmFyIHR5cGUgPSAob2xkdmFsdWU9PT11bmRlZmluZWQgPyBcImFkZFwiIDogXCJ1cGRhdGVcIik7XHJcblx0ICAgIFx0dGFyZ2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xyXG5cdCAgICBcdGlmKHRhcmdldC5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAgJiYgKCF0aGlzLmFjY2VwdGxpc3QgfHwgdGhpcy5hY2NlcHRsaXN0LmluZGV4T2YodHlwZSk+PTApKSB7XHJcblx0ICAgICAgICBcdHZhciBjaGFuZ2UgPSB7b2JqZWN0OnRhcmdldCxuYW1lOnByb3BlcnR5LHR5cGU6dHlwZX0sXHJcblx0ICAgICAgICBcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcblx0ICAgICAgICBcdFx0ZGVsaXZlciA9IHRoaXMuZGVsaXZlcigpO1xyXG5cdCAgICAgICAgXHRpZih0eXBlPT09XCJ1cGRhdGVcIikge1xyXG5cdCAgICAgICAgXHRcdGNoYW5nZS5vbGRWYWx1ZSA9IG9sZHZhbHVlO1xyXG5cdCAgICAgICAgXHR9XHJcblx0ICAgICAgICBcdHRoaXMuY2hhbmdlc2V0LnB1c2goY2hhbmdlKTtcclxuXHQgICAgICAgIFx0aWYoc3RhcnQpIHtcclxuXHQgICAgICAgIFx0XHRkZWxpdmVyKGZhbHNlLCh0eXBlb2YoZGVsaXZlci5kZWxheSk9PT1cIm51bWJlclwiID8gZGVsaXZlci5kZWxheSA6IDEwKSk7XHJcblx0ICAgICAgICBcdH1cclxuXHQgICAgXHR9XHJcblx0ICAgIFx0cmV0dXJuIHRydWU7XHJcblx0ICAgIH07XHJcblx0ICAgIE9ic2VydmVyLnByb3RvdHlwZS5kZWxldGVQcm9wZXJ0eSA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcclxuXHQgICAgXHR2YXIgb2xkdmFsdWUgPSB0YXJnZXRbcHJvcGVydHldO1xyXG5cdCAgICBcdC8vaWYodHlwZW9mKG9sZHZhbHVlKSE9PVwidW5kZWZpbmVkXCIpIHtcclxuXHRcdCAgICBcdGRlbGV0ZSB0YXJnZXRbcHJvcGVydHldO1xyXG5cdFx0ICAgIFx0aWYodGFyZ2V0Ll9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCAmJiAhdGhpcy5hY2NlcHRsaXN0IHx8IHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKFwiZGVsZXRlXCIpPj0wKSB7XHJcblx0XHQgICAgICAgIFx0dmFyIGNoYW5nZSA9IHtvYmplY3Q6dGFyZ2V0LG5hbWU6cHJvcGVydHksdHlwZTpcImRlbGV0ZVwiLG9sZFZhbHVlOm9sZHZhbHVlfSxcclxuXHRcdCAgICAgICAgXHRcdHN0YXJ0ID0gdGhpcy5jaGFuZ2VzZXQubGVuZ3RoID09PSAwLFxyXG5cdFx0ICAgICAgICBcdFx0ZGVsaXZlciA9IHRoaXMuZGVsaXZlcigpO1xyXG5cdFx0ICAgICAgICBcdHRoaXMuY2hhbmdlc2V0LnB1c2goY2hhbmdlKTtcclxuXHRcdCAgICAgICAgXHRpZihzdGFydCkge1xyXG5cdFx0ICAgICAgICBcdFx0ZGVsaXZlcihmYWxzZSwodHlwZW9mKGRlbGl2ZXIuZGVsYXkpPT09XCJudW1iZXJcIiA/IGRlbGl2ZXIuZGVsYXkgOiAxMCkpO1xyXG5cdFx0ICAgICAgICBcdH1cclxuXHRcdCAgICBcdH1cclxuXHQgICAgXHQvL31cclxuXHQgICAgXHRyZXR1cm4gdHJ1ZTtcclxuXHQgICAgfTtcclxuXHQgICAgT2JzZXJ2ZXIucHJvdG90eXBlLmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG5cdCAgICBcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcclxuXHQgICAgXHRpZih0YXJnZXQuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wICYmICF0aGlzLmFjY2VwdGxpc3QgfHwgdGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoXCJyZWNvbmZpZ3VyZVwiKT49MCkge1xyXG5cdCAgICAgICAgXHR2YXIgY2hhbmdlID0ge29iamVjdDp0YXJnZXQsbmFtZTpwcm9wZXJ0eSx0eXBlOlwicmVjb25maWd1cmVcIn0sXHJcbiAgICAgICAgXHRcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcbiAgICAgICAgXHRcdFx0ZGVsaXZlciA9IHRoaXMuZGVsaXZlcigpO1xyXG5cdCAgICAgICAgXHR0aGlzLmNoYW5nZXNldC5wdXNoKGNoYW5nZSk7XHJcblx0ICAgICAgICBcdGlmKHN0YXJ0KSB7XHJcblx0ICAgICAgICBcdFx0ZGVsaXZlcihmYWxzZSwodHlwZW9mKGRlbGl2ZXIuZGVsYXkpPT09XCJudW1iZXJcIiA/IGRlbGl2ZXIuZGVsYXkgOiAxMCkpO1xyXG5cdCAgICAgICAgXHR9XHJcblx0ICAgIFx0fVxyXG5cdCAgICBcdHJldHVybiB0cnVlO1xyXG5cdCAgICB9O1xyXG5cdCAgICBPYnNlcnZlci5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbih0YXJnZXQsIHByb3RvdHlwZSkge1xyXG5cdCAgICBcdHZhciBvbGR2YWx1ZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpO1xyXG5cdCAgICBcdE9iamVjdC5zZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSk7XHJcblx0ICAgIFx0aWYodGFyZ2V0Ll9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCAmJiAhdGhpcy5hY2NlcHRsaXN0IHx8IHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKFwic2V0UHJvdG90eXBlXCIpPj0wKSB7XHJcblx0ICAgICAgICBcdHZhciBjaGFuZ2UgPSB7b2JqZWN0OnRhcmdldCxuYW1lOlwiX19wcm90b19fXCIsdHlwZTpcInNldFByb3RvdHlwZVwiLG9sZFZhbHVlOm9sZHZhbHVlfSxcclxuICAgIFx0XHRcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcbiAgICBcdFx0XHRcdGRlbGl2ZXIgPSB0aGlzLmRlbGl2ZXIoKTtcclxuXHQgICAgICAgIFx0dGhpcy5jaGFuZ2VzZXQucHVzaChjaGFuZ2UpO1xyXG5cdCAgICAgICAgXHRpZihzdGFydCkge1xyXG5cdCAgICAgICAgXHRcdGRlbGl2ZXIoZmFsc2UsKHR5cGVvZihkZWxpdmVyLmRlbGF5KT09PVwibnVtYmVyXCIgPyBkZWxpdmVyLmRlbGF5IDogMTApKTtcclxuXHQgICAgICAgIFx0fVxyXG5cdCAgICBcdH1cclxuXHQgICAgXHRyZXR1cm4gdHJ1ZTtcclxuXHQgICAgfTtcclxuXHQgICAgT2JzZXJ2ZXIucHJvdG90eXBlLnByZXZlbnRFeHRlbnNpb25zID0gZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0ICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnModGFyZ2V0KTtcclxuXHQgICAgXHRpZih0YXJnZXQuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wICYmICF0aGlzLmFjY2VwdGxpc3QgfHwgdGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKT49MCkge1xyXG5cdCAgICAgICAgXHR2YXIgY2hhbmdlID0ge29iamVjdDp0YXJnZXQsdHlwZTpcInByZXZlbnRFeHRlbnNpb25zXCJ9LFxyXG5cdFx0XHRcdFx0c3RhcnQgPSB0aGlzLmNoYW5nZXNldC5sZW5ndGggPT09IDAsXHJcblx0XHRcdFx0XHRkZWxpdmVyID0gdGhpcy5kZWxpdmVyKCk7XHJcblx0ICAgICAgICBcdHRoaXMuY2hhbmdlc2V0LnB1c2goY2hhbmdlKTtcclxuXHQgICAgICAgIFx0aWYoc3RhcnQpIHtcclxuXHQgICAgICAgIFx0XHRkZWxpdmVyKGZhbHNlLCh0eXBlb2YoZGVsaXZlci5kZWxheSk9PT1cIm51bWJlclwiID8gZGVsaXZlci5kZWxheSA6IDEwKSk7XHJcblx0ICAgICAgICBcdH1cclxuXHQgICAgXHR9XHJcblx0ICAgIFx0cmV0dXJuIHRydWU7XHJcblx0ICAgIH07XHJcblx0ICAgIE9iamVjdC5vYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LGNhbGxiYWNrLGFjY2VwdGxpc3QscGF1c2FibGUscGF1c2UsZGVsYXkpIHtcclxuXHQgICAgXHRyZXR1cm4gbmV3IE9ic2VydmVyKG9iamVjdCxjYWxsYmFjayxhY2NlcHRsaXN0LHBhdXNhYmxlLHBhdXNlLGRlbGF5KTtcclxuXHQgICAgfTtcclxuXHQgICAgT2JqZWN0LnVub2JzZXJ2ZSA9IGZ1bmN0aW9uKG9iamVjdCxjYWxsYmFjaykge1xyXG5cdCAgICBcdGlmKG9iamVjdC5fX29ic2VydmVyQ2FsbGJhY2tzX18pIHtcclxuXHQgICAgXHRcdGlmKCFjYWxsYmFjaykge1xyXG5cdCAgICBcdFx0XHRvYmplY3QuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZSgwLG9iamVjdC5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKTtcclxuXHQgICAgXHRcdFx0b2JqZWN0Ll9fb2JzZXJ2ZXJzX18uc3BsaWNlKDAsb2JqZWN0Ll9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtcclxuXHQgICAgXHRcdFx0cmV0dXJuO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdFx0b2JqZWN0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKG9ic2VydmVyY2FsbGJhY2ssaSkge1xyXG5cdCAgICBcdFx0XHRpZihjYWxsYmFjaz09PW9ic2VydmVyY2FsbGJhY2spIHtcclxuXHQgICAgXHRcdFx0XHRvYmplY3QuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZShpLDEpO1xyXG5cdCAgICBcdFx0XHRcdGRlbGV0ZSBvYmplY3QuX19vYnNlcnZlcnNfX1tpXS5jYWxsYmFjaztcclxuXHQgICAgXHRcdFx0XHRvYmplY3QuX19vYnNlcnZlcnNfXy5zcGxpY2UoaSwxKTtcclxuXHQgICAgXHRcdFx0fVxyXG5cdCAgICBcdFx0fSk7XHJcblx0ICAgIFx0fVxyXG5cdCAgICB9O1xyXG5cdCAgICBBcnJheS5vYnNlcnZlID0gZnVuY3Rpb24ob2JqZWN0LGNhbGxiYWNrLGFjY2VwdGxpc3QscGF1c2FibGUscGF1c2UsZGVsYXkpIHtcclxuXHQgICAgXHRpZighKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSAmJiAhQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XHJcblx0ICAgIFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gQXJyYXkub2JzZXJ2ZXIgaXMgbm90IGFuIEFycmF5XCIpO1xyXG5cdCAgICBcdH1cclxuICAgICAgICAgICAgXHRhY2NlcHRsaXN0ID0gYWNjZXB0bGlzdCB8fCBbXCJhZGRcIiwgXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJzcGxpY2VcIl07XHJcblx0ICAgIFx0dmFyIGFycmF5cHJveHkgPSBuZXcgUHJveHkob2JqZWN0LHtnZXQ6IGZ1bmN0aW9uKHRhcmdldCxwcm9wZXJ0eSkge1xyXG5cdCAgICBcdFx0aWYocHJvcGVydHk9PT1cInVub2JzZXJ2ZVwiKSB7XHJcblx0XHQgICAgXHRcdHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0ICAgIFx0XHRcdGlmKGNhbGxiYWNrKSB7XHJcblx0XHQgICAgXHRcdFx0XHRyZXR1cm4gT2JqZWN0LnVub2JzZXJ2ZSh0YXJnZXQsY2FsbGJhY2spO1xyXG5cdFx0ICAgIFx0XHRcdH1cclxuXHRcdCAgICBcdFx0XHRyZXR1cm4gdGFyZ2V0LnVub2JzZXJ2ZSgpO1xyXG5cdFx0ICAgIFx0XHR9O1xyXG5cdFx0ICAgIFx0fVxyXG5cdCAgICBcdFx0aWYocHJvcGVydHk9PT1cInNwbGljZVwiKSB7XHJcblx0ICAgIFx0XHRcdHJldHVybiBmdW5jdGlvbihzdGFydCxlbmQpIHtcclxuXHQgICAgXHRcdFx0XHRpZih0eXBlb2Yoc3RhcnQpIT09XCJudW1iZXJcIiB8fCB0eXBlb2YoZW5kKSE9PVwibnVtYmVyXCIpIHtcclxuXHQgICAgXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCB0d28gYXJndW1lbnRzIHRvIEFycmF5IHNwbGljZSBhcmUgbm90IG51bWJlciwgbnVtYmVyXCIpO1xyXG5cdCAgICBcdFx0XHRcdH1cclxuXHQgICAgXHQgICAgXHRcdHZhciByZW1vdmVkID0gdGhpcy5zbGljZShzdGFydCxzdGFydCtlbmQpLFxyXG5cdCAgICBcdCAgICBcdFx0XHRhZGRlZENvdW50ID0gKGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzLmxlbmd0aC0yIDogMCksXHJcblx0ICAgIFx0ICAgIFx0XHRcdGNoYW5nZSA9ICB7b2JqZWN0Om9iamVjdCx0eXBlOlwic3BsaWNlXCIsaW5kZXg6c3RhcnQscmVtb3ZlZDpyZW1vdmVkLGFkZGVkQ291bnQ6YWRkZWRDb3VudH07XHJcblx0ICAgIFx0ICAgIFx0XHR0YXJnZXQuc3BsaWNlLmFwcGx5KHRhcmdldCxhcmd1bWVudHMpO1xyXG5cdCAgICBcdCAgICBcdFx0aWYoYWNjZXB0bGlzdC5pbmRleE9mKFwic3BsaWNlXCIpPj0wKSB7XHJcblx0ICAgIFx0ICAgIFx0XHRcdHZhciBzdGFydCA9IHByb3h5Ll9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQubGVuZ3RoID09PSAwLFxyXG5cdCAgICBcdCAgICAgICAgXHRcdFx0ZGVsaXZlciA9IHByb3h5Ll9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7XHJcblx0ICAgIFx0ICAgIFx0XHRcdHByb3h5Ll9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQucHVzaChjaGFuZ2UpO1xyXG5cdCAgICBcdCAgICBcdFx0XHRpZihzdGFydCkge1xyXG5cdCAgICBcdFx0ICAgICAgICBcdFx0ZGVsaXZlcihmYWxzZSwodHlwZW9mKGRlbGl2ZXIuZGVsYXkpPT09XCJudW1iZXJcIiA/IGRlbGl2ZXIuZGVsYXkgOiAxMCkpO1xyXG5cdCAgICBcdFx0ICAgICAgICBcdH1cclxuXHQgICAgXHQgICAgXHRcdH1cclxuXHQgICAgXHQgICAgXHR9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRpZihwcm9wZXJ0eT09PVwicHVzaFwiKSB7XHJcblx0ICAgIFx0XHRcdCByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xyXG5cdCAgICBcdFx0ICAgIFx0cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLDAsaXRlbSk7XHJcblx0ICAgIFx0XHQgICAgfVxyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdFx0aWYocHJvcGVydHk9PT1cInBvcFwiKSB7XHJcblx0ICAgIFx0XHRcdCByZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0ICAgIFx0XHQgICAgXHRyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKTtcclxuXHQgICAgXHRcdCAgICB9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRpZihwcm9wZXJ0eT09PVwidW5zaGlmdFwiKSB7XHJcblx0ICAgIFx0XHRcdCByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgXHRcdCAgICBcdFx0cmV0dXJuIHRoaXMuc3BsaWNlKDAsMCxpdGVtKTtcclxuICAgIFx0XHQgICAgXHR9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRpZihwcm9wZXJ0eT09PVwic2hpZnRcIikge1xyXG5cdCAgICBcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0ICAgIFx0ICAgIFx0XHRyZXR1cm4gdGhpcy5zcGxpY2UoMCwxKTtcclxuXHQgICAgXHQgICAgXHR9XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0XHRyZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XTtcclxuXHQgICAgXHR9fSk7XHJcblx0ICAgIFx0dmFyIHByb3h5ID0gT2JqZWN0Lm9ic2VydmUoYXJyYXlwcm94eSxmdW5jdGlvbihjaGFuZ2VzZXQpIHsgXHJcblx0ICAgIFx0XHR2YXIgY2hhbmdlcyA9IGNoYW5nZXNldC5maWx0ZXIoZnVuY3Rpb24oY2hhbmdlKSB7IHJldHVybiBjaGFuZ2UubmFtZSE9PVwibGVuZ3RoXCIgJiYgY2hhbmdlLm5hbWUhPT1cImFkZFwiICYmICghYWNjZXB0bGlzdCB8fCBhY2NlcHRsaXN0LmluZGV4T2YoY2hhbmdlLnR5cGUpPj0wKTsgfSk7XHJcblx0ICAgIFx0XHRpZihjaGFuZ2VzLmxlbmd0aD4wKSB7XHJcblx0ICAgIFx0XHRcdGNhbGxiYWNrKGNoYW5nZXMpO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdH0sYWNjZXB0bGlzdCxwYXVzYWJsZSxwYXVzZSxkZWxheSk7XHJcblx0ICAgIFx0cmV0dXJuIHByb3h5O1xyXG5cdCAgICB9O1xyXG5cdCAgICBBcnJheS51bm9ic2VydmUgPSBmdW5jdGlvbihvYmplY3QsY2FsbGJhY2spIHtcclxuXHRcdCAgcmV0dXJuIG9iamVjdC51bm9ic2VydmUoY2FsbGJhY2spO1xyXG5cdCAgICB9XHJcblx0fVxyXG5cdE9iamVjdC5kZWVwT2JzZXJ2ZSA9IGZ1bmN0aW9uKG9iamVjdCxjYWxsYmFjayxwYXJ0cykge1xyXG5cclxuXHRcdHBhcnRzID0gKHBhcnRzID8gcGFydHMgOiBbXSk7XHJcblxyXG5cdFx0dmFyIHRvVHlwZU5hbWUgPSBmdW5jdGlvbihvYmopIHtcclxuXHRcdFx0cmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKClcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW9ic2VydmUodmFsdWUsIHBhcnRzKSB7XHJcblx0XHRcdHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xyXG5cdFx0XHRrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRcdFx0aWYoKHRvVHlwZU5hbWUodmFsdWVba2V5XSkgPT09ICdvYmplY3QnIHx8IHRvVHlwZU5hbWUodmFsdWVba2V5XSkgPT09ICdhcnJheScpICYmICF2YWx1ZVtrZXldLmhhc093blByb3BlcnR5KCdfX29ic2VydmVyc19fJykpIHtcclxuXHRcdFx0XHRcdHZhciBuZXdwYXJ0cyA9IHBhcnRzLnNsaWNlKDApO1xyXG5cdFx0XHRcdFx0bmV3cGFydHMucHVzaChrZXkpO1xyXG5cdFx0XHRcdFx0dmFsdWVba2V5XSA9IE9iamVjdC5kZWVwT2JzZXJ2ZSh2YWx1ZVtrZXldLGNhbGxiYWNrLG5ld3BhcnRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlb2JzZXJ2ZShvYmplY3QsIHBhcnRzKTtcclxuXHJcblx0XHR2YXIgb2JzZXJ2ZWQgPSBPYmplY3Qub2JzZXJ2ZShvYmplY3QsZnVuY3Rpb24oY2hhbmdlc2V0KSB7XHJcblx0XHRcdHZhciBjaGFuZ2VzID0gW107XHJcblx0XHRcdGZ1bmN0aW9uIHJlY3Vyc2UobmFtZSxyb290T2JqZWN0LG9sZE9iamVjdCxuZXdPYmplY3QscGF0aCkge1xyXG5cdFx0XHRcdGlmKG5ld09iamVjdCBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG5cdFx0XHRcdFx0dmFyIG5ld2tleXMgPSBPYmplY3Qua2V5cyhuZXdPYmplY3QpO1xyXG5cdFx0XHRcdFx0bmV3a2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRcdFx0XHRpZighb2xkT2JqZWN0IHx8IChvbGRPYmplY3Rba2V5XSE9PW5ld09iamVjdFtrZXldKSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBvbGR2YWx1ZSA9IChvbGRPYmplY3QgJiYgb2xkT2JqZWN0W2tleV0hPT11bmRlZmluZWQgPyBvbGRPYmplY3Rba2V5XSA6IHVuZGVmaW5lZCksXHJcblx0XHRcdFx0XHRcdFx0XHRjaGFuZ2UgPSAob2xkdmFsdWU9PT11bmRlZmluZWQgPyBcImFkZFwiIDogXCJ1cGRhdGVcIiksXHJcblx0XHRcdFx0XHRcdFx0XHRrZXlwYXRoID0gcGF0aCArIFwiLlwiICsga2V5O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRjaGFuZ2VzLnB1c2goe25hbWU6bmFtZSxvYmplY3Q6cm9vdE9iamVjdCx0eXBlOmNoYW5nZSxvbGRWYWx1ZTpvbGR2YWx1ZSxuZXdWYWx1ZTpuZXdPYmplY3Rba2V5XSxrZXlwYXRoOmtleXBhdGh9KTtcclxuXHRcdFx0XHRcdFx0XHRyZWN1cnNlKG5hbWUscm9vdE9iamVjdCxvbGR2YWx1ZSxuZXdPYmplY3Rba2V5XSxrZXlwYXRoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG9sZE9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG5cdFx0XHRcdFx0dmFyIG9sZGtleXMgPSBPYmplY3Qua2V5cyhvbGRPYmplY3QpO1xyXG5cdFx0XHRcdFx0b2xka2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgY2hhbmdlID0gKG5ld09iamVjdD09PW51bGwgPyBcInVwZGF0ZVwiIDogXCJkZWxldGVcIiksXHJcblx0XHRcdFx0XHRcdFx0a2V5cGF0aCA9IHBhdGggKyBcIi5cIiArIGtleTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y2hhbmdlcy5wdXNoKHtuYW1lOm5hbWUsb2JqZWN0OnJvb3RPYmplY3QsdHlwZTpjaGFuZ2Usb2xkVmFsdWU6b2xkT2JqZWN0W2tleV0sbmV3VmFsdWU6bmV3T2JqZWN0LGtleXBhdGg6a2V5cGF0aH0pO1xyXG5cdFx0XHRcdFx0XHRyZWN1cnNlKG5hbWUscm9vdE9iamVjdCxvbGRPYmplY3Rba2V5XSx1bmRlZmluZWQsa2V5cGF0aCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hhbmdlc2V0LmZvckVhY2goZnVuY3Rpb24oY2hhbmdlKSB7XHJcblx0XHRcdFx0dmFyIGtleXBhdGggPSAocGFydHMubGVuZ3RoPjAgPyBwYXJ0cy5qb2luKFwiLlwiKSArIFwiLlwiIDogXCJcIikgKyBjaGFuZ2UubmFtZTtcclxuXHJcblx0XHRcdFx0aWYgKGNoYW5nZS50eXBlID09PSBcInVwZGF0ZVwiIHx8IGNoYW5nZS50eXBlID09PSBcImFkZFwiKSB7IFxyXG5cdFx0XHRcdFx0cmVvYnNlcnZlKGNoYW5nZS5vYmplY3QsIHBhcnRzKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNoYW5nZXMucHVzaCh7bmFtZTpjaGFuZ2UubmFtZSxvYmplY3Q6Y2hhbmdlLm9iamVjdCx0eXBlOmNoYW5nZS50eXBlLG9sZFZhbHVlOmNoYW5nZS5vbGRWYWx1ZSxuZXdWYWx1ZTpjaGFuZ2Uub2JqZWN0W2NoYW5nZS5uYW1lXSxrZXlwYXRoOmtleXBhdGh9KTtcclxuXHRcdFx0XHRyZWN1cnNlKGNoYW5nZS5uYW1lLGNoYW5nZS5vYmplY3QsY2hhbmdlLm9sZFZhbHVlLGNoYW5nZS5vYmplY3RbY2hhbmdlLm5hbWVdLGtleXBhdGgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y2FsbGJhY2soY2hhbmdlcyk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBvYnNlcnZlZDtcclxuXHR9O1xyXG59KSgpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9wcm94eS1vYnNlcnZlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA0IDEyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///121\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = __webpack_require__(49);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _assign = __webpack_require__(88);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _ProxyObject = __webpack_require__(116);\n\nvar _ProxyObject2 = _interopRequireDefault(_ProxyObject);\n\nvar _DataObjectChild = __webpack_require__(117);\n\nvar _DataObjectChild2 = _interopRequireDefault(_DataObjectChild);\n\nvar _utils = __webpack_require__(21);\n\nvar _HypertyResourceFactory = __webpack_require__(128);\n\nvar _HypertyResourceFactory2 = _interopRequireDefault(_HypertyResourceFactory);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObject'); /**\n                                          * Copyright 2016 PT Inovação e Sistemas SA\n                                          * Copyright 2016 INESC-ID\n                                          * Copyright 2016 QUOBIS NETWORKS SL\n                                          * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                          * Copyright 2016 ORANGE SA\n                                          * Copyright 2016 Deutsche Telekom AG\n                                          * Copyright 2016 Apizee\n                                          * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                          *\n                                          * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                          * you may not use this file except in compliance with the License.\n                                          * You may obtain a copy of the License at\n                                          *\n                                          *   http://www.apache.org/licenses/LICENSE-2.0\n                                          *\n                                          * Unless required by applicable law or agreed to in writing, software\n                                          * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                          * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                          * See the License for the specific language governing permissions and\n                                          * limitations under the License.\n                                          **/\n\n// Log System\n\n/**\n * Main extension class for observers and reporters, with common properties and methods.\n * Children management is common for observers and reporters.\n */\nvar DataObject = function () {\n  /* private\n  _version: number\n   _owner: HypertyURL\n  _url: ObjectURL\n  _schema: Schema\n  _bus: MiniBus\n  _status: on | paused\n  _syncObj: SyncData\n   _children: { id: DataObjectChild }\n  _childrenListeners: [MsgListener]\n   ----event handlers----\n  _onAddChildHandler: (event) => void\n  */\n\n  /**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher create or subscribe method's\n   */\n\n  function DataObject(input) {\n    (0, _classCallCheck3.default)(this, DataObject);\n\n    var _this = this;\n\n    function throwMandatoryParmMissingError(par) {\n      throw '[DataObject] ' + par + ' mandatory parameter is missing';\n    }\n\n    input.syncher ? _this._syncher = input.syncher : throwMandatoryParmMissingError('syncher');\n    input.url ? _this._url = input.url : throwMandatoryParmMissingError('url');\n    input.created ? _this._created = input.created : throwMandatoryParmMissingError('created');\n    input.reporter ? _this._reporter = input.reporter : throwMandatoryParmMissingError('reporter');\n    input.runtime ? _this._runtime = input.runtime : throwMandatoryParmMissingError('runtime');\n    input.schema ? _this._schema = input.schema : throwMandatoryParmMissingError('schema');\n    input.name ? _this._name = input.name : throwMandatoryParmMissingError('name');\n\n    _this._status = input.status;\n\n    if (input.data) {\n      _this._syncObj = new _ProxyObject2.default(input.data);\n    } else {\n      _this._syncObj = new _ProxyObject2.default({});\n    }\n    _this._childrens = input.childrens;\n\n    //TODO: For Further Study\n    _this._mutual = input.mutual;\n\n    _this._version = 0;\n    _this._childId = 0;\n    _this._childrenListeners = []; //bus listeners per children\n    _this._onAddChildrenHandler; //Hyperty side handlers to process child objects created by remote Hyperties\n\n    _this._resumed = input.resume;\n\n    if (input.resume) {\n      _this._version = input.version;\n    }\n\n    _this._owner = input.syncher._owner;\n    _this._bus = input.syncher._bus;\n\n    if (input.description) _this._description = input.description;\n    if (input.tags) _this._tags = input.tags;\n    if (input.resources) _this._resources = input.resources;\n    if (input.observerStorage) _this._observerStorage = input.observerStorage;\n    if (input.publicObservation) _this._publicObservation = input.publicObservation;\n\n    _this._metadata = (0, _assign2.default)(input);\n    _this._metadata.lastModified = _this._metadata.created;\n\n    delete _this._metadata.data;\n    delete _this._metadata.syncher;\n    delete _this._metadata.authorise;\n\n    _this._hypertyResourceFactory = new _HypertyResourceFactory2.default();\n    _this._childrenObjects = {};\n    _this._sharedChilds = []; //childObjects that were not sent yet to Reporters\n  }\n\n  (0, _createClass3.default)(DataObject, [{\n    key: '_getLastChildId',\n    value: function _getLastChildId() {\n      var _this = this;\n\n      var childIdInt = 0;\n      var childIdString = _this._owner + '#' + childIdInt;\n\n      (0, _keys2.default)(_this._childrens).filter(function (key) {\n        if (_this._childrens[key].childId > childIdString) {\n          childIdString = _this._childrens[key].childId;\n        }\n      });\n\n      return childIdInt = Number(childIdString.split('#')[1]);\n    }\n  }, {\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this2 = this;\n\n      var _this = this;\n\n      var childBaseURL = _this._url + '/children/';\n      log.log('[Data Object - AllocateListeners] - ', _this._childrens);\n      if (_this._childrens) {\n        _this._childrens.forEach(function (child) {\n          var childURL = childBaseURL + child;\n          var listener = _this._bus.addListener(childURL, function (msg) {\n            //ignore msg sent by himself\n            if (msg.from !== _this2._owner) {\n              log.log('DataObject-Children-RCV: ', msg);\n              switch (msg.type) {\n                case 'create':\n                  _this._onChildCreate(msg);break;\n                case 'delete':\n                  log.log(msg);break;\n                default:\n                  _this._changeChildren(msg);break;\n              }\n            }\n          });\n\n          _this._childrenListeners.push(listener);\n        });\n      }\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      _this._childrenListeners.forEach(function (listener) {\n        listener.remove();\n      });\n\n      (0, _keys2.default)(_this._childrenObjects).forEach(function (children) {\n        (0, _keys2.default)(_this._childrenObjects[children]).forEach(function (child) {\n          _this._childrenObjects[children][child]._releaseListeners();\n        });\n      });\n    }\n\n    /**\n     *\n     */\n\n  }, {\n    key: 'resumeChildrens',\n    value: function resumeChildrens(childrens) {\n      var _this3 = this;\n\n      var _this = this;\n\n      var childIdString = this._owner + '#' + this._childId;\n\n      //setup childrens data from subscription\n      (0, _keys2.default)(childrens).forEach(function (childrenResource) {\n        var children = childrens[childrenResource];\n\n        //_this._childrenObjects[childrenResource] = {};\n        (0, _keys2.default)(children).forEach(function (childId) {\n          var newChild = false;\n\n          if (!_this._childrenObjects.hasOwnProperty(childrenResource)) _this._childrenObjects[childrenResource] = {};\n\n          if (children[childId].value.resourceType && !_this._childrenObjects[childrenResource].hasOwnProperty(childId)) {\n            _this._childrenObjects[childrenResource][childId] = _this._resumeHypertyResource(children[childId]);\n            newChild = true;\n          } else if (!_this._childrenObjects[childrenResource].hasOwnProperty(childId)) {\n\n            _this._childrenObjects[childrenResource][childId] = _this._resumeChild(children[childId]);\n            log.log('[DataObject.resumeChildrens] new DataObjectChild: ', _this._childrenObjects[childrenResource][childId]);\n            newChild = true;\n          }\n\n          if (newChild && childId > childIdString) {\n            childIdString = childId;\n            log.log('[DataObjectReporter.resumeChildrens] - resuming: ', _this3._childrenObjects[childrenResource][childId]);\n          }\n        });\n      });\n\n      this._childId = Number(childIdString.split('#')[1]);\n    }\n  }, {\n    key: '_resumeChild',\n    value: function _resumeChild(input) {\n      var _this = this;\n      var childInput = input.value;\n      childInput.parentObject = _this;\n      childInput.parent = _this._url;\n\n      var child = new _DataObjectChild2.default(childInput);\n\n      child.identity = input.identity;\n\n      var event = {\n        type: 'create',\n        from: child.reporter,\n        url: child.parent,\n        value: child.data,\n        childId: child.url,\n        identity: child.identity,\n        child: child\n      };\n\n      if (child.resourceType) {\n        event.resource = child;\n      }\n\n      if (_this._onAddChildrenHandler) _this._onAddChildrenHandler(event);\n\n      return child;\n    }\n  }, {\n    key: '_resumeHypertyResource',\n    value: function _resumeHypertyResource(input) {\n      var _this = this;\n      var childInput = input.value;\n      childInput.parentObject = _this;\n      childInput.parent = _this._url;\n\n      var hypertyResource = _this._hypertyResourceFactory.createHypertyResource(false, childInput.resourceType, childInput);\n\n      hypertyResource.identity = input.identity;\n\n      var event = {\n        type: 'create',\n        from: hypertyResource.reporter,\n        url: hypertyResource.parent,\n        value: hypertyResource.data,\n        childId: hypertyResource.url,\n        identity: hypertyResource.identity,\n        child: hypertyResource\n      };\n\n      if (hypertyResource.resourceType) {\n        event.resource = hypertyResource;\n      }\n\n      if (_this._onAddChildrenHandler) _this._onAddChildrenHandler(event);\n\n      return hypertyResource;\n    }\n\n    /**\n     * All Metadata about the Data Object\n     * @type {Object} -\n     */\n\n  }, {\n    key: 'pause',\n\n\n    /**\n     * @ignore\n     */\n    value: function pause() {\n      //TODO: this feature needs more analise\n      throw 'Not implemented';\n    }\n\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: 'resume',\n    value: function resume() {\n      //TODO: this feature needs more analise\n      throw 'Not implemented';\n    }\n\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      //TODO: should remove the subscription and send message unsubscribe?\n      throw 'Not implemented';\n    }\n\n    /**\n     * Create and add a DataObjectChild to a children collection.\n     * @param {String} children - Children name where the child is added.\n     * @param {JSON} initialData - Initial data of the child\n     * @param  {MessageBodyIdentity} identity - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\n     * @param  {SyncChildMetadata} input - (optional) All additional metadata about the DataObjectChild.\n     * @return {Promise<DataObjectChild>} - Return Promise to a new DataObjectChild.\n     */\n\n  }, {\n    key: 'addChild',\n    value: function addChild(children, initialData, identity, input) {\n      var _this = this;\n      var newChild = void 0;\n\n      //returns promise, in the future, the API may change to asynchronous call\n      return new _promise2.default(function (resolve) {\n\n        var msgChildPath = _this._url + '/children/' + children;\n\n        var childInput = _this._getChildInput(input);\n        childInput.data = initialData;\n        childInput.children = children;\n        newChild = new _DataObjectChild2.default(childInput);\n\n        if (identity) newChild.identity = identity;\n\n        newChild.share();\n\n        log.log('[DataObject.addChild] added ', newChild);\n\n        newChild.onChange(function (event) {\n          _this._onChange(event, { path: msgChildPath, childId: childInput.url });\n        });\n\n        if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n        _this._childrenObjects[children][childInput.url] = newChild;\n\n        resolve(newChild);\n      });\n    }\n  }, {\n    key: '_deleteChildrens',\n    value: function _deleteChildrens() {\n\n      var _this = this;\n      var deletePromises = [];\n\n      return new _promise2.default(function (resolve) {\n        if (_this.childrens) {\n          log.log('[DataObject.deleteChildrens]', _this.childrens);\n          var children = void 0;\n\n          for (children in _this.childrens) {\n            var child = void 0;\n            for (child in _this.childrens[children]) {\n              var childObj = _this.childrens[children][child];\n              log.log('[DataObject._deleteChildrens] child', childObj);\n              if (childObj.metadata.hasOwnProperty('resourceType')) deletePromises.push(_this.childrens[children][child].delete());\n            }\n          }\n        }\n\n        log.log('[DataObject._deleteChildrens] promises ', deletePromises);\n\n        if (deletePromises.length > 0) {\n          _promise2.default.all(deletePromises).then(function () {\n            resolve('[DataObject._deleteChildrens] done');\n          });\n        } else resolve('[DataObject._deleteChildrens] nothing to delete');\n      });\n    }\n  }, {\n    key: '_getChildInput',\n    value: function _getChildInput(input) {\n      var _this = this;\n      var childInput = (0, _assign2.default)({}, input);\n\n      _this._childId++;\n      childInput.url = _this._owner + '#' + _this._childId;\n\n      childInput.parentObject = _this;\n      childInput.reporter = _this._owner;\n      childInput.created = new Date().toISOString();\n      childInput.runtime = _this._syncher._runtimeUrl;\n      childInput.p2pHandler = _this._syncher._p2pHandler;\n      childInput.p2pRequester = _this._syncher._p2pRequester;\n      childInput.schema = _this._schema;\n      childInput.parent = _this.url;\n\n      return childInput;\n    }\n  }, {\n    key: 'addHypertyResource',\n    value: function addHypertyResource(children, type, resource, identity, input) {\n      var _this = this;\n\n      //returns promise, in the future, the API may change to asynchronous call\n      return new _promise2.default(function (resolve) {\n\n        var hypertyResource = void 0;\n        var msgChildPath = _this._url + '/children/' + children;\n\n        var childInput = _this._getChildInput(input);\n        childInput.children = children;\n\n        _this._hypertyResourceFactory.createHypertyResourceWithContent(true, type, resource, childInput).then(function (resource) {\n          hypertyResource = resource;\n\n          if (identity) hypertyResource.identity = identity;\n\n          hypertyResource.share();\n\n          log.log('[DataObject.addHypertyResource] added ', hypertyResource);\n\n          hypertyResource.onChange(function (event) {\n            _this._onChange(event, { path: msgChildPath, childId: hypertyResource.childId });\n          });\n\n          if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n          _this._childrenObjects[children][hypertyResource.childId] = hypertyResource;\n\n          resolve(hypertyResource);\n        });\n      });\n    }\n\n    /**\n     * Setup the callback to process create and delete of childrens.\n     * @param {function(event: MsgEvent)} callback\n     * TODO: add childrenId to support different handlers per children\n     */\n\n  }, {\n    key: 'onAddChild',\n    value: function onAddChild(callback) {\n\n      this._onAddChildrenHandler = callback;\n    }\n\n    //FLOW-IN: message received from a remote DataObject -> addChild\n\n  }, {\n    key: '_onChildCreate',\n    value: function _onChildCreate(msg) {\n      var _this = this;\n\n      log.log('[DataObject._onChildCreate] receivedBy ' + _this._owner + ' : ', msg);\n\n      var response = {\n        from: msg.to,\n        to: msg.from,\n        type: 'response',\n        id: msg.id,\n        body: {\n          code: 100\n        }\n      };\n\n      _this._bus.postMessage(response);\n\n      if (msg.body.value.resourceType) {\n        _this._onHypertyResourceAdded(msg);\n      } else _this._onChildAdded(msg);\n    }\n  }, {\n    key: '_onChildAdded',\n    value: function _onChildAdded(msg) {\n      var _this = this;\n      var childInput = (0, _utils.deepClone)(msg.body.value);\n      childInput.parentObject = _this;\n\n      var children = childInput.children;\n\n      var newChild = new _DataObjectChild2.default(childInput);\n      newChild.identity = msg.body.identity;\n\n      if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n      _this._childrenObjects[children][childInput.url] = newChild;\n\n      if (msg.to === _this.metadata.url) newChild.store();\n\n      _this._hypertyEvt(msg, newChild);\n    }\n  }, {\n    key: '_onHypertyResourceAdded',\n    value: function _onHypertyResourceAdded(msg) {\n      var _this = this;\n      var input = msg.body.value;\n      var hypertyResource = void 0;\n\n      var children = input.children;\n\n      input.parentObject = _this;\n\n      hypertyResource = _this._hypertyResourceFactory.createHypertyResource(false, input.resourceType, input);\n      hypertyResource.identity = msg.body.identity;\n\n      if (!_this._childrenObjects.hasOwnProperty(children)) _this._childrenObjects[children] = {};\n\n      _this._childrenObjects[children][hypertyResource.childId] = hypertyResource;\n\n      _this._hypertyEvt(msg, hypertyResource);\n\n      // locally store messages that are directly sent to the hyperty\n      // ie to sync with messages sent when offline\n\n      if (msg.to === _this.metadata.url) hypertyResource.store();\n    }\n  }, {\n    key: '_hypertyEvt',\n    value: function _hypertyEvt(msg, child) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        from: msg.from,\n        url: msg.to,\n        value: child.data,\n        childId: child.url,\n        identity: msg.body.identity,\n        child: child\n      };\n\n      if (child.resourceType) {\n        event.resource = child;\n      }\n\n      if (_this._onAddChildrenHandler) _this._onAddChildrenHandler(event);\n    }\n\n    //send delta messages to subscriptions\n\n  }, {\n    key: '_onChange',\n    value: function _onChange(event, childInfo) {\n      var _this = this;\n\n      _this._metadata.lastModified = new Date().toISOString();\n\n      _this._version++;\n\n      if (_this._status === 'live') {\n        //FLOW-OUT: this message will be sent directly to a resource changes address: MessageBus\n        var changeMsg = {\n          type: 'update', from: _this._url, to: _this._url + '/changes',\n          body: { version: _this._version, source: _this._owner, attribute: event.field, lastModified: _this._metadata.lastModified }\n        };\n\n        log.log('[DataObject - _onChange] - ', event, childInfo, changeMsg);\n\n        if (event.oType === _ProxyObject.ObjectType.OBJECT) {\n          if (event.cType !== _ProxyObject.ChangeType.REMOVE) {\n            changeMsg.body.value = (0, _utils.deepClone)(event.data);\n          }\n        } else {\n          changeMsg.body.attributeType = event.oType;\n          changeMsg.body.value = event.data;\n          if (event.cType !== _ProxyObject.ChangeType.UPDATE) {\n            changeMsg.body.operation = event.cType;\n          }\n        }\n\n        //childInfo must have (path, childId)\n        if (childInfo) {\n          changeMsg.to = childInfo.path;\n          changeMsg.body.resource = childInfo.childId;\n        }\n\n        //TODO: For Further Study\n        if (!_this.data._mutual) changeMsg.body.mutual = _this._mutual;\n\n        _this._bus.postMessage(changeMsg);\n      }\n    }\n\n    //FLOW-IN: delta message received from a remote DataObjectReporter or DataObjectChild when changing data\n\n  }, {\n    key: '_changeObject',\n    value: function _changeObject(syncObj, msg) {\n      var _this = this;\n\n      //TODO: update version ?\n      //how to handle an incorrect version ? Example: receive a version 3 when the observer is in version 1, where is the version 2 ?\n      //will we need to confirm the reception ?\n      if (_this._version + 1 <= msg.body.version) {\n        _this._version = msg.body.version;\n        var path = msg.body.attribute;\n        var value = void 0;\n        if ((0, _typeof3.default)(msg.body.value) === 'object') value = (0, _utils.deepClone)(msg.body.value);else value = msg.body.value;\n\n        var findResult = syncObj.findBefore(path);\n\n        if (msg.body.lastModified) {\n          _this._metadata.lastModified = msg.body.lastModified;\n        } else {\n          _this._metadata.lastModified = new Date().toISOString();\n        }\n\n        if (msg.body.attributeType === _ProxyObject.ObjectType.ARRAY) {\n          if (msg.body.operation === _ProxyObject.ChangeType.ADD) {\n            var arr = findResult.obj;\n            var index = findResult.last;\n            Array.prototype.splice.apply(arr, [index, 0].concat(value));\n          } else if (msg.body.operation === _ProxyObject.ChangeType.REMOVE) {\n            var _arr = findResult.obj;\n            var _index = findResult.last;\n            _arr.splice(_index, value);\n          } else {\n            findResult.obj[findResult.last] = value; // UPDATE\n          }\n        } else {\n          if (msg.body.hasOwnProperty('value')) {\n            findResult.obj[findResult.last] = value; // UPDATE or ADD\n          } else {\n            delete findResult.obj[findResult.last]; // REMOVE\n          }\n        }\n      } else {\n        //TODO: how to handle unsynchronized versions?\n        log.log('UNSYNCHRONIZED VERSION: (data => ' + _this._version + ', msg => ' + msg.body.version + ')');\n      }\n    }\n\n    //FLOW-IN: message received from a remote DataObjectChild when changing data\n\n  }, {\n    key: '_changeChildren',\n    value: function _changeChildren(msg) {\n      var _this = this;\n      var dividedURL = (0, _utils.divideURL)(msg.to);\n      var identity = dividedURL.identity;\n      var resource = identity ? identity.substring(identity.lastIndexOf('/') + 1) : undefined;\n\n      var childId = msg.body.resource;\n      var children = _this._childrenObjects[resource][childId];\n\n      log.log('Change children: ', _this._owner, msg, resource);\n\n      if (children) {\n        _this._changeObject(children._syncObj, msg);\n      } else {\n        log.warn('No children found for: ', childId);\n      }\n    }\n  }, {\n    key: 'metadata',\n    get: function get() {\n      return this._metadata;\n    }\n\n    /**\n     * Object URL of reporter or observer\n     * @type {ObjectURL}\n     */\n\n  }, {\n    key: 'url',\n    get: function get() {\n      return this._url;\n    }\n\n    /**\n     * Object schema URL (this field is not yet stable, and is subsject to change)\n     * @type {SchemaURL}\n     */\n\n  }, {\n    key: 'schema',\n    get: function get() {\n      return this._schema;\n    }\n\n    /**\n     * Status of the reporter or observer connection (this field is not yet stable, and is subsject to change)\n     * @type {Status} - Enum of: on | paused\n     */\n\n  }, {\n    key: 'status',\n    get: function get() {\n      return this._status;\n    }\n\n    /**\n     * Data structure to be synchronized.\n     * @type {JSON} - JSON structure that should follow the defined schema, if any.\n     */\n\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._syncObj.data;\n    }\n\n    /**\n     * All created children's since the subscription, doesn't contain all children's since reporter creation.\n     * @type {Object<ChildId, DataObjectChild>}\n     */\n\n  }, {\n    key: 'childrens',\n    get: function get() {\n      return this._childrenObjects;\n    }\n  }]);\n  return DataObject;\n}();\n\nexports.default = DataObject;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0LmpzP2QyZGIiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nIiwiZ2V0TG9nZ2VyIiwiRGF0YU9iamVjdCIsImlucHV0IiwiX3RoaXMiLCJ0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IiLCJwYXIiLCJzeW5jaGVyIiwiX3N5bmNoZXIiLCJ1cmwiLCJfdXJsIiwiY3JlYXRlZCIsIl9jcmVhdGVkIiwicmVwb3J0ZXIiLCJfcmVwb3J0ZXIiLCJydW50aW1lIiwiX3J1bnRpbWUiLCJzY2hlbWEiLCJfc2NoZW1hIiwibmFtZSIsIl9uYW1lIiwiX3N0YXR1cyIsInN0YXR1cyIsImRhdGEiLCJfc3luY09iaiIsIl9jaGlsZHJlbnMiLCJjaGlsZHJlbnMiLCJfbXV0dWFsIiwibXV0dWFsIiwiX3ZlcnNpb24iLCJfY2hpbGRJZCIsIl9jaGlsZHJlbkxpc3RlbmVycyIsIl9vbkFkZENoaWxkcmVuSGFuZGxlciIsIl9yZXN1bWVkIiwicmVzdW1lIiwidmVyc2lvbiIsIl9vd25lciIsIl9idXMiLCJkZXNjcmlwdGlvbiIsIl9kZXNjcmlwdGlvbiIsInRhZ3MiLCJfdGFncyIsInJlc291cmNlcyIsIl9yZXNvdXJjZXMiLCJvYnNlcnZlclN0b3JhZ2UiLCJfb2JzZXJ2ZXJTdG9yYWdlIiwicHVibGljT2JzZXJ2YXRpb24iLCJfcHVibGljT2JzZXJ2YXRpb24iLCJfbWV0YWRhdGEiLCJsYXN0TW9kaWZpZWQiLCJhdXRob3Jpc2UiLCJfaHlwZXJ0eVJlc291cmNlRmFjdG9yeSIsIl9jaGlsZHJlbk9iamVjdHMiLCJfc2hhcmVkQ2hpbGRzIiwiY2hpbGRJZEludCIsImNoaWxkSWRTdHJpbmciLCJmaWx0ZXIiLCJrZXkiLCJjaGlsZElkIiwiTnVtYmVyIiwic3BsaXQiLCJjaGlsZEJhc2VVUkwiLCJmb3JFYWNoIiwiY2hpbGQiLCJjaGlsZFVSTCIsImxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJtc2ciLCJmcm9tIiwidHlwZSIsIl9vbkNoaWxkQ3JlYXRlIiwiX2NoYW5nZUNoaWxkcmVuIiwicHVzaCIsInJlbW92ZSIsImNoaWxkcmVuIiwiX3JlbGVhc2VMaXN0ZW5lcnMiLCJjaGlsZHJlblJlc291cmNlIiwibmV3Q2hpbGQiLCJoYXNPd25Qcm9wZXJ0eSIsInZhbHVlIiwicmVzb3VyY2VUeXBlIiwiX3Jlc3VtZUh5cGVydHlSZXNvdXJjZSIsIl9yZXN1bWVDaGlsZCIsImNoaWxkSW5wdXQiLCJwYXJlbnRPYmplY3QiLCJwYXJlbnQiLCJpZGVudGl0eSIsImV2ZW50IiwicmVzb3VyY2UiLCJoeXBlcnR5UmVzb3VyY2UiLCJjcmVhdGVIeXBlcnR5UmVzb3VyY2UiLCJpbml0aWFsRGF0YSIsInJlc29sdmUiLCJtc2dDaGlsZFBhdGgiLCJfZ2V0Q2hpbGRJbnB1dCIsInNoYXJlIiwib25DaGFuZ2UiLCJfb25DaGFuZ2UiLCJwYXRoIiwiZGVsZXRlUHJvbWlzZXMiLCJjaGlsZE9iaiIsIm1ldGFkYXRhIiwiZGVsZXRlIiwibGVuZ3RoIiwiYWxsIiwidGhlbiIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIl9ydW50aW1lVXJsIiwicDJwSGFuZGxlciIsIl9wMnBIYW5kbGVyIiwicDJwUmVxdWVzdGVyIiwiX3AycFJlcXVlc3RlciIsImNyZWF0ZUh5cGVydHlSZXNvdXJjZVdpdGhDb250ZW50IiwiY2FsbGJhY2siLCJyZXNwb25zZSIsInRvIiwiaWQiLCJib2R5IiwiY29kZSIsInBvc3RNZXNzYWdlIiwiX29uSHlwZXJ0eVJlc291cmNlQWRkZWQiLCJfb25DaGlsZEFkZGVkIiwic3RvcmUiLCJfaHlwZXJ0eUV2dCIsImNoaWxkSW5mbyIsImNoYW5nZU1zZyIsInNvdXJjZSIsImF0dHJpYnV0ZSIsImZpZWxkIiwib1R5cGUiLCJPQkpFQ1QiLCJjVHlwZSIsIlJFTU9WRSIsImF0dHJpYnV0ZVR5cGUiLCJVUERBVEUiLCJvcGVyYXRpb24iLCJzeW5jT2JqIiwiZmluZFJlc3VsdCIsImZpbmRCZWZvcmUiLCJBUlJBWSIsIkFERCIsImFyciIsIm9iaiIsImluZGV4IiwibGFzdCIsIkFycmF5IiwicHJvdG90eXBlIiwic3BsaWNlIiwiYXBwbHkiLCJjb25jYXQiLCJkaXZpZGVkVVJMIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJ1bmRlZmluZWQiLCJfY2hhbmdlT2JqZWN0Iiwid2FybiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBOztJQUFZQSxNOztBQUdaOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFMQSxJQUFJQyxNQUFNRCxPQUFPRSxTQUFQLENBQWlCLFlBQWpCLENBQVYsQyxDQXpCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7O0FBU0E7Ozs7SUFJTUMsVTtBQUNKOzs7Ozs7Ozs7Ozs7OztBQWlCQTs7Ozs7QUFLQSxzQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUNqQixRQUFJQyxRQUFRLElBQVo7O0FBRUEsYUFBU0MsOEJBQVQsQ0FBd0NDLEdBQXhDLEVBQTZDO0FBQzNDLFlBQU0sa0JBQWtCQSxHQUFsQixHQUF3QixpQ0FBOUI7QUFDRDs7QUFFREgsVUFBTUksT0FBTixHQUFnQkgsTUFBTUksUUFBTixHQUFpQkwsTUFBTUksT0FBdkMsR0FBaURGLCtCQUErQixTQUEvQixDQUFqRDtBQUNBRixVQUFNTSxHQUFOLEdBQWFMLE1BQU1NLElBQU4sR0FBYVAsTUFBTU0sR0FBaEMsR0FBc0NKLCtCQUErQixLQUEvQixDQUF0QztBQUNBRixVQUFNUSxPQUFOLEdBQWdCUCxNQUFNUSxRQUFOLEdBQWlCVCxNQUFNUSxPQUF2QyxHQUFpRE4sK0JBQStCLFNBQS9CLENBQWpEO0FBQ0FGLFVBQU1VLFFBQU4sR0FBaUJULE1BQU1VLFNBQU4sR0FBa0JYLE1BQU1VLFFBQXpDLEdBQW9EUiwrQkFBK0IsVUFBL0IsQ0FBcEQ7QUFDQUYsVUFBTVksT0FBTixHQUFnQlgsTUFBTVksUUFBTixHQUFpQmIsTUFBTVksT0FBdkMsR0FBaURWLCtCQUErQixTQUEvQixDQUFqRDtBQUNBRixVQUFNYyxNQUFOLEdBQWViLE1BQU1jLE9BQU4sR0FBZ0JmLE1BQU1jLE1BQXJDLEdBQThDWiwrQkFBK0IsUUFBL0IsQ0FBOUM7QUFDQUYsVUFBTWdCLElBQU4sR0FBYWYsTUFBTWdCLEtBQU4sR0FBY2pCLE1BQU1nQixJQUFqQyxHQUF3Q2QsK0JBQStCLE1BQS9CLENBQXhDOztBQUdBRCxVQUFNaUIsT0FBTixHQUFnQmxCLE1BQU1tQixNQUF0Qjs7QUFFQSxRQUFJbkIsTUFBTW9CLElBQVYsRUFBZ0I7QUFDZG5CLFlBQU1vQixRQUFOLEdBQWlCLDBCQUFlckIsTUFBTW9CLElBQXJCLENBQWpCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xuQixZQUFNb0IsUUFBTixHQUFpQiwwQkFBZSxFQUFmLENBQWpCO0FBQ0Q7QUFDRHBCLFVBQU1xQixVQUFOLEdBQW1CdEIsTUFBTXVCLFNBQXpCOztBQUVBO0FBQ0F0QixVQUFNdUIsT0FBTixHQUFnQnhCLE1BQU15QixNQUF0Qjs7QUFFQXhCLFVBQU15QixRQUFOLEdBQWlCLENBQWpCO0FBQ0F6QixVQUFNMEIsUUFBTixHQUFpQixDQUFqQjtBQUNBMUIsVUFBTTJCLGtCQUFOLEdBQTJCLEVBQTNCLENBOUJpQixDQThCYztBQUMvQjNCLFVBQU00QixxQkFBTixDQS9CaUIsQ0ErQlk7O0FBRTdCNUIsVUFBTTZCLFFBQU4sR0FBaUI5QixNQUFNK0IsTUFBdkI7O0FBRUEsUUFBSS9CLE1BQU0rQixNQUFWLEVBQWtCO0FBQUU5QixZQUFNeUIsUUFBTixHQUFpQjFCLE1BQU1nQyxPQUF2QjtBQUFpQzs7QUFFckQvQixVQUFNZ0MsTUFBTixHQUFlakMsTUFBTUksT0FBTixDQUFjNkIsTUFBN0I7QUFDQWhDLFVBQU1pQyxJQUFOLEdBQWFsQyxNQUFNSSxPQUFOLENBQWM4QixJQUEzQjs7QUFFQSxRQUFJbEMsTUFBTW1DLFdBQVYsRUFBdUJsQyxNQUFNbUMsWUFBTixHQUFxQnBDLE1BQU1tQyxXQUEzQjtBQUN2QixRQUFJbkMsTUFBTXFDLElBQVYsRUFBZ0JwQyxNQUFNcUMsS0FBTixHQUFjdEMsTUFBTXFDLElBQXBCO0FBQ2hCLFFBQUlyQyxNQUFNdUMsU0FBVixFQUFxQnRDLE1BQU11QyxVQUFOLEdBQW1CeEMsTUFBTXVDLFNBQXpCO0FBQ3JCLFFBQUl2QyxNQUFNeUMsZUFBVixFQUEyQnhDLE1BQU15QyxnQkFBTixHQUF5QjFDLE1BQU15QyxlQUEvQjtBQUMzQixRQUFJekMsTUFBTTJDLGlCQUFWLEVBQTZCMUMsTUFBTTJDLGtCQUFOLEdBQTJCNUMsTUFBTTJDLGlCQUFqQzs7QUFFN0IxQyxVQUFNNEMsU0FBTixHQUFrQixzQkFBYzdDLEtBQWQsQ0FBbEI7QUFDQUMsVUFBTTRDLFNBQU4sQ0FBZ0JDLFlBQWhCLEdBQStCN0MsTUFBTTRDLFNBQU4sQ0FBZ0JyQyxPQUEvQzs7QUFFQSxXQUFPUCxNQUFNNEMsU0FBTixDQUFnQnpCLElBQXZCO0FBQ0EsV0FBT25CLE1BQU00QyxTQUFOLENBQWdCekMsT0FBdkI7QUFDQSxXQUFPSCxNQUFNNEMsU0FBTixDQUFnQkUsU0FBdkI7O0FBRUE5QyxVQUFNK0MsdUJBQU4sR0FBZ0Msc0NBQWhDO0FBQ0EvQyxVQUFNZ0QsZ0JBQU4sR0FBeUIsRUFBekI7QUFDQWhELFVBQU1pRCxhQUFOLEdBQXNCLEVBQXRCLENBdkRpQixDQXVEUztBQUMzQjs7OztzQ0FFaUI7QUFDaEIsVUFBSWpELFFBQVEsSUFBWjs7QUFFQSxVQUFJa0QsYUFBYSxDQUFqQjtBQUNBLFVBQUlDLGdCQUFnQm5ELE1BQU1nQyxNQUFOLEdBQWUsR0FBZixHQUFxQmtCLFVBQXpDOztBQUdBLDBCQUFZbEQsTUFBTXFCLFVBQWxCLEVBQThCK0IsTUFBOUIsQ0FBcUMsVUFBQ0MsR0FBRCxFQUFTO0FBQzVDLFlBQUlyRCxNQUFNcUIsVUFBTixDQUFpQmdDLEdBQWpCLEVBQXNCQyxPQUF0QixHQUFnQ0gsYUFBcEMsRUFBbUQ7QUFDakRBLDBCQUFnQm5ELE1BQU1xQixVQUFOLENBQWlCZ0MsR0FBakIsRUFBc0JDLE9BQXRDO0FBQ0Q7QUFDRixPQUpEOztBQU1BLGFBQU9KLGFBQWFLLE9BQU9KLGNBQWNLLEtBQWQsQ0FBb0IsR0FBcEIsRUFBeUIsQ0FBekIsQ0FBUCxDQUFwQjtBQUNEOzs7eUNBRW9CO0FBQUE7O0FBQ25CLFVBQUl4RCxRQUFRLElBQVo7O0FBRUEsVUFBSXlELGVBQWV6RCxNQUFNTSxJQUFOLEdBQWEsWUFBaEM7QUFDQVYsVUFBSUEsR0FBSixDQUFRLHNDQUFSLEVBQWdESSxNQUFNcUIsVUFBdEQ7QUFDQSxVQUFJckIsTUFBTXFCLFVBQVYsRUFBc0I7QUFDcEJyQixjQUFNcUIsVUFBTixDQUFpQnFDLE9BQWpCLENBQXlCLFVBQUNDLEtBQUQsRUFBVztBQUNsQyxjQUFJQyxXQUFXSCxlQUFlRSxLQUE5QjtBQUNBLGNBQUlFLFdBQVc3RCxNQUFNaUMsSUFBTixDQUFXNkIsV0FBWCxDQUF1QkYsUUFBdkIsRUFBaUMsVUFBQ0csR0FBRCxFQUFTO0FBQ3ZEO0FBQ0EsZ0JBQUlBLElBQUlDLElBQUosS0FBYSxPQUFLaEMsTUFBdEIsRUFBOEI7QUFDNUJwQyxrQkFBSUEsR0FBSixDQUFRLDJCQUFSLEVBQXFDbUUsR0FBckM7QUFDQSxzQkFBUUEsSUFBSUUsSUFBWjtBQUNFLHFCQUFLLFFBQUw7QUFBZWpFLHdCQUFNa0UsY0FBTixDQUFxQkgsR0FBckIsRUFBMkI7QUFDMUMscUJBQUssUUFBTDtBQUFlbkUsc0JBQUlBLEdBQUosQ0FBUW1FLEdBQVIsRUFBYztBQUM3QjtBQUFTL0Qsd0JBQU1tRSxlQUFOLENBQXNCSixHQUF0QixFQUE0QjtBQUh2QztBQUtEO0FBQ0YsV0FWYyxDQUFmOztBQVlBL0QsZ0JBQU0yQixrQkFBTixDQUF5QnlDLElBQXpCLENBQThCUCxRQUE5QjtBQUNELFNBZkQ7QUFnQkQ7QUFDRjs7O3dDQUVtQjtBQUNsQixVQUFJN0QsUUFBUSxJQUFaOztBQUVBQSxZQUFNMkIsa0JBQU4sQ0FBeUIrQixPQUF6QixDQUFpQyxVQUFDRyxRQUFELEVBQWM7QUFDN0NBLGlCQUFTUSxNQUFUO0FBQ0QsT0FGRDs7QUFJQSwwQkFBWXJFLE1BQU1nRCxnQkFBbEIsRUFBb0NVLE9BQXBDLENBQTRDLFVBQUNZLFFBQUQsRUFBYztBQUN4RCw0QkFBWXRFLE1BQU1nRCxnQkFBTixDQUF1QnNCLFFBQXZCLENBQVosRUFBOENaLE9BQTlDLENBQXNELFVBQUNDLEtBQUQsRUFBVztBQUMvRDNELGdCQUFNZ0QsZ0JBQU4sQ0FBdUJzQixRQUF2QixFQUFpQ1gsS0FBakMsRUFBd0NZLGlCQUF4QztBQUNELFNBRkQ7QUFHRCxPQUpEO0FBS0Q7O0FBRUQ7Ozs7OztvQ0FHZ0JqRCxTLEVBQVc7QUFBQTs7QUFDekIsVUFBSXRCLFFBQVEsSUFBWjs7QUFFQSxVQUFJbUQsZ0JBQWdCLEtBQUtuQixNQUFMLEdBQWMsR0FBZCxHQUFvQixLQUFLTixRQUE3Qzs7QUFHQTtBQUNBLDBCQUFZSixTQUFaLEVBQXVCb0MsT0FBdkIsQ0FBK0IsVUFBQ2MsZ0JBQUQsRUFBc0I7QUFDbkQsWUFBSUYsV0FBV2hELFVBQVVrRCxnQkFBVixDQUFmOztBQUVBO0FBQ0EsNEJBQVlGLFFBQVosRUFBc0JaLE9BQXRCLENBQThCLFVBQUNKLE9BQUQsRUFBYTtBQUN6QyxjQUFJbUIsV0FBVyxLQUFmOztBQUVBLGNBQUksQ0FBQ3pFLE1BQU1nRCxnQkFBTixDQUF1QjBCLGNBQXZCLENBQXNDRixnQkFBdEMsQ0FBTCxFQUNFeEUsTUFBTWdELGdCQUFOLENBQXVCd0IsZ0JBQXZCLElBQTJDLEVBQTNDOztBQUVGLGNBQUlGLFNBQVNoQixPQUFULEVBQWtCcUIsS0FBbEIsQ0FBd0JDLFlBQXhCLElBQXdDLENBQUM1RSxNQUFNZ0QsZ0JBQU4sQ0FBdUJ3QixnQkFBdkIsRUFBeUNFLGNBQXpDLENBQXdEcEIsT0FBeEQsQ0FBN0MsRUFBK0c7QUFDN0d0RCxrQkFBTWdELGdCQUFOLENBQXVCd0IsZ0JBQXZCLEVBQXlDbEIsT0FBekMsSUFBb0R0RCxNQUFNNkUsc0JBQU4sQ0FBNkJQLFNBQVNoQixPQUFULENBQTdCLENBQXBEO0FBQ0FtQix1QkFBVyxJQUFYO0FBQ0QsV0FIRCxNQUdPLElBQUksQ0FBQ3pFLE1BQU1nRCxnQkFBTixDQUF1QndCLGdCQUF2QixFQUF5Q0UsY0FBekMsQ0FBd0RwQixPQUF4RCxDQUFMLEVBQXVFOztBQUU1RXRELGtCQUFNZ0QsZ0JBQU4sQ0FBdUJ3QixnQkFBdkIsRUFBeUNsQixPQUF6QyxJQUFvRHRELE1BQU04RSxZQUFOLENBQW1CUixTQUFTaEIsT0FBVCxDQUFuQixDQUFwRDtBQUNBMUQsZ0JBQUlBLEdBQUosQ0FBUSxvREFBUixFQUE4REksTUFBTWdELGdCQUFOLENBQXVCd0IsZ0JBQXZCLEVBQXlDbEIsT0FBekMsQ0FBOUQ7QUFDQW1CLHVCQUFXLElBQVg7QUFDRDs7QUFFRCxjQUFJQSxZQUFZbkIsVUFBVUgsYUFBMUIsRUFBeUM7QUFDdkNBLDRCQUFnQkcsT0FBaEI7QUFDQTFELGdCQUFJQSxHQUFKLENBQVEsbURBQVIsRUFBNkQsT0FBS29ELGdCQUFMLENBQXNCd0IsZ0JBQXRCLEVBQXdDbEIsT0FBeEMsQ0FBN0Q7QUFDRDtBQUVGLFNBckJEO0FBc0JELE9BMUJEOztBQTRCQSxXQUFLNUIsUUFBTCxHQUFnQjZCLE9BQU9KLGNBQWNLLEtBQWQsQ0FBb0IsR0FBcEIsRUFBeUIsQ0FBekIsQ0FBUCxDQUFoQjtBQUVEOzs7aUNBRVl6RCxLLEVBQU87QUFDbEIsVUFBSUMsUUFBUSxJQUFaO0FBQ0EsVUFBSStFLGFBQWFoRixNQUFNNEUsS0FBdkI7QUFDQUksaUJBQVdDLFlBQVgsR0FBMEJoRixLQUExQjtBQUNBK0UsaUJBQVdFLE1BQVgsR0FBb0JqRixNQUFNTSxJQUExQjs7QUFFQSxVQUFJcUQsUUFBUSw4QkFBb0JvQixVQUFwQixDQUFaOztBQUVBcEIsWUFBTXVCLFFBQU4sR0FBaUJuRixNQUFNbUYsUUFBdkI7O0FBRUEsVUFBSUMsUUFBUTtBQUNWbEIsY0FBTSxRQURJO0FBRVZELGNBQU1MLE1BQU1sRCxRQUZGO0FBR1ZKLGFBQUtzRCxNQUFNc0IsTUFIRDtBQUlWTixlQUFPaEIsTUFBTXhDLElBSkg7QUFLVm1DLGlCQUFTSyxNQUFNdEQsR0FMTDtBQU1WNkUsa0JBQVV2QixNQUFNdUIsUUFOTjtBQU9WdkIsZUFBT0E7QUFQRyxPQUFaOztBQVVBLFVBQUlBLE1BQU1pQixZQUFWLEVBQXdCO0FBQ3RCTyxjQUFNQyxRQUFOLEdBQWlCekIsS0FBakI7QUFFRDs7QUFFRCxVQUFJM0QsTUFBTTRCLHFCQUFWLEVBQWlDNUIsTUFBTTRCLHFCQUFOLENBQTRCdUQsS0FBNUI7O0FBRWpDLGFBQU94QixLQUFQO0FBRUQ7OzsyQ0FFc0I1RCxLLEVBQU87QUFDNUIsVUFBSUMsUUFBUSxJQUFaO0FBQ0EsVUFBSStFLGFBQWFoRixNQUFNNEUsS0FBdkI7QUFDQUksaUJBQVdDLFlBQVgsR0FBMEJoRixLQUExQjtBQUNBK0UsaUJBQVdFLE1BQVgsR0FBb0JqRixNQUFNTSxJQUExQjs7QUFFQSxVQUFJK0Usa0JBQWtCckYsTUFBTStDLHVCQUFOLENBQThCdUMscUJBQTlCLENBQW9ELEtBQXBELEVBQTJEUCxXQUFXSCxZQUF0RSxFQUFvRkcsVUFBcEYsQ0FBdEI7O0FBRUFNLHNCQUFnQkgsUUFBaEIsR0FBMkJuRixNQUFNbUYsUUFBakM7O0FBRUEsVUFBSUMsUUFBUTtBQUNWbEIsY0FBTSxRQURJO0FBRVZELGNBQU1xQixnQkFBZ0I1RSxRQUZaO0FBR1ZKLGFBQUtnRixnQkFBZ0JKLE1BSFg7QUFJVk4sZUFBT1UsZ0JBQWdCbEUsSUFKYjtBQUtWbUMsaUJBQVMrQixnQkFBZ0JoRixHQUxmO0FBTVY2RSxrQkFBVUcsZ0JBQWdCSCxRQU5oQjtBQU9WdkIsZUFBTzBCO0FBUEcsT0FBWjs7QUFVQSxVQUFJQSxnQkFBZ0JULFlBQXBCLEVBQWtDO0FBQ2hDTyxjQUFNQyxRQUFOLEdBQWlCQyxlQUFqQjtBQUVEOztBQUVELFVBQUlyRixNQUFNNEIscUJBQVYsRUFBaUM1QixNQUFNNEIscUJBQU4sQ0FBNEJ1RCxLQUE1Qjs7QUFFakMsYUFBT0UsZUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7QUFxQ0E7Ozs0QkFHUTtBQUNOO0FBQ0EsWUFBTSxpQkFBTjtBQUNEOztBQUVEOzs7Ozs7NkJBR1M7QUFDUDtBQUNBLFlBQU0saUJBQU47QUFDRDs7QUFFRDs7Ozs7OzJCQUdPO0FBQ0w7QUFDQSxZQUFNLGlCQUFOO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7OzZCQVNTZixRLEVBQVVpQixXLEVBQWFMLFEsRUFBVW5GLEssRUFBTztBQUMvQyxVQUFJQyxRQUFRLElBQVo7QUFDQSxVQUFJeUUsaUJBQUo7O0FBRUE7QUFDQSxhQUFPLHNCQUFZLFVBQUNlLE9BQUQsRUFBYTs7QUFFOUIsWUFBSUMsZUFBZXpGLE1BQU1NLElBQU4sR0FBYSxZQUFiLEdBQTRCZ0UsUUFBL0M7O0FBR0EsWUFBSVMsYUFBYS9FLE1BQU0wRixjQUFOLENBQXFCM0YsS0FBckIsQ0FBakI7QUFDQWdGLG1CQUFXNUQsSUFBWCxHQUFrQm9FLFdBQWxCO0FBQ0FSLG1CQUFXVCxRQUFYLEdBQXNCQSxRQUF0QjtBQUNBRyxtQkFBVyw4QkFBb0JNLFVBQXBCLENBQVg7O0FBRUEsWUFBSUcsUUFBSixFQUFjVCxTQUFTUyxRQUFULEdBQW9CQSxRQUFwQjs7QUFFZFQsaUJBQVNrQixLQUFUOztBQUVBL0YsWUFBSUEsR0FBSixDQUFRLDhCQUFSLEVBQXdDNkUsUUFBeEM7O0FBRUFBLGlCQUFTbUIsUUFBVCxDQUFrQixVQUFDVCxLQUFELEVBQVc7QUFDM0JuRixnQkFBTTZGLFNBQU4sQ0FBZ0JWLEtBQWhCLEVBQXVCLEVBQUVXLE1BQU1MLFlBQVIsRUFBc0JuQyxTQUFTeUIsV0FBVzFFLEdBQTFDLEVBQXZCO0FBQ0QsU0FGRDs7QUFJQSxZQUFJLENBQUNMLE1BQU1nRCxnQkFBTixDQUF1QjBCLGNBQXZCLENBQXNDSixRQUF0QyxDQUFMLEVBQXNEdEUsTUFBTWdELGdCQUFOLENBQXVCc0IsUUFBdkIsSUFBbUMsRUFBbkM7O0FBRXREdEUsY0FBTWdELGdCQUFOLENBQXVCc0IsUUFBdkIsRUFBaUNTLFdBQVcxRSxHQUE1QyxJQUFtRG9FLFFBQW5EOztBQUVBZSxnQkFBUWYsUUFBUjtBQUNELE9BekJNLENBQVA7QUEwQkQ7Ozt1Q0FFa0I7O0FBRWpCLFVBQUl6RSxRQUFRLElBQVo7QUFDQSxVQUFJK0YsaUJBQWlCLEVBQXJCOztBQUdBLGFBQU8sc0JBQVksVUFBQ1AsT0FBRCxFQUFhO0FBQzlCLFlBQUl4RixNQUFNc0IsU0FBVixFQUFxQjtBQUNuQjFCLGNBQUlBLEdBQUosQ0FBUSw4QkFBUixFQUF3Q0ksTUFBTXNCLFNBQTlDO0FBQ0EsY0FBSWdELGlCQUFKOztBQUVBLGVBQUtBLFFBQUwsSUFBaUJ0RSxNQUFNc0IsU0FBdkIsRUFBa0M7QUFDaEMsZ0JBQUlxQyxjQUFKO0FBQ0EsaUJBQUtBLEtBQUwsSUFBYzNELE1BQU1zQixTQUFOLENBQWdCZ0QsUUFBaEIsQ0FBZCxFQUF5QztBQUN2QyxrQkFBSTBCLFdBQVdoRyxNQUFNc0IsU0FBTixDQUFnQmdELFFBQWhCLEVBQTBCWCxLQUExQixDQUFmO0FBQ0EvRCxrQkFBSUEsR0FBSixDQUFRLHFDQUFSLEVBQThDb0csUUFBOUM7QUFDQSxrQkFBSUEsU0FBU0MsUUFBVCxDQUFrQnZCLGNBQWxCLENBQWlDLGNBQWpDLENBQUosRUFDRXFCLGVBQWUzQixJQUFmLENBQW9CcEUsTUFBTXNCLFNBQU4sQ0FBZ0JnRCxRQUFoQixFQUEwQlgsS0FBMUIsRUFBaUN1QyxNQUFqQyxFQUFwQjtBQUNIO0FBQ0Y7QUFDRjs7QUFFRHRHLFlBQUlBLEdBQUosQ0FBUSx5Q0FBUixFQUFtRG1HLGNBQW5EOztBQUVBLFlBQUlBLGVBQWVJLE1BQWYsR0FBd0IsQ0FBNUIsRUFBK0I7QUFDN0IsNEJBQVFDLEdBQVIsQ0FBWUwsY0FBWixFQUE0Qk0sSUFBNUIsQ0FBaUMsWUFBSTtBQUNuQ2Isb0JBQVEsb0NBQVI7QUFDRCxXQUZEO0FBR0QsU0FKRCxNQUlPQSxRQUFRLGlEQUFSO0FBRVIsT0F4Qk0sQ0FBUDtBQTBCRDs7O21DQUVjekYsSyxFQUFPO0FBQ3BCLFVBQUlDLFFBQVEsSUFBWjtBQUNBLFVBQUkrRSxhQUFjLHNCQUFjLEVBQWQsRUFBa0JoRixLQUFsQixDQUFsQjs7QUFFQUMsWUFBTTBCLFFBQU47QUFDQXFELGlCQUFXMUUsR0FBWCxHQUFpQkwsTUFBTWdDLE1BQU4sR0FBZSxHQUFmLEdBQXFCaEMsTUFBTTBCLFFBQTVDOztBQUVBcUQsaUJBQVdDLFlBQVgsR0FBMEJoRixLQUExQjtBQUNBK0UsaUJBQVd0RSxRQUFYLEdBQXNCVCxNQUFNZ0MsTUFBNUI7QUFDQStDLGlCQUFXeEUsT0FBWCxHQUFzQixJQUFJK0YsSUFBSixFQUFELENBQVdDLFdBQVgsRUFBckI7QUFDQXhCLGlCQUFXcEUsT0FBWCxHQUFxQlgsTUFBTUksUUFBTixDQUFlb0csV0FBcEM7QUFDQXpCLGlCQUFXMEIsVUFBWCxHQUF3QnpHLE1BQU1JLFFBQU4sQ0FBZXNHLFdBQXZDO0FBQ0EzQixpQkFBVzRCLFlBQVgsR0FBMEIzRyxNQUFNSSxRQUFOLENBQWV3RyxhQUF6QztBQUNBN0IsaUJBQVdsRSxNQUFYLEdBQW9CYixNQUFNYyxPQUExQjtBQUNBaUUsaUJBQVdFLE1BQVgsR0FBb0JqRixNQUFNSyxHQUExQjs7QUFFQSxhQUFPMEUsVUFBUDtBQUNEOzs7dUNBRWtCVCxRLEVBQVVMLEksRUFBTW1CLFEsRUFBVUYsUSxFQUFVbkYsSyxFQUFPO0FBQzVELFVBQUlDLFFBQVEsSUFBWjs7QUFFQTtBQUNBLGFBQU8sc0JBQVksVUFBQ3dGLE9BQUQsRUFBYTs7QUFFOUIsWUFBSUgsd0JBQUo7QUFDQSxZQUFJSSxlQUFlekYsTUFBTU0sSUFBTixHQUFhLFlBQWIsR0FBNEJnRSxRQUEvQzs7QUFFQSxZQUFJUyxhQUFhL0UsTUFBTTBGLGNBQU4sQ0FBcUIzRixLQUFyQixDQUFqQjtBQUNBZ0YsbUJBQVdULFFBQVgsR0FBc0JBLFFBQXRCOztBQUVBdEUsY0FBTStDLHVCQUFOLENBQThCOEQsZ0NBQTlCLENBQStELElBQS9ELEVBQXFFNUMsSUFBckUsRUFBMkVtQixRQUEzRSxFQUFxRkwsVUFBckYsRUFBaUdzQixJQUFqRyxDQUFzRyxVQUFDakIsUUFBRCxFQUFZO0FBQ2hIQyw0QkFBa0JELFFBQWxCOztBQUVBLGNBQUlGLFFBQUosRUFBY0csZ0JBQWdCSCxRQUFoQixHQUEyQkEsUUFBM0I7O0FBRWRHLDBCQUFnQk0sS0FBaEI7O0FBRUEvRixjQUFJQSxHQUFKLENBQVEsd0NBQVIsRUFBa0R5RixlQUFsRDs7QUFFQUEsMEJBQWdCTyxRQUFoQixDQUF5QixVQUFDVCxLQUFELEVBQVc7QUFDbENuRixrQkFBTTZGLFNBQU4sQ0FBZ0JWLEtBQWhCLEVBQXVCLEVBQUVXLE1BQU1MLFlBQVIsRUFBc0JuQyxTQUFTK0IsZ0JBQWdCL0IsT0FBL0MsRUFBdkI7QUFDRCxXQUZEOztBQUlBLGNBQUksQ0FBQ3RELE1BQU1nRCxnQkFBTixDQUF1QjBCLGNBQXZCLENBQXNDSixRQUF0QyxDQUFMLEVBQXNEdEUsTUFBTWdELGdCQUFOLENBQXVCc0IsUUFBdkIsSUFBbUMsRUFBbkM7O0FBRXREdEUsZ0JBQU1nRCxnQkFBTixDQUF1QnNCLFFBQXZCLEVBQWlDZSxnQkFBZ0IvQixPQUFqRCxJQUE0RCtCLGVBQTVEOztBQUVBRyxrQkFBUUgsZUFBUjtBQUNELFNBbEJEO0FBcUJELE9BN0JNLENBQVA7QUE4QkQ7O0FBRUQ7Ozs7Ozs7OytCQUtXeUIsUSxFQUFVOztBQUVuQixXQUFLbEYscUJBQUwsR0FBNkJrRixRQUE3QjtBQUNEOztBQUVEOzs7O21DQUNlL0MsRyxFQUFLO0FBQ2xCLFVBQUkvRCxRQUFRLElBQVo7O0FBRUFKLFVBQUlBLEdBQUosQ0FBUSw0Q0FBNENJLE1BQU1nQyxNQUFsRCxHQUEyRCxLQUFuRSxFQUEwRStCLEdBQTFFOztBQUVBLFVBQUlnRCxXQUFXO0FBQ2IvQyxjQUFNRCxJQUFJaUQsRUFERztBQUViQSxZQUFJakQsSUFBSUMsSUFGSztBQUdiQyxjQUFNLFVBSE87QUFJYmdELFlBQUlsRCxJQUFJa0QsRUFKSztBQUtiQyxjQUFNO0FBQ0pDLGdCQUFNO0FBREY7QUFMTyxPQUFmOztBQVVBbkgsWUFBTWlDLElBQU4sQ0FBV21GLFdBQVgsQ0FBdUJMLFFBQXZCOztBQUVBLFVBQUloRCxJQUFJbUQsSUFBSixDQUFTdkMsS0FBVCxDQUFlQyxZQUFuQixFQUFpQztBQUMvQjVFLGNBQU1xSCx1QkFBTixDQUE4QnRELEdBQTlCO0FBQ0QsT0FGRCxNQUVPL0QsTUFBTXNILGFBQU4sQ0FBb0J2RCxHQUFwQjtBQUNSOzs7a0NBRWFBLEcsRUFBSztBQUNqQixVQUFJL0QsUUFBUSxJQUFaO0FBQ0EsVUFBSStFLGFBQWEsc0JBQVVoQixJQUFJbUQsSUFBSixDQUFTdkMsS0FBbkIsQ0FBakI7QUFDQUksaUJBQVdDLFlBQVgsR0FBMEJoRixLQUExQjs7QUFFQSxVQUFJc0UsV0FBV1MsV0FBV1QsUUFBMUI7O0FBRUEsVUFBSUcsV0FBVyw4QkFBb0JNLFVBQXBCLENBQWY7QUFDQU4sZUFBU1MsUUFBVCxHQUFvQm5CLElBQUltRCxJQUFKLENBQVNoQyxRQUE3Qjs7QUFHQSxVQUFJLENBQUNsRixNQUFNZ0QsZ0JBQU4sQ0FBdUIwQixjQUF2QixDQUFzQ0osUUFBdEMsQ0FBTCxFQUFzRHRFLE1BQU1nRCxnQkFBTixDQUF1QnNCLFFBQXZCLElBQW1DLEVBQW5DOztBQUV0RHRFLFlBQU1nRCxnQkFBTixDQUF1QnNCLFFBQXZCLEVBQWlDUyxXQUFXMUUsR0FBNUMsSUFBbURvRSxRQUFuRDs7QUFFQSxVQUFJVixJQUFJaUQsRUFBSixLQUFXaEgsTUFBTWlHLFFBQU4sQ0FBZTVGLEdBQTlCLEVBQW1Db0UsU0FBUzhDLEtBQVQ7O0FBRW5DdkgsWUFBTXdILFdBQU4sQ0FBa0J6RCxHQUFsQixFQUF1QlUsUUFBdkI7QUFDRDs7OzRDQUV1QlYsRyxFQUFLO0FBQzNCLFVBQUkvRCxRQUFRLElBQVo7QUFDQSxVQUFJRCxRQUFRZ0UsSUFBSW1ELElBQUosQ0FBU3ZDLEtBQXJCO0FBQ0EsVUFBSVUsd0JBQUo7O0FBRUEsVUFBSWYsV0FBV3ZFLE1BQU11RSxRQUFyQjs7QUFFQXZFLFlBQU1pRixZQUFOLEdBQXFCaEYsS0FBckI7O0FBRUFxRix3QkFBa0JyRixNQUFNK0MsdUJBQU4sQ0FBOEJ1QyxxQkFBOUIsQ0FBb0QsS0FBcEQsRUFBMkR2RixNQUFNNkUsWUFBakUsRUFBK0U3RSxLQUEvRSxDQUFsQjtBQUNBc0Ysc0JBQWdCSCxRQUFoQixHQUEyQm5CLElBQUltRCxJQUFKLENBQVNoQyxRQUFwQzs7QUFFQSxVQUFJLENBQUNsRixNQUFNZ0QsZ0JBQU4sQ0FBdUIwQixjQUF2QixDQUFzQ0osUUFBdEMsQ0FBTCxFQUFzRHRFLE1BQU1nRCxnQkFBTixDQUF1QnNCLFFBQXZCLElBQW1DLEVBQW5DOztBQUV0RHRFLFlBQU1nRCxnQkFBTixDQUF1QnNCLFFBQXZCLEVBQWlDZSxnQkFBZ0IvQixPQUFqRCxJQUE0RCtCLGVBQTVEOztBQUVBckYsWUFBTXdILFdBQU4sQ0FBa0J6RCxHQUFsQixFQUF1QnNCLGVBQXZCOztBQUVBO0FBQ0E7O0FBRUEsVUFBSXRCLElBQUlpRCxFQUFKLEtBQVdoSCxNQUFNaUcsUUFBTixDQUFlNUYsR0FBOUIsRUFBbUNnRixnQkFBZ0JrQyxLQUFoQjtBQUNwQzs7O2dDQUVXeEQsRyxFQUFLSixLLEVBQU87QUFDdEIsVUFBSTNELFFBQVEsSUFBWjs7QUFFQSxVQUFJbUYsUUFBUTtBQUNWbEIsY0FBTUYsSUFBSUUsSUFEQTtBQUVWRCxjQUFNRCxJQUFJQyxJQUZBO0FBR1YzRCxhQUFLMEQsSUFBSWlELEVBSEM7QUFJVnJDLGVBQU9oQixNQUFNeEMsSUFKSDtBQUtWbUMsaUJBQVNLLE1BQU10RCxHQUxMO0FBTVY2RSxrQkFBVW5CLElBQUltRCxJQUFKLENBQVNoQyxRQU5UO0FBT1Z2QixlQUFPQTtBQVBHLE9BQVo7O0FBVUEsVUFBSUEsTUFBTWlCLFlBQVYsRUFBd0I7QUFDdEJPLGNBQU1DLFFBQU4sR0FBaUJ6QixLQUFqQjtBQUVEOztBQUVELFVBQUkzRCxNQUFNNEIscUJBQVYsRUFBaUM1QixNQUFNNEIscUJBQU4sQ0FBNEJ1RCxLQUE1QjtBQUNsQzs7QUFFRDs7Ozs4QkFDVUEsSyxFQUFPc0MsUyxFQUFXO0FBQzFCLFVBQUl6SCxRQUFRLElBQVo7O0FBRUFBLFlBQU00QyxTQUFOLENBQWdCQyxZQUFoQixHQUFnQyxJQUFJeUQsSUFBSixFQUFELENBQVdDLFdBQVgsRUFBL0I7O0FBRUF2RyxZQUFNeUIsUUFBTjs7QUFFQSxVQUFJekIsTUFBTWlCLE9BQU4sS0FBa0IsTUFBdEIsRUFBOEI7QUFDNUI7QUFDQSxZQUFJeUcsWUFBWTtBQUNkekQsZ0JBQU0sUUFEUSxFQUNFRCxNQUFNaEUsTUFBTU0sSUFEZCxFQUNvQjBHLElBQUloSCxNQUFNTSxJQUFOLEdBQWEsVUFEckM7QUFFZDRHLGdCQUFNLEVBQUVuRixTQUFTL0IsTUFBTXlCLFFBQWpCLEVBQTJCa0csUUFBUTNILE1BQU1nQyxNQUF6QyxFQUFpRDRGLFdBQVd6QyxNQUFNMEMsS0FBbEUsRUFBeUVoRixjQUFjN0MsTUFBTTRDLFNBQU4sQ0FBZ0JDLFlBQXZHO0FBRlEsU0FBaEI7O0FBS0FqRCxZQUFJQSxHQUFKLENBQVEsNkJBQVIsRUFBdUN1RixLQUF2QyxFQUE4Q3NDLFNBQTlDLEVBQXlEQyxTQUF6RDs7QUFFQSxZQUFJdkMsTUFBTTJDLEtBQU4sS0FBZ0Isd0JBQVdDLE1BQS9CLEVBQXVDO0FBQ3JDLGNBQUk1QyxNQUFNNkMsS0FBTixLQUFnQix3QkFBV0MsTUFBL0IsRUFBdUM7QUFDckNQLHNCQUFVUixJQUFWLENBQWV2QyxLQUFmLEdBQXVCLHNCQUFVUSxNQUFNaEUsSUFBaEIsQ0FBdkI7QUFDRDtBQUNGLFNBSkQsTUFJTztBQUNMdUcsb0JBQVVSLElBQVYsQ0FBZWdCLGFBQWYsR0FBK0IvQyxNQUFNMkMsS0FBckM7QUFDQUosb0JBQVVSLElBQVYsQ0FBZXZDLEtBQWYsR0FBdUJRLE1BQU1oRSxJQUE3QjtBQUNBLGNBQUlnRSxNQUFNNkMsS0FBTixLQUFnQix3QkFBV0csTUFBL0IsRUFBdUM7QUFDckNULHNCQUFVUixJQUFWLENBQWVrQixTQUFmLEdBQTJCakQsTUFBTTZDLEtBQWpDO0FBQ0Q7QUFDRjs7QUFFRDtBQUNBLFlBQUlQLFNBQUosRUFBZTtBQUNiQyxvQkFBVVYsRUFBVixHQUFlUyxVQUFVM0IsSUFBekI7QUFDQTRCLG9CQUFVUixJQUFWLENBQWU5QixRQUFmLEdBQTBCcUMsVUFBVW5FLE9BQXBDO0FBQ0Q7O0FBRUQ7QUFDQSxZQUFJLENBQUN0RCxNQUFNbUIsSUFBTixDQUFXSSxPQUFoQixFQUF5Qm1HLFVBQVVSLElBQVYsQ0FBZTFGLE1BQWYsR0FBd0J4QixNQUFNdUIsT0FBOUI7O0FBRXpCdkIsY0FBTWlDLElBQU4sQ0FBV21GLFdBQVgsQ0FBdUJNLFNBQXZCO0FBQ0Q7QUFDRjs7QUFFRDs7OztrQ0FDY1csTyxFQUFTdEUsRyxFQUFLO0FBQzFCLFVBQUkvRCxRQUFRLElBQVo7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBSUEsTUFBTXlCLFFBQU4sR0FBaUIsQ0FBakIsSUFBc0JzQyxJQUFJbUQsSUFBSixDQUFTbkYsT0FBbkMsRUFBNEM7QUFDMUMvQixjQUFNeUIsUUFBTixHQUFpQnNDLElBQUltRCxJQUFKLENBQVNuRixPQUExQjtBQUNBLFlBQUkrRCxPQUFPL0IsSUFBSW1ELElBQUosQ0FBU1UsU0FBcEI7QUFDQSxZQUFJakQsY0FBSjtBQUNBLFlBQUksc0JBQU9aLElBQUltRCxJQUFKLENBQVN2QyxLQUFoQixNQUEwQixRQUE5QixFQUF3Q0EsUUFBUSxzQkFBVVosSUFBSW1ELElBQUosQ0FBU3ZDLEtBQW5CLENBQVIsQ0FBeEMsS0FDS0EsUUFBUVosSUFBSW1ELElBQUosQ0FBU3ZDLEtBQWpCOztBQUVMLFlBQUkyRCxhQUFhRCxRQUFRRSxVQUFSLENBQW1CekMsSUFBbkIsQ0FBakI7O0FBRUEsWUFBSS9CLElBQUltRCxJQUFKLENBQVNyRSxZQUFiLEVBQTJCO0FBQ3pCN0MsZ0JBQU00QyxTQUFOLENBQWdCQyxZQUFoQixHQUErQmtCLElBQUltRCxJQUFKLENBQVNyRSxZQUF4QztBQUNELFNBRkQsTUFFTztBQUNMN0MsZ0JBQU00QyxTQUFOLENBQWdCQyxZQUFoQixHQUFnQyxJQUFJeUQsSUFBSixFQUFELENBQVdDLFdBQVgsRUFBL0I7QUFDRDs7QUFFRCxZQUFJeEMsSUFBSW1ELElBQUosQ0FBU2dCLGFBQVQsS0FBMkIsd0JBQVdNLEtBQTFDLEVBQWlEO0FBQy9DLGNBQUl6RSxJQUFJbUQsSUFBSixDQUFTa0IsU0FBVCxLQUF1Qix3QkFBV0ssR0FBdEMsRUFBMkM7QUFDekMsZ0JBQUlDLE1BQU1KLFdBQVdLLEdBQXJCO0FBQ0EsZ0JBQUlDLFFBQVFOLFdBQVdPLElBQXZCO0FBQ0FDLGtCQUFNQyxTQUFOLENBQWdCQyxNQUFoQixDQUF1QkMsS0FBdkIsQ0FBNkJQLEdBQTdCLEVBQWtDLENBQUNFLEtBQUQsRUFBUSxDQUFSLEVBQVdNLE1BQVgsQ0FBa0J2RSxLQUFsQixDQUFsQztBQUNELFdBSkQsTUFJTyxJQUFJWixJQUFJbUQsSUFBSixDQUFTa0IsU0FBVCxLQUF1Qix3QkFBV0gsTUFBdEMsRUFBOEM7QUFDbkQsZ0JBQUlTLE9BQU1KLFdBQVdLLEdBQXJCO0FBQ0EsZ0JBQUlDLFNBQVFOLFdBQVdPLElBQXZCO0FBQ0FILGlCQUFJTSxNQUFKLENBQVdKLE1BQVgsRUFBa0JqRSxLQUFsQjtBQUNELFdBSk0sTUFJQTtBQUNMMkQsdUJBQVdLLEdBQVgsQ0FBZUwsV0FBV08sSUFBMUIsSUFBa0NsRSxLQUFsQyxDQURLLENBQ29DO0FBQzFDO0FBQ0YsU0FaRCxNQVlPO0FBQ0wsY0FBSVosSUFBSW1ELElBQUosQ0FBU3hDLGNBQVQsQ0FBd0IsT0FBeEIsQ0FBSixFQUFzQztBQUNwQzRELHVCQUFXSyxHQUFYLENBQWVMLFdBQVdPLElBQTFCLElBQWtDbEUsS0FBbEMsQ0FEb0MsQ0FDSztBQUMxQyxXQUZELE1BRU87QUFDTCxtQkFBTzJELFdBQVdLLEdBQVgsQ0FBZUwsV0FBV08sSUFBMUIsQ0FBUCxDQURLLENBQ21DO0FBQ3pDO0FBQ0Y7QUFDRixPQWxDRCxNQWtDTztBQUNMO0FBQ0FqSixZQUFJQSxHQUFKLENBQVEsc0NBQXNDSSxNQUFNeUIsUUFBNUMsR0FBdUQsV0FBdkQsR0FBcUVzQyxJQUFJbUQsSUFBSixDQUFTbkYsT0FBOUUsR0FBd0YsR0FBaEc7QUFDRDtBQUNGOztBQUVEOzs7O29DQUNnQmdDLEcsRUFBSztBQUNuQixVQUFJL0QsUUFBUSxJQUFaO0FBQ0EsVUFBTW1KLGFBQWEsc0JBQVVwRixJQUFJaUQsRUFBZCxDQUFuQjtBQUNBLFVBQU05QixXQUFXaUUsV0FBV2pFLFFBQTVCO0FBQ0EsVUFBTUUsV0FBV0YsV0FBV0EsU0FBU2tFLFNBQVQsQ0FBbUJsRSxTQUFTbUUsV0FBVCxDQUFxQixHQUFyQixJQUE0QixDQUEvQyxDQUFYLEdBQStEQyxTQUFoRjs7QUFFQSxVQUFJaEcsVUFBVVMsSUFBSW1ELElBQUosQ0FBUzlCLFFBQXZCO0FBQ0EsVUFBSWQsV0FBV3RFLE1BQU1nRCxnQkFBTixDQUF1Qm9DLFFBQXZCLEVBQWlDOUIsT0FBakMsQ0FBZjs7QUFFQTFELFVBQUlBLEdBQUosQ0FBUSxtQkFBUixFQUE2QkksTUFBTWdDLE1BQW5DLEVBQTJDK0IsR0FBM0MsRUFBZ0RxQixRQUFoRDs7QUFFQSxVQUFJZCxRQUFKLEVBQWM7QUFDWnRFLGNBQU11SixhQUFOLENBQW9CakYsU0FBU2xELFFBQTdCLEVBQXVDMkMsR0FBdkM7QUFDRCxPQUZELE1BRU87QUFDTG5FLFlBQUk0SixJQUFKLENBQVMseUJBQVQsRUFBb0NsRyxPQUFwQztBQUNEO0FBQ0Y7Ozt3QkF2WWM7QUFBRSxhQUFPLEtBQUtWLFNBQVo7QUFBd0I7O0FBRXpDOzs7Ozs7O3dCQUlVO0FBQUUsYUFBTyxLQUFLdEMsSUFBWjtBQUFtQjs7QUFFL0I7Ozs7Ozs7d0JBSWE7QUFBRSxhQUFPLEtBQUtRLE9BQVo7QUFBc0I7O0FBRXJDOzs7Ozs7O3dCQUlhO0FBQUUsYUFBTyxLQUFLRyxPQUFaO0FBQXNCOztBQUVyQzs7Ozs7Ozt3QkFJVztBQUFFLGFBQU8sS0FBS0csUUFBTCxDQUFjRCxJQUFyQjtBQUE0Qjs7QUFFekM7Ozs7Ozs7d0JBSWdCO0FBQUUsYUFBTyxLQUFLNkIsZ0JBQVo7QUFBK0I7Ozs7O2tCQTZXcENsRCxVIiwiZmlsZSI6IjEyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuLy8gTG9nIFN5c3RlbVxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdEYXRhT2JqZWN0Jyk7XG5cbmltcG9ydCBTeW5jT2JqZWN0LCB7Q2hhbmdlVHlwZSwgT2JqZWN0VHlwZX0gZnJvbSAnLi9Qcm94eU9iamVjdCc7XG5pbXBvcnQgRGF0YU9iamVjdENoaWxkIGZyb20gJy4vRGF0YU9iamVjdENoaWxkJztcbmltcG9ydCB7IGRlZXBDbG9uZSwgZGl2aWRlVVJMIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnO1xuaW1wb3J0IEh5cGVydHlSZXNvdXJjZUZhY3RvcnkgZnJvbSAnLi4vaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2VGYWN0b3J5LmpzJztcblxuLyoqXG4gKiBNYWluIGV4dGVuc2lvbiBjbGFzcyBmb3Igb2JzZXJ2ZXJzIGFuZCByZXBvcnRlcnMsIHdpdGggY29tbW9uIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuXG4gKiBDaGlsZHJlbiBtYW5hZ2VtZW50IGlzIGNvbW1vbiBmb3Igb2JzZXJ2ZXJzIGFuZCByZXBvcnRlcnMuXG4gKi9cbmNsYXNzIERhdGFPYmplY3Qge1xuICAvKiBwcml2YXRlXG4gIF92ZXJzaW9uOiBudW1iZXJcblxuICBfb3duZXI6IEh5cGVydHlVUkxcbiAgX3VybDogT2JqZWN0VVJMXG4gIF9zY2hlbWE6IFNjaGVtYVxuICBfYnVzOiBNaW5pQnVzXG4gIF9zdGF0dXM6IG9uIHwgcGF1c2VkXG4gIF9zeW5jT2JqOiBTeW5jRGF0YVxuXG4gIF9jaGlsZHJlbjogeyBpZDogRGF0YU9iamVjdENoaWxkIH1cbiAgX2NoaWxkcmVuTGlzdGVuZXJzOiBbTXNnTGlzdGVuZXJdXG5cbiAgLS0tLWV2ZW50IGhhbmRsZXJzLS0tLVxuICBfb25BZGRDaGlsZEhhbmRsZXI6IChldmVudCkgPT4gdm9pZFxuICAqL1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIFNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseSBieSBIeXBlcnRpZXMuIEl0J3MgY2FsbGVkIGJ5IHRoZSBTeW5jaGVyIGNyZWF0ZSBvciBzdWJzY3JpYmUgbWV0aG9kJ3NcbiAgICovXG5cbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gdGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKHBhcikge1xuICAgICAgdGhyb3cgJ1tEYXRhT2JqZWN0XSAnICsgcGFyICsgJyBtYW5kYXRvcnkgcGFyYW1ldGVyIGlzIG1pc3NpbmcnO1xuICAgIH1cblxuICAgIGlucHV0LnN5bmNoZXIgPyBfdGhpcy5fc3luY2hlciA9IGlucHV0LnN5bmNoZXIgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3N5bmNoZXInKTtcbiAgICBpbnB1dC51cmwgPyAgX3RoaXMuX3VybCA9IGlucHV0LnVybCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigndXJsJyk7XG4gICAgaW5wdXQuY3JlYXRlZCA/IF90aGlzLl9jcmVhdGVkID0gaW5wdXQuY3JlYXRlZCA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcignY3JlYXRlZCcpO1xuICAgIGlucHV0LnJlcG9ydGVyID8gX3RoaXMuX3JlcG9ydGVyID0gaW5wdXQucmVwb3J0ZXIgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3JlcG9ydGVyJyk7XG4gICAgaW5wdXQucnVudGltZSA/IF90aGlzLl9ydW50aW1lID0gaW5wdXQucnVudGltZSA6IHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigncnVudGltZScpO1xuICAgIGlucHV0LnNjaGVtYSA/IF90aGlzLl9zY2hlbWEgPSBpbnB1dC5zY2hlbWEgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ3NjaGVtYScpO1xuICAgIGlucHV0Lm5hbWUgPyBfdGhpcy5fbmFtZSA9IGlucHV0Lm5hbWUgOiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoJ25hbWUnKTtcblxuXG4gICAgX3RoaXMuX3N0YXR1cyA9IGlucHV0LnN0YXR1cztcblxuICAgIGlmIChpbnB1dC5kYXRhKSB7XG4gICAgICBfdGhpcy5fc3luY09iaiA9IG5ldyBTeW5jT2JqZWN0KGlucHV0LmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5fc3luY09iaiA9IG5ldyBTeW5jT2JqZWN0KHt9KTtcbiAgICB9XG4gICAgX3RoaXMuX2NoaWxkcmVucyA9IGlucHV0LmNoaWxkcmVucztcblxuICAgIC8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHlcbiAgICBfdGhpcy5fbXV0dWFsID0gaW5wdXQubXV0dWFsO1xuXG4gICAgX3RoaXMuX3ZlcnNpb24gPSAwO1xuICAgIF90aGlzLl9jaGlsZElkID0gMDtcbiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTsgLy9idXMgbGlzdGVuZXJzIHBlciBjaGlsZHJlblxuICAgIF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcjsgLy9IeXBlcnR5IHNpZGUgaGFuZGxlcnMgdG8gcHJvY2VzcyBjaGlsZCBvYmplY3RzIGNyZWF0ZWQgYnkgcmVtb3RlIEh5cGVydGllc1xuXG4gICAgX3RoaXMuX3Jlc3VtZWQgPSBpbnB1dC5yZXN1bWU7XG5cbiAgICBpZiAoaW5wdXQucmVzdW1lKSB7IF90aGlzLl92ZXJzaW9uID0gaW5wdXQudmVyc2lvbjsgfVxuXG4gICAgX3RoaXMuX293bmVyID0gaW5wdXQuc3luY2hlci5fb3duZXI7XG4gICAgX3RoaXMuX2J1cyA9IGlucHV0LnN5bmNoZXIuX2J1cztcblxuICAgIGlmIChpbnB1dC5kZXNjcmlwdGlvbikgX3RoaXMuX2Rlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XG4gICAgaWYgKGlucHV0LnRhZ3MpIF90aGlzLl90YWdzID0gaW5wdXQudGFncztcbiAgICBpZiAoaW5wdXQucmVzb3VyY2VzKSBfdGhpcy5fcmVzb3VyY2VzID0gaW5wdXQucmVzb3VyY2VzO1xuICAgIGlmIChpbnB1dC5vYnNlcnZlclN0b3JhZ2UpIF90aGlzLl9vYnNlcnZlclN0b3JhZ2UgPSBpbnB1dC5vYnNlcnZlclN0b3JhZ2U7XG4gICAgaWYgKGlucHV0LnB1YmxpY09ic2VydmF0aW9uKSBfdGhpcy5fcHVibGljT2JzZXJ2YXRpb24gPSBpbnB1dC5wdWJsaWNPYnNlcnZhdGlvbjtcblxuICAgIF90aGlzLl9tZXRhZGF0YSA9IE9iamVjdC5hc3NpZ24oaW5wdXQpO1xuICAgIF90aGlzLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWQgPSBfdGhpcy5fbWV0YWRhdGEuY3JlYXRlZDtcblxuICAgIGRlbGV0ZSBfdGhpcy5fbWV0YWRhdGEuZGF0YTtcbiAgICBkZWxldGUgX3RoaXMuX21ldGFkYXRhLnN5bmNoZXI7XG4gICAgZGVsZXRlIF90aGlzLl9tZXRhZGF0YS5hdXRob3Jpc2U7XG5cbiAgICBfdGhpcy5faHlwZXJ0eVJlc291cmNlRmFjdG9yeSA9IG5ldyBIeXBlcnR5UmVzb3VyY2VGYWN0b3J5KCk7XG4gICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0cyA9IHt9O1xuICAgIF90aGlzLl9zaGFyZWRDaGlsZHMgPSBbXTsgLy9jaGlsZE9iamVjdHMgdGhhdCB3ZXJlIG5vdCBzZW50IHlldCB0byBSZXBvcnRlcnNcbiAgfVxuXG4gIF9nZXRMYXN0Q2hpbGRJZCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGNoaWxkSWRJbnQgPSAwO1xuICAgIGxldCBjaGlsZElkU3RyaW5nID0gX3RoaXMuX293bmVyICsgJyMnICsgY2hpbGRJZEludDtcblxuXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVucykuZmlsdGVyKChrZXkpID0+IHtcbiAgICAgIGlmIChfdGhpcy5fY2hpbGRyZW5zW2tleV0uY2hpbGRJZCA+IGNoaWxkSWRTdHJpbmcpIHtcbiAgICAgICAgY2hpbGRJZFN0cmluZyA9IF90aGlzLl9jaGlsZHJlbnNba2V5XS5jaGlsZElkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNoaWxkSWRJbnQgPSBOdW1iZXIoY2hpbGRJZFN0cmluZy5zcGxpdCgnIycpWzFdKTtcbiAgfVxuXG4gIF9hbGxvY2F0ZUxpc3RlbmVycygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGNoaWxkQmFzZVVSTCA9IF90aGlzLl91cmwgKyAnL2NoaWxkcmVuLyc7XG4gICAgbG9nLmxvZygnW0RhdGEgT2JqZWN0IC0gQWxsb2NhdGVMaXN0ZW5lcnNdIC0gJywgX3RoaXMuX2NoaWxkcmVucyk7XG4gICAgaWYgKF90aGlzLl9jaGlsZHJlbnMpIHtcbiAgICAgIF90aGlzLl9jaGlsZHJlbnMuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgbGV0IGNoaWxkVVJMID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7XG4gICAgICAgIGxldCBsaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoY2hpbGRVUkwsIChtc2cpID0+IHtcbiAgICAgICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXG4gICAgICAgICAgaWYgKG1zZy5mcm9tICE9PSB0aGlzLl9vd25lcikge1xuICAgICAgICAgICAgbG9nLmxvZygnRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICcsIG1zZyk7XG4gICAgICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ2NyZWF0ZSc6IF90aGlzLl9vbkNoaWxkQ3JlYXRlKG1zZyk7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOiBsb2cubG9nKG1zZyk7IGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OiBfdGhpcy5fY2hhbmdlQ2hpbGRyZW4obXNnKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICBsaXN0ZW5lci5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5rZXlzKF90aGlzLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goKGNoaWxkcmVuKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXSkuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRdLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcmVzdW1lQ2hpbGRyZW5zKGNoaWxkcmVucykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsZXQgY2hpbGRJZFN0cmluZyA9IHRoaXMuX293bmVyICsgJyMnICsgdGhpcy5fY2hpbGRJZDtcblxuXG4gICAgLy9zZXR1cCBjaGlsZHJlbnMgZGF0YSBmcm9tIHN1YnNjcmlwdGlvblxuICAgIE9iamVjdC5rZXlzKGNoaWxkcmVucykuZm9yRWFjaCgoY2hpbGRyZW5SZXNvdXJjZSkgPT4ge1xuICAgICAgbGV0IGNoaWxkcmVuID0gY2hpbGRyZW5zW2NoaWxkcmVuUmVzb3VyY2VdO1xuXG4gICAgICAvL190aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5SZXNvdXJjZV0gPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5mb3JFYWNoKChjaGlsZElkKSA9PiB7XG4gICAgICAgIGxldCBuZXdDaGlsZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghX3RoaXMuX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShjaGlsZHJlblJlc291cmNlKSlcbiAgICAgICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuUmVzb3VyY2VdID0ge307XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuW2NoaWxkSWRdLnZhbHVlLnJlc291cmNlVHlwZSAmJiAhX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlblJlc291cmNlXS5oYXNPd25Qcm9wZXJ0eShjaGlsZElkKSkge1xuICAgICAgICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5SZXNvdXJjZV1bY2hpbGRJZF0gPSBfdGhpcy5fcmVzdW1lSHlwZXJ0eVJlc291cmNlKGNoaWxkcmVuW2NoaWxkSWRdKTtcbiAgICAgICAgICBuZXdDaGlsZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIV90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5SZXNvdXJjZV0uaGFzT3duUHJvcGVydHkoY2hpbGRJZCkpIHtcblxuICAgICAgICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5SZXNvdXJjZV1bY2hpbGRJZF0gPSBfdGhpcy5fcmVzdW1lQ2hpbGQoY2hpbGRyZW5bY2hpbGRJZF0pO1xuICAgICAgICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0LnJlc3VtZUNoaWxkcmVuc10gbmV3IERhdGFPYmplY3RDaGlsZDogJywgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlblJlc291cmNlXVtjaGlsZElkXSk7XG4gICAgICAgICAgbmV3Q2hpbGQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0NoaWxkICYmIGNoaWxkSWQgPiBjaGlsZElkU3RyaW5nKSB7XG4gICAgICAgICAgY2hpbGRJZFN0cmluZyA9IGNoaWxkSWQ7XG4gICAgICAgICAgbG9nLmxvZygnW0RhdGFPYmplY3RSZXBvcnRlci5yZXN1bWVDaGlsZHJlbnNdIC0gcmVzdW1pbmc6ICcsIHRoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlblJlc291cmNlXVtjaGlsZElkXSk7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jaGlsZElkID0gTnVtYmVyKGNoaWxkSWRTdHJpbmcuc3BsaXQoJyMnKVsxXSk7XG5cbiAgfVxuXG4gIF9yZXN1bWVDaGlsZChpbnB1dCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNoaWxkSW5wdXQgPSBpbnB1dC52YWx1ZTtcbiAgICBjaGlsZElucHV0LnBhcmVudE9iamVjdCA9IF90aGlzO1xuICAgIGNoaWxkSW5wdXQucGFyZW50ID0gX3RoaXMuX3VybDtcblxuICAgIGxldCBjaGlsZCA9IG5ldyBEYXRhT2JqZWN0Q2hpbGQoY2hpbGRJbnB1dCk7XG5cbiAgICBjaGlsZC5pZGVudGl0eSA9IGlucHV0LmlkZW50aXR5O1xuXG4gICAgbGV0IGV2ZW50ID0ge1xuICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICBmcm9tOiBjaGlsZC5yZXBvcnRlcixcbiAgICAgIHVybDogY2hpbGQucGFyZW50LFxuICAgICAgdmFsdWU6IGNoaWxkLmRhdGEsXG4gICAgICBjaGlsZElkOiBjaGlsZC51cmwsXG4gICAgICBpZGVudGl0eTogY2hpbGQuaWRlbnRpdHksXG4gICAgICBjaGlsZDogY2hpbGRcbiAgICB9O1xuXG4gICAgaWYgKGNoaWxkLnJlc291cmNlVHlwZSkge1xuICAgICAgZXZlbnQucmVzb3VyY2UgPSBjaGlsZDtcblxuICAgIH1cblxuICAgIGlmIChfdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIpIF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcihldmVudCk7XG5cbiAgICByZXR1cm4gY2hpbGQ7XG5cbiAgfVxuXG4gIF9yZXN1bWVIeXBlcnR5UmVzb3VyY2UoaW5wdXQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBjaGlsZElucHV0ID0gaW5wdXQudmFsdWU7XG4gICAgY2hpbGRJbnB1dC5wYXJlbnRPYmplY3QgPSBfdGhpcztcbiAgICBjaGlsZElucHV0LnBhcmVudCA9IF90aGlzLl91cmw7XG5cbiAgICBsZXQgaHlwZXJ0eVJlc291cmNlID0gX3RoaXMuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlKGZhbHNlLCBjaGlsZElucHV0LnJlc291cmNlVHlwZSwgY2hpbGRJbnB1dClcblxuICAgIGh5cGVydHlSZXNvdXJjZS5pZGVudGl0eSA9IGlucHV0LmlkZW50aXR5O1xuXG4gICAgbGV0IGV2ZW50ID0ge1xuICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICBmcm9tOiBoeXBlcnR5UmVzb3VyY2UucmVwb3J0ZXIsXG4gICAgICB1cmw6IGh5cGVydHlSZXNvdXJjZS5wYXJlbnQsXG4gICAgICB2YWx1ZTogaHlwZXJ0eVJlc291cmNlLmRhdGEsXG4gICAgICBjaGlsZElkOiBoeXBlcnR5UmVzb3VyY2UudXJsLFxuICAgICAgaWRlbnRpdHk6IGh5cGVydHlSZXNvdXJjZS5pZGVudGl0eSxcbiAgICAgIGNoaWxkOiBoeXBlcnR5UmVzb3VyY2VcbiAgICB9O1xuXG4gICAgaWYgKGh5cGVydHlSZXNvdXJjZS5yZXNvdXJjZVR5cGUpIHtcbiAgICAgIGV2ZW50LnJlc291cmNlID0gaHlwZXJ0eVJlc291cmNlO1xuXG4gICAgfVxuXG4gICAgaWYgKF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcikgX3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKGV2ZW50KTtcblxuICAgIHJldHVybiBoeXBlcnR5UmVzb3VyY2U7XG4gIH1cblxuICAvKipcbiAgICogQWxsIE1ldGFkYXRhIGFib3V0IHRoZSBEYXRhIE9iamVjdFxuICAgKiBAdHlwZSB7T2JqZWN0fSAtXG4gICAqL1xuXG4gIGdldCBtZXRhZGF0YSgpIHsgcmV0dXJuIHRoaXMuX21ldGFkYXRhOyB9XG5cbiAgLyoqXG4gICAqIE9iamVjdCBVUkwgb2YgcmVwb3J0ZXIgb3Igb2JzZXJ2ZXJcbiAgICogQHR5cGUge09iamVjdFVSTH1cbiAgICovXG4gIGdldCB1cmwoKSB7IHJldHVybiB0aGlzLl91cmw7IH1cblxuICAvKipcbiAgICogT2JqZWN0IHNjaGVtYSBVUkwgKHRoaXMgZmllbGQgaXMgbm90IHlldCBzdGFibGUsIGFuZCBpcyBzdWJzamVjdCB0byBjaGFuZ2UpXG4gICAqIEB0eXBlIHtTY2hlbWFVUkx9XG4gICAqL1xuICBnZXQgc2NoZW1hKCkgeyByZXR1cm4gdGhpcy5fc2NoZW1hOyB9XG5cbiAgLyoqXG4gICAqIFN0YXR1cyBvZiB0aGUgcmVwb3J0ZXIgb3Igb2JzZXJ2ZXIgY29ubmVjdGlvbiAodGhpcyBmaWVsZCBpcyBub3QgeWV0IHN0YWJsZSwgYW5kIGlzIHN1YnNqZWN0IHRvIGNoYW5nZSlcbiAgICogQHR5cGUge1N0YXR1c30gLSBFbnVtIG9mOiBvbiB8IHBhdXNlZFxuICAgKi9cbiAgZ2V0IHN0YXR1cygpIHsgcmV0dXJuIHRoaXMuX3N0YXR1czsgfVxuXG4gIC8qKlxuICAgKiBEYXRhIHN0cnVjdHVyZSB0byBiZSBzeW5jaHJvbml6ZWQuXG4gICAqIEB0eXBlIHtKU09OfSAtIEpTT04gc3RydWN0dXJlIHRoYXQgc2hvdWxkIGZvbGxvdyB0aGUgZGVmaW5lZCBzY2hlbWEsIGlmIGFueS5cbiAgICovXG4gIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fc3luY09iai5kYXRhOyB9XG5cbiAgLyoqXG4gICAqIEFsbCBjcmVhdGVkIGNoaWxkcmVuJ3Mgc2luY2UgdGhlIHN1YnNjcmlwdGlvbiwgZG9lc24ndCBjb250YWluIGFsbCBjaGlsZHJlbidzIHNpbmNlIHJlcG9ydGVyIGNyZWF0aW9uLlxuICAgKiBAdHlwZSB7T2JqZWN0PENoaWxkSWQsIERhdGFPYmplY3RDaGlsZD59XG4gICAqL1xuICBnZXQgY2hpbGRyZW5zKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzOyB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHBhdXNlKCkge1xuICAgIC8vVE9ETzogdGhpcyBmZWF0dXJlIG5lZWRzIG1vcmUgYW5hbGlzZVxuICAgIHRocm93ICdOb3QgaW1wbGVtZW50ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHJlc3VtZSgpIHtcbiAgICAvL1RPRE86IHRoaXMgZmVhdHVyZSBuZWVkcyBtb3JlIGFuYWxpc2VcbiAgICB0aHJvdyAnTm90IGltcGxlbWVudGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzdG9wKCkge1xuICAgIC8vVE9ETzogc2hvdWxkIHJlbW92ZSB0aGUgc3Vic2NyaXB0aW9uIGFuZCBzZW5kIG1lc3NhZ2UgdW5zdWJzY3JpYmU/XG4gICAgdGhyb3cgJ05vdCBpbXBsZW1lbnRlZCc7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBhZGQgYSBEYXRhT2JqZWN0Q2hpbGQgdG8gYSBjaGlsZHJlbiBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hpbGRyZW4gLSBDaGlsZHJlbiBuYW1lIHdoZXJlIHRoZSBjaGlsZCBpcyBhZGRlZC5cbiAgICogQHBhcmFtIHtKU09OfSBpbml0aWFsRGF0YSAtIEluaXRpYWwgZGF0YSBvZiB0aGUgY2hpbGRcbiAgICogQHBhcmFtICB7TWVzc2FnZUJvZHlJZGVudGl0eX0gaWRlbnRpdHkgLSAob3B0aW9uYWwpIGlkZW50aXR5IGRhdGEgdG8gYmUgYWRkZWQgdG8gaWRlbnRpdHkgdGhlIHVzZXIgcmVwb3J0ZXIuIFRvIGJlIHVzZWQgZm9yIGxlZ2FjeSBpZGVudGl0aWVzLlxuICAgKiBAcGFyYW0gIHtTeW5jQ2hpbGRNZXRhZGF0YX0gaW5wdXQgLSAob3B0aW9uYWwpIEFsbCBhZGRpdGlvbmFsIG1ldGFkYXRhIGFib3V0IHRoZSBEYXRhT2JqZWN0Q2hpbGQuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8RGF0YU9iamVjdENoaWxkPn0gLSBSZXR1cm4gUHJvbWlzZSB0byBhIG5ldyBEYXRhT2JqZWN0Q2hpbGQuXG4gICAqL1xuXG4gIGFkZENoaWxkKGNoaWxkcmVuLCBpbml0aWFsRGF0YSwgaWRlbnRpdHksIGlucHV0KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgbmV3Q2hpbGQ7XG5cbiAgICAvL3JldHVybnMgcHJvbWlzZSwgaW4gdGhlIGZ1dHVyZSwgdGhlIEFQSSBtYXkgY2hhbmdlIHRvIGFzeW5jaHJvbm91cyBjYWxsXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cbiAgICAgIGxldCBtc2dDaGlsZFBhdGggPSBfdGhpcy5fdXJsICsgJy9jaGlsZHJlbi8nICsgY2hpbGRyZW47XG5cblxuICAgICAgbGV0IGNoaWxkSW5wdXQgPSBfdGhpcy5fZ2V0Q2hpbGRJbnB1dChpbnB1dCk7XG4gICAgICBjaGlsZElucHV0LmRhdGEgPSBpbml0aWFsRGF0YTtcbiAgICAgIGNoaWxkSW5wdXQuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIG5ld0NoaWxkID0gbmV3IERhdGFPYmplY3RDaGlsZChjaGlsZElucHV0KTtcblxuICAgICAgaWYgKGlkZW50aXR5KSBuZXdDaGlsZC5pZGVudGl0eSA9IGlkZW50aXR5O1xuXG4gICAgICBuZXdDaGlsZC5zaGFyZSgpO1xuXG4gICAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5hZGRDaGlsZF0gYWRkZWQgJywgbmV3Q2hpbGQpO1xuXG4gICAgICBuZXdDaGlsZC5vbkNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgX3RoaXMuX29uQ2hhbmdlKGV2ZW50LCB7IHBhdGg6IG1zZ0NoaWxkUGF0aCwgY2hpbGRJZDogY2hpbGRJbnB1dC51cmwgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFfdGhpcy5fY2hpbGRyZW5PYmplY3RzLmhhc093blByb3BlcnR5KGNoaWxkcmVuKSkgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0gPSB7fTtcblxuICAgICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRJbnB1dC51cmxdID0gbmV3Q2hpbGQ7XG5cbiAgICAgIHJlc29sdmUobmV3Q2hpbGQpO1xuICAgIH0pO1xuICB9XG5cbiAgX2RlbGV0ZUNoaWxkcmVucygpIHtcblxuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZVByb21pc2VzID0gW107XG5cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKF90aGlzLmNoaWxkcmVucykge1xuICAgICAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5kZWxldGVDaGlsZHJlbnNdJywgX3RoaXMuY2hpbGRyZW5zKTtcbiAgICAgICAgbGV0IGNoaWxkcmVuO1xuXG4gICAgICAgIGZvciAoY2hpbGRyZW4gaW4gX3RoaXMuY2hpbGRyZW5zKSB7XG4gICAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICAgIGZvciAoY2hpbGQgaW4gX3RoaXMuY2hpbGRyZW5zW2NoaWxkcmVuXSkge1xuICAgICAgICAgICAgbGV0IGNoaWxkT2JqID0gX3RoaXMuY2hpbGRyZW5zW2NoaWxkcmVuXVtjaGlsZF07XG4gICAgICAgICAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBjaGlsZCcsY2hpbGRPYmopO1xuICAgICAgICAgICAgaWYgKGNoaWxkT2JqLm1ldGFkYXRhLmhhc093blByb3BlcnR5KCdyZXNvdXJjZVR5cGUnKSlcbiAgICAgICAgICAgICAgZGVsZXRlUHJvbWlzZXMucHVzaChfdGhpcy5jaGlsZHJlbnNbY2hpbGRyZW5dW2NoaWxkXS5kZWxldGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxvZy5sb2coJ1tEYXRhT2JqZWN0Ll9kZWxldGVDaGlsZHJlbnNdIHByb21pc2VzICcsIGRlbGV0ZVByb21pc2VzKTtcblxuICAgICAgaWYgKGRlbGV0ZVByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgUHJvbWlzZS5hbGwoZGVsZXRlUHJvbWlzZXMpLnRoZW4oKCk9PntcbiAgICAgICAgICByZXNvbHZlKCdbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBkb25lJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHJlc29sdmUoJ1tEYXRhT2JqZWN0Ll9kZWxldGVDaGlsZHJlbnNdIG5vdGhpbmcgdG8gZGVsZXRlJyk7XG5cbiAgICB9KTtcblxuICB9XG5cbiAgX2dldENoaWxkSW5wdXQoaW5wdXQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBjaGlsZElucHV0ICA9IE9iamVjdC5hc3NpZ24oe30sIGlucHV0KTtcblxuICAgIF90aGlzLl9jaGlsZElkKys7XG4gICAgY2hpbGRJbnB1dC51cmwgPSBfdGhpcy5fb3duZXIgKyAnIycgKyBfdGhpcy5fY2hpbGRJZDtcblxuICAgIGNoaWxkSW5wdXQucGFyZW50T2JqZWN0ID0gX3RoaXM7XG4gICAgY2hpbGRJbnB1dC5yZXBvcnRlciA9IF90aGlzLl9vd25lcjtcbiAgICBjaGlsZElucHV0LmNyZWF0ZWQgPSAobmV3IERhdGUpLnRvSVNPU3RyaW5nKCk7XG4gICAgY2hpbGRJbnB1dC5ydW50aW1lID0gX3RoaXMuX3N5bmNoZXIuX3J1bnRpbWVVcmw7XG4gICAgY2hpbGRJbnB1dC5wMnBIYW5kbGVyID0gX3RoaXMuX3N5bmNoZXIuX3AycEhhbmRsZXI7XG4gICAgY2hpbGRJbnB1dC5wMnBSZXF1ZXN0ZXIgPSBfdGhpcy5fc3luY2hlci5fcDJwUmVxdWVzdGVyO1xuICAgIGNoaWxkSW5wdXQuc2NoZW1hID0gX3RoaXMuX3NjaGVtYTtcbiAgICBjaGlsZElucHV0LnBhcmVudCA9IF90aGlzLnVybDtcblxuICAgIHJldHVybiBjaGlsZElucHV0O1xuICB9XG5cbiAgYWRkSHlwZXJ0eVJlc291cmNlKGNoaWxkcmVuLCB0eXBlLCByZXNvdXJjZSwgaWRlbnRpdHksIGlucHV0KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vcmV0dXJucyBwcm9taXNlLCBpbiB0aGUgZnV0dXJlLCB0aGUgQVBJIG1heSBjaGFuZ2UgdG8gYXN5bmNocm9ub3VzIGNhbGxcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblxuICAgICAgbGV0IGh5cGVydHlSZXNvdXJjZTtcbiAgICAgIGxldCBtc2dDaGlsZFBhdGggPSBfdGhpcy5fdXJsICsgJy9jaGlsZHJlbi8nICsgY2hpbGRyZW47XG5cbiAgICAgIGxldCBjaGlsZElucHV0ID0gX3RoaXMuX2dldENoaWxkSW5wdXQoaW5wdXQpO1xuICAgICAgY2hpbGRJbnB1dC5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXG4gICAgICBfdGhpcy5faHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2VXaXRoQ29udGVudCh0cnVlLCB0eXBlLCByZXNvdXJjZSwgY2hpbGRJbnB1dCkudGhlbigocmVzb3VyY2UpPT57XG4gICAgICAgIGh5cGVydHlSZXNvdXJjZSA9IHJlc291cmNlO1xuXG4gICAgICAgIGlmIChpZGVudGl0eSkgaHlwZXJ0eVJlc291cmNlLmlkZW50aXR5ID0gaWRlbnRpdHk7XG5cbiAgICAgICAgaHlwZXJ0eVJlc291cmNlLnNoYXJlKCk7XG5cbiAgICAgICAgbG9nLmxvZygnW0RhdGFPYmplY3QuYWRkSHlwZXJ0eVJlc291cmNlXSBhZGRlZCAnLCBoeXBlcnR5UmVzb3VyY2UpO1xuXG4gICAgICAgIGh5cGVydHlSZXNvdXJjZS5vbkNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICBfdGhpcy5fb25DaGFuZ2UoZXZlbnQsIHsgcGF0aDogbXNnQ2hpbGRQYXRoLCBjaGlsZElkOiBoeXBlcnR5UmVzb3VyY2UuY2hpbGRJZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5fY2hpbGRyZW5PYmplY3RzLmhhc093blByb3BlcnR5KGNoaWxkcmVuKSkgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0gPSB7fTtcblxuICAgICAgICBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXVtoeXBlcnR5UmVzb3VyY2UuY2hpbGRJZF0gPSBoeXBlcnR5UmVzb3VyY2U7XG5cbiAgICAgICAgcmVzb2x2ZShoeXBlcnR5UmVzb3VyY2UpO1xuICAgICAgfSk7XG5cblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGNyZWF0ZSBhbmQgZGVsZXRlIG9mIGNoaWxkcmVucy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xuICAgKiBUT0RPOiBhZGQgY2hpbGRyZW5JZCB0byBzdXBwb3J0IGRpZmZlcmVudCBoYW5kbGVycyBwZXIgY2hpbGRyZW5cbiAgICovXG4gIG9uQWRkQ2hpbGQoY2FsbGJhY2spIHtcblxuICAgIHRoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBhIHJlbW90ZSBEYXRhT2JqZWN0IC0+IGFkZENoaWxkXG4gIF9vbkNoaWxkQ3JlYXRlKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsb2cubG9nKCdbRGF0YU9iamVjdC5fb25DaGlsZENyZWF0ZV0gcmVjZWl2ZWRCeSAnICsgX3RoaXMuX293bmVyICsgJyA6ICcsIG1zZyk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBmcm9tOiBtc2cudG8sXG4gICAgICB0bzogbXNnLmZyb20sXG4gICAgICB0eXBlOiAncmVzcG9uc2UnLFxuICAgICAgaWQ6IG1zZy5pZCxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgY29kZTogMTAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZXNwb25zZSk7XG5cbiAgICBpZiAobXNnLmJvZHkudmFsdWUucmVzb3VyY2VUeXBlKSB7XG4gICAgICBfdGhpcy5fb25IeXBlcnR5UmVzb3VyY2VBZGRlZChtc2cpO1xuICAgIH0gZWxzZSBfdGhpcy5fb25DaGlsZEFkZGVkKG1zZyk7XG4gIH1cblxuICBfb25DaGlsZEFkZGVkKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNoaWxkSW5wdXQgPSBkZWVwQ2xvbmUobXNnLmJvZHkudmFsdWUpO1xuICAgIGNoaWxkSW5wdXQucGFyZW50T2JqZWN0ID0gX3RoaXM7XG5cbiAgICBsZXQgY2hpbGRyZW4gPSBjaGlsZElucHV0LmNoaWxkcmVuO1xuXG4gICAgbGV0IG5ld0NoaWxkID0gbmV3IERhdGFPYmplY3RDaGlsZChjaGlsZElucHV0KTtcbiAgICBuZXdDaGlsZC5pZGVudGl0eSA9IG1zZy5ib2R5LmlkZW50aXR5O1xuXG5cbiAgICBpZiAoIV90aGlzLl9jaGlsZHJlbk9iamVjdHMuaGFzT3duUHJvcGVydHkoY2hpbGRyZW4pKSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXSA9IHt9O1xuXG4gICAgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl1bY2hpbGRJbnB1dC51cmxdID0gbmV3Q2hpbGQ7XG5cbiAgICBpZiAobXNnLnRvID09PSBfdGhpcy5tZXRhZGF0YS51cmwpIG5ld0NoaWxkLnN0b3JlKCk7XG5cbiAgICBfdGhpcy5faHlwZXJ0eUV2dChtc2csIG5ld0NoaWxkKTtcbiAgfVxuXG4gIF9vbkh5cGVydHlSZXNvdXJjZUFkZGVkKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlucHV0ID0gbXNnLmJvZHkudmFsdWU7XG4gICAgbGV0IGh5cGVydHlSZXNvdXJjZTtcblxuICAgIGxldCBjaGlsZHJlbiA9IGlucHV0LmNoaWxkcmVuO1xuXG4gICAgaW5wdXQucGFyZW50T2JqZWN0ID0gX3RoaXM7XG5cbiAgICBoeXBlcnR5UmVzb3VyY2UgPSBfdGhpcy5faHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2UoZmFsc2UsIGlucHV0LnJlc291cmNlVHlwZSwgaW5wdXQpO1xuICAgIGh5cGVydHlSZXNvdXJjZS5pZGVudGl0eSA9IG1zZy5ib2R5LmlkZW50aXR5O1xuXG4gICAgaWYgKCFfdGhpcy5fY2hpbGRyZW5PYmplY3RzLmhhc093blByb3BlcnR5KGNoaWxkcmVuKSkgX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0gPSB7fTtcblxuICAgIF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5dW2h5cGVydHlSZXNvdXJjZS5jaGlsZElkXSA9IGh5cGVydHlSZXNvdXJjZTtcblxuICAgIF90aGlzLl9oeXBlcnR5RXZ0KG1zZywgaHlwZXJ0eVJlc291cmNlKTtcblxuICAgIC8vIGxvY2FsbHkgc3RvcmUgbWVzc2FnZXMgdGhhdCBhcmUgZGlyZWN0bHkgc2VudCB0byB0aGUgaHlwZXJ0eVxuICAgIC8vIGllIHRvIHN5bmMgd2l0aCBtZXNzYWdlcyBzZW50IHdoZW4gb2ZmbGluZVxuXG4gICAgaWYgKG1zZy50byA9PT0gX3RoaXMubWV0YWRhdGEudXJsKSBoeXBlcnR5UmVzb3VyY2Uuc3RvcmUoKTtcbiAgfVxuXG4gIF9oeXBlcnR5RXZ0KG1zZywgY2hpbGQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGV2ZW50ID0ge1xuICAgICAgdHlwZTogbXNnLnR5cGUsXG4gICAgICBmcm9tOiBtc2cuZnJvbSxcbiAgICAgIHVybDogbXNnLnRvLFxuICAgICAgdmFsdWU6IGNoaWxkLmRhdGEsXG4gICAgICBjaGlsZElkOiBjaGlsZC51cmwsXG4gICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHksXG4gICAgICBjaGlsZDogY2hpbGRcbiAgICB9O1xuXG4gICAgaWYgKGNoaWxkLnJlc291cmNlVHlwZSkge1xuICAgICAgZXZlbnQucmVzb3VyY2UgPSBjaGlsZDtcblxuICAgIH1cblxuICAgIGlmIChfdGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXIpIF90aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcihldmVudCk7XG4gIH1cblxuICAvL3NlbmQgZGVsdGEgbWVzc2FnZXMgdG8gc3Vic2NyaXB0aW9uc1xuICBfb25DaGFuZ2UoZXZlbnQsIGNoaWxkSW5mbykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fbWV0YWRhdGEubGFzdE1vZGlmaWVkID0gKG5ldyBEYXRlKS50b0lTT1N0cmluZygpO1xuXG4gICAgX3RoaXMuX3ZlcnNpb24rKztcblxuICAgIGlmIChfdGhpcy5fc3RhdHVzID09PSAnbGl2ZScpIHtcbiAgICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgZGlyZWN0bHkgdG8gYSByZXNvdXJjZSBjaGFuZ2VzIGFkZHJlc3M6IE1lc3NhZ2VCdXNcbiAgICAgIGxldCBjaGFuZ2VNc2cgPSB7XG4gICAgICAgIHR5cGU6ICd1cGRhdGUnLCBmcm9tOiBfdGhpcy5fdXJsLCB0bzogX3RoaXMuX3VybCArICcvY2hhbmdlcycsXG4gICAgICAgIGJvZHk6IHsgdmVyc2lvbjogX3RoaXMuX3ZlcnNpb24sIHNvdXJjZTogX3RoaXMuX293bmVyLCBhdHRyaWJ1dGU6IGV2ZW50LmZpZWxkLCBsYXN0TW9kaWZpZWQ6IF90aGlzLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWQgfVxuICAgICAgfTtcblxuICAgICAgbG9nLmxvZygnW0RhdGFPYmplY3QgLSBfb25DaGFuZ2VdIC0gJywgZXZlbnQsIGNoaWxkSW5mbywgY2hhbmdlTXNnKTtcblxuICAgICAgaWYgKGV2ZW50Lm9UeXBlID09PSBPYmplY3RUeXBlLk9CSkVDVCkge1xuICAgICAgICBpZiAoZXZlbnQuY1R5cGUgIT09IENoYW5nZVR5cGUuUkVNT1ZFKSB7XG4gICAgICAgICAgY2hhbmdlTXNnLmJvZHkudmFsdWUgPSBkZWVwQ2xvbmUoZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5nZU1zZy5ib2R5LmF0dHJpYnV0ZVR5cGUgPSBldmVudC5vVHlwZTtcbiAgICAgICAgY2hhbmdlTXNnLmJvZHkudmFsdWUgPSBldmVudC5kYXRhO1xuICAgICAgICBpZiAoZXZlbnQuY1R5cGUgIT09IENoYW5nZVR5cGUuVVBEQVRFKSB7XG4gICAgICAgICAgY2hhbmdlTXNnLmJvZHkub3BlcmF0aW9uID0gZXZlbnQuY1R5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9jaGlsZEluZm8gbXVzdCBoYXZlIChwYXRoLCBjaGlsZElkKVxuICAgICAgaWYgKGNoaWxkSW5mbykge1xuICAgICAgICBjaGFuZ2VNc2cudG8gPSBjaGlsZEluZm8ucGF0aDtcbiAgICAgICAgY2hhbmdlTXNnLmJvZHkucmVzb3VyY2UgPSBjaGlsZEluZm8uY2hpbGRJZDtcbiAgICAgIH1cblxuICAgICAgLy9UT0RPOiBGb3IgRnVydGhlciBTdHVkeVxuICAgICAgaWYgKCFfdGhpcy5kYXRhLl9tdXR1YWwpIGNoYW5nZU1zZy5ib2R5Lm11dHVhbCA9IF90aGlzLl9tdXR1YWw7XG5cbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoY2hhbmdlTXNnKTtcbiAgICB9XG4gIH1cblxuICAvL0ZMT1ctSU46IGRlbHRhIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBhIHJlbW90ZSBEYXRhT2JqZWN0UmVwb3J0ZXIgb3IgRGF0YU9iamVjdENoaWxkIHdoZW4gY2hhbmdpbmcgZGF0YVxuICBfY2hhbmdlT2JqZWN0KHN5bmNPYmosIG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICAvL1RPRE86IHVwZGF0ZSB2ZXJzaW9uID9cbiAgICAvL2hvdyB0byBoYW5kbGUgYW4gaW5jb3JyZWN0IHZlcnNpb24gPyBFeGFtcGxlOiByZWNlaXZlIGEgdmVyc2lvbiAzIHdoZW4gdGhlIG9ic2VydmVyIGlzIGluIHZlcnNpb24gMSwgd2hlcmUgaXMgdGhlIHZlcnNpb24gMiA/XG4gICAgLy93aWxsIHdlIG5lZWQgdG8gY29uZmlybSB0aGUgcmVjZXB0aW9uID9cbiAgICBpZiAoX3RoaXMuX3ZlcnNpb24gKyAxIDw9IG1zZy5ib2R5LnZlcnNpb24pIHtcbiAgICAgIF90aGlzLl92ZXJzaW9uID0gbXNnLmJvZHkudmVyc2lvbjtcbiAgICAgIGxldCBwYXRoID0gbXNnLmJvZHkuYXR0cmlidXRlO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgaWYgKHR5cGVvZiBtc2cuYm9keS52YWx1ZSA9PT0gJ29iamVjdCcpIHZhbHVlID0gZGVlcENsb25lKG1zZy5ib2R5LnZhbHVlKTtcbiAgICAgIGVsc2UgdmFsdWUgPSBtc2cuYm9keS52YWx1ZTtcblxuICAgICAgbGV0IGZpbmRSZXN1bHQgPSBzeW5jT2JqLmZpbmRCZWZvcmUocGF0aCk7XG5cbiAgICAgIGlmIChtc2cuYm9keS5sYXN0TW9kaWZpZWQpIHtcbiAgICAgICAgX3RoaXMuX21ldGFkYXRhLmxhc3RNb2RpZmllZCA9IG1zZy5ib2R5Lmxhc3RNb2RpZmllZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWQgPSAobmV3IERhdGUpLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2cuYm9keS5hdHRyaWJ1dGVUeXBlID09PSBPYmplY3RUeXBlLkFSUkFZKSB7XG4gICAgICAgIGlmIChtc2cuYm9keS5vcGVyYXRpb24gPT09IENoYW5nZVR5cGUuQUREKSB7XG4gICAgICAgICAgbGV0IGFyciA9IGZpbmRSZXN1bHQub2JqO1xuICAgICAgICAgIGxldCBpbmRleCA9IGZpbmRSZXN1bHQubGFzdDtcbiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGFyciwgW2luZGV4LCAwXS5jb25jYXQodmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChtc2cuYm9keS5vcGVyYXRpb24gPT09IENoYW5nZVR5cGUuUkVNT1ZFKSB7XG4gICAgICAgICAgbGV0IGFyciA9IGZpbmRSZXN1bHQub2JqO1xuICAgICAgICAgIGxldCBpbmRleCA9IGZpbmRSZXN1bHQubGFzdDtcbiAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluZFJlc3VsdC5vYmpbZmluZFJlc3VsdC5sYXN0XSA9IHZhbHVlOyAvLyBVUERBVEVcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1zZy5ib2R5Lmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgICAgICAgZmluZFJlc3VsdC5vYmpbZmluZFJlc3VsdC5sYXN0XSA9IHZhbHVlOyAvLyBVUERBVEUgb3IgQUREXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGZpbmRSZXN1bHQub2JqW2ZpbmRSZXN1bHQubGFzdF07IC8vIFJFTU9WRVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vVE9ETzogaG93IHRvIGhhbmRsZSB1bnN5bmNocm9uaXplZCB2ZXJzaW9ucz9cbiAgICAgIGxvZy5sb2coJ1VOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICcgKyBfdGhpcy5fdmVyc2lvbiArICcsIG1zZyA9PiAnICsgbXNnLmJvZHkudmVyc2lvbiArICcpJyk7XG4gICAgfVxuICB9XG5cbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYSByZW1vdGUgRGF0YU9iamVjdENoaWxkIHdoZW4gY2hhbmdpbmcgZGF0YVxuICBfY2hhbmdlQ2hpbGRyZW4obXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBjb25zdCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKG1zZy50byk7XG4gICAgY29uc3QgaWRlbnRpdHkgPSBkaXZpZGVkVVJMLmlkZW50aXR5O1xuICAgIGNvbnN0IHJlc291cmNlID0gaWRlbnRpdHkgPyBpZGVudGl0eS5zdWJzdHJpbmcoaWRlbnRpdHkubGFzdEluZGV4T2YoJy8nKSArIDEpIDogdW5kZWZpbmVkO1xuXG4gICAgbGV0IGNoaWxkSWQgPSBtc2cuYm9keS5yZXNvdXJjZTtcbiAgICBsZXQgY2hpbGRyZW4gPSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW3Jlc291cmNlXVtjaGlsZElkXTtcblxuICAgIGxvZy5sb2coJ0NoYW5nZSBjaGlsZHJlbjogJywgX3RoaXMuX293bmVyLCBtc2csIHJlc291cmNlKTtcblxuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgX3RoaXMuX2NoYW5nZU9iamVjdChjaGlsZHJlbi5fc3luY09iaiwgbXNnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nLndhcm4oJ05vIGNoaWxkcmVuIGZvdW5kIGZvcjogJywgY2hpbGRJZCk7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zeW5jaGVyL0RhdGFPYmplY3QuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///122\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _HypertyResource2 = __webpack_require__(129);\n\nvar _HypertyResource3 = _interopRequireDefault(_HypertyResource2);\n\nvar _utils = __webpack_require__(21);\n\nvar _ImageTools = __webpack_require__(130);\n\nvar _ImageTools2 = _interopRequireDefault(_ImageTools);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('FileHypertyResource'); /**\n                                                   * The Hyperty Resource Data Model is used to model resouces handled by Hyperties and Data Objects including chat messages, files, real time human audio and video..\n                                                   *\n                                                   */\n\n// Log System\n\nvar FileHypertyResource = function (_HypertyResource) {\n  (0, _inherits3.default)(FileHypertyResource, _HypertyResource);\n\n  /**\n  * FileHypertyResource constructor\n  *\n  * @param  {URL} owner HypertyURL of the Hyperty handling this resource\n  * @param  {URL} runtime Runtime URL where this resource is hosted\n  * @param  {Bus} bus sandbox message bus\n  * @param  {DataObject} parent Parent Data Object where the HypertyResource is handled as a child\n  * @param  {File} file file to be encoded as HypertyResource\n  * @param  {Boolean} isReporter indicates if parent is Reporter or an Observer\n  * @param  {Array} input optional input parameters\n  */\n\n  function FileHypertyResource(isSender, input) {\n    (0, _classCallCheck3.default)(this, FileHypertyResource);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (FileHypertyResource.__proto__ || (0, _getPrototypeOf2.default)(FileHypertyResource)).call(this, isSender, input));\n\n    var _this = _this2;\n\n    _this.metadata.resourceType = 'file';\n\n    return _this2;\n  }\n\n  (0, _createClass3.default)(FileHypertyResource, [{\n    key: 'init',\n    value: function init(file) {\n      var _this = this;\n\n      if (!file) throw new Error('[FileHypertyResource.constructor] missing mandatory *file* input ');\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this._metadata.name = file.name;\n        _this._metadata.lastModified = file.lastModified;\n        _this._metadata.size = file.size;\n        _this._metadata.mimetype = file.type;\n\n        log.log('[FileHypertyResource.init] file: ', file);\n\n        if (_this._isSender) {\n\n          var mimetype = file.type.split('/')[0];\n\n          switch (mimetype) {\n            case 'image':\n              _this._getImagePreview(file).then(function (preview) {\n                _this._metadata.preview = preview;\n                _this._content = file;\n                resolve();\n              });\n              break;\n            default:\n              _this._content = file;\n              resolve();\n              break;\n          }\n\n          // if too big lets store as File and asArray Buffer\n\n          //  if (file.size > _this.arraybufferSizeLimit) {\n          /*  } else {\n               let reader = new FileReader();\n               reader.onload = function(theFile) {\n                 log.log('[FileHypertyResource.init] file loaded ', theFile);\n                 _this._content = theFile.target.result;\n                resolve();\n               }\n               reader.readAsArrayBuffer(file);\n             }*/\n        } else {\n          _this._content = file.content;\n          if (file.preview) _this._metadata.preview = file.preview;\n          resolve();\n        }\n      });\n    }\n  }, {\n    key: '_getImagePreview',\n    value: function _getImagePreview(image) {\n      var reader = new FileReader();\n      return new _promise2.default(function (resolve, reject) {\n\n        _ImageTools2.default.resize(image, {\n          width: 100, // maximum width\n          height: 100 // maximum height\n        }, function (blob, didItResize) {\n          // didItResize will be true if it managed to resize it, otherwise false (and will return the original file as 'blob')\n          if (didItResize) {\n            reader.readAsDataURL(blob);\n\n            reader.onload = function (theImage) {\n              resolve(theImage.target.result);\n            };\n          } else {\n            log.warn('[FileHypertyResource._getImagePreview] unable to create image preview from original image ');\n            resolve(undefined);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'toMessage',\n\n\n    /**\n    * Share file as a data object child of a data object parent\n    *\n    * @param  {string} children Data Object Parent children name where the file is shared\n    */\n\n    /*  share(children) {\n        let _this = this;\n    \n        return new Promise(function(resolve, reject) {\n          //to be improved and adapted\n    \n          if (!_this._isSender) return reject('[FileHypertyResource.share] Observers can not share files');\n    \n          let file2share = _this._metadata;\n          file2share.type = _this._type;\n    \n          _this._parent.addChild(children, file2share).then(function(dataObjectChild) {\n            log.log('[FileHypertyResource.share] object child: ', dataObjectChild);\n    \n            let sharedFile = dataObjectChild.data;\n    \n            resolve(sharedFile);\n    \n          }).catch(function(reason) {\n            log.error('Reason:', reason);\n            reject(reason);\n          });\n    \n        });\n    \n      }*/\n\n    /**\n    * Returns file content optimised to be displayed in a message line\n    *\n    * @param  {string} children Data Object Parent children name where the file is shared\n    */\n\n    value: function toMessage() {\n      //TODO: to be implemented. It should return HTML with img attribute as a thumbnail plus the name.\n    }\n  }, {\n    key: 'name',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.name;\n    }\n  }, {\n    key: 'preview',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.preview;\n    }\n  }]);\n  return FileHypertyResource;\n}(_HypertyResource3.default);\n\nexports.default = FileHypertyResource;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9GaWxlSHlwZXJ0eVJlc291cmNlLmpzPzhiZjYiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nIiwiZ2V0TG9nZ2VyIiwiRmlsZUh5cGVydHlSZXNvdXJjZSIsImlzU2VuZGVyIiwiaW5wdXQiLCJfdGhpcyIsIm1ldGFkYXRhIiwicmVzb3VyY2VUeXBlIiwiZmlsZSIsIkVycm9yIiwicmVzb2x2ZSIsInJlamVjdCIsIl9tZXRhZGF0YSIsIm5hbWUiLCJsYXN0TW9kaWZpZWQiLCJzaXplIiwibWltZXR5cGUiLCJ0eXBlIiwiX2lzU2VuZGVyIiwic3BsaXQiLCJfZ2V0SW1hZ2VQcmV2aWV3IiwidGhlbiIsInByZXZpZXciLCJfY29udGVudCIsImNvbnRlbnQiLCJpbWFnZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZXNpemUiLCJ3aWR0aCIsImhlaWdodCIsImJsb2IiLCJkaWRJdFJlc2l6ZSIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWQiLCJ0aGVJbWFnZSIsInRhcmdldCIsInJlc3VsdCIsIndhcm4iLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BOztJQUFZQSxNOztBQUdaOzs7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBSkEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixxQkFBakIsQ0FBVixDLENBUEE7Ozs7O0FBS0E7O0lBU01DLG1COzs7QUFFSjs7Ozs7Ozs7Ozs7O0FBWUEsK0JBQVlDLFFBQVosRUFBc0JDLEtBQXRCLEVBQTZCO0FBQUE7O0FBQUEsaUtBRXJCRCxRQUZxQixFQUVYQyxLQUZXOztBQUkzQixRQUFJQyxjQUFKOztBQUVBQSxVQUFNQyxRQUFOLENBQWVDLFlBQWYsR0FBOEIsTUFBOUI7O0FBTjJCO0FBUTVCOzs7O3lCQUVJQyxJLEVBQU07QUFDVCxVQUFJSCxRQUFRLElBQVo7O0FBRUEsVUFBSSxDQUFDRyxJQUFMLEVBQVcsTUFBTSxJQUFJQyxLQUFKLENBQVUsbUVBQVYsQ0FBTjs7QUFFWCxhQUFPLHNCQUFZLFVBQVNDLE9BQVQsRUFBa0JDLE1BQWxCLEVBQTBCOztBQUUzQ04sY0FBTU8sU0FBTixDQUFnQkMsSUFBaEIsR0FBdUJMLEtBQUtLLElBQTVCO0FBQ0FSLGNBQU1PLFNBQU4sQ0FBZ0JFLFlBQWhCLEdBQStCTixLQUFLTSxZQUFwQztBQUNBVCxjQUFNTyxTQUFOLENBQWdCRyxJQUFoQixHQUF1QlAsS0FBS08sSUFBNUI7QUFDQVYsY0FBTU8sU0FBTixDQUFnQkksUUFBaEIsR0FBMkJSLEtBQUtTLElBQWhDOztBQUVBakIsWUFBSUEsR0FBSixDQUFRLG1DQUFSLEVBQTZDUSxJQUE3Qzs7QUFFQSxZQUFJSCxNQUFNYSxTQUFWLEVBQXFCOztBQUVuQixjQUFJRixXQUFXUixLQUFLUyxJQUFMLENBQVVFLEtBQVYsQ0FBZ0IsR0FBaEIsRUFBcUIsQ0FBckIsQ0FBZjs7QUFFQSxrQkFBUUgsUUFBUjtBQUNFLGlCQUFLLE9BQUw7QUFDRVgsb0JBQU1lLGdCQUFOLENBQXVCWixJQUF2QixFQUE2QmEsSUFBN0IsQ0FBa0MsVUFBQ0MsT0FBRCxFQUFXO0FBQzNDakIsc0JBQU1PLFNBQU4sQ0FBZ0JVLE9BQWhCLEdBQTBCQSxPQUExQjtBQUNBakIsc0JBQU1rQixRQUFOLEdBQWlCZixJQUFqQjtBQUNBRTtBQUNELGVBSkQ7QUFLQTtBQUNGO0FBQ0VMLG9CQUFNa0IsUUFBTixHQUFpQmYsSUFBakI7QUFDQUU7QUFDQTtBQVhKOztBQWNBOztBQUVGO0FBQ0E7Ozs7Ozs7OztBQWdCQyxTQXJDRCxNQXFDTztBQUNQTCxnQkFBTWtCLFFBQU4sR0FBaUJmLEtBQUtnQixPQUF0QjtBQUNBLGNBQUloQixLQUFLYyxPQUFULEVBQWtCakIsTUFBTU8sU0FBTixDQUFnQlUsT0FBaEIsR0FBMEJkLEtBQUtjLE9BQS9CO0FBQ2xCWjtBQUNEO0FBRUEsT0FwRE0sQ0FBUDtBQXNERDs7O3FDQUVlZSxLLEVBQU07QUFDckIsVUFBSUMsU0FBUyxJQUFJQyxVQUFKLEVBQWI7QUFDQSxhQUFPLHNCQUFZLFVBQUNqQixPQUFELEVBQVNDLE1BQVQsRUFBa0I7O0FBRXJDLDZCQUFXaUIsTUFBWCxDQUFrQkgsS0FBbEIsRUFBeUI7QUFDcEJJLGlCQUFPLEdBRGEsRUFDUjtBQUNaQyxrQkFBUSxHQUZZLENBRVI7QUFGUSxTQUF6QixFQUdJLFVBQVNDLElBQVQsRUFBZUMsV0FBZixFQUE0QjtBQUMzQjtBQUNBLGNBQUlBLFdBQUosRUFBaUI7QUFDZk4sbUJBQU9PLGFBQVAsQ0FBcUJGLElBQXJCOztBQUVBTCxtQkFBT1EsTUFBUCxHQUFnQixVQUFTQyxRQUFULEVBQW1CO0FBQ2pDekIsc0JBQVF5QixTQUFTQyxNQUFULENBQWdCQyxNQUF4QjtBQUNILGFBRkM7QUFHSCxXQU5DLE1BTUs7QUFDTHJDLGdCQUFJc0MsSUFBSixDQUFTLDRGQUFUO0FBQ0E1QixvQkFBUTZCLFNBQVI7QUFDRDtBQUNGLFNBZkY7QUFnQkEsT0FsQk8sQ0FBUDtBQW1CRDs7Ozs7QUFjQTs7Ozs7O0FBTUY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJCRTs7Ozs7O2dDQU1ZO0FBQ1Y7QUFDRDs7O3dCQW5EVTtBQUNULFVBQUlsQyxRQUFRLElBQVo7QUFDQSxhQUFPQSxNQUFNTyxTQUFOLENBQWdCQyxJQUF2QjtBQUNEOzs7d0JBRWE7QUFDWixVQUFJUixRQUFRLElBQVo7QUFDQSxhQUFPQSxNQUFNTyxTQUFOLENBQWdCVSxPQUF2QjtBQUNEOzs7OztrQkFnRFlwQixtQiIsImZpbGUiOiIxMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogVGhlIEh5cGVydHkgUmVzb3VyY2UgRGF0YSBNb2RlbCBpcyB1c2VkIHRvIG1vZGVsIHJlc291Y2VzIGhhbmRsZWQgYnkgSHlwZXJ0aWVzIGFuZCBEYXRhIE9iamVjdHMgaW5jbHVkaW5nIGNoYXQgbWVzc2FnZXMsIGZpbGVzLCByZWFsIHRpbWUgaHVtYW4gYXVkaW8gYW5kIHZpZGVvLi5cbipcbiovXG5cbi8vIExvZyBTeXN0ZW1cbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XG5sZXQgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignRmlsZUh5cGVydHlSZXNvdXJjZScpO1xuXG5pbXBvcnQgSHlwZXJ0eVJlc291cmNlIGZyb20gJy4vSHlwZXJ0eVJlc291cmNlJztcbmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcbmltcG9ydCBJbWFnZVRvb2xzIGZyb20gJy4uL3V0aWxzL0ltYWdlVG9vbHMuanMnO1xuXG5cbmNsYXNzIEZpbGVIeXBlcnR5UmVzb3VyY2UgZXh0ZW5kcyBIeXBlcnR5UmVzb3VyY2Uge1xuXG4gIC8qKlxuICAqIEZpbGVIeXBlcnR5UmVzb3VyY2UgY29uc3RydWN0b3JcbiAgKlxuICAqIEBwYXJhbSAge1VSTH0gb3duZXIgSHlwZXJ0eVVSTCBvZiB0aGUgSHlwZXJ0eSBoYW5kbGluZyB0aGlzIHJlc291cmNlXG4gICogQHBhcmFtICB7VVJMfSBydW50aW1lIFJ1bnRpbWUgVVJMIHdoZXJlIHRoaXMgcmVzb3VyY2UgaXMgaG9zdGVkXG4gICogQHBhcmFtICB7QnVzfSBidXMgc2FuZGJveCBtZXNzYWdlIGJ1c1xuICAqIEBwYXJhbSAge0RhdGFPYmplY3R9IHBhcmVudCBQYXJlbnQgRGF0YSBPYmplY3Qgd2hlcmUgdGhlIEh5cGVydHlSZXNvdXJjZSBpcyBoYW5kbGVkIGFzIGEgY2hpbGRcbiAgKiBAcGFyYW0gIHtGaWxlfSBmaWxlIGZpbGUgdG8gYmUgZW5jb2RlZCBhcyBIeXBlcnR5UmVzb3VyY2VcbiAgKiBAcGFyYW0gIHtCb29sZWFufSBpc1JlcG9ydGVyIGluZGljYXRlcyBpZiBwYXJlbnQgaXMgUmVwb3J0ZXIgb3IgYW4gT2JzZXJ2ZXJcbiAgKiBAcGFyYW0gIHtBcnJheX0gaW5wdXQgb3B0aW9uYWwgaW5wdXQgcGFyYW1ldGVyc1xuICAqL1xuXG4gIGNvbnN0cnVjdG9yKGlzU2VuZGVyLCBpbnB1dCkge1xuXG4gICAgc3VwZXIoaXNTZW5kZXIsIGlucHV0KTtcblxuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5tZXRhZGF0YS5yZXNvdXJjZVR5cGUgPSAnZmlsZSc7XG5cbiAgfVxuXG4gIGluaXQoZmlsZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIWZpbGUpIHRocm93IG5ldyBFcnJvcignW0ZpbGVIeXBlcnR5UmVzb3VyY2UuY29uc3RydWN0b3JdIG1pc3NpbmcgbWFuZGF0b3J5ICpmaWxlKiBpbnB1dCAnKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgX3RoaXMuX21ldGFkYXRhLm5hbWUgPSBmaWxlLm5hbWU7XG4gICAgICBfdGhpcy5fbWV0YWRhdGEubGFzdE1vZGlmaWVkID0gZmlsZS5sYXN0TW9kaWZpZWQ7XG4gICAgICBfdGhpcy5fbWV0YWRhdGEuc2l6ZSA9IGZpbGUuc2l6ZTtcbiAgICAgIF90aGlzLl9tZXRhZGF0YS5taW1ldHlwZSA9IGZpbGUudHlwZTtcblxuICAgICAgbG9nLmxvZygnW0ZpbGVIeXBlcnR5UmVzb3VyY2UuaW5pdF0gZmlsZTogJywgZmlsZSk7XG5cbiAgICAgIGlmIChfdGhpcy5faXNTZW5kZXIpIHtcblxuICAgICAgICBsZXQgbWltZXR5cGUgPSBmaWxlLnR5cGUuc3BsaXQoJy8nKVswXTtcblxuICAgICAgICBzd2l0Y2ggKG1pbWV0eXBlKSB7XG4gICAgICAgICAgY2FzZSAnaW1hZ2UnIDpcbiAgICAgICAgICAgIF90aGlzLl9nZXRJbWFnZVByZXZpZXcoZmlsZSkudGhlbigocHJldmlldyk9PntcbiAgICAgICAgICAgICAgX3RoaXMuX21ldGFkYXRhLnByZXZpZXcgPSBwcmV2aWV3O1xuICAgICAgICAgICAgICBfdGhpcy5fY29udGVudCA9IGZpbGU7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdCA6XG4gICAgICAgICAgICBfdGhpcy5fY29udGVudCA9IGZpbGU7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRvbyBiaWcgbGV0cyBzdG9yZSBhcyBGaWxlIGFuZCBhc0FycmF5IEJ1ZmZlclxuXG4gICAgICAvLyAgaWYgKGZpbGUuc2l6ZSA+IF90aGlzLmFycmF5YnVmZmVyU2l6ZUxpbWl0KSB7XG4gICAgICAvKiAgfSBlbHNlIHtcblxuICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKHRoZUZpbGUpIHtcblxuICAgICAgICAgICAgbG9nLmxvZygnW0ZpbGVIeXBlcnR5UmVzb3VyY2UuaW5pdF0gZmlsZSBsb2FkZWQgJywgdGhlRmlsZSk7XG5cbiAgICAgICAgICAgIF90aGlzLl9jb250ZW50ID0gdGhlRmlsZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuXG4gICAgICAgIH0qL1xuICAgICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLl9jb250ZW50ID0gZmlsZS5jb250ZW50O1xuICAgICAgaWYgKGZpbGUucHJldmlldykgX3RoaXMuX21ldGFkYXRhLnByZXZpZXcgPSBmaWxlLnByZXZpZXc7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgfSk7XG5cbiAgfVxuXG4gX2dldEltYWdlUHJldmlldyhpbWFnZSl7XG4gICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XG5cbiAgIEltYWdlVG9vbHMucmVzaXplKGltYWdlLCB7XG4gICAgICAgIHdpZHRoOiAxMDAsIC8vIG1heGltdW0gd2lkdGhcbiAgICAgICAgaGVpZ2h0OiAxMDAgLy8gbWF4aW11bSBoZWlnaHRcbiAgICB9LCBmdW5jdGlvbihibG9iLCBkaWRJdFJlc2l6ZSkge1xuICAgICAgICAvLyBkaWRJdFJlc2l6ZSB3aWxsIGJlIHRydWUgaWYgaXQgbWFuYWdlZCB0byByZXNpemUgaXQsIG90aGVyd2lzZSBmYWxzZSAoYW5kIHdpbGwgcmV0dXJuIHRoZSBvcmlnaW5hbCBmaWxlIGFzICdibG9iJylcbiAgICAgICAgaWYgKGRpZEl0UmVzaXplKSB7XG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG5cbiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24odGhlSW1hZ2UpIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhlSW1hZ2UudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2cud2FybignW0ZpbGVIeXBlcnR5UmVzb3VyY2UuX2dldEltYWdlUHJldmlld10gdW5hYmxlIHRvIGNyZWF0ZSBpbWFnZSBwcmV2aWV3IGZyb20gb3JpZ2luYWwgaW1hZ2UgJyk7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gfVxuXG5cblxuICBnZXQgbmFtZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBfdGhpcy5fbWV0YWRhdGEubmFtZTtcbiAgfVxuXG4gIGdldCBwcmV2aWV3KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzLl9tZXRhZGF0YS5wcmV2aWV3O1xuICB9XG5cbiAgLyoqXG4gICogU2hhcmUgZmlsZSBhcyBhIGRhdGEgb2JqZWN0IGNoaWxkIG9mIGEgZGF0YSBvYmplY3QgcGFyZW50XG4gICpcbiAgKiBAcGFyYW0gIHtzdHJpbmd9IGNoaWxkcmVuIERhdGEgT2JqZWN0IFBhcmVudCBjaGlsZHJlbiBuYW1lIHdoZXJlIHRoZSBmaWxlIGlzIHNoYXJlZFxuICAqL1xuXG4vKiAgc2hhcmUoY2hpbGRyZW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgLy90byBiZSBpbXByb3ZlZCBhbmQgYWRhcHRlZFxuXG4gICAgICBpZiAoIV90aGlzLl9pc1NlbmRlcikgcmV0dXJuIHJlamVjdCgnW0ZpbGVIeXBlcnR5UmVzb3VyY2Uuc2hhcmVdIE9ic2VydmVycyBjYW4gbm90IHNoYXJlIGZpbGVzJyk7XG5cbiAgICAgIGxldCBmaWxlMnNoYXJlID0gX3RoaXMuX21ldGFkYXRhO1xuICAgICAgZmlsZTJzaGFyZS50eXBlID0gX3RoaXMuX3R5cGU7XG5cbiAgICAgIF90aGlzLl9wYXJlbnQuYWRkQ2hpbGQoY2hpbGRyZW4sIGZpbGUyc2hhcmUpLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdENoaWxkKSB7XG4gICAgICAgIGxvZy5sb2coJ1tGaWxlSHlwZXJ0eVJlc291cmNlLnNoYXJlXSBvYmplY3QgY2hpbGQ6ICcsIGRhdGFPYmplY3RDaGlsZCk7XG5cbiAgICAgICAgbGV0IHNoYXJlZEZpbGUgPSBkYXRhT2JqZWN0Q2hpbGQuZGF0YTtcblxuICAgICAgICByZXNvbHZlKHNoYXJlZEZpbGUpO1xuXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgbG9nLmVycm9yKCdSZWFzb246JywgcmVhc29uKTtcbiAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gIH0qL1xuXG4gIC8qKlxuICAqIFJldHVybnMgZmlsZSBjb250ZW50IG9wdGltaXNlZCB0byBiZSBkaXNwbGF5ZWQgaW4gYSBtZXNzYWdlIGxpbmVcbiAgKlxuICAqIEBwYXJhbSAge3N0cmluZ30gY2hpbGRyZW4gRGF0YSBPYmplY3QgUGFyZW50IGNoaWxkcmVuIG5hbWUgd2hlcmUgdGhlIGZpbGUgaXMgc2hhcmVkXG4gICovXG5cbiAgdG9NZXNzYWdlKCkge1xuICAgIC8vVE9ETzogdG8gYmUgaW1wbGVtZW50ZWQuIEl0IHNob3VsZCByZXR1cm4gSFRNTCB3aXRoIGltZyBhdHRyaWJ1dGUgYXMgYSB0aHVtYm5haWwgcGx1cyB0aGUgbmFtZS5cbiAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgRmlsZUh5cGVydHlSZXNvdXJjZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9oeXBlcnR5LXJlc291cmNlL0ZpbGVIeXBlcnR5UmVzb3VyY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///123\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(21);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('RegistrationStatus'); /**\n                                                  * Copyright 2016 PT Inovação e Sistemas SA\n                                                  * Copyright 2016 INESC-ID\n                                                  * Copyright 2016 QUOBIS NETWORKS SL\n                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                                  * Copyright 2016 ORANGE SA\n                                                  * Copyright 2016 Deutsche Telekom AG\n                                                  * Copyright 2016 Apizee\n                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                                  *\n                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                  * you may not use this file except in compliance with the License.\n                                                  * You may obtain a copy of the License at\n                                                  *\n                                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                                  *\n                                                  * Unless required by applicable law or agreed to in writing, software\n                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                  * See the License for the specific language governing permissions and\n                                                  * limitations under the License.\n                                                  **/\n\n// Log System\n\n/**\n* The RegistrationStatus lib allows to monitor registration status of an Hyperty or Data Object\n*\n*/\nvar RegistrationStatus = function () {\n\n  /**\n  * @param {URL} url URL address of the entity to be monitored\n  * @param {URL} runtimeURL the current URL of the Runtime Instance used\n  * @param {HypertyURL} owner the URL of the Hyperty instance that is using this lib\n  * @param {MiniBus} owner the URL of the Hyperty instance that is using this lib\n  *\n  */\n\n  function RegistrationStatus(url, runtimeURL, owner, msgBus) {\n    (0, _classCallCheck3.default)(this, RegistrationStatus);\n\n    this._registryObjectURL = url;\n    this._runtimeURL = runtimeURL;\n    this._domain = (0, _utils.divideURL)(runtimeURL).domain;\n    this._discoveredObjectURL = owner;\n    this._messageBus = msgBus;\n    this._subscriptionSet = false;\n    this._subscribers = {\n      live: {},\n      disconnected: {}\n    };\n  }\n\n  (0, _createClass3.default)(RegistrationStatus, [{\n    key: 'onLive',\n    value: function onLive(subscriber, callback) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._subscriptionSet) {\n          _this._subscribe().then(function () {\n            _this._subscribers.live[subscriber] = callback;\n            resolve();\n          }).catch(function (err) {\n            return reject(err);\n          });\n        } else {\n          _this._subscribers.live[subscriber] = callback;\n          resolve();\n        }\n      });\n    }\n  }, {\n    key: 'onDisconnected',\n    value: function onDisconnected(subscriber, callback) {\n      var _this2 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this2._subscriptionSet) {\n          _this2._subscribe().then(function () {\n            _this2._subscribers.disconnected[subscriber] = callback;\n            resolve();\n          }).catch(function (err) {\n            return reject(err);\n          });\n        } else {\n          _this2._subscribers.disconnected[subscriber] = callback;\n          resolve();\n        }\n      });\n    }\n  }, {\n    key: '_subscribe',\n    value: function _subscribe() {\n      var _this3 = this;\n\n      var msg = {\n        type: 'subscribe',\n        from: this._discoveredObjectURL,\n        to: this._runtimeURL + '/subscriptions',\n        body: {\n          resources: [this._registryObjectURL + '/registration']\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this3._messageBus.postMessage(msg, function (reply) {\n          log.log('[DiscoveredObject.subscribe] ' + _this3._registryObjectURL + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            _this3._generateListener(_this3._registryObjectURL + '/registration');\n            _this3._subscriptionSet = true;\n            resolve();\n          } else {\n            log.error('Error subscribing ', _this3._registryObjectURL);\n            reject('Error subscribing ' + _this3._registryObjectURL);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_generateListener',\n    value: function _generateListener(notificationURL) {\n      var _this4 = this;\n\n      this._messageBus.addListener(notificationURL, function (msg) {\n        log.log('[DiscoveredObject.notification] ' + _this4._registryObjectURL + ': ', msg);\n        _this4._processNotification(msg);\n      });\n    }\n  }, {\n    key: '_processNotification',\n    value: function _processNotification(msg) {\n      var _this5 = this;\n\n      var status = msg.body.value;\n\n      setTimeout(function () {\n\n        // Hack to give time for onLive Hyperties to get ready. To be removed when Hyperty State machaine is implemented\n        (0, _keys2.default)(_this5._subscribers[status]).forEach(function (subscriber) {\n          return _this5._subscribers[status][subscriber]();\n        });\n      }, 5000);\n    }\n  }, {\n    key: '_unsubscribe',\n    value: function _unsubscribe() {\n      var _this6 = this;\n\n      var msg = {\n        type: 'unsubscribe',\n        from: this._discoveredObjectURL,\n        to: this._runtimeURL + '/subscriptions',\n        body: {\n          resource: this._registryObjectURL + '/registration'\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this6._messageBus.postMessage(msg, function (reply) {\n          log.log('[DiscoveredObject.unsubscribe] ' + _this6._registryObjectURL + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            resolve();\n          } else {\n            log.error('Error unsubscribing ', _this6._registryObjectURL);\n            reject('Error unsubscribing ' + _this6._registryObjectURL);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'unsubscribeLive',\n    value: function unsubscribeLive(subscriber) {\n      var _this7 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (subscriber in _this7._subscribers.live) {\n\n          //TODO: unsubscribe outside this condition\n          delete _this7._subscribers.live[subscriber];\n        }\n\n        if (_this7._areSubscriptionsEmpty()) {\n          _this7._unsubscribe().then(function () {\n            return resolve();\n          }).catch(function (err) {\n            return reject(err);\n          });\n        } else {\n          resolve();\n        }\n\n        /*  } else {\n            reject(`${subscriber} doesn't subscribe onLive for ${this._registryObjectURL}`);\n          }*/\n      });\n    }\n  }, {\n    key: 'unsubscribeDisconnected',\n    value: function unsubscribeDisconnected(subscriber) {\n      var _this8 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (subscriber in _this8._subscribers.disconnected) {\n          delete _this8._subscribers.disconnected[subscriber];\n\n          if (_this8._areSubscriptionsEmpty()) {\n            _this8._unsubscribe().then(function () {\n              return resolve();\n            }).catch(function (err) {\n              return reject(err);\n            });\n          } else {\n            resolve();\n          }\n        } else {\n          reject(subscriber + ' doesn\\'t subscribe onDisconnected for ' + _this8._registryObjectURL);\n        }\n      });\n    }\n  }, {\n    key: '_areSubscriptionsEmpty',\n    value: function _areSubscriptionsEmpty() {\n      return (0, _keys2.default)(this._subscribers.live).length === 0 && (0, _keys2.default)(this._subscribers.disconnected).length === 0;\n    }\n  }]);\n  return RegistrationStatus;\n}();\n\nexports.default = RegistrationStatus;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXJ5L1JlZ2lzdHJhdGlvblN0YXR1cy5qcz85ZmY5Il0sIm5hbWVzIjpbImxvZ2dlciIsImxvZyIsImdldExvZ2dlciIsIlJlZ2lzdHJhdGlvblN0YXR1cyIsInVybCIsInJ1bnRpbWVVUkwiLCJvd25lciIsIm1zZ0J1cyIsIl9yZWdpc3RyeU9iamVjdFVSTCIsIl9ydW50aW1lVVJMIiwiX2RvbWFpbiIsImRvbWFpbiIsIl9kaXNjb3ZlcmVkT2JqZWN0VVJMIiwiX21lc3NhZ2VCdXMiLCJfc3Vic2NyaXB0aW9uU2V0IiwiX3N1YnNjcmliZXJzIiwibGl2ZSIsImRpc2Nvbm5lY3RlZCIsInN1YnNjcmliZXIiLCJjYWxsYmFjayIsInJlc29sdmUiLCJyZWplY3QiLCJfc3Vic2NyaWJlIiwidGhlbiIsImNhdGNoIiwiZXJyIiwibXNnIiwidHlwZSIsImZyb20iLCJ0byIsImJvZHkiLCJyZXNvdXJjZXMiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwiY29kZSIsIl9nZW5lcmF0ZUxpc3RlbmVyIiwiZXJyb3IiLCJub3RpZmljYXRpb25VUkwiLCJhZGRMaXN0ZW5lciIsIl9wcm9jZXNzTm90aWZpY2F0aW9uIiwic3RhdHVzIiwidmFsdWUiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsInJlc291cmNlIiwiX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSIsIl91bnN1YnNjcmliZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7SUFBWUEsTTs7QUFHWjs7Ozs7O0FBRkEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixvQkFBakIsQ0FBVixDLENBekJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7QUFNQTs7OztJQUlNQyxrQjs7QUFFSjs7Ozs7Ozs7QUFRQSw4QkFBWUMsR0FBWixFQUFpQkMsVUFBakIsRUFBNkJDLEtBQTdCLEVBQW9DQyxNQUFwQyxFQUE0QztBQUFBOztBQUMx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IjEyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuLy8gTG9nIFN5c3RlbVxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdSZWdpc3RyYXRpb25TdGF0dXMnKTtcblxuaW1wb3J0IHsgZGl2aWRlVVJMIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuXG4vKipcbiogVGhlIFJlZ2lzdHJhdGlvblN0YXR1cyBsaWIgYWxsb3dzIHRvIG1vbml0b3IgcmVnaXN0cmF0aW9uIHN0YXR1cyBvZiBhbiBIeXBlcnR5IG9yIERhdGEgT2JqZWN0XG4qXG4qL1xuY2xhc3MgUmVnaXN0cmF0aW9uU3RhdHVzIHtcblxuICAvKipcbiAgKiBAcGFyYW0ge1VSTH0gdXJsIFVSTCBhZGRyZXNzIG9mIHRoZSBlbnRpdHkgdG8gYmUgbW9uaXRvcmVkXG4gICogQHBhcmFtIHtVUkx9IHJ1bnRpbWVVUkwgdGhlIGN1cnJlbnQgVVJMIG9mIHRoZSBSdW50aW1lIEluc3RhbmNlIHVzZWRcbiAgKiBAcGFyYW0ge0h5cGVydHlVUkx9IG93bmVyIHRoZSBVUkwgb2YgdGhlIEh5cGVydHkgaW5zdGFuY2UgdGhhdCBpcyB1c2luZyB0aGlzIGxpYlxuICAqIEBwYXJhbSB7TWluaUJ1c30gb3duZXIgdGhlIFVSTCBvZiB0aGUgSHlwZXJ0eSBpbnN0YW5jZSB0aGF0IGlzIHVzaW5nIHRoaXMgbGliXG4gICpcbiAgKi9cblxuICBjb25zdHJ1Y3Rvcih1cmwsIHJ1bnRpbWVVUkwsIG93bmVyLCBtc2dCdXMpIHtcbiAgICB0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCA9IHVybDtcbiAgICB0aGlzLl9ydW50aW1lVVJMID0gcnVudGltZVVSTDtcbiAgICB0aGlzLl9kb21haW4gPSBkaXZpZGVVUkwocnVudGltZVVSTCkuZG9tYWluO1xuICAgIHRoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkwgPSBvd25lcjtcbiAgICB0aGlzLl9tZXNzYWdlQnVzID0gbXNnQnVzO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvblNldCA9IGZhbHNlO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0ge1xuICAgICAgbGl2ZToge30sXG4gICAgICBkaXNjb25uZWN0ZWQ6IHt9XG4gICAgfTtcbiAgfVxuXG5cbiAgb25MaXZlKHN1YnNjcmliZXIsIGNhbGxiYWNrKSB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBpZiAoIXRoaXMuX3N1YnNjcmlwdGlvblNldCkge1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnMubGl2ZVtzdWJzY3JpYmVyXSA9IGNhbGxiYWNrO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmxpdmVbc3Vic2NyaWJlcl0gPSBjYWxsYmFjaztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25EaXNjb25uZWN0ZWQoc3Vic2NyaWJlciwgY2FsbGJhY2spIHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGlmICghdGhpcy5fc3Vic2NyaXB0aW9uU2V0KSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWRbc3Vic2NyaWJlcl0gPSBjYWxsYmFjaztcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWRbc3Vic2NyaWJlcl0gPSBjYWxsYmFjaztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3N1YnNjcmliZSgpIHtcblxuICAgIGNvbnN0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLFxuICAgICAgZnJvbTogdGhpcy5fZGlzY292ZXJlZE9iamVjdFVSTCxcbiAgICAgIHRvOiB0aGlzLl9ydW50aW1lVVJMICsgJy9zdWJzY3JpcHRpb25zJyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVzb3VyY2VzOiBbdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwgKyAnL3JlZ2lzdHJhdGlvbiddXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIHRoaXMuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcbiAgICAgICAgbG9nLmxvZyhgW0Rpc2NvdmVyZWRPYmplY3Quc3Vic2NyaWJlXSAke3RoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMfSByY3ZlZCByZXBseSBgLCByZXBseSk7XG5cbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgdGhpcy5fZ2VuZXJhdGVMaXN0ZW5lcih0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCArICcvcmVnaXN0cmF0aW9uJyk7XG4gICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2V0ID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nLmVycm9yKCdFcnJvciBzdWJzY3JpYmluZyAnLCB0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCk7XG4gICAgICAgICAgcmVqZWN0KCdFcnJvciBzdWJzY3JpYmluZyAnICsgdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZW5lcmF0ZUxpc3RlbmVyKG5vdGlmaWNhdGlvblVSTCkge1xuXG4gICAgdGhpcy5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihub3RpZmljYXRpb25VUkwsIChtc2cpID0+IHtcbiAgICAgIGxvZy5sb2coYFtEaXNjb3ZlcmVkT2JqZWN0Lm5vdGlmaWNhdGlvbl0gJHt0aGlzLl9yZWdpc3RyeU9iamVjdFVSTH06IGAsIG1zZyk7XG4gICAgICB0aGlzLl9wcm9jZXNzTm90aWZpY2F0aW9uKG1zZyk7XG4gICAgfSk7XG4gIH1cblxuICBfcHJvY2Vzc05vdGlmaWNhdGlvbihtc2cpIHtcbiAgICBjb25zdCBzdGF0dXMgPSBtc2cuYm9keS52YWx1ZTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAvLyBIYWNrIHRvIGdpdmUgdGltZSBmb3Igb25MaXZlIEh5cGVydGllcyB0byBnZXQgcmVhZHkuIFRvIGJlIHJlbW92ZWQgd2hlbiBIeXBlcnR5IFN0YXRlIG1hY2hhaW5lIGlzIGltcGxlbWVudGVkXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9zdWJzY3JpYmVyc1tzdGF0dXNdKS5mb3JFYWNoKFxuICAgICAgICBzdWJzY3JpYmVyID0+IHRoaXMuX3N1YnNjcmliZXJzW3N0YXR1c11bc3Vic2NyaWJlcl0oKVxuICAgICAgKTtcblxuICAgIH0sIDUwMDApO1xuXG4gIH1cblxuXG4gIF91bnN1YnNjcmliZSgpIHtcblxuICAgIGNvbnN0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICd1bnN1YnNjcmliZScsXG4gICAgICBmcm9tOiB0aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMLFxuICAgICAgdG86IHRoaXMuX3J1bnRpbWVVUkwgKyAnL3N1YnNjcmlwdGlvbnMnLFxuICAgICAgYm9keToge1xuICAgICAgICByZXNvdXJjZTogdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwgKyAnL3JlZ2lzdHJhdGlvbidcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgdGhpcy5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xuICAgICAgICBsb2cubG9nKGBbRGlzY292ZXJlZE9iamVjdC51bnN1YnNjcmliZV0gJHt0aGlzLl9yZWdpc3RyeU9iamVjdFVSTH0gcmN2ZWQgcmVwbHkgYCwgcmVwbHkpO1xuXG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2cuZXJyb3IoJ0Vycm9yIHVuc3Vic2NyaWJpbmcgJywgdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwpO1xuICAgICAgICAgIHJlamVjdCgnRXJyb3IgdW5zdWJzY3JpYmluZyAnICsgdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlTGl2ZShzdWJzY3JpYmVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgaWYgKHN1YnNjcmliZXIgaW4gdGhpcy5fc3Vic2NyaWJlcnMubGl2ZSkge1xuXG4gICAgICAgICAgLy9UT0RPOiB1bnN1YnNjcmliZSBvdXRzaWRlIHRoaXMgY29uZGl0aW9uXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdWJzY3JpYmVycy5saXZlW3N1YnNjcmliZXJdO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYXJlU3Vic2NyaXB0aW9uc0VtcHR5KCkpIHtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgLyogIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KGAke3N1YnNjcmliZXJ9IGRvZXNuJ3Qgc3Vic2NyaWJlIG9uTGl2ZSBmb3IgJHt0aGlzLl9yZWdpc3RyeU9iamVjdFVSTH1gKTtcbiAgICAgICAgfSovXG4gICAgfSk7XG4gIH1cblxuICB1bnN1YnNjcmliZURpc2Nvbm5lY3RlZChzdWJzY3JpYmVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgaWYgKHN1YnNjcmliZXIgaW4gdGhpcy5fc3Vic2NyaWJlcnMuZGlzY29ubmVjdGVkKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWRbc3Vic2NyaWJlcl07XG5cbiAgICAgICAgaWYgKHRoaXMuX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSgpKSB7XG4gICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUoKSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVycikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KGAke3N1YnNjcmliZXJ9IGRvZXNuJ3Qgc3Vic2NyaWJlIG9uRGlzY29ubmVjdGVkIGZvciAke3RoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3Vic2NyaWJlcnMubGl2ZSkubGVuZ3RoID09PSAwXG4gICAgICAmJiBPYmplY3Qua2V5cyh0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWQpLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdHJhdGlvblN0YXR1cztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kaXNjb3ZlcnkvUmVnaXN0cmF0aW9uU3RhdHVzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///124\n")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(126), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/MmJhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IiLCJmaWxlIjoiMTI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qc1xuLy8gbW9kdWxlIGlkID0gMTI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgNCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///125\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(127);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/NzI3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgcmV0dXJuICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///126\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = __webpack_require__(13);\nvar $getOwnPropertyDescriptor = __webpack_require__(47).f;\n\n__webpack_require__(45)('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/ODg4OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjEyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZjtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiA0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///127\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _FileHypertyResource = __webpack_require__(123);\n\nvar _FileHypertyResource2 = _interopRequireDefault(_FileHypertyResource);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HypertyResourceFactory = function () {\n\n  /**\n  * HypertyResourceFactory constructor\n  *\n  */\n\n  function HypertyResourceFactory() {\n    (0, _classCallCheck3.default)(this, HypertyResourceFactory);\n  }\n\n  (0, _createClass3.default)(HypertyResourceFactory, [{\n    key: 'createHypertyResource',\n    value: function createHypertyResource(isSender, type, metadata) {\n      var newHypertyResource = void 0;\n\n      switch (type) {\n        case 'file':\n          newHypertyResource = new _FileHypertyResource2.default(isSender, metadata);\n          break;\n        default:\n          throw new Error('[HypertyResourceFactory.createHypertyResource] not supported type: ', type);\n          break;\n      }\n\n      return newHypertyResource;\n    }\n  }, {\n    key: 'createHypertyResourceWithContent',\n    value: function createHypertyResourceWithContent(isSender, type, content, metadata) {\n      var newHypertyResource = void 0;\n\n      return new _promise2.default(function (resolve) {\n\n        switch (type) {\n          case 'file':\n            newHypertyResource = new _FileHypertyResource2.default(isSender, metadata);\n            break;\n          default:\n            reject();\n            break;\n        }\n\n        newHypertyResource.init(content).then(function () {\n          return newHypertyResource.save(); // skip save?\n        }).then(function () {\n          resolve(newHypertyResource);\n        });\n      });\n    }\n  }]);\n  return HypertyResourceFactory;\n}(); /**\n     * The Hyperty Resource Data Model is used to model resouces handled by Hyperties and Data Objects including chat messages, files, real time human audio and video..\n     *\n     */\n\nexports.default = HypertyResourceFactory;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2VGYWN0b3J5LmpzPzhlZTciXSwibmFtZXMiOlsiSHlwZXJ0eVJlc291cmNlRmFjdG9yeSIsImlzU2VuZGVyIiwidHlwZSIsIm1ldGFkYXRhIiwibmV3SHlwZXJ0eVJlc291cmNlIiwiRXJyb3IiLCJjb250ZW50IiwicmVzb2x2ZSIsInJlamVjdCIsImluaXQiLCJ0aGVuIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS0E7Ozs7OztJQUVNQSxzQjs7QUFFSjs7Ozs7QUFLQSxvQ0FBYztBQUFBO0FBRWI7Ozs7MENBRXFCQyxRLEVBQVVDLEksRUFBTUMsUSxFQUFVO0FBQzlDLFVBQUlDLDJCQUFKOztBQUVBLGNBQVFGLElBQVI7QUFDRSxhQUFLLE1BQUw7QUFDRUUsK0JBQXFCLGtDQUF3QkgsUUFBeEIsRUFBa0NFLFFBQWxDLENBQXJCO0FBQ0E7QUFDRjtBQUNFLGdCQUFNLElBQUlFLEtBQUosQ0FBVSxxRUFBVixFQUFpRkgsSUFBakYsQ0FBTjtBQUNBO0FBTko7O0FBU0UsYUFBT0Usa0JBQVA7QUFFSDs7O3FEQUVnQ0gsUSxFQUFVQyxJLEVBQU1JLE8sRUFBU0gsUSxFQUFVO0FBQ2xFLFVBQUlDLDJCQUFKOztBQUVBLGFBQU8sc0JBQVksVUFBQ0csT0FBRCxFQUFhOztBQUVoQyxnQkFBUUwsSUFBUjtBQUNFLGVBQUssTUFBTDtBQUNFRSxpQ0FBcUIsa0NBQXdCSCxRQUF4QixFQUFrQ0UsUUFBbEMsQ0FBckI7QUFDQTtBQUNGO0FBQ0VLO0FBQ0E7QUFOSjs7QUFTRUosMkJBQW1CSyxJQUFuQixDQUF3QkgsT0FBeEIsRUFBaUNJLElBQWpDLENBQXNDLFlBQUk7QUFDeEMsaUJBQU9OLG1CQUFtQk8sSUFBbkIsRUFBUCxDQUR3QyxDQUNQO0FBQ2xDLFNBRkQsRUFFR0QsSUFGSCxDQUVRLFlBQUk7QUFDVkgsa0JBQVFILGtCQUFSO0FBQ0QsU0FKRDtBQU1ILE9BakJRLENBQVA7QUFtQkQ7OztLQXhESDs7Ozs7a0JBMkRlSixzQiIsImZpbGUiOiIxMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogVGhlIEh5cGVydHkgUmVzb3VyY2UgRGF0YSBNb2RlbCBpcyB1c2VkIHRvIG1vZGVsIHJlc291Y2VzIGhhbmRsZWQgYnkgSHlwZXJ0aWVzIGFuZCBEYXRhIE9iamVjdHMgaW5jbHVkaW5nIGNoYXQgbWVzc2FnZXMsIGZpbGVzLCByZWFsIHRpbWUgaHVtYW4gYXVkaW8gYW5kIHZpZGVvLi5cbipcbiovXG5cbmltcG9ydCBGaWxlSHlwZXJ0eVJlc291cmNlIGZyb20gJy4vRmlsZUh5cGVydHlSZXNvdXJjZSc7XG5cbmNsYXNzIEh5cGVydHlSZXNvdXJjZUZhY3Rvcnkge1xuXG4gIC8qKlxuICAqIEh5cGVydHlSZXNvdXJjZUZhY3RvcnkgY29uc3RydWN0b3JcbiAgKlxuICAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gIH1cblxuICBjcmVhdGVIeXBlcnR5UmVzb3VyY2UoaXNTZW5kZXIsIHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgbGV0IG5ld0h5cGVydHlSZXNvdXJjZTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgIG5ld0h5cGVydHlSZXNvdXJjZSA9IG5ldyBGaWxlSHlwZXJ0eVJlc291cmNlKGlzU2VuZGVyLCBtZXRhZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbSHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2VdIG5vdCBzdXBwb3J0ZWQgdHlwZTogJywgdHlwZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4obmV3SHlwZXJ0eVJlc291cmNlKTtcblxuICB9XG5cbiAgY3JlYXRlSHlwZXJ0eVJlc291cmNlV2l0aENvbnRlbnQoaXNTZW5kZXIsIHR5cGUsIGNvbnRlbnQsIG1ldGFkYXRhKSB7XG4gICAgbGV0IG5ld0h5cGVydHlSZXNvdXJjZTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgbmV3SHlwZXJ0eVJlc291cmNlID0gbmV3IEZpbGVIeXBlcnR5UmVzb3VyY2UoaXNTZW5kZXIsIG1ldGFkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZWplY3QoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIG5ld0h5cGVydHlSZXNvdXJjZS5pbml0KGNvbnRlbnQpLnRoZW4oKCk9PntcbiAgICAgICAgcmV0dXJuIG5ld0h5cGVydHlSZXNvdXJjZS5zYXZlKCk7Ly8gc2tpcCBzYXZlP1xuICAgICAgfSkudGhlbigoKT0+e1xuICAgICAgICByZXNvbHZlKG5ld0h5cGVydHlSZXNvdXJjZSk7XG4gICAgICB9KTtcblxuICB9KTtcblxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEh5cGVydHlSZXNvdXJjZUZhY3Rvcnk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2VGYWN0b3J5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///128\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(115);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(21);\n\nvar _DataObjectChild2 = __webpack_require__(117);\n\nvar _DataObjectChild3 = _interopRequireDefault(_DataObjectChild2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('HypertyResource'); /**\n                                               * The Hyperty Resource Data Model is used to model resouces handled by Hyperties and Data Objects including chat messages, files, real time human audio and video..\n                                               *\n                                               */\n\n// Log System\n\nvar HypertyResource = function (_DataObjectChild) {\n  (0, _inherits3.default)(HypertyResource, _DataObjectChild);\n\n  /**\n  * HypertyResource constructor\n  *\n  * @param  {URL} localRuntimeURL RuntimeURL of local runtime\n  * @param  {URL} input.owner HypertyURL of the Hyperty handling this resource\n  * @param  {URL} input.runtime Runtime URL where this resource is hosted\n  * @param  {Bus} input.bus sandbox message bus\n  * @param  {DataObject} input.parent Parent Data Object where the HypertyResource is handled as a child\n  * @param  {Boolean} isSender indicates if parent is Reporter or an Observer\n  * @param  {Array} input optional input parameters\n  */\n\n  function HypertyResource(isSender, input) {\n    (0, _classCallCheck3.default)(this, HypertyResource);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (HypertyResource.__proto__ || (0, _getPrototypeOf2.default)(HypertyResource)).call(this, input));\n\n    var _this = _this2;\n\n    _this.arraybufferSizeLimit = 5242880; //above this limit content is not saved as ArrayBuffer\n\n    _this._isSender = isSender;\n\n    _this._localStorageURL = _this._parentObject._syncher._runtimeUrl + '/storage';\n\n    return _this2;\n  }\n\n  (0, _createClass3.default)(HypertyResource, [{\n    key: 'save',\n\n\n    /*\n    set parent(parent) {\n      let _this = this;\n      _this._parent = parent;\n    }*/\n\n    value: function save() {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          from: _this._owner,\n          to: _this._localStorageURL,\n          type: 'create',\n          body: { value: (0, _utils.deepClone)(_this._metadata) }\n        };\n\n        var callback = function callback(reply) {\n          log.info('[HypertyResource.save] reply: ', reply);\n          _this._bus.removeResponseListener(_this._owner, reply.id);\n          if (reply.body.code === 200) {\n            if (reply.body.value) {\n              if (!_this._metadata.contentURL) _this._metadata.contentURL = [];\n              _this._metadata.contentURL.push(reply.body.value);\n            }\n            resolve();\n          } else reject(reply.body.code + ' ' + reply.body.desc);\n        };\n\n        msg.body.value.content = _this._content;\n\n        _this._bus.postMessage(msg, callback, false);\n      });\n    }\n\n    /**\n    * Function to Read HypertyResource\n    *\n    * @param  {} callback callback to be called with progress information in terms of percentage\n    * @return  {Promise}  input optional input parameters\n    */\n\n  }, {\n    key: 'read',\n    value: function read(callback) {\n      var _this = this;\n      log.info('[HypertyResource.read] ', this);\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (_this.content) {\n          resolve(_this);\n        } else {\n\n          //TODO: use an iteration to get online runtime storages when some are offline\n          var storage = _this._getBestContentURL(_this._metadata.contentURL);\n\n          log.log('Storage:', storage);\n\n          var msg = {\n            from: _this._owner,\n            to: storage.url,\n            type: 'read',\n            body: { resource: storage.url + '/' + storage.resource, p2p: true }\n          };\n\n          if (_this.metadata.p2pRequester && _this.metadata.p2pHandler) {\n            msg.body.p2pRequester = _this.metadata.p2pRequester;\n            msg.body.p2pHandler = _this.metadata.p2pHandler;\n          }\n\n          // get the resource first on the Local Hyperty Resource Storage;\n          _this._getBestResource(msg, callback).then(function (reply) {\n            log.info('[HypertyResource] - get locally the resource:', reply);\n            resolve(_this);\n          }).catch(function (reply) {\n\n            log.warn('[HypertyResource] - get locally the resource fail', reply);\n\n            // Generate new message to not use the same id of the last one;\n            var msg = {\n              from: _this._owner,\n              to: storage.remoteURL,\n              type: 'read',\n              body: { resource: storage.remoteURL + '/' + storage.resource, p2p: true }\n            };\n\n            if (_this.metadata.p2pRequester && _this.metadata.p2pHandler) {\n              msg.body.p2pRequester = _this.metadata.p2pRequester;\n              msg.body.p2pHandler = _this.metadata.p2pHandler;\n            }\n\n            // get the resource on the Remote Hyperty Resource Storage;\n            _this._getBestResource(msg, callback).then(function (reply) {\n              log.warn('[HypertyResource] - get remotely the resource', reply);\n              resolve(_this);\n            }).catch(function (reply) {\n              log.warn('[HypertyResource] - get remotely the resource fail', reply);\n              reject(reply.body.code + ' ' + reply.body.desc);\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: '_getBestResource',\n    value: function _getBestResource(msg, inProgressCallback) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var waitForResponse = setTimeout(function () {\n\n          // If Reporter does  not reply the promise is rejected\n          _this._bus.removeResponseListener(_this._owner, id);\n\n          msg.body.code = 408;\n          msg.body.desc = 'Response timeout';\n\n          return reject(msg);\n        }, 3000);\n\n        var callback = function callback(reply) {\n          log.log('[HypertyResource.read] reply: ', reply);\n          var id = reply.id;\n\n          clearTimeout(waitForResponse);\n\n          switch (reply.body.code) {\n            case 200:\n              _this._content = reply.body.value.content;\n\n              // save locally if not too big\n              if (reply.body.value.size < _this.arraybufferSizeLimit) {\n                _this.save();\n              }\n\n              _this._bus.removeResponseListener(_this._owner, id);\n              resolve(reply);\n\n              break;\n\n            case 183:\n              inProgressCallback(reply.body.value);\n              break;\n\n            default:\n              _this._bus.removeResponseListener(_this._owner, id);\n              reject(reply);\n              break;\n          }\n        };\n\n        var id = _this._bus.postMessage(msg, callback, false);\n      });\n    }\n\n    // Remove Hyperty from the local storage\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      log.info('[HypertyResource.delete]', _this.metadata);\n\n      var msg = {\n        from: _this._owner,\n        to: _this._localStorageURL,\n        type: 'delete',\n        body: { resources: _this.metadata.contentURL }\n      };\n\n      return new _promise2.default(function (resolve) {\n        _this._bus.postMessage(msg, function (reply) {\n          if (reply.body.code < 300) resolve(true);else resolve(false);\n        });\n      });\n    }\n  }, {\n    key: '_getBestContentURL',\n    value: function _getBestContentURL(contentURLList) {\n\n      var _this = this;\n\n      var contentURL = contentURLList[0];\n      var splitedResource = contentURL.substr(contentURL.lastIndexOf('/') + 1);\n      var url = _this._localStorageURL; // contentURL.substr(0, contentURL.lastIndexOf('/'));\n      var remoteResource = contentURL.substr(0, contentURL.lastIndexOf('/'));\n\n      return { url: url, resource: splitedResource, remoteURL: remoteResource };\n    }\n  }, {\n    key: 'resourceType',\n    get: function get() {\n      var _this = this;\n      return _this.metadata.resourceType;\n    }\n  }, {\n    key: 'mimetype',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.type;\n    }\n  }, {\n    key: 'content',\n    get: function get() {\n      var _this = this;\n      return _this._content;\n    }\n  }, {\n    key: 'contentURL',\n    get: function get() {\n      var _this = this;\n      return _this._metadata.contentURL;\n    }\n  }, {\n    key: 'shareable',\n    get: function get() {\n      var _this = this;\n      var shareable = (0, _get3.default)(HypertyResource.prototype.__proto__ || (0, _getPrototypeOf2.default)(HypertyResource.prototype), 'metadata', this);\n      shareable.resourceType = _this.resourceType;\n      return shareable;\n    }\n  }]);\n  return HypertyResource;\n}(_DataObjectChild3.default);\n\nexports.default = HypertyResource;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2UuanM/YzM5ZCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJIeXBlcnR5UmVzb3VyY2UiLCJpc1NlbmRlciIsImlucHV0IiwiX3RoaXMiLCJhcnJheWJ1ZmZlclNpemVMaW1pdCIsIl9pc1NlbmRlciIsIl9sb2NhbFN0b3JhZ2VVUkwiLCJfcGFyZW50T2JqZWN0IiwiX3N5bmNoZXIiLCJfcnVudGltZVVybCIsInJlc29sdmUiLCJyZWplY3QiLCJtc2ciLCJmcm9tIiwiX293bmVyIiwidG8iLCJ0eXBlIiwiYm9keSIsInZhbHVlIiwiX21ldGFkYXRhIiwiY2FsbGJhY2siLCJyZXBseSIsImluZm8iLCJfYnVzIiwicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsImlkIiwiY29kZSIsImNvbnRlbnRVUkwiLCJwdXNoIiwiZGVzYyIsImNvbnRlbnQiLCJfY29udGVudCIsInBvc3RNZXNzYWdlIiwic3RvcmFnZSIsIl9nZXRCZXN0Q29udGVudFVSTCIsInVybCIsInJlc291cmNlIiwicDJwIiwibWV0YWRhdGEiLCJwMnBSZXF1ZXN0ZXIiLCJwMnBIYW5kbGVyIiwiX2dldEJlc3RSZXNvdXJjZSIsInRoZW4iLCJjYXRjaCIsIndhcm4iLCJyZW1vdGVVUkwiLCJpblByb2dyZXNzQ2FsbGJhY2siLCJ3YWl0Rm9yUmVzcG9uc2UiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2l6ZSIsInNhdmUiLCJyZXNvdXJjZXMiLCJjb250ZW50VVJMTGlzdCIsInNwbGl0ZWRSZXNvdXJjZSIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwicmVtb3RlUmVzb3VyY2UiLCJyZXNvdXJjZVR5cGUiLCJzaGFyZWFibGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQTs7SUFBWUEsTTs7QUFHWjs7QUFDQTs7Ozs7Ozs7QUFIQSxJ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QUFaOztBQUVBLFVBQU13QixhQUFhMEIsZUFBZSxDQUFmLENBQW5CO0FBQ0EsVUFBTUMsa0JBQWtCM0IsV0FBVzRCLE1BQVgsQ0FBa0I1QixXQUFXNkIsV0FBWCxDQUF1QixHQUF2QixJQUE4QixDQUFoRCxDQUF4QjtBQUNBLFVBQU1yQixNQUFNaEMsTUFBTUcsZ0JBQWxCLENBTmlDLENBTUc7QUFDcEMsVUFBTW1ELGlCQUFpQjlCLFdBQVc0QixNQUFYLENBQWtCLENBQWxCLEVBQXFCNUIsV0FBVzZCLFdBQVgsQ0FBdUIsR0FBdkIsQ0FBckIsQ0FBdkI7O0FBRUEsYUFBTyxFQUFDckIsS0FBS0EsR0FBTixFQUFXQyxVQUFVa0IsZUFBckIsRUFBc0NULFdBQVdZLGNBQWpELEVBQVA7QUFFRDs7O3dCQWxPa0I7QUFDakIsVUFBSXRELFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU1tQyxRQUFOLENBQWVvQixZQUF0QjtBQUNEOzs7d0JBRWM7QUFDYixVQUFJdkQsUUFBUSxJQUFaO0FBQ0EsYUFBT0EsTUFBTWdCLFNBQU4sQ0FBZ0JILElBQXZCO0FBQ0Q7Ozt3QkFFYTtBQUNaLFVBQUliLFFBQVEsSUFBWjtBQUNBLGFBQU9BLE1BQU00QixRQUFiO0FBQ0Q7Ozt3QkFFZ0I7QUFDZixVQUFJNUIsUUFBUSxJQUFaO0FBQ0EsYUFBT0EsTUFBTWdCLFNBQU4sQ0FBZ0JRLFVBQXZCO0FBQ0Q7Ozt3QkFFZTtBQUNkLFVBQUl4QixRQUFRLElBQVo7QUFDQSxVQUFJd0QsaUpBQUo7QUFDQUEsZ0JBQVVELFlBQVYsR0FBeUJ2RCxNQUFNdUQsWUFBL0I7QUFDQSxhQUFPQyxTQUFQO0FBQ0Q7Ozs7O2tCQThNWTNELGUiLCJmaWxlIjoiMTI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIFRoZSBIeXBlcnR5IFJlc291cmNlIERhdGEgTW9kZWwgaXMgdXNlZCB0byBtb2RlbCByZXNvdWNlcyBoYW5kbGVkIGJ5IEh5cGVydGllcyBhbmQgRGF0YSBPYmplY3RzIGluY2x1ZGluZyBjaGF0IG1lc3NhZ2VzLCBmaWxlcywgcmVhbCB0aW1lIGh1bWFuIGF1ZGlvIGFuZCB2aWRlby4uXG4qXG4qL1xuXG4vLyBMb2cgU3lzdGVtXG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnbG9nbGV2ZWwnO1xubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ0h5cGVydHlSZXNvdXJjZScpO1xuXG5pbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5pbXBvcnQgRGF0YU9iamVjdENoaWxkIGZyb20gJy4uL3N5bmNoZXIvRGF0YU9iamVjdENoaWxkLmpzJztcblxuY2xhc3MgSHlwZXJ0eVJlc291cmNlIGV4dGVuZHMgRGF0YU9iamVjdENoaWxkIHtcblxuICAvKipcbiAgKiBIeXBlcnR5UmVzb3VyY2UgY29uc3RydWN0b3JcbiAgKlxuICAqIEBwYXJhbSAge1VSTH0gbG9jYWxSdW50aW1lVVJMIFJ1bnRpbWVVUkwgb2YgbG9jYWwgcnVudGltZVxuICAqIEBwYXJhbSAge1VSTH0gaW5wdXQub3duZXIgSHlwZXJ0eVVSTCBvZiB0aGUgSHlwZXJ0eSBoYW5kbGluZyB0aGlzIHJlc291cmNlXG4gICogQHBhcmFtICB7VVJMfSBpbnB1dC5ydW50aW1lIFJ1bnRpbWUgVVJMIHdoZXJlIHRoaXMgcmVzb3VyY2UgaXMgaG9zdGVkXG4gICogQHBhcmFtICB7QnVzfSBpbnB1dC5idXMgc2FuZGJveCBtZXNzYWdlIGJ1c1xuICAqIEBwYXJhbSAge0RhdGFPYmplY3R9IGlucHV0LnBhcmVudCBQYXJlbnQgRGF0YSBPYmplY3Qgd2hlcmUgdGhlIEh5cGVydHlSZXNvdXJjZSBpcyBoYW5kbGVkIGFzIGEgY2hpbGRcbiAgKiBAcGFyYW0gIHtCb29sZWFufSBpc1NlbmRlciBpbmRpY2F0ZXMgaWYgcGFyZW50IGlzIFJlcG9ydGVyIG9yIGFuIE9ic2VydmVyXG4gICogQHBhcmFtICB7QXJyYXl9IGlucHV0IG9wdGlvbmFsIGlucHV0IHBhcmFtZXRlcnNcbiAgKi9cblxuICBjb25zdHJ1Y3Rvcihpc1NlbmRlciwgaW5wdXQpIHtcbiAgICBzdXBlcihpbnB1dCk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmFycmF5YnVmZmVyU2l6ZUxpbWl0ID0gNTI0Mjg4MDsgLy9hYm92ZSB0aGlzIGxpbWl0IGNvbnRlbnQgaXMgbm90IHNhdmVkIGFzIEFycmF5QnVmZmVyXG5cbiAgICBfdGhpcy5faXNTZW5kZXIgPSBpc1NlbmRlcjtcblxuICAgIF90aGlzLl9sb2NhbFN0b3JhZ2VVUkwgPSBfdGhpcy5fcGFyZW50T2JqZWN0Ll9zeW5jaGVyLl9ydW50aW1lVXJsICsgJy9zdG9yYWdlJztcblxuICB9XG5cbiAgZ2V0IHJlc291cmNlVHlwZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBfdGhpcy5tZXRhZGF0YS5yZXNvdXJjZVR5cGU7XG4gIH1cblxuICBnZXQgbWltZXR5cGUoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gX3RoaXMuX21ldGFkYXRhLnR5cGU7XG4gIH1cblxuICBnZXQgY29udGVudCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBfdGhpcy5fY29udGVudDtcbiAgfVxuXG4gIGdldCBjb250ZW50VVJMKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzLl9tZXRhZGF0YS5jb250ZW50VVJMO1xuICB9XG5cbiAgZ2V0IHNoYXJlYWJsZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBzaGFyZWFibGUgPSBzdXBlci5tZXRhZGF0YTtcbiAgICBzaGFyZWFibGUucmVzb3VyY2VUeXBlID0gX3RoaXMucmVzb3VyY2VUeXBlO1xuICAgIHJldHVybiBzaGFyZWFibGU7XG4gIH1cblxuICAvKlxuICBzZXQgcGFyZW50KHBhcmVudCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgfSovXG5cbiAgc2F2ZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBsZXQgbXNnID0ge1xuICAgICAgICBmcm9tOiBfdGhpcy5fb3duZXIsXG4gICAgICAgIHRvOiBfdGhpcy5fbG9jYWxTdG9yYWdlVVJMLFxuICAgICAgICB0eXBlOiAnY3JlYXRlJyxcbiAgICAgICAgYm9keTogeyB2YWx1ZTogZGVlcENsb25lKF90aGlzLl9tZXRhZGF0YSkgfVxuICAgICAgfTtcblxuICAgICAgbGV0IGNhbGxiYWNrID0gKHJlcGx5KSA9PiB7XG4gICAgICAgIGxvZy5pbmZvKCdbSHlwZXJ0eVJlc291cmNlLnNhdmVdIHJlcGx5OiAnLCByZXBseSk7XG4gICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihfdGhpcy5fb3duZXIsIHJlcGx5LmlkKTtcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgaWYgKHJlcGx5LmJvZHkudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX21ldGFkYXRhLmNvbnRlbnRVUkwpIF90aGlzLl9tZXRhZGF0YS5jb250ZW50VVJMID0gW107XG4gICAgICAgICAgICBfdGhpcy5fbWV0YWRhdGEuY29udGVudFVSTC5wdXNoKHJlcGx5LmJvZHkudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QocmVwbHkuYm9keS5jb2RlICsgJyAnICsgcmVwbHkuYm9keS5kZXNjKTtcblxuICAgICAgfTtcblxuICAgICAgbXNnLmJvZHkudmFsdWUuY29udGVudCA9IF90aGlzLl9jb250ZW50O1xuXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKG1zZywgY2FsbGJhY2ssIGZhbHNlKTtcblxuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgKiBGdW5jdGlvbiB0byBSZWFkIEh5cGVydHlSZXNvdXJjZVxuICAqXG4gICogQHBhcmFtICB7fSBjYWxsYmFjayBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2l0aCBwcm9ncmVzcyBpbmZvcm1hdGlvbiBpbiB0ZXJtcyBvZiBwZXJjZW50YWdlXG4gICogQHJldHVybiAge1Byb21pc2V9ICBpbnB1dCBvcHRpb25hbCBpbnB1dCBwYXJhbWV0ZXJzXG4gICovXG5cblxuICByZWFkKGNhbGxiYWNrKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsb2cuaW5mbygnW0h5cGVydHlSZXNvdXJjZS5yZWFkXSAnLCB0aGlzKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgaWYgKF90aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vVE9ETzogdXNlIGFuIGl0ZXJhdGlvbiB0byBnZXQgb25saW5lIHJ1bnRpbWUgc3RvcmFnZXMgd2hlbiBzb21lIGFyZSBvZmZsaW5lXG4gICAgICAgIGxldCBzdG9yYWdlID0gX3RoaXMuX2dldEJlc3RDb250ZW50VVJMKF90aGlzLl9tZXRhZGF0YS5jb250ZW50VVJMKTtcblxuICAgICAgICBsb2cubG9nKCdTdG9yYWdlOicsIHN0b3JhZ2UpO1xuXG4gICAgICAgIGxldCBtc2cgPSB7XG4gICAgICAgICAgZnJvbTogX3RoaXMuX293bmVyLFxuICAgICAgICAgIHRvOiBzdG9yYWdlLnVybCxcbiAgICAgICAgICB0eXBlOiAncmVhZCcsXG4gICAgICAgICAgYm9keTogeyByZXNvdXJjZTogc3RvcmFnZS51cmwgKyAnLycgKyBzdG9yYWdlLnJlc291cmNlLCBwMnA6IHRydWUgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfdGhpcy5tZXRhZGF0YS5wMnBSZXF1ZXN0ZXIgJiYgX3RoaXMubWV0YWRhdGEucDJwSGFuZGxlcikge1xuICAgICAgICAgIG1zZy5ib2R5LnAycFJlcXVlc3RlciA9IF90aGlzLm1ldGFkYXRhLnAycFJlcXVlc3RlcjtcbiAgICAgICAgICBtc2cuYm9keS5wMnBIYW5kbGVyID0gX3RoaXMubWV0YWRhdGEucDJwSGFuZGxlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgcmVzb3VyY2UgZmlyc3Qgb24gdGhlIExvY2FsIEh5cGVydHkgUmVzb3VyY2UgU3RvcmFnZTtcbiAgICAgICAgX3RoaXMuX2dldEJlc3RSZXNvdXJjZShtc2csIGNhbGxiYWNrKS50aGVuKChyZXBseSkgPT4ge1xuICAgICAgICAgIGxvZy5pbmZvKCdbSHlwZXJ0eVJlc291cmNlXSAtIGdldCBsb2NhbGx5IHRoZSByZXNvdXJjZTonLCByZXBseSk7XG4gICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgIH0pLmNhdGNoKChyZXBseSkgPT4ge1xuXG4gICAgICAgICAgbG9nLndhcm4oJ1tIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IGxvY2FsbHkgdGhlIHJlc291cmNlIGZhaWwnLCByZXBseSk7XG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBuZXcgbWVzc2FnZSB0byBub3QgdXNlIHRoZSBzYW1lIGlkIG9mIHRoZSBsYXN0IG9uZTtcbiAgICAgICAgICBsZXQgbXNnID0ge1xuICAgICAgICAgICAgZnJvbTogX3RoaXMuX293bmVyLFxuICAgICAgICAgICAgdG86IHN0b3JhZ2UucmVtb3RlVVJMLFxuICAgICAgICAgICAgdHlwZTogJ3JlYWQnLFxuICAgICAgICAgICAgYm9keTogeyByZXNvdXJjZTogc3RvcmFnZS5yZW1vdGVVUkwgKyAnLycgKyBzdG9yYWdlLnJlc291cmNlLCBwMnA6IHRydWUgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoX3RoaXMubWV0YWRhdGEucDJwUmVxdWVzdGVyICYmIF90aGlzLm1ldGFkYXRhLnAycEhhbmRsZXIpIHtcbiAgICAgICAgICAgIG1zZy5ib2R5LnAycFJlcXVlc3RlciA9IF90aGlzLm1ldGFkYXRhLnAycFJlcXVlc3RlcjtcbiAgICAgICAgICAgIG1zZy5ib2R5LnAycEhhbmRsZXIgPSBfdGhpcy5tZXRhZGF0YS5wMnBIYW5kbGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGdldCB0aGUgcmVzb3VyY2Ugb24gdGhlIFJlbW90ZSBIeXBlcnR5IFJlc291cmNlIFN0b3JhZ2U7XG4gICAgICAgICAgX3RoaXMuX2dldEJlc3RSZXNvdXJjZShtc2csIGNhbGxiYWNrKS50aGVuKChyZXBseSkgPT4ge1xuICAgICAgICAgICAgbG9nLndhcm4oJ1tIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IHJlbW90ZWx5IHRoZSByZXNvdXJjZScsIHJlcGx5KTtcbiAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgIH0pLmNhdGNoKChyZXBseSkgPT4ge1xuICAgICAgICAgICAgbG9nLndhcm4oJ1tIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IHJlbW90ZWx5IHRoZSByZXNvdXJjZSBmYWlsJywgcmVwbHkpO1xuICAgICAgICAgICAgcmVqZWN0KHJlcGx5LmJvZHkuY29kZSArICcgJyArIHJlcGx5LmJvZHkuZGVzYyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRCZXN0UmVzb3VyY2UobXNnLCBpblByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgbGV0IHdhaXRGb3JSZXNwb25zZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgIC8vIElmIFJlcG9ydGVyIGRvZXMgIG5vdCByZXBseSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZFxuICAgICAgICBfdGhpcy5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoX3RoaXMuX293bmVyLCBpZCk7XG5cbiAgICAgICAgbXNnLmJvZHkuY29kZSA9IDQwODtcbiAgICAgICAgbXNnLmJvZHkuZGVzYyA9ICdSZXNwb25zZSB0aW1lb3V0J1xuXG4gICAgICAgIHJldHVybiByZWplY3QobXNnKTtcblxuICAgICAgfSwgMzAwMCk7XG5cbiAgICAgIGxldCBjYWxsYmFjayA9IChyZXBseSkgPT4ge1xuICAgICAgICBsb2cubG9nKCdbSHlwZXJ0eVJlc291cmNlLnJlYWRdIHJlcGx5OiAnLCByZXBseSk7XG4gICAgICAgIGxldCBpZCA9IHJlcGx5LmlkO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh3YWl0Rm9yUmVzcG9uc2UpO1xuXG4gICAgICAgIHN3aXRjaCAocmVwbHkuYm9keS5jb2RlKSB7XG4gICAgICAgICAgY2FzZSAyMDA6XG4gICAgICAgICAgICBfdGhpcy5fY29udGVudCA9IHJlcGx5LmJvZHkudmFsdWUuY29udGVudDtcblxuICAgICAgICAgICAgLy8gc2F2ZSBsb2NhbGx5IGlmIG5vdCB0b28gYmlnXG4gICAgICAgICAgICBpZiAocmVwbHkuYm9keS52YWx1ZS5zaXplIDwgX3RoaXMuYXJyYXlidWZmZXJTaXplTGltaXQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2F2ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoX3RoaXMuX293bmVyLCBpZCk7XG4gICAgICAgICAgICByZXNvbHZlKHJlcGx5KTtcblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDE4MzpcbiAgICAgICAgICAgIGluUHJvZ3Jlc3NDYWxsYmFjayhyZXBseS5ib2R5LnZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihfdGhpcy5fb3duZXIsIGlkKTtcbiAgICAgICAgICAgIHJlamVjdChyZXBseSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICB9O1xuXG4gICAgICBsZXQgaWQgPSBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKG1zZywgY2FsbGJhY2ssIGZhbHNlKTtcblxuICAgIH0pO1xuXG4gIH1cblxuICAvLyBSZW1vdmUgSHlwZXJ0eSBmcm9tIHRoZSBsb2NhbCBzdG9yYWdlXG5cbiAgZGVsZXRlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsb2cuaW5mbygnW0h5cGVydHlSZXNvdXJjZS5kZWxldGVdJywgX3RoaXMubWV0YWRhdGEpO1xuXG5cbiAgICBsZXQgbXNnID0ge1xuICAgICAgZnJvbTogX3RoaXMuX293bmVyLFxuICAgICAgdG86IF90aGlzLl9sb2NhbFN0b3JhZ2VVUkwsXG4gICAgICB0eXBlOiAnZGVsZXRlJyxcbiAgICAgIGJvZHk6IHsgcmVzb3VyY2VzOiBfdGhpcy5tZXRhZGF0YS5jb250ZW50VVJMIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPCAzMDApIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIGVsc2UgcmVzb2x2ZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRCZXN0Q29udGVudFVSTChjb250ZW50VVJMTGlzdCkge1xuXG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGNvbnN0IGNvbnRlbnRVUkwgPSBjb250ZW50VVJMTGlzdFswXTtcbiAgICBjb25zdCBzcGxpdGVkUmVzb3VyY2UgPSBjb250ZW50VVJMLnN1YnN0cihjb250ZW50VVJMLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICBjb25zdCB1cmwgPSBfdGhpcy5fbG9jYWxTdG9yYWdlVVJMOyAvLyBjb250ZW50VVJMLnN1YnN0cigwLCBjb250ZW50VVJMLmxhc3RJbmRleE9mKCcvJykpO1xuICAgIGNvbnN0IHJlbW90ZVJlc291cmNlID0gY29udGVudFVSTC5zdWJzdHIoMCwgY29udGVudFVSTC5sYXN0SW5kZXhPZignLycpKTtcblxuICAgIHJldHVybiB7dXJsOiB1cmwsIHJlc291cmNlOiBzcGxpdGVkUmVzb3VyY2UsIHJlbW90ZVVSTDogcmVtb3RlUmVzb3VyY2UgfTtcblxuICB9XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBIeXBlcnR5UmVzb3VyY2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaHlwZXJ0eS1yZXNvdXJjZS9IeXBlcnR5UmVzb3VyY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///129\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasBlobConstructor = typeof Blob !== 'undefined' && function () {\n    try {\n        return Boolean(new Blob());\n    } catch (e) {\n        return false;\n    }\n}();\n\nvar hasArrayBufferViewSupport = hasBlobConstructor && typeof Uint8Array !== 'undefined' && function () {\n    try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n    } catch (e) {\n        return false;\n    }\n}();\n\nvar hasToBlobSupport = typeof HTMLCanvasElement !== \"undefined\" ? HTMLCanvasElement.prototype.toBlob : false;\n\nvar hasBlobSupport = hasToBlobSupport || typeof Uint8Array !== 'undefined' && typeof ArrayBuffer !== 'undefined' && typeof atob !== 'undefined';\n\nvar hasReaderSupport = typeof FileReader !== 'undefined' || typeof URL !== 'undefined';\n\nvar ImageTools = function () {\n    function ImageTools() {\n        (0, _classCallCheck3.default)(this, ImageTools);\n    }\n\n    (0, _createClass3.default)(ImageTools, null, [{\n        key: 'resize',\n        value: function resize(file, maxDimensions, callback) {\n            if (typeof maxDimensions === 'function') {\n                callback = maxDimensions;\n                maxDimensions = {\n                    width: 640,\n                    height: 480\n                };\n            }\n\n            var maxWidth = maxDimensions.width;\n            var maxHeight = maxDimensions.height;\n\n            if (!ImageTools.isSupported() || !file.type.match(/image.*/)) {\n                callback(file, false);\n                return false;\n            }\n\n            if (file.type.match(/image\\/gif/)) {\n                // Not attempting, could be an animated gif\n                callback(file, false);\n                // TODO: use https://github.com/antimatter15/whammy to convert gif to webm\n                return false;\n            }\n\n            var image = document.createElement('img');\n\n            image.onload = function (imgEvt) {\n                var width = image.width;\n                var height = image.height;\n                var isTooLarge = false;\n\n                if (width >= height && width > maxDimensions.width) {\n                    // width is the largest dimension, and it's too big.\n                    height *= maxDimensions.width / width;\n                    width = maxDimensions.width;\n                    isTooLarge = true;\n                } else if (height > maxDimensions.height) {\n                    // either width wasn't over-size or height is the largest dimension\n                    // and the height is over-size\n                    width *= maxDimensions.height / height;\n                    height = maxDimensions.height;\n                    isTooLarge = true;\n                }\n\n                if (!isTooLarge) {\n                    // early exit; no need to resize\n                    callback(file, false);\n                    return;\n                }\n\n                var canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(image, 0, 0, width, height);\n\n                if (hasToBlobSupport) {\n                    canvas.toBlob(function (blob) {\n                        callback(blob, true);\n                    }, file.type);\n                } else {\n                    var blob = ImageTools._toBlob(canvas, file.type);\n                    callback(blob, true);\n                }\n            };\n            ImageTools._loadImage(image, file);\n\n            return true;\n        }\n    }, {\n        key: '_toBlob',\n        value: function _toBlob(canvas, type) {\n            var dataURI = canvas.toDataURL(type);\n            var dataURIParts = dataURI.split(',');\n            var byteString = void 0;\n            if (dataURIParts[0].indexOf('base64') >= 0) {\n                // Convert base64 to raw binary data held in a string:\n                byteString = atob(dataURIParts[1]);\n            } else {\n                // Convert base64/URLEncoded data component to raw binary data:\n                byteString = decodeURIComponent(dataURIParts[1]);\n            }\n            var arrayBuffer = new ArrayBuffer(byteString.length);\n            var intArray = new Uint8Array(arrayBuffer);\n\n            for (var i = 0; i < byteString.length; i += 1) {\n                intArray[i] = byteString.charCodeAt(i);\n            }\n\n            var mimeString = dataURIParts[0].split(':')[1].split(';')[0];\n            var blob = null;\n\n            if (hasBlobConstructor) {\n                blob = new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], { type: mimeString });\n            } else {\n                var bb = new BlobBuilder();\n                bb.append(arrayBuffer);\n                blob = bb.getBlob(mimeString);\n            }\n\n            return blob;\n        }\n    }, {\n        key: '_loadImage',\n        value: function _loadImage(image, file, callback) {\n            if (typeof URL === 'undefined') {\n                var reader = new FileReader();\n                reader.onload = function (evt) {\n                    image.src = evt.target.result;\n                    if (callback) {\n                        callback();\n                    }\n                };\n                reader.readAsDataURL(file);\n            } else {\n                image.src = URL.createObjectURL(file);\n                if (callback) {\n                    callback();\n                }\n            }\n        }\n    }, {\n        key: 'isSupported',\n        value: function isSupported() {\n            return typeof HTMLCanvasElement !== 'undefined' && hasBlobSupport && hasReaderSupport;\n        }\n    }]);\n    return ImageTools;\n}();\n\nexports.default = ImageTools;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvSW1hZ2VUb29scy5qcz8xMWFlIl0sIm5hbWVzIjpbImhhc0Jsb2JDb25zdHJ1Y3RvciIsIkJsb2IiLCJCb29sZWFuIiwiZSIsImhhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQiLCJVaW50OEFycmF5Iiwic2l6ZSIsImhhc1RvQmxvYlN1cHBvcnQiLCJIVE1MQ2FudmFzRWxlbWVudCIsInByb3RvdHlwZSIsInRvQmxvYiIsImhhc0Jsb2JTdXBwb3J0IiwiQXJyYXlCdWZmZXIiLCJhdG9iIiwiaGFzUmVhZGVyU3VwcG9ydCIsIkZpbGVSZWFkZXIiLCJVUkwiLCJJbWFnZVRvb2xzIiwiZmlsZSIsIm1heERpbWVuc2lvbnMiLCJjYWxsYmFjayIsIndpZHRoIiwiaGVpZ2h0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJpc1N1cHBvcnRlZCIsInR5cGUiLCJtYXRjaCIsImltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25sb2FkIiwiaW1nRXZ0IiwiaXNUb29MYXJnZSIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJibG9iIiwiX3RvQmxvYiIsIl9sb2FkSW1hZ2UiLCJkYXRhVVJJIiwidG9EYXRhVVJMIiwiZGF0YVVSSVBhcnRzIiwic3BsaXQiLCJieXRlU3RyaW5nIiwiaW5kZXhPZiIsImRlY29kZVVSSUNvbXBvbmVudCIsImFycmF5QnVmZmVyIiwibGVuZ3RoIiwiaW50QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIm1pbWVTdHJpbmciLCJiYiIsIkJsb2JCdWlsZGVyIiwiYXBwZW5kIiwiZ2V0QmxvYiIsInJlYWRlciIsImV2dCIsInNyYyIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJjcmVhdGVPYmplY3RVUkwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxxQkFBcUIsT0FBT0MsSUFBUCxLQUFpQixXQUFqQixJQUFpQyxZQUFZ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QUcsZ0JBSFA7QUFLSDs7Ozs7a0JBL0hnQkcsVSIsImZpbGUiOiIxMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaGFzQmxvYkNvbnN0cnVjdG9yID0gdHlwZW9mKEJsb2IpICE9PSAndW5kZWZpbmVkJyAmJiAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKG5ldyBCbG9iKCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0oKSk7XG5cbmxldCBoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID0gaGFzQmxvYkNvbnN0cnVjdG9yICYmIHR5cGVvZihVaW50OEFycmF5KSAhPT0gJ3VuZGVmaW5lZCcgJiYgKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KDEwMCldKS5zaXplID09PSAxMDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSgpKTtcblxubGV0IGhhc1RvQmxvYlN1cHBvcnQgPSAodHlwZW9mIEhUTUxDYW52YXNFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLnRvQmxvYiA6IGZhbHNlKTtcblxubGV0IGhhc0Jsb2JTdXBwb3J0ID0gKGhhc1RvQmxvYlN1cHBvcnQgfHwgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBhdG9iICE9PSAndW5kZWZpbmVkJykpO1xuXG5sZXQgaGFzUmVhZGVyU3VwcG9ydCA9ICh0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFVSTCAhPT0gJ3VuZGVmaW5lZCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVRvb2xzIHtcbiAgICBzdGF0aWMgcmVzaXplKGZpbGUsIG1heERpbWVuc2lvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWF4RGltZW5zaW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBtYXhEaW1lbnNpb25zO1xuICAgICAgICAgICAgbWF4RGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogNjQwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNDgwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1heFdpZHRoICA9IG1heERpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSBtYXhEaW1lbnNpb25zLmhlaWdodDtcblxuICAgICAgICBpZiAoIUltYWdlVG9vbHMuaXNTdXBwb3J0ZWQoKSB8fCAhZmlsZS50eXBlLm1hdGNoKC9pbWFnZS4qLykpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZpbGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWxlLnR5cGUubWF0Y2goL2ltYWdlXFwvZ2lmLykpIHtcbiAgICAgICAgICAgIC8vIE5vdCBhdHRlbXB0aW5nLCBjb3VsZCBiZSBhbiBhbmltYXRlZCBnaWZcbiAgICAgICAgICAgIGNhbGxiYWNrKGZpbGUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IHVzZSBodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L3doYW1teSB0byBjb252ZXJ0IGdpZiB0byB3ZWJtXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIFxuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoaW1nRXZ0KSA9PiB7XG4gICAgICAgICAgICBsZXQgd2lkdGggID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgbGV0IGlzVG9vTGFyZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHdpZHRoID49IGhlaWdodCAmJiB3aWR0aCA+IG1heERpbWVuc2lvbnMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyB3aWR0aCBpcyB0aGUgbGFyZ2VzdCBkaW1lbnNpb24sIGFuZCBpdCdzIHRvbyBiaWcuXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICo9IG1heERpbWVuc2lvbnMud2lkdGggLyB3aWR0aDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG1heERpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgICAgICAgICAgaXNUb29MYXJnZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA+IG1heERpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgLy8gZWl0aGVyIHdpZHRoIHdhc24ndCBvdmVyLXNpemUgb3IgaGVpZ2h0IGlzIHRoZSBsYXJnZXN0IGRpbWVuc2lvblxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgaGVpZ2h0IGlzIG92ZXItc2l6ZVxuICAgICAgICAgICAgICAgIHdpZHRoICo9IG1heERpbWVuc2lvbnMuaGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IG1heERpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlzVG9vTGFyZ2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzVG9vTGFyZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBlYXJseSBleGl0OyBubyBuZWVkIHRvIHJlc2l6ZVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZpbGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIGlmIChoYXNUb0Jsb2JTdXBwb3J0KSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhibG9iLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LCBmaWxlLnR5cGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgYmxvYiA9IEltYWdlVG9vbHMuX3RvQmxvYihjYW52YXMsIGZpbGUudHlwZSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYmxvYiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEltYWdlVG9vbHMuX2xvYWRJbWFnZShpbWFnZSwgZmlsZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgc3RhdGljIF90b0Jsb2IoY2FudmFzLCB0eXBlKSB7XG4gICAgICAgIGxldCBkYXRhVVJJID0gY2FudmFzLnRvRGF0YVVSTCh0eXBlKTtcbiAgICAgICAgbGV0IGRhdGFVUklQYXJ0cyA9IGRhdGFVUkkuc3BsaXQoJywnKTtcbiAgICAgICAgbGV0IGJ5dGVTdHJpbmc7XG4gICAgICAgIGlmIChkYXRhVVJJUGFydHNbMF0uaW5kZXhPZignYmFzZTY0JykgPj0gMCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQgdG8gcmF3IGJpbmFyeSBkYXRhIGhlbGQgaW4gYSBzdHJpbmc6XG4gICAgICAgICAgICBieXRlU3RyaW5nID0gYXRvYihkYXRhVVJJUGFydHNbMV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQvVVJMRW5jb2RlZCBkYXRhIGNvbXBvbmVudCB0byByYXcgYmluYXJ5IGRhdGE6XG4gICAgICAgICAgICBieXRlU3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGFVUklQYXJ0c1sxXSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgbGV0IGludEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW50QXJyYXlbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWltZVN0cmluZyA9IGRhdGFVUklQYXJ0c1swXS5zcGxpdCgnOicpWzFdLnNwbGl0KCc7JylbMF07XG4gICAgICAgIGxldCBibG9iID0gbnVsbDtcblxuICAgICAgICBpZiAoaGFzQmxvYkNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoXG4gICAgICAgICAgICAgICAgW2hhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQgPyBpbnRBcnJheSA6IGFycmF5QnVmZmVyXSxcbiAgICAgICAgICAgICAgICB7dHlwZTogbWltZVN0cmluZ31cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcbiAgICAgICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgICAgICBibG9iID0gYmIuZ2V0QmxvYihtaW1lU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBibG9iO1xuICAgIH1cblxuICAgIHN0YXRpYyBfbG9hZEltYWdlKGltYWdlLCBmaWxlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mKFVSTCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBldnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHsgY2FsbGJhY2soKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7IGNhbGxiYWNrKCk7IH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAodHlwZW9mKEhUTUxDYW52YXNFbGVtZW50KSAhPT0gJ3VuZGVmaW5lZCcpIFxuICAgICAgICAgICAgJiYgaGFzQmxvYlN1cHBvcnRcbiAgICAgICAgICAgICYmIGhhc1JlYWRlclN1cHBvcnRcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvSW1hZ2VUb29scy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///130\n")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _assign = __webpack_require__(88);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(21);\n\nvar _DataObjectReporter = __webpack_require__(133);\n\nvar _DataObjectReporter2 = _interopRequireDefault(_DataObjectReporter);\n\nvar _DataObjectObserver = __webpack_require__(134);\n\nvar _DataObjectObserver2 = _interopRequireDefault(_DataObjectObserver);\n\nvar _DataProvisional = __webpack_require__(138);\n\nvar _DataProvisional2 = _interopRequireDefault(_DataProvisional);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('Syncher'); /**\r\n                                       * Copyright 2016 PT Inovação e Sistemas SA\r\n                                       * Copyright 2016 INESC-ID\r\n                                       * Copyright 2016 QUOBIS NETWORKS SL\r\n                                       * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                                       * Copyright 2016 ORANGE SA\r\n                                       * Copyright 2016 Deutsche Telekom AG\r\n                                       * Copyright 2016 Apizee\r\n                                       * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                                       *\r\n                                       * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                       * you may not use this file except in compliance with the License.\r\n                                       * You may obtain a copy of the License at\r\n                                       *\r\n                                       *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                       *\r\n                                       * Unless required by applicable law or agreed to in writing, software\r\n                                       * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                       * See the License for the specific language governing permissions and\r\n                                       * limitations under the License.\r\n                                       **/\n\n// Log System\n\n/**\r\n* The main class for the syncher package.\r\n* The Syncher is a singleton class per Hyperty/URL and it is the owner of all created Data Sync Objects according to the Reporter - Observer pattern.\r\n* Main functionality is to create reporters and to subscribe to existing ones.\r\n*/\nvar Syncher = function () {\n  /* private\r\n  _owner: URL\r\n  _bus: MiniBus\r\n    _subURL: URL\r\n    _reporters: <url: DataObjectReporter>\r\n  _observers: <url: DataObjectObserver>\r\n  _provisionals: <url: DataProvisional>\r\n    ----event handlers----\r\n  _onNotificationHandler: (event) => void\r\n  _onResume: (event) => void\r\n  */\n\n  /**\r\n  * Constructor that should be used by the Hyperty owner\r\n  * @param {HypertyURL} owner - Hyperty URL owner. An URL allocated by the runtime that uniquely identifies the Hyperty.\r\n  * @param {MiniBus} bus - An instance of the MiniBus provided in the sandbox. When an object (Reporter or Observed) is created, the SyncherManager will add a listener in the MiniBus to receive/send Messages of that object.\r\n  * @param {JSON} config - Configuration data. The only required field for now is the runtimeURL.\r\n  */\n  function Syncher(owner, bus, config) {\n    (0, _classCallCheck3.default)(this, Syncher);\n\n    var _this = this;\n\n    _this._owner = owner;\n    _this._bus = bus;\n\n    _this._subURL = config.runtimeURL + '/sm';\n    _this._runtimeUrl = config.runtimeURL;\n\n    _this._p2pHandler = config.p2pHandler;\n    _this._p2pRequester = config.p2pRequester;\n\n    _this._reporters = {};\n    _this._observers = {};\n    _this._provisionals = {};\n\n    bus.addListener(owner, function (msg) {\n      //ignore msg sent by himself\n      if (msg.from !== owner) {\n        log.info('[Syncher] Syncher-RCV: ', msg, _this);\n        switch (msg.type) {\n          case 'forward':\n            _this._onForward(msg);break;\n          case 'create':\n            _this._onRemoteCreate(msg);break;\n          case 'delete':\n            _this._onRemoteDelete(msg);break;\n          case 'execute':\n            _this._onExecute(msg);break;\n        }\n      }\n    });\n  }\n\n  /**\r\n  * The owner of the Syncher and all created reporters.\r\n  * @type {HypertyURL}\r\n  */\n\n\n  (0, _createClass3.default)(Syncher, [{\n    key: 'create',\n\n\n    /**\r\n    * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\r\n    * @param  {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\r\n    * @param  {HypertyURL[]} observers - List of hyperties that are pre-authorized for subscription\r\n    * @param  {JSON} initialData - Initial data of the reporter\r\n    * @param  {boolean} store - (Optional) if true, object will be stored by the runtime\r\n    * @param  {boolean} p2p - (Optional) if true, data synchronisation stream will use p2p connection as much as possible\r\n    * @param  {string} name - (Optional) the name of the dataobject\r\n    * @param  {MessageBodyIdentity} identity - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n    * @param  {SyncMetadata} input - (optional) all metadata required to sunc the Data Object.\r\n    * @return {Promise<DataObjectReporter>} Return Promise to a new Reporter. The reporter can be accepted or rejected by the PEP\r\n    */\n    value: function create(schema, observers, initialData) {\n      var store = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var p2p = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var name = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'no name';\n      var identity = arguments[6];\n      var input = arguments[7];\n\n\n      if (!schema) throw Error('[Syncher - Create] - You need specify the data object schema');\n      if (!observers) throw Error('[Syncher - Create] -The observers should be defined');\n\n      var _this = this;\n      input = input || {};\n      var createInput = (0, _assign2.default)({}, input);\n\n      createInput.p2p = p2p;\n      createInput.store = store;\n      createInput.schema = schema;\n      createInput.authorise = observers;\n      createInput.p2pHandler = _this._p2pHandler;\n      createInput.p2pRequester = _this._p2pRequester;\n      initialData ? createInput.data = (0, _utils.deepClone)(initialData) : createInput.data = {};\n      createInput.name = name.length === 0 ? 'no name' : name;\n      createInput.reporter = input.hasOwnProperty('reporter') && typeof input.reporter !== 'boolean' ? input.reporter : _this._owner;\n      createInput.resume = false;\n      if (input) {\n        createInput.mutual = input.hasOwnProperty('mutual') ? input.mutual : true;\n        createInput.name = input.hasOwnProperty('name') ? input.name : createInput.name;\n      } else {\n        createInput.mutual = true;\n      }\n\n      if (input.hasOwnProperty('reuseURL')) {\n        createInput.resource = input.reuseURL;\n      }\n\n      if (identity) {\n        createInput.identity = identity;\n      }\n\n      //Object.assign(createInput, {resume: false});\n      //debugger;\n      log.log('[syncher - create] - create Reporter - createInput: ', createInput);\n\n      return _this._create(createInput);\n    }\n\n    /**\r\n    * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\r\n    * @param  {Object} criteria - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n    * @return {Promise<DataObjectReporter>[]} Return a promise with a list of DataObjectReporter to be resumed;\r\n    */\n\n  }, {\n    key: 'resumeReporters',\n    value: function resumeReporters(criteria) {\n      var _this = this;\n      log.log('[syncher - create] - resume Reporter - criteria: ', criteria);\n\n      (0, _assign2.default)(criteria, { resume: true });\n\n      return _this._resumeCreate(criteria);\n    }\n\n    /**\r\n    * Request a subscription to an existent reporter object.\r\n    * @param {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\r\n    * @param {ObjectURL} objURL - Address of the existent reporter object to be observed\r\n    * @param {Boolean} [store=false] - Save the subscription on the Syncher Manager for further resume (Default is false)\r\n    * @param {Boolean} [p2p=false] - Info about if should use p2p connection (Default is false)\r\n    * @param {Boolean} [mutual=true] - Info about if messages of this object should be encrypted (Default is true)\r\n    * @param  {MessageBodyIdentity} identity - (optional) identity data to be added to identity the user reporter. To be used for legacy identities.\r\n    * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\r\n    */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(schema, objURL) {\n      var store = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var p2p = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var mutual = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      var identity = arguments[5];\n\n      var _this = this;\n      var criteria = {};\n\n      criteria.p2p = p2p;\n      criteria.store = store;\n      criteria.schema = schema;\n\n      criteria.resource = objURL;\n      if (identity) {\n        criteria.identity = identity;\n      }\n\n      //TODO: For Further Study\n      criteria.mutual = mutual;\n\n      log.log('[syncher - subscribe] - subscribe criteria: ', criteria);\n\n      (0, _assign2.default)(criteria, { resume: false });\n\n      return _this._subscribe(criteria);\n    }\n\n    /**\r\n    * Request a subscription to an existent reporter object.\r\n    * @param {criteria} criteria - Information to discovery the observer object\r\n    * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\r\n    */\n\n  }, {\n    key: 'resumeObservers',\n    value: function resumeObservers(criteria) {\n      var _this = this;\n      var _criteria = criteria || {};\n\n      (0, _assign2.default)(_criteria, { resume: true });\n\n      return _this._resumeSubscribe(_criteria);\n    }\n\n    /**\r\n    * Request a read action on the reporter object\r\n    * @param {ObjectURL} objURL - URL of the reporter object to be read\r\n    * @return {Promise<Object>} Return Promise to last available data of the reporter\r\n    */\n\n  }, {\n    key: 'read',\n    value: function read(objURL) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent directly to reporter object (maybe there is no listener available, so it will be resolved with MessageBus -> resolve)\n      //will reach the remote object in DataObjectReporter -> _onRead\n      var readMsg = {\n        type: 'read', from: _this._owner, to: objURL\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n        var callback = function callback(reply) {\n          log.log('[Syncher.read] reply: ', reply);\n\n          var childrens = {};\n          var value = {};\n          var n = 0;\n\n          if (reply.body.code < 300) {\n            if (!reply.body.value.hasOwnProperty('responses')) {\n              _this._bus.removeResponseListener(readMsg.from, reply.id);\n              resolve(reply.body.value);\n            } else {\n              //data object is sent in separated messages\n              if (n === 0) {\n                //initial response without childrens\n                value = reply.body.value;\n                ++n;\n              } else {\n                // received response contains childrens\n                delete reply.body.value.responses;\n                var children = void 0;\n                for (children in reply.body.value) {\n                  if (!childrens.hasOwnProperty(children)) childrens[children] = {};\n                  (0, _assign2.default)(childrens[children], reply.body.value[children]);\n                }\n                ++n;\n                if (n === value.responses) {\n                  value.childrenObjects = childrens;\n                  delete value.responses;\n                  _this._bus.removeResponseListener(readMsg.from, reply.id);\n                  resolve(value);\n                }\n              }\n            }\n          } else {\n            reject(reply.body.desc);\n          }\n        };\n\n        var id = _this._bus.postMessage(readMsg, callback, false);\n      });\n    }\n\n    /**\r\n    * Setup the callback to process create and delete events of remove Reporter objects.\r\n    * This is releated to the messagens sent by create to the observers Hyperty array.\r\n    * @param {function(event: MsgEvent)} callback\r\n    */\n\n  }, {\n    key: 'onNotification',\n    value: function onNotification(callback) {\n      this._onNotificationHandler = callback;\n    }\n\n    /**\r\n    * Setup the callback to process close events from the runtime.\r\n    * @param {function(event: MsgEvent)} callback\r\n    */\n\n  }, {\n    key: 'onClose',\n    value: function onClose(callback) {\n      this._onClose = callback;\n    }\n  }, {\n    key: '_create',\n    value: function _create(input) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var reporterInput = (0, _assign2.default)({}, input);\n\n        var resume = input.resume;\n\n        reporterInput.created = new Date().toISOString();\n        reporterInput.runtime = _this._runtimeUrl;\n\n        var requestValue = (0, _utils.deepClone)(reporterInput);\n\n        delete requestValue.p2p;\n        delete requestValue.store;\n        delete requestValue.observers;\n        delete requestValue.identity;\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n        //debugger;\n        var requestMsg = {\n          type: 'create', from: _this._owner, to: _this._subURL,\n          body: { resume: resume, value: requestValue }\n        };\n\n        requestMsg.body.schema = reporterInput.schema;\n\n        if (reporterInput.p2p) requestMsg.body.p2p = reporterInput.p2p;\n        if (reporterInput.store) requestMsg.body.store = reporterInput.store;\n        if (reporterInput.identity) requestMsg.body.identity = reporterInput.identity;\n\n        log.log('[syncher._create]: ', reporterInput, requestMsg);\n\n        //request create to the allocation system. Can be rejected by the PolicyEngine.\n        _this._bus.postMessage(requestMsg, function (reply) {\n          log.log('[syncher - create] - create-response: ', reply);\n          if (reply.body.code === 200) {\n            //reporter creation accepted\n            reporterInput.url = reply.body.resource;\n\n            /*          if (reply.body.p2pHandler) reporterInput.p2pHandler = reply.body.p2pHandler;\r\n                      if (reply.body.p2pRequester) reporterInput.p2pRequester = reply.body.p2pRequester;*/\n\n            reporterInput.status = 'live'; // pch: do we ned this?\n            reporterInput.syncher = _this;\n            reporterInput.childrens = reply.body.childrenResources;\n\n            var newObj = _this._reporters[reporterInput.url];\n\n            if (!newObj) {\n              newObj = new _DataObjectReporter2.default(reporterInput);\n              _this._reporters[reporterInput.url] = newObj;\n            }\n\n            newObj.inviteObservers(input.authorise, input.p2p);\n\n            resolve(newObj);\n          } else {\n            //reporter creation rejected\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_resumeCreate',\n    value: function _resumeCreate(criteria) {\n      var _this2 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        var resume = criteria.resume;\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n        var requestMsg = {\n          type: 'create', from: _this._owner, to: _this._subURL,\n          body: { resume: resume }\n        };\n\n        log.log('[syncher - create]: ', criteria, requestMsg);\n        if (criteria) {\n          requestMsg.body.value = criteria;\n          if (criteria.hasOwnProperty('reporter')) {\n            requestMsg.body.value.reporter = criteria.reporter;\n          } else {\n            requestMsg.body.value.reporter = _this._owner;\n          }\n        }\n\n        if (criteria.p2p) requestMsg.body.p2p = criteria.p2p;\n        if (criteria.store) requestMsg.body.store = criteria.store;\n        if (criteria.observers) requestMsg.body.authorise = criteria.observers;\n        if (criteria.identity) requestMsg.body.identity = criteria.identity;\n\n        log.log('[syncher._resumeCreate] - resume message: ', requestMsg);\n\n        //debugger;\n\n        //request create to the allocation system. Can be rejected by the PolicyEngine.\n\n        _this._bus.postMessage(requestMsg, function (reply) {\n          log.log('[syncher._resumeCreate] - create-resumed-response: ', reply);\n          if (reply.body.code === 200) {\n            //debugger;\n            var listOfReporters = reply.body.value;\n\n            for (var index in listOfReporters) {\n\n              var dataObject = listOfReporters[index];\n\n              //reporter creation accepted\n\n              dataObject.data = (0, _utils.deepClone)(dataObject.data) || {};\n\n              if (dataObject.childrenObjects) {\n                dataObject.childrenObjects = (0, _utils.deepClone)(dataObject.childrenObjects);\n              }\n\n              dataObject.mutual = false;\n              dataObject.resume = true;\n              dataObject.status = 'live'; // pch: do we ned this?\n              dataObject.syncher = _this;\n\n              log.log('[syncher._resumeCreate] - create-resumed-dataObjectReporter', dataObject);\n\n              var newObj = new _DataObjectReporter2.default(dataObject);\n\n              if (dataObject.childrenObjects) {\n                newObj.resumeChildrens(dataObject.childrenObjects);\n              }\n              _this._reporters[dataObject.url] = newObj;\n            }\n\n            resolve(_this._reporters);\n            if (_this2._onReportersResume) _this2._onReportersResume(_this2._reporters);\n          } else if (reply.body.code === 404) {\n            resolve({});\n          } else {\n            //reporter creation rejected\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_subscribe',\n    value: function _subscribe(input) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\n        var subscribeMsg = {\n          type: 'subscribe', from: _this._owner, to: _this._subURL,\n          body: {}\n        };\n\n        // Hyperty request to be an Observer\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#hyperty-request-to-be-an-observer\n\n        // Resume Subscriptions for the same Hyperty URL\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-the-same-hyperty-url\n\n        // Resume Subscriptions for a certain user and data schema independently of the Hyperty URL.\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-a-certain-user-and-data-schema-independently-of-the-hyperty-url\n        if (input) {\n          if (input.hasOwnProperty('p2p')) subscribeMsg.body.p2p = input.p2p;\n          if (input.hasOwnProperty('store')) subscribeMsg.body.store = input.store;\n          if (input.hasOwnProperty('schema')) subscribeMsg.body.schema = input.schema;\n          if (input.hasOwnProperty('identity')) subscribeMsg.body.identity = input.identity;\n          if (input.hasOwnProperty('resource')) subscribeMsg.body.resource = input.resource;\n        }\n\n        subscribeMsg.body.resume = input.resume;\n\n        //TODO: For Further Study\n        if (input.hasOwnProperty('mutual')) subscribeMsg.body.mutual = input.mutual;\n\n        log.log('[syncher_subscribe] - subscribe message: ', input, subscribeMsg);\n\n        //request subscription\n        //Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n        //for more info see the DataProvisional class documentation.\n        _this._bus.postMessage(subscribeMsg, function (reply) {\n          log.log('[syncher] - subscribe-response: ', reply);\n\n          var objURL = reply.body.resource;\n\n          var newProvisional = _this._provisionals[objURL];\n          delete _this._provisionals[objURL];\n          if (newProvisional) newProvisional._releaseListeners();\n\n          if (reply.body.code < 200) {\n            log.log('[syncher] - new DataProvisional: ', reply.body.childrenResources, objURL);\n            newProvisional = new _DataProvisional2.default(_this._owner, objURL, _this._bus, reply.body.childrenResources);\n            _this._provisionals[objURL] = newProvisional;\n          } else if (reply.body.code === 200) {\n            log.log('[syncher] - new Data Object Observer: ', reply, _this._provisionals);\n\n            var observerInput = reply.body.value;\n\n            observerInput.syncher = _this;\n            observerInput.p2p = input.p2p;\n            observerInput.store = input.store;\n            observerInput.identity = input.identity;\n            observerInput.resume = false;\n\n            // todo: For Further Study\n            observerInput.mutual = input.mutual;\n\n            //observerInput.children = newProvisional.children;\n\n            //TODO: mutual For Further Study\n            var newObj = _this._observers[objURL];\n            if (!newObj) {\n              newObj = new _DataObjectObserver2.default(observerInput);\n              _this._observers[objURL] = newObj;\n            } else {\n              newObj.sync();\n            }\n\n            log.log('[syncher] - new Data Object Observer already exist: ', newObj);\n\n            resolve(newObj);\n\n            if (newProvisional) {\n              newProvisional.apply(newObj);\n            }\n          } else {\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_resumeSubscribe',\n    value: function _resumeSubscribe(criteria) {\n      var _this3 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\n        var subscribeMsg = {\n          type: 'subscribe', from: _this._owner, to: _this._subURL,\n          body: {}\n        };\n\n        // Hyperty request to be an Observer\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#hyperty-request-to-be-an-observer\n\n        // Resume Subscriptions for the same Hyperty URL\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-the-same-hyperty-url\n\n        // Resume Subscriptions for a certain user and data schema independently of the Hyperty URL.\n        // https://github.com/reTHINK-project/specs/blob/master/messages/data-sync-messages.md#resume-subscriptions-for-a-certain-user-and-data-schema-independently-of-the-hyperty-url\n        if (criteria) {\n          if (criteria.hasOwnProperty('p2p')) subscribeMsg.body.p2p = criteria.p2p;\n          if (criteria.hasOwnProperty('store')) subscribeMsg.body.store = criteria.store;\n          if (criteria.hasOwnProperty('schema')) subscribeMsg.body.schema = criteria.schema;\n          if (criteria.hasOwnProperty('identity')) subscribeMsg.body.identity = criteria.identity;\n          if (criteria.hasOwnProperty('resource')) subscribeMsg.body.resource = criteria.url;\n        }\n\n        subscribeMsg.body.resume = criteria.resume;\n\n        //TODO: For Further Study\n        var mutual = criteria.mutual;\n        if (criteria.hasOwnProperty('mutual')) subscribeMsg.body.mutual = mutual;\n\n        log.log('[syncher] - subscribe message: ', criteria, subscribeMsg);\n\n        //request subscription\n        //Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n        //for more info see the DataProvisional class documentation.\n        _this._bus.postMessage(subscribeMsg, function (reply) {\n          log.log('[syncher] - subscribe-resumed-response: ', reply);\n\n          var objURL = reply.body.resource;\n\n          var newProvisional = _this._provisionals[objURL];\n          delete _this._provisionals[objURL];\n          if (newProvisional) newProvisional._releaseListeners();\n\n          if (reply.body.code < 200) {\n            // todo: check if this is needed for the resume\n\n            log.log('[syncher] - resume new DataProvisional: ', reply, objURL);\n            newProvisional = new _DataProvisional2.default(_this._owner, objURL, _this._bus, reply.body.childrenResources);\n            _this._provisionals[objURL] = newProvisional;\n          } else if (reply.body.code === 200) {\n\n            var listOfObservers = reply.body.value;\n\n            for (var index in listOfObservers) {\n\n              var dataObject = listOfObservers[index];\n              log.log('[syncher] - Resume Object Observer: ', reply, dataObject, _this._provisionals);\n\n              if (dataObject.childrenObjects) {\n                dataObject.childrenObjects = (0, _utils.deepClone)(dataObject.childrenObjects);\n              }\n\n              dataObject.data = (0, _utils.deepClone)(dataObject.data) || {};\n              dataObject.resume = true;\n              dataObject.syncher = _this;\n\n              //TODO: mutual For Further Study\n              log.log('[syncher._resumeSubscribe] - create new dataObject: ', dataObject);\n              var newObj = new _DataObjectObserver2.default(dataObject);\n\n              if (dataObject.childrenObjects) {\n                newObj.resumeChildrens(dataObject.childrenObjects);\n              }\n              log.log('[syncher._resumeSubscribe] - new dataObject', newObj);\n              _this._observers[newObj.url] = newObj;\n\n              if (_this._provisionals[newObj.url]) {\n                _this._provisionals[newObj.url].apply(newObj);\n              }\n\n              //lets sync with Reporter\n              // it was commented to let hyperties decide when to sync\n              //newObj.sync();\n            }\n\n            resolve(_this._observers);\n\n            if (_this3._onObserversResume) _this3._onObserversResume(_this._observers);\n          } else if (reply.body.code === 404) {\n            resolve({});\n          } else {\n            reject(reply.body.desc);\n          }\n        });\n      });\n    }\n\n    //FLOW-IN: message received from a local runtime ReporterObject -> _onRemoteSubscribe\n\n  }, {\n    key: '_onForward',\n    value: function _onForward(msg) {\n      var _this = this;\n\n      var reporter = _this._reporters[msg.body.to];\n      reporter._onForward(msg);\n    }\n\n    //FLOW-IN: message received from a remote Syncher -> create (this is actually an invitation to subscribe)\n\n  }, {\n    key: '_onRemoteCreate',\n    value: function _onRemoteCreate(msg) {\n      var _this = this;\n      var resource = msg.from.slice(0, -13); //remove \"/subscription\" from the URL\n      var dividedURL = (0, _utils.divideURL)(resource);\n      var domain = dividedURL.domain;\n\n      var event = {\n        type: msg.type,\n        from: msg.body.source,\n        url: resource,\n        domain: domain,\n        schema: msg.body.schema,\n        value: msg.body.value,\n        identity: msg.body.identity,\n\n        ack: function ack(type) {\n          var lType = 200;\n          if (type) {\n            lType = type;\n          }\n\n          //send ack response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: lType }\n          });\n        }\n      };\n\n      if (_this._onNotificationHandler) {\n        log.info('[Syncher] NOTIFICATION-EVENT: ', event);\n        _this._onNotificationHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from a remote DataObjectReporter -> delete\n\n  }, {\n    key: '_onRemoteDelete',\n    value: function _onRemoteDelete(msg) {\n      var _this = this;\n\n      //remove \"/subscription\" from the URL\n      var resource = msg.body.resource;\n\n      var object = _this._observers[resource];\n\n      var unsubscribe = {\n        from: _this.owner,\n        to: _this._subURL,\n        id: msg.id,\n        type: 'unsubscribe',\n        body: { resource: msg.body.resource }\n      };\n\n      _this._bus.postMessage(unsubscribe);\n\n      delete _this._observers[resource];\n\n      if (object) {\n        var event = {\n          type: msg.type,\n          url: resource,\n          identity: msg.body.identity,\n\n          ack: function ack(type) {\n            var lType = 200;\n            if (type) {\n              lType = type;\n            }\n\n            //TODO: any other different options for the release process, like accept but nor release local?\n            if (lType === 200) {\n              object.delete();\n            }\n\n            //send ack response message\n            _this._bus.postMessage({\n              id: msg.id, type: 'response', from: msg.to, to: msg.from,\n              body: { code: lType, source: _this._owner }\n            });\n          }\n        };\n\n        if (_this._onNotificationHandler) {\n          log.log('NOTIFICATION-EVENT: ', event);\n          _this._onNotificationHandler(event);\n        }\n      } else {\n        _this._bus.postMessage({\n          id: msg.id, type: 'response', from: msg.to, to: msg.from,\n          body: { code: 404, source: _this._owner }\n        });\n      }\n    }\n\n    // close event received from runtime registry\n\n  }, {\n    key: '_onExecute',\n    value: function _onExecute(msg) {\n      var _this = this;\n\n      var reply = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 200 }\n      };\n\n      if ((msg.from === _this._runtimeUrl + '/registry/' || msg.from === _this._runtimeUrl + '/registry') && msg.body && msg.body.method && msg.body.method === 'close' && _this._onClose) {\n        var event = {\n          type: 'close',\n\n          ack: function ack(type) {\n            if (type) {\n              reply.body.code = type;\n            }\n\n            //send ack response message\n            _this._bus.postMessage(reply);\n          }\n        };\n\n        log.info('[Syncher] Close-EVENT: ', event);\n        _this._onClose(event);\n      } else {\n        _this._bus.postMessage(reply);\n      }\n    }\n\n    /**\r\n    * Callback system to trigger the resumed reporters\r\n    * @param  {Function} callback - function callback which will be invoked\r\n    * @return {Object<URL, DataObjectReporter>} Return one object with all resumed reporters;\r\n    */\n\n  }, {\n    key: 'onReportersResume',\n    value: function onReportersResume(callback) {\n      this._onReportersResume = callback;\n    }\n\n    /**\r\n    * Callback system to trigger the resumed observers\r\n    * @param  {Function} callback - function callback which will be invoked\r\n    * @return {Object<URL, DataObjectObserver>} Return one object with all resumed observers;\r\n    */\n\n  }, {\n    key: 'onObserversResume',\n    value: function onObserversResume(callback) {\n      this._onObserversResume = callback;\n    }\n  }, {\n    key: 'owner',\n    get: function get() {\n      return this._owner;\n    }\n\n    /**\r\n    * All owned reporters, the ones that were created by a create\r\n    * @type {Object<URL, DataObjectReporter>}\r\n    */\n\n  }, {\n    key: 'reporters',\n    get: function get() {\n      return this._reporters;\n    }\n\n    /**\r\n    * All owned observers, the ones that were created by a local subscription\r\n    * @type {Object<URL, DataObjectObserver>}\r\n    */\n\n  }, {\n    key: 'observers',\n    get: function get() {\n      return this._observers;\n    }\n  }]);\n  return Syncher;\n}();\n\nexports.default = Syncher;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9TeW5jaGVyLmpzP2NhODEiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nIiwiZ2V0TG9nZ2VyIiwiU3luY2hlciIsIm93bmVyIiwiYnVzIiwiY29uZmlnIiwiX3RoaXMiLCJfb3duZXIiLCJfYnVzIiwiX3N1YlVSTCIsInJ1bnRpbWVVUkwiLCJfcnVudGltZVVybCIsIl9wMnBIYW5kbGVyIiwicDJwSGFuZGxlciIsIl9wMnBSZXF1ZXN0ZXIiLCJwMnBSZXF1ZXN0ZXIiLCJfcmVwb3J0ZXJzIiwiX29ic2VydmVycyIsIl9wcm92aXNpb25hbHMiLCJhZGRMaXN0ZW5lciIsIm1zZyIsImZyb20iLCJpbmZvIiwidHlwZSIsIl9vbkZvcndhcmQiLCJfb25SZW1vdGVDcmVhdGUiLCJfb25SZW1vdGVEZWxldGUiLCJfb25FeGVjdXRlIiwic2NoZW1hIiwib2JzZXJ2ZXJzIiwiaW5pdGlhbERhdGEiLCJzdG9yZSIsInAycCIsIm5hbWUiLCJpZGVudGl0eSIsImlucHV0IiwiRXJyb3IiLCJjcmVhdGVJbnB1dCIsImF1dGhvcmlzZSIsImRhdGEiLCJsZW5ndGgiLCJyZXBvcnRlciIsImhhc093blByb3BlcnR5IiwicmVzdW1lIiwibXV0dWFsIiwicmVzb3VyY2UiLCJyZXVzZVVSTCIsIl9jcmVhdGUiLCJjcml0ZXJpYSIsIl9yZXN1bWVDcmVhdGUiLCJvYmpVUkwiLCJfc3Vic2NyaWJlIiwiX2NyaXRlcmlhIiwiX3Jlc3VtZVN1YnNjcmliZSIsInJlYWRNc2ciLCJ0byIsInJlc29sdmUiLCJyZWplY3QiLCJjYWxsYmFjayIsInJlcGx5IiwiY2hpbGRyZW5zIiwidmFsdWUiLCJuIiwiYm9keSIsImNvZGUiLCJyZW1vdmVSZXNwb25zZUxpc3RlbmVyIiwiaWQiLCJyZXNwb25zZXMiLCJjaGlsZHJlbiIsImNoaWxkcmVuT2JqZWN0cyIsImRlc2MiLCJwb3N0TWVzc2FnZSIsIl9vbk5vdGlmaWNhdGlvbkhhbmRsZXIiLCJfb25DbG9zZSIsInJlcG9ydGVySW5wdXQiLCJjcmVhdGVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicnVudGltZSIsInJlcXVlc3RWYWx1ZSIsInJlcXVlc3RNc2ciLCJ1cmwiLCJzdGF0dXMiLCJzeW5jaGVyIiwiY2hpbGRyZW5SZXNvdXJjZXMiLCJuZXdPYmoiLCJpbnZpdGVPYnNlcnZlcnMiLCJsaXN0T2ZSZXBvcnRlcnMiLCJpbmRleCIsImRhdGFPYmplY3QiLCJyZXN1bWVDaGlsZHJlbnMiLCJfb25SZXBvcnRlcnNSZXN1bWUiLCJzdWJzY3JpYmVNc2ciLCJuZXdQcm92aXNpb25hbCIsIl9yZWxlYXNlTGlzdGVuZXJzIiwib2JzZXJ2ZXJJbnB1dCIsInN5bmMiLCJhcHBseSIsImxpc3RPZk9ic2VydmVycyIsIl9vbk9ic2VydmVyc1Jlc3VtZSIsInNsaWNlIiwiZGl2aWRlZFVSTCIsImRvbWFpbiIsImV2ZW50Iiwic291cmNlIiwiYWNrIiwibFR5cGUiLCJvYmplY3QiLCJ1bnN1YnNjcmliZSIsImRlbGV0ZSIsIm1ldGhvZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7SUFBWUEsTTs7QUFHWjs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBTkEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixTQUFqQixDQUFWLEMsQ0F6QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztBQVVBOzs7OztJQUtNQyxPO0FBQ0o7Ozs7Ozs7Ozs7OztBQWVBOzs7Ozs7QUFNQSxtQkFBWUMsS0FBWixFQUFtQkMsR0FBbkIsRUFBd0JDLE1BQXhCLEVBQWdDO0FBQUE7O0FBQzlCLFFBQUlDLFFBQVEsSUFBWjs7QUFFQUEsVUFBTUMsTUFBTixHQUFlSixLQUFmO0FBQ0FHLFVBQU1FLElBQU4sR0FBYUosR0FBYjs7QUFFQUUsVUFBTUcsT0FBTixHQUFnQkosT0FBT0ssVUFBUCxHQUFvQixLQUFwQztBQUNBSixVQUFNSyxXQUFOLEdBQW9CTixPQUFPSyxVQUEzQjs7QUFFQUosVUFB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LFEsRUFBVTtBQUMxQixXQUFLeUMsa0JBQUwsR0FBMEJ6QyxRQUExQjtBQUNEOzs7d0JBeHFCVztBQUFFLGFBQU8sS0FBS25ELE1BQVo7QUFBcUI7O0FBRW5DOzs7Ozs7O3dCQUlnQjtBQUFFLGFBQU8sS0FBS1MsVUFBWjtBQUF5Qjs7QUFFM0M7Ozs7Ozs7d0JBSWdCO0FBQUUsYUFBTyxLQUFLQyxVQUFaO0FBQXlCOzs7OztrQkFncUI5QmYsTyIsImZpbGUiOiIxMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxyXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxyXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXHJcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXHJcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xyXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxyXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbipcclxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKiovXHJcblxyXG4vLyBMb2cgU3lzdGVtXHJcbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XHJcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdTeW5jaGVyJyk7XHJcblxyXG5pbXBvcnQgeyBkZWVwQ2xvbmUsIGRpdmlkZVVSTCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmltcG9ydCBEYXRhT2JqZWN0UmVwb3J0ZXIgZnJvbSAnLi9EYXRhT2JqZWN0UmVwb3J0ZXInO1xyXG5pbXBvcnQgRGF0YU9iamVjdE9ic2VydmVyIGZyb20gJy4vRGF0YU9iamVjdE9ic2VydmVyJztcclxuaW1wb3J0IERhdGFQcm92aXNpb25hbCBmcm9tICcuL0RhdGFQcm92aXNpb25hbCc7XHJcblxyXG4vKipcclxuKiBUaGUgbWFpbiBjbGFzcyBmb3IgdGhlIHN5bmNoZXIgcGFja2FnZS5cclxuKiBUaGUgU3luY2hlciBpcyBhIHNpbmdsZXRvbiBjbGFzcyBwZXIgSHlwZXJ0eS9VUkwgYW5kIGl0IGlzIHRoZSBvd25lciBvZiBhbGwgY3JlYXRlZCBEYXRhIFN5bmMgT2JqZWN0cyBhY2NvcmRpbmcgdG8gdGhlIFJlcG9ydGVyIC0gT2JzZXJ2ZXIgcGF0dGVybi5cclxuKiBNYWluIGZ1bmN0aW9uYWxpdHkgaXMgdG8gY3JlYXRlIHJlcG9ydGVycyBhbmQgdG8gc3Vic2NyaWJlIHRvIGV4aXN0aW5nIG9uZXMuXHJcbiovXHJcbmNsYXNzIFN5bmNoZXIge1xyXG4gIC8qIHByaXZhdGVcclxuICBfb3duZXI6IFVSTFxyXG4gIF9idXM6IE1pbmlCdXNcclxuXHJcbiAgX3N1YlVSTDogVVJMXHJcblxyXG4gIF9yZXBvcnRlcnM6IDx1cmw6IERhdGFPYmplY3RSZXBvcnRlcj5cclxuICBfb2JzZXJ2ZXJzOiA8dXJsOiBEYXRhT2JqZWN0T2JzZXJ2ZXI+XHJcbiAgX3Byb3Zpc2lvbmFsczogPHVybDogRGF0YVByb3Zpc2lvbmFsPlxyXG5cclxuICAtLS0tZXZlbnQgaGFuZGxlcnMtLS0tXHJcbiAgX29uTm90aWZpY2F0aW9uSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXHJcbiAgX29uUmVzdW1lOiAoZXZlbnQpID0+IHZvaWRcclxuICAqL1xyXG5cclxuICAvKipcclxuICAqIENvbnN0cnVjdG9yIHRoYXQgc2hvdWxkIGJlIHVzZWQgYnkgdGhlIEh5cGVydHkgb3duZXJcclxuICAqIEBwYXJhbSB7SHlwZXJ0eVVSTH0gb3duZXIgLSBIeXBlcnR5IFVSTCBvd25lci4gQW4gVVJMIGFsbG9jYXRlZCBieSB0aGUgcnVudGltZSB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIEh5cGVydHkuXHJcbiAgKiBAcGFyYW0ge01pbmlCdXN9IGJ1cyAtIEFuIGluc3RhbmNlIG9mIHRoZSBNaW5pQnVzIHByb3ZpZGVkIGluIHRoZSBzYW5kYm94LiBXaGVuIGFuIG9iamVjdCAoUmVwb3J0ZXIgb3IgT2JzZXJ2ZWQpIGlzIGNyZWF0ZWQsIHRoZSBTeW5jaGVyTWFuYWdlciB3aWxsIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBNaW5pQnVzIHRvIHJlY2VpdmUvc2VuZCBNZXNzYWdlcyBvZiB0aGF0IG9iamVjdC5cclxuICAqIEBwYXJhbSB7SlNPTn0gY29uZmlnIC0gQ29uZmlndXJhdGlvbiBkYXRhLiBUaGUgb25seSByZXF1aXJlZCBmaWVsZCBmb3Igbm93IGlzIHRoZSBydW50aW1lVVJMLlxyXG4gICovXHJcbiAgY29uc3RydWN0b3Iob3duZXIsIGJ1cywgY29uZmlnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xyXG4gICAgX3RoaXMuX2J1cyA9IGJ1cztcclxuXHJcbiAgICBfdGhpcy5fc3ViVVJMID0gY29uZmlnLnJ1bnRpbWVVUkwgKyAnL3NtJztcclxuICAgIF90aGlzLl9ydW50aW1lVXJsID0gY29uZmlnLnJ1bnRpbWVVUkw7XHJcblxyXG4gICAgX3RoaXMuX3AycEhhbmRsZXIgPSBjb25maWcucDJwSGFuZGxlcjtcclxuICAgIF90aGlzLl9wMnBSZXF1ZXN0ZXIgPSBjb25maWcucDJwUmVxdWVzdGVyO1xyXG5cclxuICAgIF90aGlzLl9yZXBvcnRlcnMgPSB7fTtcclxuICAgIF90aGlzLl9vYnNlcnZlcnMgPSB7fTtcclxuICAgIF90aGlzLl9wcm92aXNpb25hbHMgPSB7fTtcclxuXHJcbiAgICBidXMuYWRkTGlzdGVuZXIob3duZXIsIChtc2cpID0+IHtcclxuICAgICAgLy9pZ25vcmUgbXNnIHNlbnQgYnkgaGltc2VsZlxyXG4gICAgICBpZiAobXNnLmZyb20gIT09IG93bmVyKSB7XHJcbiAgICAgICAgbG9nLmluZm8oJ1tTeW5jaGVyXSBTeW5jaGVyLVJDVjogJywgbXNnLCBfdGhpcyk7XHJcbiAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xyXG4gICAgICAgICAgY2FzZSAnZm9yd2FyZCc6IF90aGlzLl9vbkZvcndhcmQobXNnKTsgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdjcmVhdGUnOiBfdGhpcy5fb25SZW1vdGVDcmVhdGUobXNnKTsgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdkZWxldGUnOiBfdGhpcy5fb25SZW1vdGVEZWxldGUobXNnKTsgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdleGVjdXRlJzogX3RoaXMuX29uRXhlY3V0ZShtc2cpOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBUaGUgb3duZXIgb2YgdGhlIFN5bmNoZXIgYW5kIGFsbCBjcmVhdGVkIHJlcG9ydGVycy5cclxuICAqIEB0eXBlIHtIeXBlcnR5VVJMfVxyXG4gICovXHJcbiAgZ2V0IG93bmVyKCkgeyByZXR1cm4gdGhpcy5fb3duZXI7IH1cclxuXHJcbiAgLyoqXHJcbiAgKiBBbGwgb3duZWQgcmVwb3J0ZXJzLCB0aGUgb25lcyB0aGF0IHdlcmUgY3JlYXRlZCBieSBhIGNyZWF0ZVxyXG4gICogQHR5cGUge09iamVjdDxVUkwsIERhdGFPYmplY3RSZXBvcnRlcj59XHJcbiAgKi9cclxuICBnZXQgcmVwb3J0ZXJzKCkgeyByZXR1cm4gdGhpcy5fcmVwb3J0ZXJzOyB9XHJcblxyXG4gIC8qKlxyXG4gICogQWxsIG93bmVkIG9ic2VydmVycywgdGhlIG9uZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgYnkgYSBsb2NhbCBzdWJzY3JpcHRpb25cclxuICAqIEB0eXBlIHtPYmplY3Q8VVJMLCBEYXRhT2JqZWN0T2JzZXJ2ZXI+fVxyXG4gICovXHJcbiAgZ2V0IG9ic2VydmVycygpIHsgcmV0dXJuIHRoaXMuX29ic2VydmVyczsgfVxyXG5cclxuICAvKipcclxuICAqIFJlcXVlc3QgYSBEYXRhT2JqZWN0UmVwb3J0ZXIgY3JlYXRpb24uIFRoZSBVUkwgd2lsbCBiZSBiZSByZXF1ZXN0ZWQgYnkgdGhlIGFsbG9jYXRpb24gbWVjaGFuaXNtLlxyXG4gICogQHBhcmFtICB7U2NoZW1hVVJMfSBzY2hlbWEgLSBIeXBlcnR5IENhdGFsb2d1ZSBVUkwgYWRkcmVzcyB0aGF0IGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBKU09OLVNjaGVtYSBkZXNjcmliaW5nIHRoZSBEYXRhIE9iamVjdCBzY2hlbWFcclxuICAqIEBwYXJhbSAge0h5cGVydHlVUkxbXX0gb2JzZXJ2ZXJzIC0gTGlzdCBvZiBoeXBlcnRpZXMgdGhhdCBhcmUgcHJlLWF1dGhvcml6ZWQgZm9yIHN1YnNjcmlwdGlvblxyXG4gICogQHBhcmFtICB7SlNPTn0gaW5pdGlhbERhdGEgLSBJbml0aWFsIGRhdGEgb2YgdGhlIHJlcG9ydGVyXHJcbiAgKiBAcGFyYW0gIHtib29sZWFufSBzdG9yZSAtIChPcHRpb25hbCkgaWYgdHJ1ZSwgb2JqZWN0IHdpbGwgYmUgc3RvcmVkIGJ5IHRoZSBydW50aW1lXHJcbiAgKiBAcGFyYW0gIHtib29sZWFufSBwMnAgLSAoT3B0aW9uYWwpIGlmIHRydWUsIGRhdGEgc3luY2hyb25pc2F0aW9uIHN0cmVhbSB3aWxsIHVzZSBwMnAgY29ubmVjdGlvbiBhcyBtdWNoIGFzIHBvc3NpYmxlXHJcbiAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUgLSAoT3B0aW9uYWwpIHRoZSBuYW1lIG9mIHRoZSBkYXRhb2JqZWN0XHJcbiAgKiBAcGFyYW0gIHtNZXNzYWdlQm9keUlkZW50aXR5fSBpZGVudGl0eSAtIChvcHRpb25hbCkgaWRlbnRpdHkgZGF0YSB0byBiZSBhZGRlZCB0byBpZGVudGl0eSB0aGUgdXNlciByZXBvcnRlci4gVG8gYmUgdXNlZCBmb3IgbGVnYWN5IGlkZW50aXRpZXMuXHJcbiAgKiBAcGFyYW0gIHtTeW5jTWV0YWRhdGF9IGlucHV0IC0gKG9wdGlvbmFsKSBhbGwgbWV0YWRhdGEgcmVxdWlyZWQgdG8gc3VuYyB0aGUgRGF0YSBPYmplY3QuXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RSZXBvcnRlcj59IFJldHVybiBQcm9taXNlIHRvIGEgbmV3IFJlcG9ydGVyLiBUaGUgcmVwb3J0ZXIgY2FuIGJlIGFjY2VwdGVkIG9yIHJlamVjdGVkIGJ5IHRoZSBQRVBcclxuICAqL1xyXG4gIGNyZWF0ZShzY2hlbWEsIG9ic2VydmVycywgaW5pdGlhbERhdGEsIHN0b3JlID0gZmFsc2UsIHAycCA9IGZhbHNlLCBuYW1lID0gJ25vIG5hbWUnLCBpZGVudGl0eSwgaW5wdXQpIHtcclxuXHJcbiAgICBpZiAoIXNjaGVtYSkgdGhyb3cgRXJyb3IoJ1tTeW5jaGVyIC0gQ3JlYXRlXSAtIFlvdSBuZWVkIHNwZWNpZnkgdGhlIGRhdGEgb2JqZWN0IHNjaGVtYScpO1xyXG4gICAgaWYgKCFvYnNlcnZlcnMpIHRocm93IEVycm9yKCdbU3luY2hlciAtIENyZWF0ZV0gLVRoZSBvYnNlcnZlcnMgc2hvdWxkIGJlIGRlZmluZWQnKTtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgaW5wdXQgPSBpbnB1dCB8fCB7fTtcclxuICAgIGxldCBjcmVhdGVJbnB1dCAgPSBPYmplY3QuYXNzaWduKHt9LCBpbnB1dCk7XHJcblxyXG4gICAgY3JlYXRlSW5wdXQucDJwID0gcDJwO1xyXG4gICAgY3JlYXRlSW5wdXQuc3RvcmUgPSBzdG9yZTtcclxuICAgIGNyZWF0ZUlucHV0LnNjaGVtYSA9IHNjaGVtYTtcclxuICAgIGNyZWF0ZUlucHV0LmF1dGhvcmlzZSA9IG9ic2VydmVycztcclxuICAgIGNyZWF0ZUlucHV0LnAycEhhbmRsZXIgPSBfdGhpcy5fcDJwSGFuZGxlcjtcclxuICAgIGNyZWF0ZUlucHV0LnAycFJlcXVlc3RlciA9IF90aGlzLl9wMnBSZXF1ZXN0ZXI7XHJcbiAgICAoaW5pdGlhbERhdGEpID8gY3JlYXRlSW5wdXQuZGF0YSA9IGRlZXBDbG9uZShpbml0aWFsRGF0YSkgOiBjcmVhdGVJbnB1dC5kYXRhID0ge307XHJcbiAgICBjcmVhdGVJbnB1dC5uYW1lID0gbmFtZS5sZW5ndGggPT09IDAgPyAnbm8gbmFtZScgOiBuYW1lO1xyXG4gICAgY3JlYXRlSW5wdXQucmVwb3J0ZXIgPSAoaW5wdXQuaGFzT3duUHJvcGVydHkoJ3JlcG9ydGVyJykgJiYgKCh0eXBlb2YgaW5wdXQucmVwb3J0ZXIpICE9PSAnYm9vbGVhbicpKSA/IGlucHV0LnJlcG9ydGVyIDogX3RoaXMuX293bmVyO1xyXG4gICAgY3JlYXRlSW5wdXQucmVzdW1lID0gZmFsc2U7XHJcbiAgICBpZiAoaW5wdXQpIHtcclxuICAgICAgY3JlYXRlSW5wdXQubXV0dWFsID0gaW5wdXQuaGFzT3duUHJvcGVydHkoJ211dHVhbCcpID8gaW5wdXQubXV0dWFsIDogdHJ1ZTtcclxuICAgICAgY3JlYXRlSW5wdXQubmFtZSA9IGlucHV0Lmhhc093blByb3BlcnR5KCduYW1lJykgPyBpbnB1dC5uYW1lIDogY3JlYXRlSW5wdXQubmFtZTtcclxuICAgIH0gZWxzZSB7IGNyZWF0ZUlucHV0Lm11dHVhbCA9IHRydWU7IH1cclxuXHJcbiAgICBpZiAoaW5wdXQuaGFzT3duUHJvcGVydHkoJ3JldXNlVVJMJykpIHtcclxuICAgICAgY3JlYXRlSW5wdXQucmVzb3VyY2UgPSBpbnB1dC5yZXVzZVVSTDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaWRlbnRpdHkpICAgICAgeyBjcmVhdGVJbnB1dC5pZGVudGl0eSA9IGlkZW50aXR5OyB9XHJcblxyXG4gICAgLy9PYmplY3QuYXNzaWduKGNyZWF0ZUlucHV0LCB7cmVzdW1lOiBmYWxzZX0pO1xyXG4gICAgLy9kZWJ1Z2dlcjtcclxuICAgIGxvZy5sb2coJ1tzeW5jaGVyIC0gY3JlYXRlXSAtIGNyZWF0ZSBSZXBvcnRlciAtIGNyZWF0ZUlucHV0OiAnLCBjcmVhdGVJbnB1dCk7XHJcblxyXG4gICAgcmV0dXJuIF90aGlzLl9jcmVhdGUoY3JlYXRlSW5wdXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBSZXF1ZXN0IGEgRGF0YU9iamVjdFJlcG9ydGVyIGNyZWF0aW9uLiBUaGUgVVJMIHdpbGwgYmUgYmUgcmVxdWVzdGVkIGJ5IHRoZSBhbGxvY2F0aW9uIG1lY2hhbmlzbS5cclxuICAqIEBwYXJhbSAge09iamVjdH0gY3JpdGVyaWEgLSAob3B0aW9uYWwpIGlkZW50aXR5IGRhdGEgdG8gYmUgYWRkZWQgdG8gaWRlbnRpdHkgdGhlIHVzZXIgcmVwb3J0ZXIuIFRvIGJlIHVzZWQgZm9yIGxlZ2FjeSBpZGVudGl0aWVzLlxyXG4gICogQHJldHVybiB7UHJvbWlzZTxEYXRhT2JqZWN0UmVwb3J0ZXI+W119IFJldHVybiBhIHByb21pc2Ugd2l0aCBhIGxpc3Qgb2YgRGF0YU9iamVjdFJlcG9ydGVyIHRvIGJlIHJlc3VtZWQ7XHJcbiAgKi9cclxuICByZXN1bWVSZXBvcnRlcnMoY3JpdGVyaWEpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsb2cubG9nKCdbc3luY2hlciAtIGNyZWF0ZV0gLSByZXN1bWUgUmVwb3J0ZXIgLSBjcml0ZXJpYTogJywgY3JpdGVyaWEpO1xyXG5cclxuICAgIE9iamVjdC5hc3NpZ24oY3JpdGVyaWEsIHtyZXN1bWU6IHRydWV9KTtcclxuXHJcbiAgICByZXR1cm4gX3RoaXMuX3Jlc3VtZUNyZWF0ZShjcml0ZXJpYSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFJlcXVlc3QgYSBzdWJzY3JpcHRpb24gdG8gYW4gZXhpc3RlbnQgcmVwb3J0ZXIgb2JqZWN0LlxyXG4gICogQHBhcmFtIHtTY2hlbWFVUkx9IHNjaGVtYSAtIEh5cGVydHkgQ2F0YWxvZ3VlIFVSTCBhZGRyZXNzIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIEpTT04tU2NoZW1hIGRlc2NyaWJpbmcgdGhlIERhdGEgT2JqZWN0IHNjaGVtYVxyXG4gICogQHBhcmFtIHtPYmplY3RVUkx9IG9ialVSTCAtIEFkZHJlc3Mgb2YgdGhlIGV4aXN0ZW50IHJlcG9ydGVyIG9iamVjdCB0byBiZSBvYnNlcnZlZFxyXG4gICogQHBhcmFtIHtCb29sZWFufSBbc3RvcmU9ZmFsc2VdIC0gU2F2ZSB0aGUgc3Vic2NyaXB0aW9uIG9uIHRoZSBTeW5jaGVyIE1hbmFnZXIgZm9yIGZ1cnRoZXIgcmVzdW1lIChEZWZhdWx0IGlzIGZhbHNlKVxyXG4gICogQHBhcmFtIHtCb29sZWFufSBbcDJwPWZhbHNlXSAtIEluZm8gYWJvdXQgaWYgc2hvdWxkIHVzZSBwMnAgY29ubmVjdGlvbiAoRGVmYXVsdCBpcyBmYWxzZSlcclxuICAqIEBwYXJhbSB7Qm9vbGVhbn0gW211dHVhbD10cnVlXSAtIEluZm8gYWJvdXQgaWYgbWVzc2FnZXMgb2YgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIGVuY3J5cHRlZCAoRGVmYXVsdCBpcyB0cnVlKVxyXG4gICogQHBhcmFtICB7TWVzc2FnZUJvZHlJZGVudGl0eX0gaWRlbnRpdHkgLSAob3B0aW9uYWwpIGlkZW50aXR5IGRhdGEgdG8gYmUgYWRkZWQgdG8gaWRlbnRpdHkgdGhlIHVzZXIgcmVwb3J0ZXIuIFRvIGJlIHVzZWQgZm9yIGxlZ2FjeSBpZGVudGl0aWVzLlxyXG4gICogQHJldHVybiB7UHJvbWlzZTxEYXRhT2JqZWN0T2JzZXJ2ZXI+fSBSZXR1cm4gUHJvbWlzZSB0byBhIG5ldyBvYnNlcnZlci4gSXQncyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlcG9ydGVyLlxyXG4gICovXHJcbiAgc3Vic2NyaWJlKHNjaGVtYSwgb2JqVVJMLCBzdG9yZSA9IGZhbHNlLCBwMnAgPSBmYWxzZSwgbXV0dWFsID0gdHJ1ZSwgaWRlbnRpdHkpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgY3JpdGVyaWEgPSB7fTtcclxuXHJcbiAgICBjcml0ZXJpYS5wMnAgPSBwMnA7XHJcbiAgICBjcml0ZXJpYS5zdG9yZSA9IHN0b3JlO1xyXG4gICAgY3JpdGVyaWEuc2NoZW1hID0gc2NoZW1hO1xyXG5cclxuICAgIGNyaXRlcmlhLnJlc291cmNlID0gb2JqVVJMO1xyXG4gICAgaWYgKGlkZW50aXR5KSAgICAgIHsgY3JpdGVyaWEuaWRlbnRpdHkgPSBpZGVudGl0eTsgfVxyXG5cclxuICAgIC8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHlcclxuICAgIGNyaXRlcmlhLm11dHVhbCA9IG11dHVhbDtcclxuXHJcbiAgICBsb2cubG9nKCdbc3luY2hlciAtIHN1YnNjcmliZV0gLSBzdWJzY3JpYmUgY3JpdGVyaWE6ICcsIGNyaXRlcmlhKTtcclxuXHJcbiAgICBPYmplY3QuYXNzaWduKGNyaXRlcmlhLCB7cmVzdW1lOiBmYWxzZX0pO1xyXG5cclxuICAgIHJldHVybiBfdGhpcy5fc3Vic2NyaWJlKGNyaXRlcmlhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogUmVxdWVzdCBhIHN1YnNjcmlwdGlvbiB0byBhbiBleGlzdGVudCByZXBvcnRlciBvYmplY3QuXHJcbiAgKiBAcGFyYW0ge2NyaXRlcmlhfSBjcml0ZXJpYSAtIEluZm9ybWF0aW9uIHRvIGRpc2NvdmVyeSB0aGUgb2JzZXJ2ZXIgb2JqZWN0XHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFPYmplY3RPYnNlcnZlcj59IFJldHVybiBQcm9taXNlIHRvIGEgbmV3IG9ic2VydmVyLiBJdCdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVwb3J0ZXIuXHJcbiAgKi9cclxuICByZXN1bWVPYnNlcnZlcnMoY3JpdGVyaWEpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgX2NyaXRlcmlhID0gY3JpdGVyaWEgfHwge307XHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbihfY3JpdGVyaWEsIHtyZXN1bWU6IHRydWV9KTtcclxuXHJcbiAgICByZXR1cm4gX3RoaXMuX3Jlc3VtZVN1YnNjcmliZShfY3JpdGVyaWEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBSZXF1ZXN0IGEgcmVhZCBhY3Rpb24gb24gdGhlIHJlcG9ydGVyIG9iamVjdFxyXG4gICogQHBhcmFtIHtPYmplY3RVUkx9IG9ialVSTCAtIFVSTCBvZiB0aGUgcmVwb3J0ZXIgb2JqZWN0IHRvIGJlIHJlYWRcclxuICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gUmV0dXJuIFByb21pc2UgdG8gbGFzdCBhdmFpbGFibGUgZGF0YSBvZiB0aGUgcmVwb3J0ZXJcclxuICAqL1xyXG4gIHJlYWQob2JqVVJMKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgZGlyZWN0bHkgdG8gcmVwb3J0ZXIgb2JqZWN0IChtYXliZSB0aGVyZSBpcyBubyBsaXN0ZW5lciBhdmFpbGFibGUsIHNvIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBNZXNzYWdlQnVzIC0+IHJlc29sdmUpXHJcbiAgICAvL3dpbGwgcmVhY2ggdGhlIHJlbW90ZSBvYmplY3QgaW4gRGF0YU9iamVjdFJlcG9ydGVyIC0+IF9vblJlYWRcclxuICAgIGxldCByZWFkTXNnID0ge1xyXG4gICAgICB0eXBlOiAncmVhZCcsIGZyb206IF90aGlzLl9vd25lciwgdG86IG9ialVSTFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBsZXQgY2FsbGJhY2sgPSAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdbU3luY2hlci5yZWFkXSByZXBseTogJywgcmVwbHkpO1xyXG5cclxuICAgICAgICBsZXQgY2hpbGRyZW5zID0ge307XHJcbiAgICAgICAgbGV0IHZhbHVlID0ge307XHJcbiAgICAgICAgbGV0IG4gPSAwO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlIDwgMzAwKSB7XHJcbiAgICAgICAgICBpZiAoIXJlcGx5LmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoJ3Jlc3BvbnNlcycpKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyZWFkTXNnLmZyb20sIHJlcGx5LmlkKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7IC8vZGF0YSBvYmplY3QgaXMgc2VudCBpbiBzZXBhcmF0ZWQgbWVzc2FnZXNcclxuICAgICAgICAgICAgaWYgKG4gPT09IDApIHsgLy9pbml0aWFsIHJlc3BvbnNlIHdpdGhvdXQgY2hpbGRyZW5zXHJcbiAgICAgICAgICAgICAgdmFsdWUgPSByZXBseS5ib2R5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gcmVjZWl2ZWQgcmVzcG9uc2UgY29udGFpbnMgY2hpbGRyZW5zXHJcbiAgICAgICAgICAgICAgZGVsZXRlIHJlcGx5LmJvZHkudmFsdWUucmVzcG9uc2VzO1xyXG4gICAgICAgICAgICAgIGxldCBjaGlsZHJlbjtcclxuICAgICAgICAgICAgICBmb3IgKGNoaWxkcmVuIGluIHJlcGx5LmJvZHkudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW5zLmhhc093blByb3BlcnR5KGNoaWxkcmVuKSkgY2hpbGRyZW5zW2NoaWxkcmVuXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjaGlsZHJlbnNbY2hpbGRyZW5dLCByZXBseS5ib2R5LnZhbHVlW2NoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgICBpZiAobiA9PT0gdmFsdWUucmVzcG9uc2VzKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5jaGlsZHJlbk9iamVjdHMgPSBjaGlsZHJlbnM7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWUucmVzcG9uc2VzO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHJlYWRNc2cuZnJvbSwgcmVwbHkuaWQpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBpZCA9IF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVhZE1zZywgY2FsbGJhY2ssIGZhbHNlKTtcclxuXHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGNyZWF0ZSBhbmQgZGVsZXRlIGV2ZW50cyBvZiByZW1vdmUgUmVwb3J0ZXIgb2JqZWN0cy5cclxuICAqIFRoaXMgaXMgcmVsZWF0ZWQgdG8gdGhlIG1lc3NhZ2VucyBzZW50IGJ5IGNyZWF0ZSB0byB0aGUgb2JzZXJ2ZXJzIEh5cGVydHkgYXJyYXkuXHJcbiAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXHJcbiAgKi9cclxuICBvbk5vdGlmaWNhdGlvbihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGNsb3NlIGV2ZW50cyBmcm9tIHRoZSBydW50aW1lLlxyXG4gICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFja1xyXG4gICovXHJcbiAgb25DbG9zZShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5fb25DbG9zZSA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZShpbnB1dCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgbGV0IHJlcG9ydGVySW5wdXQgID0gT2JqZWN0LmFzc2lnbih7fSwgaW5wdXQpO1xyXG5cclxuICAgICAgbGV0IHJlc3VtZSA9IGlucHV0LnJlc3VtZTtcclxuXHJcbiAgICAgIHJlcG9ydGVySW5wdXQuY3JlYXRlZCA9IChuZXcgRGF0ZSkudG9JU09TdHJpbmcoKTtcclxuICAgICAgcmVwb3J0ZXJJbnB1dC5ydW50aW1lID0gX3RoaXMuX3J1bnRpbWVVcmw7XHJcblxyXG4gICAgICBsZXQgcmVxdWVzdFZhbHVlID0gZGVlcENsb25lKHJlcG9ydGVySW5wdXQpO1xyXG5cclxuICAgICAgZGVsZXRlIHJlcXVlc3RWYWx1ZS5wMnA7XHJcbiAgICAgIGRlbGV0ZSByZXF1ZXN0VmFsdWUuc3RvcmU7XHJcbiAgICAgIGRlbGV0ZSByZXF1ZXN0VmFsdWUub2JzZXJ2ZXJzO1xyXG4gICAgICBkZWxldGUgcmVxdWVzdFZhbHVlLmlkZW50aXR5O1xyXG5cclxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25DcmVhdGVcclxuICAgICAgLy9kZWJ1Z2dlcjtcclxuICAgICAgbGV0IHJlcXVlc3RNc2cgPSB7XHJcbiAgICAgICAgdHlwZTogJ2NyZWF0ZScsIGZyb206IF90aGlzLl9vd25lciwgdG86IF90aGlzLl9zdWJVUkwsXHJcbiAgICAgICAgYm9keTogeyByZXN1bWU6IHJlc3VtZSwgdmFsdWU6IHJlcXVlc3RWYWx1ZSAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgIHJlcXVlc3RNc2cuYm9keS5zY2hlbWEgPSByZXBvcnRlcklucHV0LnNjaGVtYTtcclxuXHJcbiAgICAgIGlmIChyZXBvcnRlcklucHV0LnAycCkgcmVxdWVzdE1zZy5ib2R5LnAycCA9IHJlcG9ydGVySW5wdXQucDJwO1xyXG4gICAgICBpZiAocmVwb3J0ZXJJbnB1dC5zdG9yZSkgcmVxdWVzdE1zZy5ib2R5LnN0b3JlID0gcmVwb3J0ZXJJbnB1dC5zdG9yZTtcclxuICAgICAgaWYgKHJlcG9ydGVySW5wdXQuaWRlbnRpdHkpIHJlcXVlc3RNc2cuYm9keS5pZGVudGl0eSA9IHJlcG9ydGVySW5wdXQuaWRlbnRpdHk7XHJcblxyXG4gICAgICBsb2cubG9nKCdbc3luY2hlci5fY3JlYXRlXTogJywgcmVwb3J0ZXJJbnB1dCwgcmVxdWVzdE1zZyk7XHJcblxyXG4gICAgICAvL3JlcXVlc3QgY3JlYXRlIHRvIHRoZSBhbGxvY2F0aW9uIHN5c3RlbS4gQ2FuIGJlIHJlamVjdGVkIGJ5IHRoZSBQb2xpY3lFbmdpbmUuXHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVxdWVzdE1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgbG9nLmxvZygnW3N5bmNoZXIgLSBjcmVhdGVdIC0gY3JlYXRlLXJlc3BvbnNlOiAnLCByZXBseSk7XHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAvL3JlcG9ydGVyIGNyZWF0aW9uIGFjY2VwdGVkXHJcbiAgICAgICAgICByZXBvcnRlcklucHV0LnVybCA9IHJlcGx5LmJvZHkucmVzb3VyY2U7XHJcblxyXG4vKiAgICAgICAgICBpZiAocmVwbHkuYm9keS5wMnBIYW5kbGVyKSByZXBvcnRlcklucHV0LnAycEhhbmRsZXIgPSByZXBseS5ib2R5LnAycEhhbmRsZXI7XHJcbiAgICAgICAgICBpZiAocmVwbHkuYm9keS5wMnBSZXF1ZXN0ZXIpIHJlcG9ydGVySW5wdXQucDJwUmVxdWVzdGVyID0gcmVwbHkuYm9keS5wMnBSZXF1ZXN0ZXI7Ki9cclxuXHJcbiAgICAgICAgICByZXBvcnRlcklucHV0LnN0YXR1cyA9ICdsaXZlJzsvLyBwY2g6IGRvIHdlIG5lZCB0aGlzP1xyXG4gICAgICAgICAgcmVwb3J0ZXJJbnB1dC5zeW5jaGVyID0gX3RoaXM7XHJcbiAgICAgICAgICByZXBvcnRlcklucHV0LmNoaWxkcmVucyA9IHJlcGx5LmJvZHkuY2hpbGRyZW5SZXNvdXJjZXM7XHJcblxyXG4gICAgICAgICAgbGV0IG5ld09iaiA9IF90aGlzLl9yZXBvcnRlcnNbcmVwb3J0ZXJJbnB1dC51cmxdO1xyXG5cclxuICAgICAgICAgIGlmICghbmV3T2JqKSB7XHJcbiAgICAgICAgICAgIG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0UmVwb3J0ZXIocmVwb3J0ZXJJbnB1dCk7XHJcbiAgICAgICAgICAgIF90aGlzLl9yZXBvcnRlcnNbcmVwb3J0ZXJJbnB1dC51cmxdID0gbmV3T2JqO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG5ld09iai5pbnZpdGVPYnNlcnZlcnMoaW5wdXQuYXV0aG9yaXNlLCBpbnB1dC5wMnApO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUobmV3T2JqKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vcmVwb3J0ZXIgY3JlYXRpb24gcmVqZWN0ZWRcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBfcmVzdW1lQ3JlYXRlKGNyaXRlcmlhKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCByZXN1bWUgPSBjcml0ZXJpYS5yZXN1bWU7XHJcblxyXG4gICAgICAvL0ZMT1ctT1VUOiB0aGlzIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHRvIHRoZSBydW50aW1lIGluc3RhbmNlIG9mIFN5bmNoZXJNYW5hZ2VyIC0+IF9vbkNyZWF0ZVxyXG4gICAgICBsZXQgcmVxdWVzdE1zZyA9IHtcclxuICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N1YlVSTCxcclxuICAgICAgICBib2R5OiB7IHJlc3VtZTogcmVzdW1lIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxvZy5sb2coJ1tzeW5jaGVyIC0gY3JlYXRlXTogJywgY3JpdGVyaWEsIHJlcXVlc3RNc2cpO1xyXG4gICAgICBpZiAoY3JpdGVyaWEpIHtcclxuICAgICAgICByZXF1ZXN0TXNnLmJvZHkudmFsdWUgPSBjcml0ZXJpYTtcclxuICAgICAgICBpZiAoY3JpdGVyaWEuaGFzT3duUHJvcGVydHkoJ3JlcG9ydGVyJykpIHtcclxuICAgICAgICAgIHJlcXVlc3RNc2cuYm9keS52YWx1ZS5yZXBvcnRlciA9IGNyaXRlcmlhLnJlcG9ydGVyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXF1ZXN0TXNnLmJvZHkudmFsdWUucmVwb3J0ZXIgPSBfdGhpcy5fb3duZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY3JpdGVyaWEucDJwKSByZXF1ZXN0TXNnLmJvZHkucDJwID0gY3JpdGVyaWEucDJwO1xyXG4gICAgICBpZiAoY3JpdGVyaWEuc3RvcmUpIHJlcXVlc3RNc2cuYm9keS5zdG9yZSA9IGNyaXRlcmlhLnN0b3JlO1xyXG4gICAgICBpZiAoY3JpdGVyaWEub2JzZXJ2ZXJzKSByZXF1ZXN0TXNnLmJvZHkuYXV0aG9yaXNlID0gY3JpdGVyaWEub2JzZXJ2ZXJzO1xyXG4gICAgICBpZiAoY3JpdGVyaWEuaWRlbnRpdHkpIHJlcXVlc3RNc2cuYm9keS5pZGVudGl0eSA9IGNyaXRlcmlhLmlkZW50aXR5O1xyXG5cclxuICAgICAgbG9nLmxvZygnW3N5bmNoZXIuX3Jlc3VtZUNyZWF0ZV0gLSByZXN1bWUgbWVzc2FnZTogJywgcmVxdWVzdE1zZyk7XHJcblxyXG4gICAgICAvL2RlYnVnZ2VyO1xyXG5cclxuICAgICAgLy9yZXF1ZXN0IGNyZWF0ZSB0byB0aGUgYWxsb2NhdGlvbiBzeXN0ZW0uIENhbiBiZSByZWplY3RlZCBieSB0aGUgUG9saWN5RW5naW5lLlxyXG5cclxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyZXF1ZXN0TXNnLCAocmVwbHkpID0+IHtcclxuICAgICAgICBsb2cubG9nKCdbc3luY2hlci5fcmVzdW1lQ3JlYXRlXSAtIGNyZWF0ZS1yZXN1bWVkLXJlc3BvbnNlOiAnLCByZXBseSk7XHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICAgICAgbGV0IGxpc3RPZlJlcG9ydGVycyA9IHJlcGx5LmJvZHkudmFsdWU7XHJcblxyXG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gbGlzdE9mUmVwb3J0ZXJzKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGF0YU9iamVjdCA9IGxpc3RPZlJlcG9ydGVyc1tpbmRleF07XHJcblxyXG4gICAgICAgICAgICAvL3JlcG9ydGVyIGNyZWF0aW9uIGFjY2VwdGVkXHJcblxyXG4gICAgICAgICAgICBkYXRhT2JqZWN0LmRhdGEgPSBkZWVwQ2xvbmUoZGF0YU9iamVjdC5kYXRhKSB8fCB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cykgeyBkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyA9IGRlZXBDbG9uZShkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyk7IH1cclxuXHJcbiAgICAgICAgICAgIGRhdGFPYmplY3QubXV0dWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRhdGFPYmplY3QucmVzdW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGF0YU9iamVjdC5zdGF0dXMgPSAnbGl2ZSc7Ly8gcGNoOiBkbyB3ZSBuZWQgdGhpcz9cclxuICAgICAgICAgICAgZGF0YU9iamVjdC5zeW5jaGVyID0gX3RoaXM7XHJcblxyXG4gICAgICAgICAgICBsb2cubG9nKCdbc3luY2hlci5fcmVzdW1lQ3JlYXRlXSAtIGNyZWF0ZS1yZXN1bWVkLWRhdGFPYmplY3RSZXBvcnRlcicsIGRhdGFPYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0UmVwb3J0ZXIoZGF0YU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YU9iamVjdC5jaGlsZHJlbk9iamVjdHMpIHtcclxuICAgICAgICAgICAgICBuZXdPYmoucmVzdW1lQ2hpbGRyZW5zKGRhdGFPYmplY3QuY2hpbGRyZW5PYmplY3RzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5fcmVwb3J0ZXJzW2RhdGFPYmplY3QudXJsXSA9IG5ld09iajtcclxuXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVzb2x2ZShfdGhpcy5fcmVwb3J0ZXJzKTtcclxuICAgICAgICAgIGlmICh0aGlzLl9vblJlcG9ydGVyc1Jlc3VtZSkgdGhpcy5fb25SZXBvcnRlcnNSZXN1bWUodGhpcy5fcmVwb3J0ZXJzKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDQwNCkge1xyXG4gICAgICAgICAgcmVzb2x2ZSh7fSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vcmVwb3J0ZXIgY3JlYXRpb24gcmVqZWN0ZWRcclxuICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zdWJzY3JpYmUoaW5wdXQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIC8vRkxPVy1PVVQ6IHRoaXMgbWVzc2FnZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgU3luY2hlck1hbmFnZXIgLT4gX29uTG9jYWxTdWJzY3JpYmVcclxuICAgICAgbGV0IHN1YnNjcmliZU1zZyA9IHtcclxuICAgICAgICB0eXBlOiAnc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N1YlVSTCxcclxuICAgICAgICBib2R5OiB7fVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gSHlwZXJ0eSByZXF1ZXN0IHRvIGJlIGFuIE9ic2VydmVyXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI2h5cGVydHktcmVxdWVzdC10by1iZS1hbi1vYnNlcnZlclxyXG5cclxuICAgICAgLy8gUmVzdW1lIFN1YnNjcmlwdGlvbnMgZm9yIHRoZSBzYW1lIEh5cGVydHkgVVJMXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvYmxvYi9tYXN0ZXIvbWVzc2FnZXMvZGF0YS1zeW5jLW1lc3NhZ2VzLm1kI3Jlc3VtZS1zdWJzY3JpcHRpb25zLWZvci10aGUtc2FtZS1oeXBlcnR5LXVybFxyXG5cclxuICAgICAgLy8gUmVzdW1lIFN1YnNjcmlwdGlvbnMgZm9yIGEgY2VydGFpbiB1c2VyIGFuZCBkYXRhIHNjaGVtYSBpbmRlcGVuZGVudGx5IG9mIHRoZSBIeXBlcnR5IFVSTC5cclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9tZXNzYWdlcy9kYXRhLXN5bmMtbWVzc2FnZXMubWQjcmVzdW1lLXN1YnNjcmlwdGlvbnMtZm9yLWEtY2VydGFpbi11c2VyLWFuZC1kYXRhLXNjaGVtYS1pbmRlcGVuZGVudGx5LW9mLXRoZS1oeXBlcnR5LXVybFxyXG4gICAgICBpZiAoaW5wdXQpIHtcclxuICAgICAgICBpZiAoaW5wdXQuaGFzT3duUHJvcGVydHkoJ3AycCcpKSBzdWJzY3JpYmVNc2cuYm9keS5wMnAgPSBpbnB1dC5wMnA7XHJcbiAgICAgICAgaWYgKGlucHV0Lmhhc093blByb3BlcnR5KCdzdG9yZScpKSBzdWJzY3JpYmVNc2cuYm9keS5zdG9yZSA9IGlucHV0LnN0b3JlO1xyXG4gICAgICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eSgnc2NoZW1hJykpIHN1YnNjcmliZU1zZy5ib2R5LnNjaGVtYSA9IGlucHV0LnNjaGVtYTtcclxuICAgICAgICBpZiAoaW5wdXQuaGFzT3duUHJvcGVydHkoJ2lkZW50aXR5JykpIHN1YnNjcmliZU1zZy5ib2R5LmlkZW50aXR5ID0gaW5wdXQuaWRlbnRpdHk7XHJcbiAgICAgICAgaWYgKGlucHV0Lmhhc093blByb3BlcnR5KCdyZXNvdXJjZScpKSBzdWJzY3JpYmVNc2cuYm9keS5yZXNvdXJjZSA9IGlucHV0LnJlc291cmNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdWJzY3JpYmVNc2cuYm9keS5yZXN1bWUgPSBpbnB1dC5yZXN1bWU7XHJcblxyXG4gICAgICAvL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eSgnbXV0dWFsJykpIHN1YnNjcmliZU1zZy5ib2R5Lm11dHVhbCA9IGlucHV0Lm11dHVhbDtcclxuXHJcbiAgICAgIGxvZy5sb2coJ1tzeW5jaGVyX3N1YnNjcmliZV0gLSBzdWJzY3JpYmUgbWVzc2FnZTogJywgaW5wdXQsIHN1YnNjcmliZU1zZyk7XHJcblxyXG4gICAgICAvL3JlcXVlc3Qgc3Vic2NyaXB0aW9uXHJcbiAgICAgIC8vUHJvdmlzaW9uYWwgZGF0YSBpcyBhcHBsaWVkIHRvIHRoZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgYWZ0ZXIgY29uZmlybWF0aW9uLiBPciBkaXNjYXJkZWQgaWYgdGhlcmUgaXMgbm8gY29uZmlybWF0aW9uLlxyXG4gICAgICAvL2ZvciBtb3JlIGluZm8gc2VlIHRoZSBEYXRhUHJvdmlzaW9uYWwgY2xhc3MgZG9jdW1lbnRhdGlvbi5cclxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShzdWJzY3JpYmVNc2csIChyZXBseSkgPT4ge1xyXG4gICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIHN1YnNjcmliZS1yZXNwb25zZTogJywgcmVwbHkpO1xyXG5cclxuICAgICAgICBsZXQgb2JqVVJMID0gcmVwbHkuYm9keS5yZXNvdXJjZTtcclxuXHJcbiAgICAgICAgbGV0IG5ld1Byb3Zpc2lvbmFsID0gX3RoaXMuX3Byb3Zpc2lvbmFsc1tvYmpVUkxdO1xyXG4gICAgICAgIGRlbGV0ZSBfdGhpcy5fcHJvdmlzaW9uYWxzW29ialVSTF07XHJcbiAgICAgICAgaWYgKG5ld1Byb3Zpc2lvbmFsKSBuZXdQcm92aXNpb25hbC5fcmVsZWFzZUxpc3RlbmVycygpO1xyXG5cclxuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlIDwgMjAwKSB7XHJcbiAgICAgICAgICBsb2cubG9nKCdbc3luY2hlcl0gLSBuZXcgRGF0YVByb3Zpc2lvbmFsOiAnLCByZXBseS5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzLCBvYmpVUkwpO1xyXG4gICAgICAgICAgbmV3UHJvdmlzaW9uYWwgPSBuZXcgRGF0YVByb3Zpc2lvbmFsKF90aGlzLl9vd25lciwgb2JqVVJMLCBfdGhpcy5fYnVzLCByZXBseS5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtcclxuICAgICAgICAgIF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXSA9IG5ld1Byb3Zpc2lvbmFsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcclxuICAgICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIG5ldyBEYXRhIE9iamVjdCBPYnNlcnZlcjogJywgcmVwbHksIF90aGlzLl9wcm92aXNpb25hbHMpO1xyXG5cclxuICAgICAgICAgIGxldCBvYnNlcnZlcklucHV0ID0gcmVwbHkuYm9keS52YWx1ZTtcclxuXHJcbiAgICAgICAgICBvYnNlcnZlcklucHV0LnN5bmNoZXIgPSBfdGhpcztcclxuICAgICAgICAgIG9ic2VydmVySW5wdXQucDJwID0gaW5wdXQucDJwO1xyXG4gICAgICAgICAgb2JzZXJ2ZXJJbnB1dC5zdG9yZSA9IGlucHV0LnN0b3JlO1xyXG4gICAgICAgICAgb2JzZXJ2ZXJJbnB1dC5pZGVudGl0eSA9IGlucHV0LmlkZW50aXR5O1xyXG4gICAgICAgICAgb2JzZXJ2ZXJJbnB1dC5yZXN1bWUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvLyB0b2RvOiBGb3IgRnVydGhlciBTdHVkeVxyXG4gICAgICAgICAgb2JzZXJ2ZXJJbnB1dC5tdXR1YWwgPSBpbnB1dC5tdXR1YWw7XHJcblxyXG4gICAgICAgICAgLy9vYnNlcnZlcklucHV0LmNoaWxkcmVuID0gbmV3UHJvdmlzaW9uYWwuY2hpbGRyZW47XHJcblxyXG4gICAgICAgICAgLy9UT0RPOiBtdXR1YWwgRm9yIEZ1cnRoZXIgU3R1ZHlcclxuICAgICAgICAgIGxldCBuZXdPYmogPSBfdGhpcy5fb2JzZXJ2ZXJzW29ialVSTF07XHJcbiAgICAgICAgICBpZiAoIW5ld09iaikge1xyXG4gICAgICAgICAgICBuZXdPYmogPSBuZXcgRGF0YU9iamVjdE9ic2VydmVyKG9ic2VydmVySW5wdXQpO1xyXG4gICAgICAgICAgICBfdGhpcy5fb2JzZXJ2ZXJzW29ialVSTF0gPSBuZXdPYmo7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdPYmouc3luYygpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIG5ldyBEYXRhIE9iamVjdCBPYnNlcnZlciBhbHJlYWR5IGV4aXN0OiAnLCBuZXdPYmopO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUobmV3T2JqKTtcclxuXHJcbiAgICAgICAgICBpZiAobmV3UHJvdmlzaW9uYWwpIHsgbmV3UHJvdmlzaW9uYWwuYXBwbHkobmV3T2JqKTsgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVqZWN0KHJlcGx5LmJvZHkuZGVzYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3Jlc3VtZVN1YnNjcmliZShjcml0ZXJpYSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25Mb2NhbFN1YnNjcmliZVxyXG4gICAgICBsZXQgc3Vic2NyaWJlTXNnID0ge1xyXG4gICAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLCBmcm9tOiBfdGhpcy5fb3duZXIsIHRvOiBfdGhpcy5fc3ViVVJMLFxyXG4gICAgICAgIGJvZHk6IHt9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBIeXBlcnR5IHJlcXVlc3QgdG8gYmUgYW4gT2JzZXJ2ZXJcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9tZXNzYWdlcy9kYXRhLXN5bmMtbWVzc2FnZXMubWQjaHlwZXJ0eS1yZXF1ZXN0LXRvLWJlLWFuLW9ic2VydmVyXHJcblxyXG4gICAgICAvLyBSZXN1bWUgU3Vic2NyaXB0aW9ucyBmb3IgdGhlIHNhbWUgSHlwZXJ0eSBVUkxcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9tZXNzYWdlcy9kYXRhLXN5bmMtbWVzc2FnZXMubWQjcmVzdW1lLXN1YnNjcmlwdGlvbnMtZm9yLXRoZS1zYW1lLWh5cGVydHktdXJsXHJcblxyXG4gICAgICAvLyBSZXN1bWUgU3Vic2NyaXB0aW9ucyBmb3IgYSBjZXJ0YWluIHVzZXIgYW5kIGRhdGEgc2NoZW1hIGluZGVwZW5kZW50bHkgb2YgdGhlIEh5cGVydHkgVVJMLlxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L3NwZWNzL2Jsb2IvbWFzdGVyL21lc3NhZ2VzL2RhdGEtc3luYy1tZXNzYWdlcy5tZCNyZXN1bWUtc3Vic2NyaXB0aW9ucy1mb3ItYS1jZXJ0YWluLXVzZXItYW5kLWRhdGEtc2NoZW1hLWluZGVwZW5kZW50bHktb2YtdGhlLWh5cGVydHktdXJsXHJcbiAgICAgIGlmIChjcml0ZXJpYSkge1xyXG4gICAgICAgIGlmIChjcml0ZXJpYS5oYXNPd25Qcm9wZXJ0eSgncDJwJykpIHN1YnNjcmliZU1zZy5ib2R5LnAycCA9IGNyaXRlcmlhLnAycDtcclxuICAgICAgICBpZiAoY3JpdGVyaWEuaGFzT3duUHJvcGVydHkoJ3N0b3JlJykpIHN1YnNjcmliZU1zZy5ib2R5LnN0b3JlID0gY3JpdGVyaWEuc3RvcmU7XHJcbiAgICAgICAgaWYgKGNyaXRlcmlhLmhhc093blByb3BlcnR5KCdzY2hlbWEnKSkgc3Vic2NyaWJlTXNnLmJvZHkuc2NoZW1hID0gY3JpdGVyaWEuc2NoZW1hO1xyXG4gICAgICAgIGlmIChjcml0ZXJpYS5oYXNPd25Qcm9wZXJ0eSgnaWRlbnRpdHknKSkgc3Vic2NyaWJlTXNnLmJvZHkuaWRlbnRpdHkgPSBjcml0ZXJpYS5pZGVudGl0eTtcclxuICAgICAgICBpZiAoY3JpdGVyaWEuaGFzT3duUHJvcGVydHkoJ3Jlc291cmNlJykpIHN1YnNjcmliZU1zZy5ib2R5LnJlc291cmNlID0gY3JpdGVyaWEudXJsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdWJzY3JpYmVNc2cuYm9keS5yZXN1bWUgPSBjcml0ZXJpYS5yZXN1bWU7XHJcblxyXG4gICAgICAvL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgICAgIGxldCBtdXR1YWwgPSBjcml0ZXJpYS5tdXR1YWw7XHJcbiAgICAgIGlmIChjcml0ZXJpYS5oYXNPd25Qcm9wZXJ0eSgnbXV0dWFsJykpIHN1YnNjcmliZU1zZy5ib2R5Lm11dHVhbCA9IG11dHVhbDtcclxuXHJcbiAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIHN1YnNjcmliZSBtZXNzYWdlOiAnLCBjcml0ZXJpYSwgc3Vic2NyaWJlTXNnKTtcclxuXHJcbiAgICAgIC8vcmVxdWVzdCBzdWJzY3JpcHRpb25cclxuICAgICAgLy9Qcm92aXNpb25hbCBkYXRhIGlzIGFwcGxpZWQgdG8gdGhlIERhdGFPYmplY3RPYnNlcnZlciBhZnRlciBjb25maXJtYXRpb24uIE9yIGRpc2NhcmRlZCBpZiB0aGVyZSBpcyBubyBjb25maXJtYXRpb24uXHJcbiAgICAgIC8vZm9yIG1vcmUgaW5mbyBzZWUgdGhlIERhdGFQcm92aXNpb25hbCBjbGFzcyBkb2N1bWVudGF0aW9uLlxyXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHN1YnNjcmliZU1zZywgKHJlcGx5KSA9PiB7XHJcbiAgICAgICAgbG9nLmxvZygnW3N5bmNoZXJdIC0gc3Vic2NyaWJlLXJlc3VtZWQtcmVzcG9uc2U6ICcsIHJlcGx5KTtcclxuXHJcbiAgICAgICAgbGV0IG9ialVSTCA9IHJlcGx5LmJvZHkucmVzb3VyY2U7XHJcblxyXG4gICAgICAgIGxldCBuZXdQcm92aXNpb25hbCA9IF90aGlzLl9wcm92aXNpb25hbHNbb2JqVVJMXTtcclxuICAgICAgICBkZWxldGUgX3RoaXMuX3Byb3Zpc2lvbmFsc1tvYmpVUkxdO1xyXG4gICAgICAgIGlmIChuZXdQcm92aXNpb25hbCkgbmV3UHJvdmlzaW9uYWwuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA8IDIwMCkgeyAvLyB0b2RvOiBjaGVjayBpZiB0aGlzIGlzIG5lZWRlZCBmb3IgdGhlIHJlc3VtZVxyXG5cclxuICAgICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyXSAtIHJlc3VtZSBuZXcgRGF0YVByb3Zpc2lvbmFsOiAnLCByZXBseSwgb2JqVVJMKTtcclxuICAgICAgICAgIG5ld1Byb3Zpc2lvbmFsID0gbmV3IERhdGFQcm92aXNpb25hbChfdGhpcy5fb3duZXIsIG9ialVSTCwgX3RoaXMuX2J1cywgcmVwbHkuYm9keS5jaGlsZHJlblJlc291cmNlcyk7XHJcbiAgICAgICAgICBfdGhpcy5fcHJvdmlzaW9uYWxzW29ialVSTF0gPSBuZXdQcm92aXNpb25hbDtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xyXG5cclxuICAgICAgICAgIGxldCBsaXN0T2ZPYnNlcnZlcnMgPSByZXBseS5ib2R5LnZhbHVlO1xyXG5cclxuICAgICAgICAgIGZvciAobGV0IGluZGV4IGluIGxpc3RPZk9ic2VydmVycykge1xyXG5cclxuICAgICAgICAgICAgbGV0IGRhdGFPYmplY3QgPSBsaXN0T2ZPYnNlcnZlcnNbaW5kZXhdO1xyXG4gICAgICAgICAgICBsb2cubG9nKCdbc3luY2hlcl0gLSBSZXN1bWUgT2JqZWN0IE9ic2VydmVyOiAnLCByZXBseSwgZGF0YU9iamVjdCwgX3RoaXMuX3Byb3Zpc2lvbmFscyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YU9iamVjdC5jaGlsZHJlbk9iamVjdHMpIHsgZGF0YU9iamVjdC5jaGlsZHJlbk9iamVjdHMgPSBkZWVwQ2xvbmUoZGF0YU9iamVjdC5jaGlsZHJlbk9iamVjdHMpOyB9XHJcblxyXG4gICAgICAgICAgICBkYXRhT2JqZWN0LmRhdGEgPSBkZWVwQ2xvbmUoZGF0YU9iamVjdC5kYXRhKSB8fCB7fTtcclxuICAgICAgICAgICAgZGF0YU9iamVjdC5yZXN1bWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBkYXRhT2JqZWN0LnN5bmNoZXIgPSBfdGhpcztcclxuXHJcbiAgICAgICAgICAgIC8vVE9ETzogbXV0dWFsIEZvciBGdXJ0aGVyIFN0dWR5XHJcbiAgICAgICAgICAgIGxvZy5sb2coJ1tzeW5jaGVyLl9yZXN1bWVTdWJzY3JpYmVdIC0gY3JlYXRlIG5ldyBkYXRhT2JqZWN0OiAnLCBkYXRhT2JqZWN0KTtcclxuICAgICAgICAgICAgbGV0IG5ld09iaiA9IG5ldyBEYXRhT2JqZWN0T2JzZXJ2ZXIoZGF0YU9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YU9iamVjdC5jaGlsZHJlbk9iamVjdHMpIHsgbmV3T2JqLnJlc3VtZUNoaWxkcmVucyhkYXRhT2JqZWN0LmNoaWxkcmVuT2JqZWN0cyk7IH1cclxuICAgICAgICAgICAgbG9nLmxvZygnW3N5bmNoZXIuX3Jlc3VtZVN1YnNjcmliZV0gLSBuZXcgZGF0YU9iamVjdCcsIG5ld09iaik7XHJcbiAgICAgICAgICAgIF90aGlzLl9vYnNlcnZlcnNbbmV3T2JqLnVybF0gPSBuZXdPYmo7XHJcblxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Byb3Zpc2lvbmFsc1tuZXdPYmoudXJsXSkge1xyXG4gICAgICAgICAgICAgIF90aGlzLl9wcm92aXNpb25hbHNbbmV3T2JqLnVybF0uYXBwbHkobmV3T2JqKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9sZXRzIHN5bmMgd2l0aCBSZXBvcnRlclxyXG4gICAgICAgICAgICAvLyBpdCB3YXMgY29tbWVudGVkIHRvIGxldCBoeXBlcnRpZXMgZGVjaWRlIHdoZW4gdG8gc3luY1xyXG4gICAgICAgICAgICAvL25ld09iai5zeW5jKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVzb2x2ZShfdGhpcy5fb2JzZXJ2ZXJzKTtcclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5fb25PYnNlcnZlcnNSZXN1bWUpIHRoaXMuX29uT2JzZXJ2ZXJzUmVzdW1lKF90aGlzLl9vYnNlcnZlcnMpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gNDA0KSB7XHJcbiAgICAgICAgICByZXNvbHZlKHt9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVqZWN0KHJlcGx5LmJvZHkuZGVzYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgbG9jYWwgcnVudGltZSBSZXBvcnRlck9iamVjdCAtPiBfb25SZW1vdGVTdWJzY3JpYmVcclxuICBfb25Gb3J3YXJkKG1zZykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBsZXQgcmVwb3J0ZXIgPSBfdGhpcy5fcmVwb3J0ZXJzW21zZy5ib2R5LnRvXTtcclxuICAgIHJlcG9ydGVyLl9vbkZvcndhcmQobXNnKTtcclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIFN5bmNoZXIgLT4gY3JlYXRlICh0aGlzIGlzIGFjdHVhbGx5IGFuIGludml0YXRpb24gdG8gc3Vic2NyaWJlKVxyXG4gIF9vblJlbW90ZUNyZWF0ZShtc2cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgcmVzb3VyY2UgPSBtc2cuZnJvbS5zbGljZSgwLCAtMTMpOyAvL3JlbW92ZSBcIi9zdWJzY3JpcHRpb25cIiBmcm9tIHRoZSBVUkxcclxuICAgIGxldCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKHJlc291cmNlKTtcclxuICAgIGxldCBkb21haW4gPSBkaXZpZGVkVVJMLmRvbWFpbjtcclxuXHJcbiAgICBsZXQgZXZlbnQgPSB7XHJcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxyXG4gICAgICBmcm9tOiBtc2cuYm9keS5zb3VyY2UsXHJcbiAgICAgIHVybDogcmVzb3VyY2UsXHJcbiAgICAgIGRvbWFpbjogZG9tYWluLFxyXG4gICAgICBzY2hlbWE6IG1zZy5ib2R5LnNjaGVtYSxcclxuICAgICAgdmFsdWU6IG1zZy5ib2R5LnZhbHVlLFxyXG4gICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHksXHJcblxyXG4gICAgICBhY2s6ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgbGV0IGxUeXBlID0gMjAwO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICBsVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIC8vc2VuZCBhY2sgcmVzcG9uc2UgbWVzc2FnZVxyXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXHJcbiAgICAgICAgICBib2R5OiB7IGNvZGU6IGxUeXBlIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcikge1xyXG4gICAgICBsb2cuaW5mbygnW1N5bmNoZXJdIE5PVElGSUNBVElPTi1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICBfdGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIGEgcmVtb3RlIERhdGFPYmplY3RSZXBvcnRlciAtPiBkZWxldGVcclxuICBfb25SZW1vdGVEZWxldGUobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgLy9yZW1vdmUgXCIvc3Vic2NyaXB0aW9uXCIgZnJvbSB0aGUgVVJMXHJcbiAgICBsZXQgcmVzb3VyY2UgPSBtc2cuYm9keS5yZXNvdXJjZTtcclxuXHJcbiAgICBsZXQgb2JqZWN0ID0gX3RoaXMuX29ic2VydmVyc1tyZXNvdXJjZV07XHJcblxyXG4gICAgbGV0IHVuc3Vic2NyaWJlID0ge1xyXG4gICAgICBmcm9tOiBfdGhpcy5vd25lcixcclxuICAgICAgdG86IF90aGlzLl9zdWJVUkwsXHJcbiAgICAgIGlkOiBtc2cuaWQsXHJcbiAgICAgIHR5cGU6ICd1bnN1YnNjcmliZScsXHJcbiAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IG1zZy5ib2R5LnJlc291cmNlIH1cclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh1bnN1YnNjcmliZSk7XHJcblxyXG4gICAgZGVsZXRlIF90aGlzLl9vYnNlcnZlcnNbcmVzb3VyY2VdO1xyXG5cclxuICAgIGlmIChvYmplY3QpIHtcclxuICAgICAgbGV0IGV2ZW50ID0ge1xyXG4gICAgICAgIHR5cGU6IG1zZy50eXBlLFxyXG4gICAgICAgIHVybDogcmVzb3VyY2UsXHJcbiAgICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5LFxyXG5cclxuICAgICAgICBhY2s6ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgICBsZXQgbFR5cGUgPSAyMDA7XHJcbiAgICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICBsVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAvL1RPRE86IGFueSBvdGhlciBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgdGhlIHJlbGVhc2UgcHJvY2VzcywgbGlrZSBhY2NlcHQgYnV0IG5vciByZWxlYXNlIGxvY2FsP1xyXG4gICAgICAgICAgaWYgKGxUeXBlID09PSAyMDApIHtcclxuICAgICAgICAgICAgb2JqZWN0LmRlbGV0ZSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vc2VuZCBhY2sgcmVzcG9uc2UgbWVzc2FnZVxyXG4gICAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxyXG4gICAgICAgICAgICBib2R5OiB7IGNvZGU6IGxUeXBlLCBzb3VyY2U6IF90aGlzLl9vd25lciB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoX3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcikge1xyXG4gICAgICAgIGxvZy5sb2coJ05PVElGSUNBVElPTi1FVkVOVDogJywgZXZlbnQpO1xyXG4gICAgICAgIF90aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXIoZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcclxuICAgICAgICBib2R5OiB7IGNvZGU6IDQwNCwgc291cmNlOiBfdGhpcy5fb3duZXIgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGNsb3NlIGV2ZW50IHJlY2VpdmVkIGZyb20gcnVudGltZSByZWdpc3RyeVxyXG4gIF9vbkV4ZWN1dGUobXNnKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCByZXBseSA9IHtcclxuICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXHJcbiAgICAgIGJvZHk6IHsgY29kZTogMjAwIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKChtc2cuZnJvbSA9PT0gX3RoaXMuX3J1bnRpbWVVcmwgKyAnL3JlZ2lzdHJ5LycgfHwgbXNnLmZyb20gPT09IF90aGlzLl9ydW50aW1lVXJsICsgJy9yZWdpc3RyeScpICYmIG1zZy5ib2R5ICYmIG1zZy5ib2R5Lm1ldGhvZCAmJiBtc2cuYm9keS5tZXRob2QgPT09ICdjbG9zZScgJiYgX3RoaXMuX29uQ2xvc2UpIHtcclxuICAgICAgbGV0IGV2ZW50ID0ge1xyXG4gICAgICAgIHR5cGU6ICdjbG9zZScsXHJcblxyXG4gICAgICAgIGFjazogKHR5cGUpID0+IHtcclxuICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJlcGx5LmJvZHkuY29kZSA9IHR5cGU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAvL3NlbmQgYWNrIHJlc3BvbnNlIG1lc3NhZ2VcclxuICAgICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVwbHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxvZy5pbmZvKCdbU3luY2hlcl0gQ2xvc2UtRVZFTlQ6ICcsIGV2ZW50KTtcclxuICAgICAgX3RoaXMuX29uQ2xvc2UoZXZlbnQpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVwbHkpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQ2FsbGJhY2sgc3lzdGVtIHRvIHRyaWdnZXIgdGhlIHJlc3VtZWQgcmVwb3J0ZXJzXHJcbiAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGludm9rZWRcclxuICAqIEByZXR1cm4ge09iamVjdDxVUkwsIERhdGFPYmplY3RSZXBvcnRlcj59IFJldHVybiBvbmUgb2JqZWN0IHdpdGggYWxsIHJlc3VtZWQgcmVwb3J0ZXJzO1xyXG4gICovXHJcbiAgb25SZXBvcnRlcnNSZXN1bWUoY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX29uUmVwb3J0ZXJzUmVzdW1lID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIENhbGxiYWNrIHN5c3RlbSB0byB0cmlnZ2VyIHRoZSByZXN1bWVkIG9ic2VydmVyc1xyXG4gICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gY2FsbGJhY2sgd2hpY2ggd2lsbCBiZSBpbnZva2VkXHJcbiAgKiBAcmV0dXJuIHtPYmplY3Q8VVJMLCBEYXRhT2JqZWN0T2JzZXJ2ZXI+fSBSZXR1cm4gb25lIG9iamVjdCB3aXRoIGFsbCByZXN1bWVkIG9ic2VydmVycztcclxuICAqL1xyXG4gIG9uT2JzZXJ2ZXJzUmVzdW1lKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9vbk9ic2VydmVyc1Jlc3VtZSA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN5bmNoZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zeW5jaGVyL1N5bmNoZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///132\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _stringify = __webpack_require__(59);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(115);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _DataObject2 = __webpack_require__(122);\n\nvar _DataObject3 = _interopRequireDefault(_DataObject2);\n\nvar _utils = __webpack_require__(21);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObjectReporter'); /**\n                                                  * Copyright 2016 PT Inovação e Sistemas SA\n                                                  * Copyright 2016 INESC-ID\n                                                  * Copyright 2016 QUOBIS NETWORKS SL\n                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                                  * Copyright 2016 ORANGE SA\n                                                  * Copyright 2016 Deutsche Telekom AG\n                                                  * Copyright 2016 Apizee\n                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                                  *\n                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                  * you may not use this file except in compliance with the License.\n                                                  * You may obtain a copy of the License at\n                                                  *\n                                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                                  *\n                                                  * Unless required by applicable law or agreed to in writing, software\n                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                  * See the License for the specific language governing permissions and\n                                                  * limitations under the License.\n                                                  **/\n\n// Log System\n\n/**\n * The class returned from the Syncher create call.\n * To be used as a reporter point, changes will be submited to DataObjectObserver instances.\n */\nvar DataObjectReporter = function (_DataObject) {\n  (0, _inherits3.default)(DataObjectReporter, _DataObject);\n\n  /* private\n  _subscriptions: <hypertyUrl: { status: string } }>\n   ----event handlers----\n  _onSubscriptionHandler: (event) => void\n  _onResponseHandler: (event) => void\n  _onReadHandler: (event) => void\n  */\n\n  /**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher.create method\n   */\n\n  //constructor(syncher, url, created, reporter, runtime, schema, name, initialStatus, initialData, childrens, mutual = true, resumed = false, description, tags, resources, observerStorage, publicObservation) {\n  function DataObjectReporter(input) {\n    (0, _classCallCheck3.default)(this, DataObjectReporter);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DataObjectReporter.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter)).call(this, input));\n\n    var _this = _this2;\n\n    _this._subscriptions = {};\n\n    _this._syncObj.observe(function (event) {\n      log.log('[Syncher.DataObjectReporter] ' + _this.url + ' publish change: ', event);\n      _this._onChange(event);\n    });\n\n    _this._allocateListeners();\n\n    _this.invitations = []; // array of promises with pending invitations\n    _this._childrenSizeThreshold = 50000; // to be used when replying to sync requests to ensure each response msg is not too large\n\n    return _this2;\n  }\n\n  (0, _createClass3.default)(DataObjectReporter, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      (0, _get3.default)(DataObjectReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter.prototype), '_allocateListeners', this).call(this);\n      var _this = this;\n\n      _this._objectListener = _this._bus.addListener(_this._url, function (msg) {\n        log.log('[Syncher.DataObjectReporter] listener ' + _this._url + ' Received: ', msg);\n        switch (msg.type) {\n          case 'response':\n            _this._onResponse(msg);break;\n          case 'read':\n            _this._onRead(msg);break;\n          case 'execute':\n            _this._onExecute(msg);break;\n          case 'create':\n            _this._onChildCreate(msg);break; // to create child objects that were sent whenn offline\n        }\n      });\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      (0, _get3.default)(DataObjectReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectReporter.prototype), '_releaseListeners', this).call(this);\n      var _this = this;\n\n      _this._objectListener.remove();\n    }\n\n    /**\n     * Send invitations (create messages) to hyperties, observers list.\n     * @param  {HypertyURL[]} observers List of Hyperty URL's\n     */\n\n  }, {\n    key: 'inviteObservers',\n    value: function inviteObservers(observers, p2p) {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\n      // TODO: remove value and add resources? should similar to 1st create\n\n      var toInvite = observers;\n\n      // let invitePromises = [];\n\n      /*  observers.forEach((observer)=> {\n        if (!_this.invitations[observer]) {\n          toInvite.push(observer);\n          _this.invitations[observer] = observer;\n        }\n      });*/\n\n      if (toInvite.length > 0) {\n        log.log('[Syncher.DataObjectReporter] InviteObservers ', toInvite, _this._metadata);\n\n        toInvite.forEach(function (observer) {\n\n          var invitation = new _promise2.default(function (resolve, reject) {\n\n            var inviteMsg = {\n              type: 'create', from: _this._syncher._owner, to: _this._syncher._subURL,\n              body: { resume: false, resource: _this._url, schema: _this._schema, value: _this._metadata, authorise: [observer] }\n            };\n\n            if (p2p) inviteMsg.body.p2p = p2p;\n\n            if (!_this.data.mutual) inviteMsg.body.mutual = _this.data.mutual;\n\n            _this._bus.postMessage(inviteMsg, function (reply) {\n              log.log('[Syncher.DataObjectReporter] Invitation reply ', reply);\n\n              var result = {\n                invited: observer,\n                code: reply.body && reply.body.code ? reply.body.code : 500,\n                desc: reply.body && reply.body.desc ? reply.body.desc : 'Unknown'\n              };\n\n              if (result.code < 300) resolve(result);else if (result.code >= 300) reject(result);\n            });\n          });\n\n          _this.invitations.push(invitation);\n        });\n\n        //      return(invitePromises);\n      }\n    }\n\n    /**\n     * Release and delete object data\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._deleteChildrens().then(function (result) {\n        log.log(result);\n        //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onDelete\n        var deleteMsg = {\n          type: 'delete', from: _this._owner, to: _this._syncher._subURL,\n          body: { resource: _this._url }\n        };\n\n        _this._bus.postMessage(deleteMsg, function (reply) {\n          log.log('DataObjectReporter-DELETE: ', reply);\n          if (reply.body.code === 200) {\n            _this._releaseListeners();\n            delete _this._syncher._reporters[_this._url];\n\n            //_this._syncObj.unobserve();\n            _this._syncObj = {};\n          }\n        });\n      });\n    }\n\n    /**\n     * Subscriptions requested and accepted to this reporter\n     * @type {Object<HypertyURL, SyncSubscription>}\n     */\n\n  }, {\n    key: 'onSubscription',\n\n\n    /**\n     * Setup the callback to process subscribe and unsubscribe notifications\n     * @param {function(event: MsgEvent)} callback function to receive events\n     */\n    value: function onSubscription(callback) {\n      this._onSubscriptionHandler = callback;\n    }\n\n    /**\n     * Setup the callback to process response notifications of the create's\n     * @param {function(event: MsgEvent)} callback function to receive events\n     */\n\n  }, {\n    key: 'onResponse',\n    value: function onResponse(callback) {\n      this._onResponseHandler = callback;\n    }\n\n    /**\n     * Setup the callback to process read notifications\n     * @param {function(event: MsgEvent)} callback\n     */\n\n  }, {\n    key: 'onRead',\n    value: function onRead(callback) {\n      this._onReadHandler = callback;\n    }\n\n    /**\n     * Setup the callback to process execute notifications\n     * @param {function(event: MsgEvent)} callback\n     */\n\n  }, {\n    key: 'onExecute',\n    value: function onExecute(callback) {\n      this._onExecuteHandler = callback;\n    }\n\n    //FLOW-IN: message received from parent Syncher -> _onForward\n\n  }, {\n    key: '_onForward',\n    value: function _onForward(msg) {\n      var _this = this;\n\n      log.log('DataObjectReporter-RCV: ', msg);\n      switch (msg.body.type) {\n        case 'subscribe':\n          _this._onSubscribe(msg);break;\n        case 'unsubscribe':\n          _this._onUnSubscribe(msg);break;\n      }\n    }\n\n    //FLOW-IN: message received from this -> _onForward: emitted by a remote Syncher -> subscribe\n\n  }, {\n    key: '_onSubscribe',\n    value: function _onSubscribe(msg) {\n      var _this = this;\n      var hypertyUrl = msg.body.from;\n      var dividedURL = (0, _utils.divideURL)(hypertyUrl);\n      var domain = dividedURL.domain;\n      var mutual = true;\n\n      if (msg.body.hasOwnProperty('mutual') && !msg.body.mutual) mutual = false;\n\n      log.log('[DataObjectReporter._onSubscribe]', msg, domain, dividedURL);\n\n      var event = {\n        type: msg.body.type,\n        url: hypertyUrl,\n\n        domain: domain,\n\n        identity: msg.body.identity,\n\n        nutual: mutual,\n\n        accept: function accept() {\n          //create new subscription\n          var sub = { url: hypertyUrl, status: 'live' };\n          _this._subscriptions[hypertyUrl] = sub;\n          if (_this.metadata.subscriptions) {\n            _this.metadata.subscriptions.push(sub.url);\n          }\n\n          var msgValue = (0, _utils.deepClone)(_this._metadata);\n          msgValue.data = (0, _utils.deepClone)(_this.data);\n          msgValue.version = _this._version;\n\n          //process and send childrens data\n          // let childrenValues = {};\n          //\n          // if (_this._childrenObjects) {\n          //   Object.keys(_this._childrenObjects).forEach((childrenId) => {\n          //     let childrenData = _this._childrenObjects[childrenId];\n          //     childrenValues[childrenId] = deepClone(childrenData);\n          //   });\n          //   msgValue.childrenObjects = childrenValues;\n          // }\n\n          var sendMsg = {\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 200, schema: _this._schema, value: msgValue }\n          };\n\n          //TODO: For Further Study\n          if (msg.body.hasOwnProperty('mutual') && !msg.body.mutual) {\n            sendMsg.body.mutual = msg.body.mutual; // TODO: remove?\n            _this.data.mutual = false;\n          }\n\n          //send ok response message\n          _this._bus.postMessage(sendMsg);\n\n          return sub;\n        },\n\n        reject: function reject(reason) {\n          //send reject response message\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 403, desc: reason }\n          });\n        }\n      };\n\n      if (_this._onSubscriptionHandler) {\n        log.log('SUBSCRIPTION-EVENT: ', event);\n        _this._onSubscriptionHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from this -> _onForward: emitted by a remote DataObjectObserver -> unsubscribe\n\n  }, {\n    key: '_onUnSubscribe',\n    value: function _onUnSubscribe(msg) {\n      var _this = this;\n      var hypertyUrl = msg.body.from;\n      var dividedURL = (0, _utils.divideURL)(hypertyUrl);\n      var domain = dividedURL.domain;\n\n      log.log('[DataObjectReporter._onUnSubscribe]', msg, domain, dividedURL);\n\n      //let sub = _this._subscriptions[hypertyUrl];\n      delete _this._subscriptions[hypertyUrl];\n      delete _this.invitations[hypertyUrl];\n\n      var event = {\n        type: msg.body.type,\n        url: hypertyUrl,\n        domain: domain,\n        identity: msg.body.identity\n      };\n\n      // TODO: check if the _onSubscriptionHandler it is the same of the subscriptions???\n      if (_this._onSubscriptionHandler) {\n        log.log('UN-SUBSCRIPTION-EVENT: ', event);\n        _this._onSubscriptionHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> _onRemoteCreate -> event.ack\n\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n        code: msg.body.code\n      };\n\n      if (_this._onResponseHandler) {\n        log.log('RESPONSE-EVENT: ', event);\n        _this._onResponseHandler(event);\n      }\n    }\n\n    //FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> read\n\n  }, {\n    key: '_onRead',\n    value: function _onRead(msg) {\n      var _this = this;\n      var childrensSize = (0, _stringify2.default)(_this.childrensJSON).length;\n\n      var largeObject = childrensSize > _this._childrenSizeThreshold ? true : false;\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n\n        accept: function accept() {\n          if (largeObject) _this._syncReplyForLargeData(msg);else _this._syncReply(msg);\n        },\n\n        reject: function reject(reason) {\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 401, desc: reason }\n          });\n        }\n      };\n\n      // if the requester is an authorised observer, the data object is responded otherwise an event is triggered\n      var subscriptions = [];\n\n      if (_this.metadata.subscriptions) {\n        subscriptions = _this.metadata.subscriptions;\n      } else if (_this._subscriptions) {\n        subscriptions = (0, _keys2.default)(_this._subscriptions).map(function (key) {\n          return _this._subscriptions[key].url;\n        });\n      }\n\n      if (subscriptions.indexOf(msg.from) != -1) {\n        if (largeObject) _this._syncReplyForLargeData(msg);else _this._syncReply(msg);\n      } else if (_this._onReadHandler) {\n        log.log('READ-EVENT: ', event);\n        _this._onReadHandler(event);\n      }\n    }\n  }, {\n    key: '_syncReply',\n    value: function _syncReply(msg) {\n      var _this = this;\n\n      var objectValue = (0, _utils.deepClone)(_this.metadata);\n\n      objectValue.data = (0, _utils.deepClone)(_this.data);\n      objectValue.childrenObjects = (0, _utils.deepClone)(_this.childrensJSON);\n\n      objectValue.version = _this._version;\n\n      var response = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 200, value: objectValue }\n      };\n\n      _this._bus.postMessage(response);\n    }\n\n    // This function is only used if the data object to be synched has childrenOjects too large\n\n  }, {\n    key: '_syncReplyForLargeData',\n    value: function _syncReplyForLargeData(msg) {\n      //set attribute with number of spllited messages\n      var _this = this;\n\n      // lets set the initial message with no childObjects\n\n      var objectValue = (0, _utils.deepClone)(_this.metadata);\n\n      objectValue.data = (0, _utils.deepClone)(_this.data);\n\n      objectValue.version = _this._version;\n\n      delete objectValue.childrenObjects;\n\n      var children = void 0;\n      var values = []; // array of values to be sent in separated responses\n      var childrenValue = {}; // value to be used in each response\n\n      for (children in _this._childrenObjects) {\n        var child = void 0;\n        childrenValue[children] = {};\n        for (child in _this._childrenObjects[children]) {\n          if ((0, _stringify2.default)(childrenValue).length > _this._childrenSizeThreshold) {\n            //childrenValue big enough to be sent in a response message\n            values.push(childrenValue);\n            childrenValue = {};\n            childrenValue[children] = {};\n          }\n          childrenValue[children][child] = {};\n          childrenValue[children][child].value = _this._childrenObjects[children][child].metadata;\n          childrenValue[children][child].identity = _this._childrenObjects[children][child].identity;\n        }\n      }\n\n      values.push(childrenValue);\n\n      objectValue.responses = values.length + 1; //number of responses to be sent\n\n      var initialResponse = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 100, value: objectValue }\n      };\n\n      _this._bus.postMessage(initialResponse);\n\n      values.forEach(function (value) {\n\n        var response = (0, _utils.deepClone)(initialResponse);\n\n        response.body.value = value;\n\n        response.body.value.responses = objectValue.responses;\n\n        setTimeout(function () {\n          _this._bus.postMessage(response);\n        }, 50);\n\n        // should put a timeout?\n      });\n    }\n\n    // Execute request received\n\n  }, {\n    key: '_onExecute',\n    value: function _onExecute(msg) {\n      var _this = this;\n\n      if (!msg.body.method) throw '[DataObjectReporter._onExecute] method missing ', msg;\n\n      var response = {\n        id: msg.id, type: 'response', from: msg.to, to: msg.from,\n        body: { code: 200 }\n      };\n\n      var event = {\n        type: msg.type,\n        url: msg.from,\n        method: msg.body.method,\n        params: msg.body.params,\n\n        accept: function accept() {\n          _this._bus.postMessage(response);\n        },\n\n        reject: function reject(reason) {\n          _this._bus.postMessage({\n            id: msg.id, type: 'response', from: msg.to, to: msg.from,\n            body: { code: 401, desc: reason }\n          });\n        }\n      };\n\n      if (_this._onExecuteHandler) {\n        log.log('[DataObjectReporter] EXECUTE-EVENT: ', event);\n        _this._onExecuteHandler(event);\n      }\n    }\n  }, {\n    key: 'subscriptions',\n    get: function get() {\n      return this._subscriptions;\n    }\n  }, {\n    key: 'childrensJSON',\n    get: function get() {\n      var _this = this;\n      var childrens = {};\n\n      var children = void 0;\n\n      for (children in _this._childrenObjects) {\n        var child = void 0;\n        childrens[children] = {};\n        for (child in _this._childrenObjects[children]) {\n          childrens[children][child] = {};\n          childrens[children][child].value = _this._childrenObjects[children][child].metadata;\n          childrens[children][child].identity = _this._childrenObjects[children][child].identity;\n        }\n      }\n\n      return childrens;\n    }\n  }]);\n  return DataObjectReporter;\n}(_DataObject3.default /* implements SyncStatus */);\n\nexports.default = DataObjectReporter;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIuanM/ZWMxMyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJEYXRhT2JqZWN0UmVwb3J0ZXIiLCJpbnB1dCIsIl90aGlzIiwiX3N1YnNjcmlwdGlvbnMiLCJfc3luY09iaiIsIm9ic2VydmUiLCJldmVudCIsInVybCIsIl9vbkNoYW5nZSIsIl9hbGxvY2F0ZUxpc3RlbmVycyIsImludml0YXRpb25zIiwiX2NoaWxkcmVuU2l6ZVRocmVzaG9sZCIsIl9vYmplY3RMaXN0ZW5lciIsIl9idXMiLCJhZGRMaXN0ZW5lciIsIl91cmwiLCJtc2ciLCJ0eXBlIiwiX29uUmVzcG9uc2UiLCJfb25SZWFkIiwiX29uRXhlY3V0ZSIsIl9vbkNoaWxkQ3JlYXRlIiwicmVtb3ZlIiwib2JzZXJ2ZXJzIiwicDJwIiwidG9JbnZpdGUiLCJsZW5ndGgiLCJfbWV0YWRhdGEiLCJmb3JFYWNoIiwib2JzZXJ2ZXIiLCJpbnZpdGF0aW9uIiwicmVzb2x2ZSIsInJlamVjdCIsImludml0ZU1zZyIsImZyb20iLCJfc3luY2hlciIsIl9vd25lciIsInRvIiwiX3N1YlVSTCIsImJvZHkiLCJyZXN1bWUiLCJyZXNvdXJjZSIsInNjaGVtYSIsIl9zY2hlbWEiLCJ2YWx1ZSIsImF1dGhvcmlzZSIsImRhdGEiLCJtdXR1YWwiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwicmVzdWx0IiwiaW52aXRlZCIsImNvZGUiLCJkZXNjIiwicHVzaCIsIl9kZWxldGVDaGlsZHJlbnMiLCJ0aGVuIiwiZGVsZXRlTXNnIiwiX3JlbGVhc2VMaXN0ZW5lcnMiLCJfcmVwb3J0ZXJzIiwiY2FsbGJhY2siLCJfb25TdWJzY3JpcHRpb25IYW5kbGVyIiwiX29uUmVzcG9uc2VIYW5kbGVyIiwiX29uUmVhZEhhbmRsZXIiLCJfb25FeGVjdXRlSGFuZGxlciIsIl9vblN1YnNjcmliZSIsIl9vblVuU3Vic2NyaWJlIiwiaHlwZXJ0eVVybCIsImRpdmlkZWRVUkwiLCJkb21haW4iLCJoYXNPd25Qcm9wZXJ0eSIsImlkZW50aXR5IiwibnV0dWFsIiwiYWNjZXB0Iiwic3ViIiwic3RhdHVzIiwibWV0YWRhdGEiLCJzdWJzY3JpcHRpb25zIiwibXNnVmFsdWUiLCJ2ZXJzaW9uIiwiX3ZlcnNpb24iLCJzZW5kTXNnIiwiaWQiLCJyZWFzb24iLCJjaGlsZHJlbnNTaXplIiwiY2hpbGRyZW5zSlNPTiIsImxhcmdlT2JqZWN0IiwiX3N5bmNSZXBseUZvckxhcmdlRGF0YSIsIl9zeW5jUmVwbHkiLCJtYXAiLCJrZXkiLCJpbmRleE9mIiwib2JqZWN0VmFsdWUiLCJjaGlsZHJlbk9iamVjdHMiLCJyZXNwb25zZSIsImNoaWxkcmVuIiwidmFsdWVzIiwiY2hpbGRyZW5WYWx1ZSIsIl9jaGlsZHJlbk9iamVjdHMiLCJjaGlsZCIsInJlc3BvbnNlcyIsImluaXRpYWxSZXNwb25zZSIsInNldFRpbWVvdXQiLCJtZXRob2QiLCJwYXJhbXMiLCJjaGlsZHJlbnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7SUFBWUEsTTs7QUFHWjs7OztBQUVBOzs7Ozs7QUFKQSxJQUFJQyxNQUFNRCxPQUFPRSxTQUFQLENBQWlCLG9CQUFqQixDQUFWLEMsQ0F6QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztBQVFBOzs7O0lBSU1DLGtCOzs7QUFDSjs7Ozs7Ozs7QUFTQTs7Ozs7QUFLQTtBQUNBLDhCQUFZQyxLQUFaLEVBQW1CO0FBQUE7O0FBQUEsK0pBRVhBLEtBRlc7O0FBR2pCLFFBQUlDLGNBQUo7O0FBRUFBLFVBQU1DLGNBQU4sR0FBdUIsRUFBdkI7O0FBRUFELFVBQU1FLFFBQU4sQ0FBZUMsT0FBZixDQUF1QixVQUFDQyxLQUFELEVBQVc7QUFDaENSLFVBQUlBLEdBQUosQ0FBUSxrQ0FBa0NJLE1BQU1LLEdBQXhDLEdBQThDLG1CQUF0RCxFQUEyRUQsS0FBM0U7QUFDQUosWUFB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TCxJQUFjakcsTUFBTWdHLGdCQUFOLENBQXVCSCxRQUF2QixDQUFkLEVBQWdEO0FBQzlDVSxvQkFBVVYsUUFBVixFQUFvQkksS0FBcEIsSUFBNkIsRUFBN0I7QUFDQU0sb0JBQVVWLFFBQVYsRUFBb0JJLEtBQXBCLEVBQTJCdkQsS0FBM0IsR0FBbUMxQyxNQUFNZ0csZ0JBQU4sQ0FBdUJILFFBQXZCLEVBQWlDSSxLQUFqQyxFQUF3Q3ZCLFFBQTNFO0FBQ0E2QixvQkFBVVYsUUFBVixFQUFvQkksS0FBcEIsRUFBMkI1QixRQUEzQixHQUFzQ3JFLE1BQU1nRyxnQkFBTixDQUF1QkgsUUFBdkIsRUFBaUNJLEtBQWpDLEVBQXdDNUIsUUFBOUU7QUFDRDtBQUNGOztBQUVELGFBQU9rQyxTQUFQO0FBQ0Q7Ozt1QkF6WHlDLDJCOztrQkFrZjdCekcsa0IiLCJmaWxlIjoiMTMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG4vLyBMb2cgU3lzdGVtXG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnbG9nbGV2ZWwnO1xubGV0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ0RhdGFPYmplY3RSZXBvcnRlcicpO1xuXG5pbXBvcnQgRGF0YU9iamVjdCBmcm9tICcuL0RhdGFPYmplY3QnO1xuXG5pbXBvcnQgeyBkZWVwQ2xvbmUsIGRpdmlkZVVSTCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcblxuLyoqXG4gKiBUaGUgY2xhc3MgcmV0dXJuZWQgZnJvbSB0aGUgU3luY2hlciBjcmVhdGUgY2FsbC5cbiAqIFRvIGJlIHVzZWQgYXMgYSByZXBvcnRlciBwb2ludCwgY2hhbmdlcyB3aWxsIGJlIHN1Ym1pdGVkIHRvIERhdGFPYmplY3RPYnNlcnZlciBpbnN0YW5jZXMuXG4gKi9cbmNsYXNzIERhdGFPYmplY3RSZXBvcnRlciBleHRlbmRzIERhdGFPYmplY3QgLyogaW1wbGVtZW50cyBTeW5jU3RhdHVzICovIHtcbiAgLyogcHJpdmF0ZVxuICBfc3Vic2NyaXB0aW9uczogPGh5cGVydHlVcmw6IHsgc3RhdHVzOiBzdHJpbmcgfSB9PlxuXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cbiAgX29uU3Vic2NyaXB0aW9uSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXG4gIF9vblJlc3BvbnNlSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkXG4gIF9vblJlYWRIYW5kbGVyOiAoZXZlbnQpID0+IHZvaWRcbiAgKi9cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYnkgSHlwZXJ0aWVzLiBJdCdzIGNhbGxlZCBieSB0aGUgU3luY2hlci5jcmVhdGUgbWV0aG9kXG4gICAqL1xuXG4gIC8vY29uc3RydWN0b3Ioc3luY2hlciwgdXJsLCBjcmVhdGVkLCByZXBvcnRlciwgcnVudGltZSwgc2NoZW1hLCBuYW1lLCBpbml0aWFsU3RhdHVzLCBpbml0aWFsRGF0YSwgY2hpbGRyZW5zLCBtdXR1YWwgPSB0cnVlLCByZXN1bWVkID0gZmFsc2UsIGRlc2NyaXB0aW9uLCB0YWdzLCByZXNvdXJjZXMsIG9ic2VydmVyU3RvcmFnZSwgcHVibGljT2JzZXJ2YXRpb24pIHtcbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcblxuICAgIHN1cGVyKGlucHV0KTtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX3N1YnNjcmlwdGlvbnMgPSB7fTtcblxuICAgIF90aGlzLl9zeW5jT2JqLm9ic2VydmUoKGV2ZW50KSA9PiB7XG4gICAgICBsb2cubG9nKCdbU3luY2hlci5EYXRhT2JqZWN0UmVwb3J0ZXJdICcgKyBfdGhpcy51cmwgKyAnIHB1Ymxpc2ggY2hhbmdlOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25DaGFuZ2UoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG5cbiAgICBfdGhpcy5pbnZpdGF0aW9ucyA9IFtdOyAvLyBhcnJheSBvZiBwcm9taXNlcyB3aXRoIHBlbmRpbmcgaW52aXRhdGlvbnNcbiAgICBfdGhpcy5fY2hpbGRyZW5TaXplVGhyZXNob2xkID0gNTAwMDA7Ly8gdG8gYmUgdXNlZCB3aGVuIHJlcGx5aW5nIHRvIHN5bmMgcmVxdWVzdHMgdG8gZW5zdXJlIGVhY2ggcmVzcG9uc2UgbXNnIGlzIG5vdCB0b28gbGFyZ2VcblxuICB9XG5cbiAgX2FsbG9jYXRlTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9hbGxvY2F0ZUxpc3RlbmVycygpO1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fb2JqZWN0TGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKF90aGlzLl91cmwsIChtc2cpID0+IHtcbiAgICAgIGxvZy5sb2coJ1tTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gbGlzdGVuZXIgJyArIF90aGlzLl91cmwgKyAnIFJlY2VpdmVkOiAnLCBtc2cpO1xuICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgICBjYXNlICdyZXNwb25zZSc6IF90aGlzLl9vblJlc3BvbnNlKG1zZyk7IGJyZWFrO1xuICAgICAgICBjYXNlICdyZWFkJzogX3RoaXMuX29uUmVhZChtc2cpOyBicmVhaztcbiAgICAgICAgY2FzZSAnZXhlY3V0ZSc6IF90aGlzLl9vbkV4ZWN1dGUobXNnKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NyZWF0ZSc6IF90aGlzLl9vbkNoaWxkQ3JlYXRlKG1zZyk7IGJyZWFrOy8vIHRvIGNyZWF0ZSBjaGlsZCBvYmplY3RzIHRoYXQgd2VyZSBzZW50IHdoZW5uIG9mZmxpbmVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9yZWxlYXNlTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9vYmplY3RMaXN0ZW5lci5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGludml0YXRpb25zIChjcmVhdGUgbWVzc2FnZXMpIHRvIGh5cGVydGllcywgb2JzZXJ2ZXJzIGxpc3QuXG4gICAqIEBwYXJhbSAge0h5cGVydHlVUkxbXX0gb2JzZXJ2ZXJzIExpc3Qgb2YgSHlwZXJ0eSBVUkwnc1xuICAgKi9cbiAgaW52aXRlT2JzZXJ2ZXJzKG9ic2VydmVycywgcDJwKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuXG4gICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25DcmVhdGVcbiAgICAvLyBUT0RPOiByZW1vdmUgdmFsdWUgYW5kIGFkZCByZXNvdXJjZXM/IHNob3VsZCBzaW1pbGFyIHRvIDFzdCBjcmVhdGVcblxuICAgIGxldCB0b0ludml0ZSA9IG9ic2VydmVycztcblxuICAgIC8vIGxldCBpbnZpdGVQcm9taXNlcyA9IFtdO1xuXG4gICAgLyogIG9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcik9PiB7XG4gICAgICBpZiAoIV90aGlzLmludml0YXRpb25zW29ic2VydmVyXSkge1xuICAgICAgICB0b0ludml0ZS5wdXNoKG9ic2VydmVyKTtcbiAgICAgICAgX3RoaXMuaW52aXRhdGlvbnNbb2JzZXJ2ZXJdID0gb2JzZXJ2ZXI7XG4gICAgICB9XG4gICAgfSk7Ki9cblxuXG4gICAgaWYgKHRvSW52aXRlLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZy5sb2coJ1tTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gSW52aXRlT2JzZXJ2ZXJzICcsIHRvSW52aXRlLCBfdGhpcy5fbWV0YWRhdGEpO1xuXG4gICAgICB0b0ludml0ZS5mb3JFYWNoKChvYnNlcnZlcik9PntcblxuICAgICAgICBsZXQgaW52aXRhdGlvbiA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgIGxldCBpbnZpdGVNc2cgPSB7XG4gICAgICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX3N5bmNoZXIuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcbiAgICAgICAgICAgIGJvZHk6IHsgcmVzdW1lOiBmYWxzZSwgcmVzb3VyY2U6IF90aGlzLl91cmwsIHNjaGVtYTogX3RoaXMuX3NjaGVtYSwgdmFsdWU6IF90aGlzLl9tZXRhZGF0YSwgYXV0aG9yaXNlOiBbb2JzZXJ2ZXJdIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHAycCkgaW52aXRlTXNnLmJvZHkucDJwID0gcDJwO1xuXG4gICAgICAgICAgaWYgKCFfdGhpcy5kYXRhLm11dHVhbCkgaW52aXRlTXNnLmJvZHkubXV0dWFsID0gX3RoaXMuZGF0YS5tdXR1YWw7XG5cbiAgICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKGludml0ZU1zZywgKHJlcGx5KT0+e1xuICAgICAgICAgICAgbG9nLmxvZygnW1N5bmNoZXIuRGF0YU9iamVjdFJlcG9ydGVyXSBJbnZpdGF0aW9uIHJlcGx5ICcsIHJlcGx5KTtcblxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgaW52aXRlZDogb2JzZXJ2ZXIsXG4gICAgICAgICAgICAgIGNvZGU6IHJlcGx5LmJvZHkgJiYgcmVwbHkuYm9keS5jb2RlID8gcmVwbHkuYm9keS5jb2RlIDogNTAwLFxuICAgICAgICAgICAgICBkZXNjOiByZXBseS5ib2R5ICYmIHJlcGx5LmJvZHkuZGVzYyA/IHJlcGx5LmJvZHkuZGVzYyA6ICdVbmtub3duJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlIDwgMzAwKSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuY29kZSA+PSAzMDApIHJlamVjdChyZXN1bHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5pbnZpdGF0aW9ucy5wdXNoKGludml0YXRpb24pO1xuXG4gICAgICB9KTtcblxuICAgICAgLy8gICAgICByZXR1cm4oaW52aXRlUHJvbWlzZXMpO1xuXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2UgYW5kIGRlbGV0ZSBvYmplY3QgZGF0YVxuICAgKi9cbiAgZGVsZXRlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fZGVsZXRlQ2hpbGRyZW5zKCkudGhlbigocmVzdWx0KT0+e1xuICAgICAgbG9nLmxvZyhyZXN1bHQpO1xuICAgICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25EZWxldGVcbiAgICAgIGxldCBkZWxldGVNc2cgPSB7XG4gICAgICAgIHR5cGU6ICdkZWxldGUnLCBmcm9tOiBfdGhpcy5fb3duZXIsIHRvOiBfdGhpcy5fc3luY2hlci5fc3ViVVJMLFxuICAgICAgICBib2R5OiB7IHJlc291cmNlOiBfdGhpcy5fdXJsIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoZGVsZXRlTXNnLCAocmVwbHkpID0+IHtcbiAgICAgICAgbG9nLmxvZygnRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogJywgcmVwbHkpO1xuICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHtcbiAgICAgICAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpO1xuICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fc3luY2hlci5fcmVwb3J0ZXJzW190aGlzLl91cmxdO1xuXG4gICAgICAgICAgLy9fdGhpcy5fc3luY09iai51bm9ic2VydmUoKTtcbiAgICAgICAgICBfdGhpcy5fc3luY09iaiA9IHt9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmlwdGlvbnMgcmVxdWVzdGVkIGFuZCBhY2NlcHRlZCB0byB0aGlzIHJlcG9ydGVyXG4gICAqIEB0eXBlIHtPYmplY3Q8SHlwZXJ0eVVSTCwgU3luY1N1YnNjcmlwdGlvbj59XG4gICAqL1xuICBnZXQgc3Vic2NyaXB0aW9ucygpIHsgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnM7IH1cblxuICAvKipcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3Mgc3Vic2NyaWJlIGFuZCB1bnN1YnNjcmliZSBub3RpZmljYXRpb25zXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVjZWl2ZSBldmVudHNcbiAgICovXG4gIG9uU3Vic2NyaXB0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVzcG9uc2Ugbm90aWZpY2F0aW9ucyBvZiB0aGUgY3JlYXRlJ3NcbiAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudDogTXNnRXZlbnQpfSBjYWxsYmFjayBmdW5jdGlvbiB0byByZWNlaXZlIGV2ZW50c1xuICAgKi9cbiAgb25SZXNwb25zZShjYWxsYmFjaykge1xuICAgIHRoaXMuX29uUmVzcG9uc2VIYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgdGhlIGNhbGxiYWNrIHRvIHByb2Nlc3MgcmVhZCBub3RpZmljYXRpb25zXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQ6IE1zZ0V2ZW50KX0gY2FsbGJhY2tcbiAgICovXG5cbiAgb25SZWFkKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25SZWFkSGFuZGxlciA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBjYWxsYmFjayB0byBwcm9jZXNzIGV4ZWN1dGUgbm90aWZpY2F0aW9uc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuXG4gIG9uRXhlY3V0ZShjYWxsYmFjaykge1xuICAgIHRoaXMuX29uRXhlY3V0ZUhhbmRsZXIgPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIHBhcmVudCBTeW5jaGVyIC0+IF9vbkZvcndhcmRcbiAgX29uRm9yd2FyZChtc2cpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbG9nLmxvZygnRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogJywgbXNnKTtcbiAgICBzd2l0Y2ggKG1zZy5ib2R5LnR5cGUpIHtcbiAgICAgIGNhc2UgJ3N1YnNjcmliZSc6IF90aGlzLl9vblN1YnNjcmliZShtc2cpOyBicmVhaztcbiAgICAgIGNhc2UgJ3Vuc3Vic2NyaWJlJzogX3RoaXMuX29uVW5TdWJzY3JpYmUobXNnKTsgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gdGhpcyAtPiBfb25Gb3J3YXJkOiBlbWl0dGVkIGJ5IGEgcmVtb3RlIFN5bmNoZXIgLT4gc3Vic2NyaWJlXG4gIF9vblN1YnNjcmliZShtc2cpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBoeXBlcnR5VXJsID0gbXNnLmJvZHkuZnJvbTtcbiAgICBsZXQgZGl2aWRlZFVSTCA9IGRpdmlkZVVSTChoeXBlcnR5VXJsKTtcbiAgICBsZXQgZG9tYWluID0gZGl2aWRlZFVSTC5kb21haW47XG4gICAgbGV0IG11dHVhbCA9IHRydWU7XG5cbiAgICBpZiAobXNnLmJvZHkuaGFzT3duUHJvcGVydHkoJ211dHVhbCcpICYmICFtc2cuYm9keS5tdXR1YWwpIG11dHVhbCA9IGZhbHNlO1xuXG5cbiAgICBsb2cubG9nKCdbRGF0YU9iamVjdFJlcG9ydGVyLl9vblN1YnNjcmliZV0nLCBtc2csIGRvbWFpbiwgZGl2aWRlZFVSTCk7XG5cbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBtc2cuYm9keS50eXBlLFxuICAgICAgdXJsOiBoeXBlcnR5VXJsLFxuXG4gICAgICBkb21haW46IGRvbWFpbixcblxuICAgICAgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5LFxuXG4gICAgICBudXR1YWw6IG11dHVhbCxcblxuICAgICAgYWNjZXB0OiAoKSA9PiB7XG4gICAgICAgIC8vY3JlYXRlIG5ldyBzdWJzY3JpcHRpb25cbiAgICAgICAgbGV0IHN1YiA9IHsgdXJsOiBoeXBlcnR5VXJsLCBzdGF0dXM6ICdsaXZlJyB9O1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uc1toeXBlcnR5VXJsXSA9IHN1YjtcbiAgICAgICAgaWYgKF90aGlzLm1ldGFkYXRhLnN1YnNjcmlwdGlvbnMpIHsgX3RoaXMubWV0YWRhdGEuc3Vic2NyaXB0aW9ucy5wdXNoKHN1Yi51cmwpOyB9XG5cbiAgICAgICAgbGV0IG1zZ1ZhbHVlID0gZGVlcENsb25lKF90aGlzLl9tZXRhZGF0YSk7XG4gICAgICAgIG1zZ1ZhbHVlLmRhdGEgPSBkZWVwQ2xvbmUoX3RoaXMuZGF0YSk7XG4gICAgICAgIG1zZ1ZhbHVlLnZlcnNpb24gPSBfdGhpcy5fdmVyc2lvbjtcblxuICAgICAgICAvL3Byb2Nlc3MgYW5kIHNlbmQgY2hpbGRyZW5zIGRhdGFcbiAgICAgICAgLy8gbGV0IGNoaWxkcmVuVmFsdWVzID0ge307XG4gICAgICAgIC8vXG4gICAgICAgIC8vIGlmIChfdGhpcy5fY2hpbGRyZW5PYmplY3RzKSB7XG4gICAgICAgIC8vICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoY2hpbGRyZW5JZCkgPT4ge1xuICAgICAgICAvLyAgICAgbGV0IGNoaWxkcmVuRGF0YSA9IF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5JZF07XG4gICAgICAgIC8vICAgICBjaGlsZHJlblZhbHVlc1tjaGlsZHJlbklkXSA9IGRlZXBDbG9uZShjaGlsZHJlbkRhdGEpO1xuICAgICAgICAvLyAgIH0pO1xuICAgICAgICAvLyAgIG1zZ1ZhbHVlLmNoaWxkcmVuT2JqZWN0cyA9IGNoaWxkcmVuVmFsdWVzO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgbGV0IHNlbmRNc2cgPSB7XG4gICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXG4gICAgICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHNjaGVtYTogX3RoaXMuX3NjaGVtYSwgdmFsdWU6IG1zZ1ZhbHVlIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5XG4gICAgICAgIGlmIChtc2cuYm9keS5oYXNPd25Qcm9wZXJ0eSgnbXV0dWFsJykgJiYgIW1zZy5ib2R5Lm11dHVhbCkge1xuICAgICAgICAgIHNlbmRNc2cuYm9keS5tdXR1YWwgPSBtc2cuYm9keS5tdXR1YWw7Ly8gVE9ETzogcmVtb3ZlP1xuICAgICAgICAgIF90aGlzLmRhdGEubXV0dWFsID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvL3NlbmQgb2sgcmVzcG9uc2UgbWVzc2FnZVxuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHNlbmRNc2cpO1xuXG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgICB9LFxuXG4gICAgICByZWplY3Q6IChyZWFzb24pID0+IHtcbiAgICAgICAgLy9zZW5kIHJlamVjdCByZXNwb25zZSBtZXNzYWdlXG4gICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgICAgIGJvZHk6IHsgY29kZTogNDAzLCBkZXNjOiByZWFzb24gfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKF90aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgIGxvZy5sb2coJ1NVQlNDUklQVElPTi1FVkVOVDogJywgZXZlbnQpO1xuICAgICAgX3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gdGhpcyAtPiBfb25Gb3J3YXJkOiBlbWl0dGVkIGJ5IGEgcmVtb3RlIERhdGFPYmplY3RPYnNlcnZlciAtPiB1bnN1YnNjcmliZVxuICBfb25VblN1YnNjcmliZShtc2cpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBoeXBlcnR5VXJsID0gbXNnLmJvZHkuZnJvbTtcbiAgICBsZXQgZGl2aWRlZFVSTCA9IGRpdmlkZVVSTChoeXBlcnR5VXJsKTtcbiAgICBsZXQgZG9tYWluID0gZGl2aWRlZFVSTC5kb21haW47XG5cbiAgICBsb2cubG9nKCdbRGF0YU9iamVjdFJlcG9ydGVyLl9vblVuU3Vic2NyaWJlXScsIG1zZywgZG9tYWluLCBkaXZpZGVkVVJMKTtcblxuICAgIC8vbGV0IHN1YiA9IF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVcmxdO1xuICAgIGRlbGV0ZSBfdGhpcy5fc3Vic2NyaXB0aW9uc1toeXBlcnR5VXJsXTtcbiAgICBkZWxldGUgX3RoaXMuaW52aXRhdGlvbnNbaHlwZXJ0eVVybF07XG5cbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBtc2cuYm9keS50eXBlLFxuICAgICAgdXJsOiBoeXBlcnR5VXJsLFxuICAgICAgZG9tYWluOiBkb21haW4sXG4gICAgICBpZGVudGl0eTogbXNnLmJvZHkuaWRlbnRpdHlcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogY2hlY2sgaWYgdGhlIF9vblN1YnNjcmlwdGlvbkhhbmRsZXIgaXQgaXMgdGhlIHNhbWUgb2YgdGhlIHN1YnNjcmlwdGlvbnM/Pz9cbiAgICBpZiAoX3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgbG9nLmxvZygnVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvL0ZMT1ctSU46IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBSZXBvcnRlclVSTCBhZGRyZXNzOiBlbWl0ZWQgYnkgYSByZW1vdGUgU3luY2hlciAtPiBfb25SZW1vdGVDcmVhdGUgLT4gZXZlbnQuYWNrXG4gIF9vblJlc3BvbnNlKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBtc2cudHlwZSxcbiAgICAgIHVybDogbXNnLmZyb20sXG4gICAgICBjb2RlOiBtc2cuYm9keS5jb2RlXG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIpIHtcbiAgICAgIGxvZy5sb2coJ1JFU1BPTlNFLUVWRU5UOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25SZXNwb25zZUhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIFJlcG9ydGVyVVJMIGFkZHJlc3M6IGVtaXRlZCBieSBhIHJlbW90ZSBTeW5jaGVyIC0+IHJlYWRcbiAgX29uUmVhZChtc2cpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBjaGlsZHJlbnNTaXplID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMuY2hpbGRyZW5zSlNPTikubGVuZ3RoO1xuXG4gICAgbGV0IGxhcmdlT2JqZWN0ID0gKGNoaWxkcmVuc1NpemUgPiBfdGhpcy5fY2hpbGRyZW5TaXplVGhyZXNob2xkKSA/IHRydWUgOiBmYWxzZTtcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxuICAgICAgdXJsOiBtc2cuZnJvbSxcblxuICAgICAgYWNjZXB0OiAoKSA9PiB7XG4gICAgICAgIGlmIChsYXJnZU9iamVjdCkgX3RoaXMuX3N5bmNSZXBseUZvckxhcmdlRGF0YShtc2cpO1xuICAgICAgICBlbHNlIF90aGlzLl9zeW5jUmVwbHkobXNnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlamVjdDogKHJlYXNvbikgPT4ge1xuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcbiAgICAgICAgICBib2R5OiB7IGNvZGU6IDQwMSwgZGVzYzogcmVhc29uIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGlmIHRoZSByZXF1ZXN0ZXIgaXMgYW4gYXV0aG9yaXNlZCBvYnNlcnZlciwgdGhlIGRhdGEgb2JqZWN0IGlzIHJlc3BvbmRlZCBvdGhlcndpc2UgYW4gZXZlbnQgaXMgdHJpZ2dlcmVkXG4gICAgbGV0IHN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgIGlmIChfdGhpcy5tZXRhZGF0YS5zdWJzY3JpcHRpb25zKSB7XG4gICAgICBzdWJzY3JpcHRpb25zID0gX3RoaXMubWV0YWRhdGEuc3Vic2NyaXB0aW9ucztcbiAgICB9IGVsc2UgaWYgKF90aGlzLl9zdWJzY3JpcHRpb25zKSB7XG4gICAgICBzdWJzY3JpcHRpb25zID0gT2JqZWN0LmtleXMoX3RoaXMuX3N1YnNjcmlwdGlvbnMpLm1hcChmdW5jdGlvbihrZXkpIHsgcmV0dXJuIF90aGlzLl9zdWJzY3JpcHRpb25zW2tleV0udXJsOyB9KTtcbiAgICB9XG5cbiAgICBpZiAoc3Vic2NyaXB0aW9ucy5pbmRleE9mKG1zZy5mcm9tKSAhPSAtMSkge1xuICAgICAgaWYgKGxhcmdlT2JqZWN0KSBfdGhpcy5fc3luY1JlcGx5Rm9yTGFyZ2VEYXRhKG1zZyk7XG4gICAgICBlbHNlIF90aGlzLl9zeW5jUmVwbHkobXNnKTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLl9vblJlYWRIYW5kbGVyKSB7XG4gICAgICBsb2cubG9nKCdSRUFELUVWRU5UOiAnLCBldmVudCk7XG4gICAgICBfdGhpcy5fb25SZWFkSGFuZGxlcihldmVudCk7XG4gICAgfVxuXG4gIH1cblxuICBnZXQgY2hpbGRyZW5zSlNPTigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBjaGlsZHJlbnMgPSB7fTtcblxuICAgIGxldCBjaGlsZHJlbjtcblxuICAgIGZvciAoY2hpbGRyZW4gaW4gX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykge1xuICAgICAgbGV0IGNoaWxkO1xuICAgICAgY2hpbGRyZW5zW2NoaWxkcmVuXSA9IHt9O1xuICAgICAgZm9yIChjaGlsZCBpbiBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXSkge1xuICAgICAgICBjaGlsZHJlbnNbY2hpbGRyZW5dW2NoaWxkXSA9IHt9O1xuICAgICAgICBjaGlsZHJlbnNbY2hpbGRyZW5dW2NoaWxkXS52YWx1ZSA9IF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5dW2NoaWxkXS5tZXRhZGF0YTtcbiAgICAgICAgY2hpbGRyZW5zW2NoaWxkcmVuXVtjaGlsZF0uaWRlbnRpdHkgPSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXVtjaGlsZF0uaWRlbnRpdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkcmVucztcbiAgfVxuXG4gIF9zeW5jUmVwbHkobXNnKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBvYmplY3RWYWx1ZSA9IGRlZXBDbG9uZShfdGhpcy5tZXRhZGF0YSk7XG5cbiAgICBvYmplY3RWYWx1ZS5kYXRhID0gZGVlcENsb25lKF90aGlzLmRhdGEpO1xuICAgIG9iamVjdFZhbHVlLmNoaWxkcmVuT2JqZWN0cyA9IGRlZXBDbG9uZShfdGhpcy5jaGlsZHJlbnNKU09OKTtcblxuICAgIG9iamVjdFZhbHVlLnZlcnNpb24gPSBfdGhpcy5fdmVyc2lvbjtcblxuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiBvYmplY3RWYWx1ZSB9XG4gICAgfTtcblxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVzcG9uc2UpO1xuXG4gIH1cblxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgdXNlZCBpZiB0aGUgZGF0YSBvYmplY3QgdG8gYmUgc3luY2hlZCBoYXMgY2hpbGRyZW5PamVjdHMgdG9vIGxhcmdlXG5cbiAgX3N5bmNSZXBseUZvckxhcmdlRGF0YShtc2cpIHtcbiAgLy9zZXQgYXR0cmlidXRlIHdpdGggbnVtYmVyIG9mIHNwbGxpdGVkIG1lc3NhZ2VzXG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIC8vIGxldHMgc2V0IHRoZSBpbml0aWFsIG1lc3NhZ2Ugd2l0aCBubyBjaGlsZE9iamVjdHNcblxuICAgIGxldCBvYmplY3RWYWx1ZSA9IGRlZXBDbG9uZShfdGhpcy5tZXRhZGF0YSk7XG5cbiAgICBvYmplY3RWYWx1ZS5kYXRhID0gZGVlcENsb25lKF90aGlzLmRhdGEpO1xuXG4gICAgb2JqZWN0VmFsdWUudmVyc2lvbiA9IF90aGlzLl92ZXJzaW9uO1xuXG4gICAgZGVsZXRlIG9iamVjdFZhbHVlLmNoaWxkcmVuT2JqZWN0cztcblxuICAgIGxldCBjaGlsZHJlbjtcbiAgICBsZXQgdmFsdWVzID0gW107IC8vIGFycmF5IG9mIHZhbHVlcyB0byBiZSBzZW50IGluIHNlcGFyYXRlZCByZXNwb25zZXNcbiAgICBsZXQgY2hpbGRyZW5WYWx1ZSA9IHt9OyAvLyB2YWx1ZSB0byBiZSB1c2VkIGluIGVhY2ggcmVzcG9uc2VcblxuICAgIGZvciAoY2hpbGRyZW4gaW4gX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykge1xuICAgICAgbGV0IGNoaWxkO1xuICAgICAgY2hpbGRyZW5WYWx1ZVtjaGlsZHJlbl0gPSB7fTtcbiAgICAgIGZvciAoY2hpbGQgaW4gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlbl0pIHtcbiAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGNoaWxkcmVuVmFsdWUpLmxlbmd0aCA+IF90aGlzLl9jaGlsZHJlblNpemVUaHJlc2hvbGQpIHtcbiAgICAgICAgICAvL2NoaWxkcmVuVmFsdWUgYmlnIGVub3VnaCB0byBiZSBzZW50IGluIGEgcmVzcG9uc2UgbWVzc2FnZVxuICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkcmVuVmFsdWUpO1xuICAgICAgICAgIGNoaWxkcmVuVmFsdWUgPSB7fTtcbiAgICAgICAgICBjaGlsZHJlblZhbHVlW2NoaWxkcmVuXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuVmFsdWVbY2hpbGRyZW5dW2NoaWxkXSA9IHt9O1xuICAgICAgICBjaGlsZHJlblZhbHVlW2NoaWxkcmVuXVtjaGlsZF0udmFsdWUgPSBfdGhpcy5fY2hpbGRyZW5PYmplY3RzW2NoaWxkcmVuXVtjaGlsZF0ubWV0YWRhdGE7XG4gICAgICAgIGNoaWxkcmVuVmFsdWVbY2hpbGRyZW5dW2NoaWxkXS5pZGVudGl0eSA9IF90aGlzLl9jaGlsZHJlbk9iamVjdHNbY2hpbGRyZW5dW2NoaWxkXS5pZGVudGl0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YWx1ZXMucHVzaChjaGlsZHJlblZhbHVlKTtcblxuICAgIG9iamVjdFZhbHVlLnJlc3BvbnNlcyA9IHZhbHVlcy5sZW5ndGggKyAxOyAvL251bWJlciBvZiByZXNwb25zZXMgdG8gYmUgc2VudFxuXG4gICAgbGV0IGluaXRpYWxSZXNwb25zZSA9IHtcbiAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLFxuICAgICAgYm9keTogeyBjb2RlOiAxMDAsIHZhbHVlOiBvYmplY3RWYWx1ZSB9XG4gICAgfTtcblxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoaW5pdGlhbFJlc3BvbnNlKTtcblxuICAgIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuXG4gICAgICBsZXQgcmVzcG9uc2UgPSBkZWVwQ2xvbmUoaW5pdGlhbFJlc3BvbnNlKTtcblxuICAgICAgcmVzcG9uc2UuYm9keS52YWx1ZSA9IHZhbHVlO1xuXG4gICAgICByZXNwb25zZS5ib2R5LnZhbHVlLnJlc3BvbnNlcyA9IG9iamVjdFZhbHVlLnJlc3BvbnNlcztcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7IF90aGlzLl9idXMucG9zdE1lc3NhZ2UocmVzcG9uc2UpOyB9LCA1MCk7XG5cbiAgICAgIC8vIHNob3VsZCBwdXQgYSB0aW1lb3V0P1xuXG4gICAgfSk7XG5cbiAgfVxuXG4gIC8vIEV4ZWN1dGUgcmVxdWVzdCByZWNlaXZlZFxuICBfb25FeGVjdXRlKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIW1zZy5ib2R5Lm1ldGhvZCkgdGhyb3cgJ1tEYXRhT2JqZWN0UmVwb3J0ZXIuX29uRXhlY3V0ZV0gbWV0aG9kIG1pc3NpbmcgJywgbXNnO1xuXG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sXG4gICAgICBib2R5OiB7IGNvZGU6IDIwMCB9XG4gICAgfTtcblxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IG1zZy50eXBlLFxuICAgICAgdXJsOiBtc2cuZnJvbSxcbiAgICAgIG1ldGhvZDogbXNnLmJvZHkubWV0aG9kLFxuICAgICAgcGFyYW1zOiBtc2cuYm9keS5wYXJhbXMsXG5cbiAgICAgIGFjY2VwdDogKCkgPT4ge1xuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlamVjdDogKHJlYXNvbikgPT4ge1xuICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSxcbiAgICAgICAgICBib2R5OiB7IGNvZGU6IDQwMSwgZGVzYzogcmVhc29uIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChfdGhpcy5fb25FeGVjdXRlSGFuZGxlcikge1xuICAgICAgbG9nLmxvZygnW0RhdGFPYmplY3RSZXBvcnRlcl0gRVhFQ1VURS1FVkVOVDogJywgZXZlbnQpO1xuICAgICAgX3RoaXMuX29uRXhlY3V0ZUhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFPYmplY3RSZXBvcnRlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///133\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _assign = __webpack_require__(88);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(115);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(21);\n\nvar _DataObject2 = __webpack_require__(122);\n\nvar _DataObject3 = _interopRequireDefault(_DataObject2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataObjectObserver'); /**\n                                                  * Copyright 2016 PT Inovação e Sistemas SA\n                                                  * Copyright 2016 INESC-ID\n                                                  * Copyright 2016 QUOBIS NETWORKS SL\n                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                                  * Copyright 2016 ORANGE SA\n                                                  * Copyright 2016 Deutsche Telekom AG\n                                                  * Copyright 2016 Apizee\n                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                                  *\n                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                  * you may not use this file except in compliance with the License.\n                                                  * You may obtain a copy of the License at\n                                                  *\n                                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                                  *\n                                                  * Unless required by applicable law or agreed to in writing, software\n                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                  * See the License for the specific language governing permissions and\n                                                  * limitations under the License.\n                                                  **/\n\n// Log System\n\n\nvar FilterType = { ANY: 'any', START: 'start', EXACT: 'exact' };\n\n/**\n * The class returned from the Syncher subscribe call.\n * To be used as an observation point from a DataObjectReporter change.\n */\n\nvar DataObjectObserver = function (_DataObject) {\n  (0, _inherits3.default)(DataObjectObserver, _DataObject);\n\n  /* private\n  _changeListener: MsgListener\n   ----event handlers----\n  _filters: {<filter>: {type: <start, exact>, callback: <function>} }\n  */\n\n  /**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher.subscribe method\n   */\n\n  //TODO: For Further Study\n  function DataObjectObserver(input) {\n    (0, _classCallCheck3.default)(this, DataObjectObserver);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DataObjectObserver.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver)).call(this, input));\n    //todo: check why\n    //input.initialData = input.initialData.data;\n\n    var _this = _this2;\n\n    _this._version = input.version;\n    _this._filters = {};\n\n    _this._syncObj.observe(function (event) {\n      _this._onFilter(event);\n    });\n\n    _this._allocateListeners();\n    return _this2;\n  }\n\n  /**\n   * Sync Data Object Observer with last version of Data Object Reporter. Useful for Resumes\n   */\n\n\n  (0, _createClass3.default)(DataObjectObserver, [{\n    key: 'sync',\n    value: function sync() {\n\n      var _this = this;\n      log.info('[DataObjectObserver_sync] synchronising ');\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this._syncher.read(_this._metadata.url).then(function (value) {\n          log.info('[DataObjectObserver_sync] value to sync: ', value);\n\n          (0, _assign2.default)(_this.data, (0, _utils.deepClone)(value.data));\n\n          _this._version = value.version;\n\n          _this._metadata.lastModified = value.lastModified;\n\n          //TODO: check first if there are new childrenObjects to avoid overhead\n\n          if (value.childrenObjects) {\n            _this.resumeChildrens(value.childrenObjects);\n            _this._storeChildrens();\n            resolve(true);\n          } else resolve(true);\n\n          /*if (value.version != _this._version) {\n            log.info('[DataObjectObserver_sync] updating existing data: ', _this.data);\n             Object.assign(_this.data || {}, deepClone(value.data));\n             _this._metadata = deepClone(value);\n             delete _this._metadata.data;\n             _this._version = value.version;\n           } else {\n            log.info('[DataObjectObserver_sync] existing data is updated: ', value);\n          }*/\n        }).catch(function (reason) {\n          log.info('[DataObjectObserver_sync] sync failed: ', reason);\n          resolve(false);\n        });\n      });\n    }\n  }, {\n    key: '_storeChildrens',\n    value: function _storeChildrens() {\n      var _this = this;\n\n      var childrens = {};\n\n      //TODO: to be sent to HypertyResourceStorage when ready to handle Chat Messages\n\n      (0, _keys2.default)(_this._childrenObjects).forEach(function (childrenResource) {\n        var children = _this._childrenObjects[childrenResource];\n        childrens[childrenResource] = {};\n\n        (0, _keys2.default)(children).forEach(function (childId) {\n          childrens[childrenResource][childId] = {};\n          childrens[childrenResource][childId].value = children[childId].metadata;\n          childrens[childrenResource][childId].identity = children[childId].identity;\n        });\n      });\n\n      var msg = {\n\n        from: _this._owner,\n        to: _this._syncher._subURL,\n        type: 'create',\n        body: {\n          resource: _this._url,\n          attribute: 'childrenObjects',\n          value: childrens\n        }\n      };\n\n      _this._bus.postMessage(msg);\n    }\n  }, {\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      (0, _get3.default)(DataObjectObserver.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver.prototype), '_allocateListeners', this).call(this);\n      var _this = this;\n\n      _this._changeListener = _this._bus.addListener(_this._url + '/changes', function (msg) {\n        if (msg.type === 'update') {\n          log.log('DataObjectObserver-' + _this._url + '-RCV: ', msg);\n          _this._changeObject(_this._syncObj, msg);\n        }\n      });\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      (0, _get3.default)(DataObjectObserver.prototype.__proto__ || (0, _getPrototypeOf2.default)(DataObjectObserver.prototype), '_releaseListeners', this).call(this);\n      var _this = this;\n\n      _this._changeListener.remove();\n    }\n\n    /**\n     * Release and delete object data\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete() {\n      var _this = this;\n\n      _this._deleteChildrens().then(function () {\n        _this.unsubscribe();\n        _this._releaseListeners();\n        delete _this._syncher._observers[_this._url];\n      });\n    }\n\n    /**\n     * Release and delete object data\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe() {\n      var _this = this;\n\n      //FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalUnSubscribe\n      var unSubscribeMsg = {\n        type: 'unsubscribe', from: _this._owner, to: _this._syncher._subURL,\n        body: { resource: _this._url }\n      };\n\n      _this._bus.postMessage(unSubscribeMsg, function (reply) {\n        log.log('DataObjectObserver-UNSUBSCRIBE: ', reply);\n        if (reply.body.code === 200) {\n          _this._releaseListeners();\n          delete _this._syncher._observers[_this._url];\n        }\n      });\n    }\n\n    /**\n     * Register the change listeners sent by the reporter\n     * @param {string} filter - Filter that identifies the field (separated dot path). Accepts * at the end for a more unrestricted filtering.\n     * @param {function(event: MsgEvent)} callback\n     */\n\n  }, {\n    key: 'onChange',\n    value: function onChange(filter, callback) {\n      var key = filter;\n      var filterObj = {\n        type: FilterType.EXACT,\n        callback: callback\n      };\n\n      var idx = filter.indexOf('*');\n      if (idx === filter.length - 1) {\n        if (idx === 0) {\n          filterObj.type = FilterType.ANY;\n        } else {\n          filterObj.type = FilterType.START;\n          key = filter.substr(0, filter.length - 1);\n        }\n      }\n\n      this._filters[key] = filterObj;\n    }\n  }, {\n    key: '_onFilter',\n    value: function _onFilter(event) {\n      var _this = this;\n\n      (0, _keys2.default)(_this._filters).forEach(function (key) {\n        var filter = _this._filters[key];\n        if (filter.type === FilterType.ANY) {\n          //match anything\n          filter.callback(event);\n        } else if (filter.type === FilterType.START) {\n          //if starts with filter...\n          if (event.field.indexOf(key) === 0) {\n            filter.callback(event);\n          }\n        } else if (filter.type === FilterType.EXACT) {\n          //exact match\n          if (event.field === key) {\n            filter.callback(event);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'onDisconnected',\n    value: function onDisconnected(callback) {\n      var _this3 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this3._subscribeRegistration().then(function () {\n          _this3._onDisconnected = callback;\n          resolve();\n        }).catch(function (err) {\n          return reject(err);\n        });\n      });\n    }\n  }, {\n    key: '_subscribeRegistration',\n    value: function _subscribeRegistration() {\n      var _this4 = this;\n\n      var msg = {\n        type: 'subscribe',\n        from: this._owner,\n        to: this._syncher._runtimeUrl + '/subscriptions',\n        body: {\n          resources: [this._url + '/registration']\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this4._bus.postMessage(msg, function (reply) {\n          log.log('[DataObjectObserver._subscribeRegistration] ' + _this4._url + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            _this4._generateListener(_this4._url + '/registration');\n            resolve();\n          } else {\n            log.error('Error subscribing registration status for ', _this4._url);\n            reject('Error subscribing registration status for ' + _this4._url);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_generateListener',\n    value: function _generateListener(notificationURL) {\n      var _this = this;\n\n      _this._bus.addListener(notificationURL, function (msg) {\n        log.log('[DataObjectObserver.registrationNotification] ' + _this._url + ': ', msg);\n        if (msg.body.value && msg.body.value === 'disconnected' && _this._onDisconnected) {\n          log.log('[DataObjectObserver] ' + _this._url + ': was disconnected ', msg);\n          _this._onDisconnected();\n        }\n      });\n    }\n\n    /**\n     * Requests the reporter to execute a method on the data object\n     * @param {string} method - Name of the function to be executed.\n     * @param {array} params - array of parameters for the requested function\n     * @return {promise}\n     */\n\n  }, {\n    key: 'execute',\n    value: function execute(method, params) {\n      var _this5 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          type: 'execute',\n          from: _this5._owner,\n          to: _this._url,\n          body: {\n            method: method,\n            params: params\n          }\n        };\n\n        _this._bus.postMessage(msg, function (reply) {\n          log.log('[DataObjectObserver.execute] ' + _this._url + ' rcved reply ', reply);\n\n          if (reply.body.code === 200) {\n            resolve();\n          } else {\n            log.warn('[DataObjectObserver.execute] execution of method ' + method + ' was reject by reporter');\n            reject('[DataObjectObserver.execute] execution of method ' + method + ' was reject by reporter');\n          }\n        });\n      });\n    }\n  }]);\n  return DataObjectObserver;\n}(_DataObject3.default /* implements SyncStatus */);\n\nexports.default = DataObjectObserver;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIuanM/MTNhZCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJGaWx0ZXJUeXBlIiwiQU5ZIiwiU1RBUlQiLCJFWEFDVCIsIkRhdGFPYmplY3RPYnNlcnZlciIsImlucHV0IiwiX3RoaXMiLCJfdmVyc2lvbiIsInZlcnNpb24iLCJfZmlsdGVycyIsIl9zeW5jT2JqIiwib2JzZXJ2ZSIsImV2ZW50IiwiX29uRmlsdGVyIiwiX2FsbG9jYXRlTGlzdGVuZXJzIiwiaW5mbyIsInJlc29sdmUiLCJyZWplY3QiLCJfc3luY2hlciIsInJlYWQiLCJfbWV0YWRhdGEiLCJ1cmwiLCJ0aGVuIiwidmFsdWUiLCJkYXRhIiwibGFzdE1vZGlmaWVkIiwiY2hpbGRyZW5PYmplY3RzIiwicmVzdW1lQ2hpbGRyZW5zIiwiX3N0b3JlQ2hpbGRyZW5zIiwiY2F0Y2giLCJyZWFzb24iLCJjaGlsZHJlbnMiLCJfY2hpbGRyZW5PYmplY3RzIiwiZm9yRWFjaCIsImNoaWxkcmVuUmVzb3VyY2UiLCJjaGlsZHJlbiIsImNoaWxkSWQiLCJtZXRhZGF0YSIsImlkZW50aXR5IiwibXNnIiwiZnJvbSIsIl9vd25lciIsInRvIiwiX3N1YlVSTCIsInR5cGUiLCJib2R5IiwicmVzb3VyY2UiLCJfdXJsIiwiYXR0cmlidXRlIiwiX2J1cyIsInBvc3RNZXNzYWdlIiwiX2NoYW5nZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJfY2hhbmdlT2JqZWN0IiwicmVtb3ZlIiwiX2RlbGV0ZUNoaWxkcmVucyIsInVuc3Vic2NyaWJlIiwiX3JlbGVhc2VMaXN0ZW5lcnMiLCJfb2JzZXJ2ZXJzIiwidW5TdWJzY3JpYmVNc2ciLCJyZXBseSIsImNvZGUiLCJmaWx0ZXIiLCJjYWxsYmFjayIsImtleSIsImZpbHRlck9iaiIsImlkeCIsImluZGV4T2YiLCJsZW5ndGgiLCJzdWJzdHIiLCJmaWVsZCIsIl9zdWJzY3JpYmVSZWdpc3RyYXRpb24iLCJfb25EaXNjb25uZWN0ZWQiLCJlcnIiLCJfcnVudGltZVVybCIsInJlc291cmNlcyIsIl9nZW5lcmF0ZUxpc3RlbmVyIiwiZXJyb3IiLCJub3RpZmljYXRpb25VUkwiLCJtZXRob2QiLCJwYXJhbXMiLCJ3YXJuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QkE7O0lBQVlBLE07O0FBR1o7O0FBQ0E7Ozs7Ozs7O0FBSEEsSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixvQkFBakIsQ0FBVixDLENBekJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7O0FBT0EsSUFBSUMsYUFBYSxFQUFDQyxLQUFLLEtBQU4sRUFBYUMsT0FBTyxPQUFwQixFQUE2QkMsT0FBTyxPQUFwQyxFQUFqQjs7QUFFQTs7Ozs7SUFJTUMsa0I7OztBQUNKOzs7Ozs7QUFPQTs7Ozs7QUFLQTtBQUNBLDhCQUFZQyxLQUFaLEVBQW1CO0FBQUE7O0FBQUEsK0pBSVhBLEtBSlc7QUFDakI7QUFDQTs7QUFJQSxRQUFJQyxjQUFKOztBQUVBQSxVQUFNQyxRQUFOLEdBQWlCRixNQUFNRyxPQUF2QjtBQUNBRixVQUFNRyxRQUFOLEdBQWlCLEVBQWpCOztBQUVBSCxVQUFNSSxRQUFOLENBQWVDLE9BQWYsQ0FBdUIsVUFBQ0MsS0FBRCxFQUFXO0FBQ2hDTixZQUFNTyxTQUFOLENBQWdCRCxLQUFoQjtBQUNELEtBRkQ7O0FBS0FOLFVBQU1RLGtCQUFOO0FBaEJpQjtBQWlCbEI7O0FBRUQ7Ozs7Ozs7MkJBR087O0FBRUwsVUFBSVIsUUFBUSxJQUFaO0FBQ0FSLFVBQUlpQixJQUFKLENBQVMsMENBQVQ7O0FBRUEsYUFBTyxzQkFBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7O0FBRXRDWCxjQUFNWSxRQUFOLENBQWVDLElBQWYsQ0FBb0JiLE1BQU1jLFNBQU4sQ0FBZ0JDLEdBQXBDLEVBQXlDQyxJQUF6QyxDQUE4QyxVQUFDQyxLQUFELEVB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Ozs7Ozs7OzRCQU9RTyxNLEVBQVFDLE0sRUFBUTtBQUFBOztBQUN0QixVQUFJMUUsUUFBUSxJQUFaOztBQUVBLGFBQU8sc0JBQVksVUFBQ1UsT0FBRCxFQUFVQyxNQUFWLEVBQXFCOztBQUV0QyxZQUFNc0IsTUFBTTtBQUNWSyxnQkFBTSxTQURJO0FBRVZKLGdCQUFNLE9BQUtDLE1BRkQ7QUFHVkMsY0FBSXBDLE1BQU15QyxJQUhBO0FBSVZGLGdCQUFNO0FBQ0prQyxvQkFBUUEsTUFESjtBQUVKQyxvQkFBUUE7QUFGSjtBQUpJLFNBQVo7O0FBVUExRSxjQUFNMkMsSUFBTixDQUFXQyxXQUFYLENBQXVCWCxHQUF2QixFQUE0QixVQUFDcUIsS0FBRCxFQUFXO0FBQ3JDOUQsY0FBSUEsR0FBSixtQ0FBd0NRLE1BQU15QyxJQUE5QyxvQkFBbUVhLEtBQW5FOztBQUVBLGNBQUlBLE1BQU1mLElBQU4sQ0FBV2dCLElBQVgsS0FBb0IsR0FBeEIsRUFBNkI7QUFDM0I3QztBQUNELFdBRkQsTUFFTztBQUNMbEIsZ0JBQUltRixJQUFKLHVEQUE2REYsTUFBN0Q7QUFDQTlELHlFQUEyRDhELE1BQTNEO0FBQ0Q7QUFDRixTQVREO0FBVUQsT0F0Qk0sQ0FBUDtBQXVCRDs7O3VCQW5UeUMsMkI7O2tCQXNUN0IzRSxrQiIsImZpbGUiOiIxMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbi8vIExvZyBTeXN0ZW1cbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XG5sZXQgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignRGF0YU9iamVjdE9ic2VydmVyJyk7XG5cbmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCBEYXRhT2JqZWN0IGZyb20gJy4vRGF0YU9iamVjdCc7XG5cbmxldCBGaWx0ZXJUeXBlID0ge0FOWTogJ2FueScsIFNUQVJUOiAnc3RhcnQnLCBFWEFDVDogJ2V4YWN0J307XG5cbi8qKlxuICogVGhlIGNsYXNzIHJldHVybmVkIGZyb20gdGhlIFN5bmNoZXIgc3Vic2NyaWJlIGNhbGwuXG4gKiBUbyBiZSB1c2VkIGFzIGFuIG9ic2VydmF0aW9uIHBvaW50IGZyb20gYSBEYXRhT2JqZWN0UmVwb3J0ZXIgY2hhbmdlLlxuICovXG5jbGFzcyBEYXRhT2JqZWN0T2JzZXJ2ZXIgZXh0ZW5kcyBEYXRhT2JqZWN0IC8qIGltcGxlbWVudHMgU3luY1N0YXR1cyAqLyB7XG4gIC8qIHByaXZhdGVcbiAgX2NoYW5nZUxpc3RlbmVyOiBNc2dMaXN0ZW5lclxuXG4gIC0tLS1ldmVudCBoYW5kbGVycy0tLS1cbiAgX2ZpbHRlcnM6IHs8ZmlsdGVyPjoge3R5cGU6IDxzdGFydCwgZXhhY3Q+LCBjYWxsYmFjazogPGZ1bmN0aW9uPn0gfVxuICAqL1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIFNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseSBieSBIeXBlcnRpZXMuIEl0J3MgY2FsbGVkIGJ5IHRoZSBTeW5jaGVyLnN1YnNjcmliZSBtZXRob2RcbiAgICovXG5cbiAgLy9UT0RPOiBGb3IgRnVydGhlciBTdHVkeVxuICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgIC8vdG9kbzogY2hlY2sgd2h5XG4gICAgLy9pbnB1dC5pbml0aWFsRGF0YSA9IGlucHV0LmluaXRpYWxEYXRhLmRhdGE7XG5cbiAgICBzdXBlcihpbnB1dCk7XG5cbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX3ZlcnNpb24gPSBpbnB1dC52ZXJzaW9uO1xuICAgIF90aGlzLl9maWx0ZXJzID0ge307XG5cbiAgICBfdGhpcy5fc3luY09iai5vYnNlcnZlKChldmVudCkgPT4ge1xuICAgICAgX3RoaXMuX29uRmlsdGVyKGV2ZW50KTtcbiAgICB9KTtcblxuXG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBEYXRhIE9iamVjdCBPYnNlcnZlciB3aXRoIGxhc3QgdmVyc2lvbiBvZiBEYXRhIE9iamVjdCBSZXBvcnRlci4gVXNlZnVsIGZvciBSZXN1bWVzXG4gICAqL1xuICBzeW5jKCkge1xuXG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsb2cuaW5mbygnW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSBzeW5jaHJvbmlzaW5nICcpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgX3RoaXMuX3N5bmNoZXIucmVhZChfdGhpcy5fbWV0YWRhdGEudXJsKS50aGVuKCh2YWx1ZSk9PntcbiAgICAgICAgbG9nLmluZm8oJ1tEYXRhT2JqZWN0T2JzZXJ2ZXJfc3luY10gdmFsdWUgdG8gc3luYzogJywgdmFsdWUpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMuZGF0YSwgZGVlcENsb25lKHZhbHVlLmRhdGEpKTtcblxuICAgICAgICBfdGhpcy5fdmVyc2lvbiA9IHZhbHVlLnZlcnNpb247XG5cbiAgICAgICAgX3RoaXMuX21ldGFkYXRhLmxhc3RNb2RpZmllZCA9IHZhbHVlLmxhc3RNb2RpZmllZDtcblxuICAgICAgICAvL1RPRE86IGNoZWNrIGZpcnN0IGlmIHRoZXJlIGFyZSBuZXcgY2hpbGRyZW5PYmplY3RzIHRvIGF2b2lkIG92ZXJoZWFkXG5cbiAgICAgICAgaWYgKHZhbHVlLmNoaWxkcmVuT2JqZWN0cykge1xuICAgICAgICAgIF90aGlzLnJlc3VtZUNoaWxkcmVucyh2YWx1ZS5jaGlsZHJlbk9iamVjdHMpO1xuICAgICAgICAgIF90aGlzLl9zdG9yZUNoaWxkcmVucygpO1xuICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSByZXNvbHZlKHRydWUpO1xuXG5cbiAgICAgICAgLyppZiAodmFsdWUudmVyc2lvbiAhPSBfdGhpcy5fdmVyc2lvbikge1xuICAgICAgICAgIGxvZy5pbmZvKCdbRGF0YU9iamVjdE9ic2VydmVyX3N5bmNdIHVwZGF0aW5nIGV4aXN0aW5nIGRhdGE6ICcsIF90aGlzLmRhdGEpO1xuXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5kYXRhIHx8IHt9LCBkZWVwQ2xvbmUodmFsdWUuZGF0YSkpO1xuXG4gICAgICAgICAgX3RoaXMuX21ldGFkYXRhID0gZGVlcENsb25lKHZhbHVlKTtcblxuICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fbWV0YWRhdGEuZGF0YTtcblxuICAgICAgICAgIF90aGlzLl92ZXJzaW9uID0gdmFsdWUudmVyc2lvbjtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZy5pbmZvKCdbRGF0YU9iamVjdE9ic2VydmVyX3N5bmNdIGV4aXN0aW5nIGRhdGEgaXMgdXBkYXRlZDogJywgdmFsdWUpO1xuICAgICAgICB9Ki9cblxuICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICBsb2cuaW5mbygnW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSBzeW5jIGZhaWxlZDogJywgcmVhc29uKTtcbiAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICB9KTtcblxuICAgIH0pO1xuXG5cbiAgfVxuXG4gIF9zdG9yZUNoaWxkcmVucygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGNoaWxkcmVucyA9IHt9O1xuXG4gICAgLy9UT0RPOiB0byBiZSBzZW50IHRvIEh5cGVydHlSZXNvdXJjZVN0b3JhZ2Ugd2hlbiByZWFkeSB0byBoYW5kbGUgQ2hhdCBNZXNzYWdlc1xuXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaCgoY2hpbGRyZW5SZXNvdXJjZSkgPT4ge1xuICAgICAgbGV0IGNoaWxkcmVuID0gX3RoaXMuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZHJlblJlc291cmNlXTtcbiAgICAgIGNoaWxkcmVuc1tjaGlsZHJlblJlc291cmNlXSA9IHt9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjaGlsZHJlbikuZm9yRWFjaCgoY2hpbGRJZCkgPT4ge1xuICAgICAgICBjaGlsZHJlbnNbY2hpbGRyZW5SZXNvdXJjZV1bY2hpbGRJZF0gPSB7fTtcbiAgICAgICAgY2hpbGRyZW5zW2NoaWxkcmVuUmVzb3VyY2VdW2NoaWxkSWRdLnZhbHVlID0gY2hpbGRyZW5bY2hpbGRJZF0ubWV0YWRhdGE7XG4gICAgICAgIGNoaWxkcmVuc1tjaGlsZHJlblJlc291cmNlXVtjaGlsZElkXS5pZGVudGl0eSA9IGNoaWxkcmVuW2NoaWxkSWRdLmlkZW50aXR5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAgIGxldCBtc2cgPSB7XG5cbiAgICAgICAgZnJvbTogX3RoaXMuX293bmVyLFxuICAgICAgICB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcbiAgICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICByZXNvdXJjZTogX3RoaXMuX3VybCxcbiAgICAgICAgICBhdHRyaWJ1dGU6ICdjaGlsZHJlbk9iamVjdHMnLFxuICAgICAgICAgIHZhbHVlOiBjaGlsZHJlbnNcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShtc2cpO1xuXG4gIH1cblxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9jaGFuZ2VMaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoX3RoaXMuX3VybCArICcvY2hhbmdlcycsIChtc2cpID0+IHtcbiAgICAgIGlmIChtc2cudHlwZSA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgICAgbG9nLmxvZygnRGF0YU9iamVjdE9ic2VydmVyLScgKyBfdGhpcy5fdXJsICsgJy1SQ1Y6ICcsIG1zZyk7XG4gICAgICAgIF90aGlzLl9jaGFuZ2VPYmplY3QoX3RoaXMuX3N5bmNPYmosIG1zZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcbiAgICBzdXBlci5fcmVsZWFzZUxpc3RlbmVycygpO1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZSBhbmQgZGVsZXRlIG9iamVjdCBkYXRhXG4gICAqL1xuICBkZWxldGUoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9kZWxldGVDaGlsZHJlbnMoKS50aGVuKCgpPT57XG4gICAgICBfdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgX3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKTtcbiAgICAgIGRlbGV0ZSBfdGhpcy5fc3luY2hlci5fb2JzZXJ2ZXJzW190aGlzLl91cmxdO1xuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZSBhbmQgZGVsZXRlIG9iamVjdCBkYXRhXG4gICAqL1xuICB1bnN1YnNjcmliZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy9GTE9XLU9VVDogdGhpcyBtZXNzYWdlIHdpbGwgYmUgc2VudCB0byB0aGUgcnVudGltZSBpbnN0YW5jZSBvZiBTeW5jaGVyTWFuYWdlciAtPiBfb25Mb2NhbFVuU3Vic2NyaWJlXG4gICAgbGV0IHVuU3Vic2NyaWJlTXNnID0ge1xuICAgICAgdHlwZTogJ3Vuc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX293bmVyLCB0bzogX3RoaXMuX3N5bmNoZXIuX3N1YlVSTCxcbiAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IF90aGlzLl91cmwgfVxuICAgIH07XG5cbiAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHVuU3Vic2NyaWJlTXNnLCAocmVwbHkpID0+IHtcbiAgICAgIGxvZy5sb2coJ0RhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogJywgcmVwbHkpO1xuICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgIF90aGlzLl9yZWxlYXNlTGlzdGVuZXJzKCk7XG4gICAgICAgIGRlbGV0ZSBfdGhpcy5fc3luY2hlci5fb2JzZXJ2ZXJzW190aGlzLl91cmxdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBjaGFuZ2UgbGlzdGVuZXJzIHNlbnQgYnkgdGhlIHJlcG9ydGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXIgLSBGaWx0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBmaWVsZCAoc2VwYXJhdGVkIGRvdCBwYXRoKS4gQWNjZXB0cyAqIGF0IHRoZSBlbmQgZm9yIGEgbW9yZSB1bnJlc3RyaWN0ZWQgZmlsdGVyaW5nLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50OiBNc2dFdmVudCl9IGNhbGxiYWNrXG4gICAqL1xuICBvbkNoYW5nZShmaWx0ZXIsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGtleSA9IGZpbHRlcjtcbiAgICBsZXQgZmlsdGVyT2JqID0ge1xuICAgICAgdHlwZTogRmlsdGVyVHlwZS5FWEFDVCxcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgIH07XG5cbiAgICBsZXQgaWR4ID0gZmlsdGVyLmluZGV4T2YoJyonKTtcbiAgICBpZiAoaWR4ID09PSBmaWx0ZXIubGVuZ3RoIC0gMSkge1xuICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICBmaWx0ZXJPYmoudHlwZSA9IEZpbHRlclR5cGUuQU5ZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyT2JqLnR5cGUgPSBGaWx0ZXJUeXBlLlNUQVJUO1xuICAgICAgICBrZXkgPSBmaWx0ZXIuc3Vic3RyKDAsIGZpbHRlci5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9maWx0ZXJzW2tleV0gPSBmaWx0ZXJPYmo7XG4gIH1cblxuICBfb25GaWx0ZXIoZXZlbnQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmtleXMoX3RoaXMuX2ZpbHRlcnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgbGV0IGZpbHRlciA9IF90aGlzLl9maWx0ZXJzW2tleV07XG4gICAgICBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuQU5ZKSB7XG4gICAgICAgIC8vbWF0Y2ggYW55dGhpbmdcbiAgICAgICAgZmlsdGVyLmNhbGxiYWNrKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuU1RBUlQpIHtcbiAgICAgICAgLy9pZiBzdGFydHMgd2l0aCBmaWx0ZXIuLi5cbiAgICAgICAgaWYgKGV2ZW50LmZpZWxkLmluZGV4T2Yoa2V5KSA9PT0gMCkge1xuICAgICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuRVhBQ1QpIHtcbiAgICAgICAgLy9leGFjdCBtYXRjaFxuICAgICAgICBpZiAoZXZlbnQuZmllbGQgPT09IGtleSkge1xuICAgICAgICAgIGZpbHRlci5jYWxsYmFjayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uRGlzY29ubmVjdGVkKGNhbGxiYWNrKSB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICB0aGlzLl9zdWJzY3JpYmVSZWdpc3RyYXRpb24oKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLl9vbkRpc2Nvbm5lY3RlZCA9IGNhbGxiYWNrO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zdWJzY3JpYmVSZWdpc3RyYXRpb24oKSB7XG5cbiAgICBjb25zdCBtc2cgPSB7XG4gICAgICB0eXBlOiAnc3Vic2NyaWJlJyxcbiAgICAgIGZyb206IHRoaXMuX293bmVyLFxuICAgICAgdG86IHRoaXMuX3N5bmNoZXIuX3J1bnRpbWVVcmwgKyAnL3N1YnNjcmlwdGlvbnMnLFxuICAgICAgYm9keToge1xuICAgICAgICByZXNvdXJjZXM6IFt0aGlzLl91cmwgKyAnL3JlZ2lzdHJhdGlvbiddXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIHRoaXMuX2J1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xuICAgICAgICBsb2cubG9nKGBbRGF0YU9iamVjdE9ic2VydmVyLl9zdWJzY3JpYmVSZWdpc3RyYXRpb25dICR7dGhpcy5fdXJsfSByY3ZlZCByZXBseSBgLCByZXBseSk7XG5cbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgdGhpcy5fZ2VuZXJhdGVMaXN0ZW5lcih0aGlzLl91cmwgKyAnL3JlZ2lzdHJhdGlvbicpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2cuZXJyb3IoJ0Vycm9yIHN1YnNjcmliaW5nIHJlZ2lzdHJhdGlvbiBzdGF0dXMgZm9yICcsIHRoaXMuX3VybCk7XG4gICAgICAgICAgcmVqZWN0KCdFcnJvciBzdWJzY3JpYmluZyByZWdpc3RyYXRpb24gc3RhdHVzIGZvciAnICsgdGhpcy5fdXJsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfZ2VuZXJhdGVMaXN0ZW5lcihub3RpZmljYXRpb25VUkwpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihub3RpZmljYXRpb25VUkwsIChtc2cpID0+IHtcbiAgICAgIGxvZy5sb2coYFtEYXRhT2JqZWN0T2JzZXJ2ZXIucmVnaXN0cmF0aW9uTm90aWZpY2F0aW9uXSAke190aGlzLl91cmx9OiBgLCBtc2cpO1xuICAgICAgaWYgKG1zZy5ib2R5LnZhbHVlICYmIG1zZy5ib2R5LnZhbHVlID09PSAnZGlzY29ubmVjdGVkJyAmJiBfdGhpcy5fb25EaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgbG9nLmxvZyhgW0RhdGFPYmplY3RPYnNlcnZlcl0gJHtfdGhpcy5fdXJsfTogd2FzIGRpc2Nvbm5lY3RlZCBgLCBtc2cpO1xuICAgICAgICBfdGhpcy5fb25EaXNjb25uZWN0ZWQoKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHRoZSByZXBvcnRlciB0byBleGVjdXRlIGEgbWV0aG9kIG9uIHRoZSBkYXRhIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAqIEBwYXJhbSB7YXJyYXl9IHBhcmFtcyAtIGFycmF5IG9mIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0ZWQgZnVuY3Rpb25cbiAgICogQHJldHVybiB7cHJvbWlzZX1cbiAgICovXG5cbiAgZXhlY3V0ZShtZXRob2QsIHBhcmFtcykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgIHR5cGU6ICdleGVjdXRlJyxcbiAgICAgICAgZnJvbTogdGhpcy5fb3duZXIsXG4gICAgICAgIHRvOiBfdGhpcy5fdXJsLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xuICAgICAgICBsb2cubG9nKGBbRGF0YU9iamVjdE9ic2VydmVyLmV4ZWN1dGVdICR7X3RoaXMuX3VybH0gcmN2ZWQgcmVwbHkgYCwgcmVwbHkpO1xuXG4gICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2cud2FybihgW0RhdGFPYmplY3RPYnNlcnZlci5leGVjdXRlXSBleGVjdXRpb24gb2YgbWV0aG9kICR7bWV0aG9kfSB3YXMgcmVqZWN0IGJ5IHJlcG9ydGVyYCk7XG4gICAgICAgICAgcmVqZWN0KGBbRGF0YU9iamVjdE9ic2VydmVyLmV4ZWN1dGVdIGV4ZWN1dGlvbiBvZiBtZXRob2QgJHttZXRob2R9IHdhcyByZWplY3QgYnkgcmVwb3J0ZXJgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YU9iamVjdE9ic2VydmVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///134\n")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nvar _utils = __webpack_require__(21);\n\nvar _DiscoveredObject = __webpack_require__(137);\n\nvar _DiscoveredObject2 = _interopRequireDefault(_DiscoveredObject);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('Discovery'); /**\n                                         * Copyright 2016 PT Inovação e Sistemas SA\n                                         * Copyright 2016 INESC-ID\n                                         * Copyright 2016 QUOBIS NETWORKS SL\n                                         * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                         * Copyright 2016 ORANGE SA\n                                         * Copyright 2016 Deutsche Telekom AG\n                                         * Copyright 2016 Apizee\n                                         * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                         *\n                                         * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                         * you may not use this file except in compliance with the License.\n                                         * You may obtain a copy of the License at\n                                         *\n                                         *   http://www.apache.org/licenses/LICENSE-2.0\n                                         *\n                                         * Unless required by applicable law or agreed to in writing, software\n                                         * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                         * See the License for the specific language governing permissions and\n                                         * limitations under the License.\n                                         **/\n\n// Log System\n\n/**\n* Core Discovery interface\n* Class to allow applications to search for hyperties and DataObjects using the message bus\n*/\nvar Discovery = function () {\n\n  /**\n  * To initialise the HypertyDiscover, which will provide the support for hyperties to\n  * query users registered in outside the internal core.\n  * @param  {MessageBus}          msgbus                msgbus\n  * @param  {RuntimeURL}          runtimeURL            runtimeURL\n  */\n  function Discovery(hypertyURL, runtimeURL, msgBus) {\n    (0, _classCallCheck3.default)(this, Discovery);\n\n    var _this = this;\n    _this.messageBus = msgBus;\n    _this.runtimeURL = runtimeURL;\n\n    _this.domain = (0, _utils.divideURL)(hypertyURL).domain;\n    _this.discoveryURL = hypertyURL;\n  }\n\n  /**\n  * Advanced Search for Hyperties registered in domain registry associated with some user identifier (eg email, name ...)\n  * @param  {String}           userIdentifier\n  * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n  * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n  */\n\n\n  (0, _createClass3.default)(Discovery, [{\n    key: '_isLegacyUser',\n    value: function _isLegacyUser(userIdentifier) {\n      if (userIdentifier.includes(':') && !userIdentifier.includes('user://')) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    /**\n    * Advanced Search for Hyperties registered in domain registry associated with some user identifier (eg email, name ...)\n    * @param  {String}           userIdentifier\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    */\n\n  }, {\n    key: 'discoverHypertiesPerUserProfileData',\n    value: function discoverHypertiesPerUserProfileData(userIdentifier, schema, resources) {\n      var _this = this;\n      var filteredHyperties = [];\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/userprofile/' + userIdentifier\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._isLegacyUser(userIdentifier)) {\n          // todo: to reomve when discovery of legcay users are supported\n\n          _this.messageBus.postMessage(msg, function (reply) {\n\n            if (reply.body.code === 200) {\n              reply.body.value.map(function (hyperty) {\n                if (hyperty.hypertyID != _this.discoveryURL) filteredHyperties.push(hyperty);\n              });\n              if (filteredHyperties.length === 0) resolve([]);else {\n                log.log(\"[Discovery.discoverHypertiesPerUserProfileData] Reply log: \", filteredHyperties);\n                resolve(filteredHyperties);\n              }\n            } else {\n              log.warn(\"[Discovery.discoverHypertiesPerUserProfileData] Error Reply for \" + userIdentifier + \" Reason: \", reply.body.description);\n              resolve([]);\n            }\n          });\n        } else {\n          resolve([{ hypertyID: userIdentifier, status: 'live' }]);\n        }\n      });\n    }\n\n    /**\n    * Advanced Search for Hyperties registered in domain registry associated with some user identifier (eg email, name ...)\n    * returns DiscoveredObject\n    * @param  {String}           userIdentifier\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    */\n\n  }, {\n    key: 'discoverHypertiesPerUserProfileDataDO',\n    value: function discoverHypertiesPerUserProfileDataDO(userIdentifier, schema, resources) {\n      var _this2 = this,\n          _arguments = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this2.discoverHypertiesPerUserProfileData.apply(_this2, _arguments).then(function (hyperties) {\n          resolve(_this2._convertToDiscoveredObject(hyperties));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * Advanced Search for DataObjects registered in domain registry associated with some user identifier (eg email, name ...)\n    * @param  {String}           userIdentifier\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerUserProfileData',\n    value: function discoverDataObjectsPerUserProfileData(userIdentifier, schema, resources) {\n      var _this = this;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/userprofile/' + userIdentifier\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._isLegacyUser(userIdentifier)) {\n          // todo: to reomve when discovery of legcay users are supported\n\n          _this.messageBus.postMessage(msg, function (reply) {\n\n            if (reply.body.code === 200) {\n              log.log(\"Reply log: \", reply.body.value);\n              resolve(reply.body.value);\n            } else {\n              log.warn(\"[Discovery.discoverDataObjectsPerUserProfileData] Error Reply for \" + userIdentifier + \" Reason: \", reply.body.description);\n              resolve([]);\n            }\n          });\n        } else {\n          resolve([{ hypertyID: userIdentifier, status: 'live' }]);\n        }\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerUserProfileDataDO',\n    value: function discoverDataObjectsPerUserProfileDataDO(guidURL, schema, resources) {\n      var _this3 = this,\n          _arguments2 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this3.discoverDataObjectsPerUserProfileData.apply(_this3, _arguments2).then(function (registryObjects) {\n          return resolve(_this3._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * Advanced Search for Hyperties registered in domain registry associated with some GUID\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    */\n\n  }, {\n    key: 'discoverHypertiesPerGUID',\n    value: function discoverHypertiesPerGUID(guidURL, schema, resources) {\n      var _this = this;\n      var filteredHyperties = [];\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/guid/' + guidURL\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            reply.body.value.map(function (hyperty) {\n              if (hyperty.hypertyID != _this.discoveryURL) filteredHyperties.push(hyperty);\n            });\n            if (filteredHyperties.length === 0) reject('No Hyperty was found');else {\n              log.log(\"Reply log: \", filteredHyperties);\n              resolve(filteredHyperties);\n            }\n          } else {\n            log.warn(\"[Discovery.discoverHypertiesPerGUID] Error Reply for \" + guidURL + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * Advanced Search for Hyperties registered in domain registry associated with some GUID\n    * returns DiscoveredObject\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    */\n\n  }, {\n    key: 'discoverHypertiesPerGUIDDO',\n    value: function discoverHypertiesPerGUIDDO(guidURL, schema, resources) {\n      var _this4 = this,\n          _arguments3 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this4.discoverHypertiesPerGUID.apply(_this4, _arguments3).then(function (hyperties) {\n          resolve(_this4._convertToDiscoveredObject(hyperties));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * Advanced Search for DataObjects registered in domain registry associated with some GUID\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerGUID',\n    value: function discoverDataObjectsPerGUID(guidURL, schema, resources) {\n      var _this = this;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/guid/' + guidURL\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectsPerGUID] Error Reply for \" + guidURL + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}           guidURL                guid URL e.g user-guid://<unique-user-identifier>\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerGUIDDO',\n    value: function discoverDataObjectsPerGUIDDO(guidURL, schema, resources) {\n      var _this5 = this,\n          _arguments4 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this5.discoverDataObjectsPerGUID.apply(_this5, _arguments4).then(function (registryObjects) {\n          return resolve(_this5._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /** Advanced Search for Hyperties registered in domain registry\n    * @param  {String}           user                  user identifier, either in url or email format\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverHyperties',\n    value: function discoverHyperties(user, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      var filteredHyperties = [];\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/user/' + user\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        if (!_this._isLegacyUser(user)) {\n          // todo: to reomve when discovery of legcay users are supported\n\n          _this.messageBus.postMessage(msg, function (reply) {\n\n            if (reply.body.code === 200 || reply.body.code === 500) {\n              reply.body.value.map(function (hyperty) {\n                if (hyperty.hypertyID != _this.discoveryURL) filteredHyperties.push(hyperty);\n              });\n              /*            if(filteredHyperties.length === 0)\n                            reject('No Hyperty was found');\n                          else {*/\n              log.log(\"[Discovery.discoverHyperties] Reply : \", filteredHyperties);\n              resolve(filteredHyperties);\n              //            }\n            } else {\n              log.warn(\"[Discovery.discoverHyperties] Error Reply for \" + user + \" Reason: \", reply.body.description);\n              resolve(filteredHyperties);\n            }\n          });\n        } else {\n          resolve([{ hypertyID: user, status: 'live' }]);\n        }\n      });\n    }\n\n    /** Advanced Search for Hyperties registered in domain registry,\n    *returns DiscoveredObject\n    * @param  {String}           user                  user identifier, either in url or email format\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverHypertiesDO',\n    value: function discoverHypertiesDO(user, schema, resources, domain) {\n      var _this6 = this,\n          _arguments5 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this6.discoverHyperties.apply(_this6, _arguments5).then(function (hyperties) {\n          resolve(_this6._convertToDiscoveredObject(hyperties));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /** Advanced Search for DataObjects registered in domain registry\n    * @param  {String}           user                  user identifier, either in url or email format\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverDataObjects',\n    value: function discoverDataObjects(user, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/user/' + user\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjects] Error Reply for \" + user + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}           user                  user identifier, either in url or email format\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverDataObjectsDO',\n    value: function discoverDataObjectsDO(user, schema, resources, domain) {\n      var _this7 = this,\n          _arguments6 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this7.discoverDataObjects.apply(_this7, _arguments6).then(function (registryObjects) {\n          return resolve(_this7._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * function to request about hyperties registered in domain registry, and\n    * return the hyperty information, if found.\n    * @param  {String}              url  hyperty URL\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverHypertyPerURL',\n    value: function discoverHypertyPerURL(url, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/hyperty/url/' + url,\n          criteria: {\n            domain: activeDomain\n          }\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverHypertyPerURL] Error Reply for \" + url + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about hyperties registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}              url  hyperty URL\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverHypertyPerURLDO',\n    value: function discoverHypertyPerURLDO(url, domain) {\n      var _this8 = this,\n          _arguments7 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this8.discoverHypertyPerURL.apply(_this8, _arguments7).then(function (hyperty) {\n          return resolve(new _DiscoveredObject2.default(hyperty, _this8.runtimeURL, _this8.discoveryURL, _this8.messageBus, _this8));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * return the dataObject information, if found.\n    * @param  {String}              url  dataObject URL\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverDataObjectPerURL',\n    value: function discoverDataObjectPerURL(url, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/url/' + url,\n          criteria: {\n            domain: activeDomain\n          }\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectPerURL] Error Reply for \" + url + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}              url  dataObject URL\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverDataObjectPerURLDO',\n    value: function discoverDataObjectPerURLDO(url, domain) {\n      var _this9 = this,\n          _arguments8 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this9.discoverDataObjectPerURL.apply(_this9, _arguments8).then(function (registryObject) {\n          return resolve(new _DiscoveredObject2.default(registryObject, _this9.runtimeURL, _this9.discoveryURL, _this9.messageBus, _this9));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * function to request about an dataObjects registered in domain registry with a given name, and\n    * return the dataObjects information, if found.\n    * @param  {String}              name  dataObject URL\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerName',\n    value: function discoverDataObjectsPerName(name, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/name/' + name\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectsPerName] Error Reply for \" + name + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}              name  dataObject URL\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerNameDO',\n    value: function discoverDataObjectsPerNameDO(name, schema, resources, domain) {\n      var _this10 = this,\n          _arguments9 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this10.discoverDataObjectsPerName.apply(_this10, _arguments9).then(function (registryObjects) {\n          return resolve(_this10._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n\n    /**\n    * function to request about specific reporter dataObject registered in domain registry, and\n    * return the dataObjects from that reporter.\n    * @param  {String}           reporter     dataObject reporter\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\n    * @param  {String}           domain       (Optional)\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerReporter',\n    value: function discoverDataObjectsPerReporter(reporter, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read',\n        from: _this.discoveryURL,\n        to: _this.runtimeURL + '/discovery/',\n        body: {\n          resource: '/dataObject/reporter/' + reporter\n        }\n      };\n\n      if (schema || resources) {\n        msg.body['criteria'] = {\n          resources: resources,\n          dataSchemes: schema,\n          domain: activeDomain\n        };\n      } else {\n        msg.body['criteria'] = {\n          domain: activeDomain\n        };\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          if (reply.body.code === 200) {\n            log.log(\"Reply Value Log: \", reply.body.value);\n            resolve(reply.body.value);\n          } else {\n            log.warn(\"[Discovery.discoverDataObjectsPerName] Error Reply for \" + reporter + \" Reason: \", reply.body.description);\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about dataObject registered in domain registry, and\n    * returns discoveredObject.\n    * @param  {String}              name  dataObject URL\n    * @param  {Array<string>}    schema (Optional)     types of dataObjects schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObjects resources\n    * @param  {String}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverDataObjectsPerReporterDO',\n    value: function discoverDataObjectsPerReporterDO(reporter, schema, resources, domain) {\n      var _this11 = this,\n          _arguments10 = arguments;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this11.discoverDataObjectsPerReporter.apply(_this11, _arguments10).then(function (registryObjects) {\n          return resolve(_this11._convertToDiscoveredObject(registryObjects));\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    }\n  }, {\n    key: '_convertToDiscoveredObject',\n    value: function _convertToDiscoveredObject(registryObjects) {\n      var _this12 = this;\n\n      return registryObjects.map(function (registryObject) {\n        return new _DiscoveredObject2.default(registryObject, _this12.runtimeURL, _this12.discoveryURL, _this12.messageBus, _this12);\n      });\n    }\n\n    /** Advanced Search for dataObjects registered in domain registry\n    * @deprecated Deprecated. Use discoverDataObjectsPerName instead\n    * @param  {String}           name                  name of the dataObject\n    * @param  {Array<string>}    schema (Optional)     types of dataObject schemas\n    * @param  {Array<string>}    resources (Optional)  types of dataObject resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverDataObject',\n    value: function discoverDataObject(name, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      //let userIdentifier = convertToUserURL(user);\n\n      activeDomain = !domain ? _this.domain : domain;\n\n      var msg = {\n        type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: name,\n          criteria: { resources: resources, dataSchemes: schema }\n        }\n      };\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this.messageBus.postMessage(msg, function (reply) {\n          log.log('[Discovery]', reply);\n\n          if (reply.body.code > 299) {\n            log.warn(\"[Discovery.discoverDataObject] Error Reply for \" + name + \" Reason: \", reply.body.description);\n            return resolve([]);\n          }\n\n          var hyperties = reply.body.value;\n\n          if (hyperties) {\n            resolve(hyperties);\n          } else {\n            resolve([]);\n          }\n        });\n      });\n    }\n\n    /** Advanced Search for Hyperties registered in domain registry\n    * @deprecated Deprecated. Use discoverHyperties instead\n    * @param  {String}           user                  user identifier, either in url or email format\n    * @param  {Array<string>}    schema (Optional)     types of hyperties schemas\n    * @param  {Array<string>}    resources (Optional)  types of hyperties resources\n    * @param  {String}           domain (Optional)     domain of the registry to search\n    */\n\n  }, {\n    key: 'discoverHyperty',\n    value: function discoverHyperty(user, schema, resources, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      var userIdentifier = (0, _utils.convertToUserURL)(user);\n\n      if (!domain) {\n        activeDomain = _this.domain;\n      } else {\n        activeDomain = domain;\n      }\n\n      return new _promise2.default(function (resolve, reject) {\n\n        log.log('[Discovery.discoverHyperty] ACTIVE DOMAIN -> ', activeDomain, 'user->', user, 'schema->', schema, 'resources->', resources, 'domain->', domain);\n        if (user.includes(':') && !user.includes('user://')) {\n          log.log('[Discovery.discoverHyperty] ' + user + ' is legacy domain');\n          var legacyUser = { userID: user, hypertyID: user, schema: schema, resources: resources };\n          return resolve(legacyUser);\n        }\n        var msg = {\n          type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: userIdentifier,\n            criteria: { resources: resources, dataSchemes: schema }\n          }\n        };\n\n        log.info('[Discovery] msg to send->', msg);\n\n        _this.messageBus.postMessage(msg, function (reply) {\n\n          log.info('[Discovery] ON discoverHyperty->', reply);\n          var hyperties = reply.body.value;\n\n          if (hyperties) {\n            resolve(hyperties);\n          } else {\n            reject('No Hyperty was found');\n          }\n        });\n      });\n    }\n\n    /**\n    * function to request about users registered in domain registry, and\n    * return the last hyperty instance registered by the user.\n    * @deprecated Deprecated. Use discoverHyperty instead\n    * @param  {email}              email\n    * @param  {domain}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverHypertyPerUser',\n    value: function discoverHypertyPerUser(email, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        // Hack for legacy users\n        if (email.includes(':') && !email.includes('user://')) {\n          log.log('[Discovery.discoverHyperty] ' + email + 'is legacy domain');\n          var legacyUser = { id: email, hypertyURL: email, descriptor: 'unknown' };\n          return resolve(legacyUser);\n        }\n\n        if (!domain) {\n          activeDomain = _this.domain;\n        } else {\n          activeDomain = domain;\n        }\n\n        var identityURL = 'user://' + email.substring(email.indexOf('@') + 1, email.length) + '/' + email.substring(0, email.indexOf('@'));\n\n        // message to query domain registry, asking for a user hyperty.\n        var message = {\n          type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: identityURL }\n        };\n\n        log.info('[Discovery] Message: ', message, activeDomain, identityURL);\n\n        //log.info('[Discovery] message READ', message);\n\n        _this.messageBus.postMessage(message, function (reply) {\n          log.info('[Discovery] message reply', reply);\n\n          var hyperty = void 0;\n          var mostRecent = void 0;\n          var lastHyperty = void 0;\n          var value = reply.body.value;\n\n          for (hyperty in value) {\n            if (value[hyperty].lastModified !== undefined) {\n              if (mostRecent === undefined) {\n                mostRecent = new Date(value[hyperty].lastModified);\n                lastHyperty = hyperty;\n              } else {\n                var hypertyDate = new Date(value[hyperty].lastModified);\n                if (mostRecent.getTime() < hypertyDate.getTime()) {\n                  mostRecent = hypertyDate;\n                  lastHyperty = hyperty;\n                }\n              }\n            }\n          }\n\n          log.info('[Discovery] Last Hyperty: ', lastHyperty, mostRecent);\n\n          var hypertyURL = lastHyperty;\n\n          if (hypertyURL === undefined) {\n            return reject('User Hyperty not found');\n          }\n\n          var idPackage = {\n            id: email,\n            descriptor: value[hypertyURL].descriptor,\n            hypertyURL: hypertyURL\n          };\n\n          log.info('[Discovery] ===> hypertyDiscovery messageBundle: ', idPackage);\n          resolve(idPackage);\n        });\n      });\n    }\n\n    /**\n    * function to request about users registered in domain registry, and\n    * return the all the hyperties registered by the user\n    * @deprecated Deprecated. Use discoverHyperty instead\n    * @param  {email}              email\n    * @param  {domain}            domain (Optional)\n    */\n\n  }, {\n    key: 'discoverHypertiesPerUser',\n    value: function discoverHypertiesPerUser(email, domain) {\n      var _this = this;\n      var activeDomain = void 0;\n      log.log('on Function->', email);\n      return new _promise2.default(function (resolve, reject) {\n\n        if (email.includes(':') && !email.includes('user://')) {\n          log.log('[Discovery.discoverHyperty] is legacy domain');\n          var legacyUser = { userID: email, hypertyID: email, schema: schema, resources: resources };\n          return resolve(legacyUser);\n        }\n\n        if (!domain) {\n          activeDomain = _this.domain;\n        } else {\n          activeDomain = domain;\n        }\n\n        var identityURL = 'user://' + email.substring(email.indexOf('@') + 1, email.length) + '/' + email.substring(0, email.indexOf('@'));\n\n        // message to query domain registry, asking for a user hyperty.\n        var message = {\n          type: 'read', from: _this.discoveryURL, to: 'domain://registry.' + activeDomain, body: { resource: identityURL }\n        };\n\n        log.log('[Discovery] Message discoverHypertiesPerUser: ', message, activeDomain, identityURL);\n\n        //log.info('[Discovery] message READ', message);\n\n        _this.messageBus.postMessage(message, function (reply) {\n          log.info('[Discovery] discoverHypertiesPerUser reply', reply);\n\n          var value = reply.body.value;\n\n          if (!value) {\n            return reject('User Hyperty not found');\n          }\n\n          resolve(value);\n        });\n      });\n    }\n\n    /**\n    * function to request about users registered in domain registry, and\n    * return the all the hyperties registered by the user\n    * @deprecated Deprecated. Use discoverHyperty instead\n    * @param  {email}              email\n    * @param  {domain}            domain (Optional)\n    */\n\n  }, {\n    key: 'resumeDiscoveries',\n    value: function resumeDiscoveries() {\n\n      var _this = this;\n\n      log.log('[Discovery] resumeDiscoveries');\n\n      return new _promise2.default(function (resolve, reject) {\n\n        var msg = {\n          type: 'read', from: _this.discoveryURL, to: _this.runtimeURL + '/subscriptions', body: { resource: _this.discoveryURL }\n        };\n\n        _this.messageBus.postMessage(msg, function (reply) {\n          log.log('[Discovery.resumeDiscoveries] reply: ', reply);\n\n          var notifications = [];\n\n          if (reply.body.code === 200) {\n            var urls = reply.body.value; // URLs to add listeners to\n\n            //lets create one DiscoveryObject per notification\n            urls.forEach(function (url) {\n              var objectUrl = url.split('/registration')[0];\n              var data = {};\n              data.url = objectUrl;\n              log.log('[Discovery.resumeDiscoveries] adding listener to: ', objectUrl);\n\n              if (objectUrl.includes('hyperty://')) {\n                notifications.push(_this.discoverHypertyPerURLDO(objectUrl));\n              } else {\n                notifications.push(_this.discoverDataObjectPerURLDO(objectUrl));\n              }\n            });\n            _promise2.default.all(notifications).then(function (values) {\n              resolve(values);\n            });\n          } else {\n            resolve([]);\n          }\n        });\n      });\n    }\n  }]);\n  return Discovery;\n}();\n\nexports.default = Discovery;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXJ5L0Rpc2NvdmVyeS5qcz83MDM4Il0sIm5hbWVzIjpbImxvZ2dlciIsImxvZyIsImdldExvZ2dlciIsIkRpc2NvdmVyeSIsImh5cGVydHlVUkwiLCJydW50aW1lVVJMIiwibXNnQnVzIiwiX3RoaXMiLCJtZXNzYWdlQnVzIiwiZG9tYWluIiwiZGlzY292ZXJ5VVJMIiwidXNlcklkZW50aWZpZXIiLCJpbmNsdWRlcyIsInNjaGVtYSIsInJlc291cmNlcyIsImZpbHRlcmVkSHlwZXJ0aWVzIiwibXNnIiwidHlwZSIsImZyb20iLCJ0byIsImJvZHkiLCJyZXNvdXJjZSIsImRhdGFTY2hlbWVzIiwicmVzb2x2ZSIsInJlamVjdCIsIl9pc0xlZ2FjeVVzZXIiLCJwb3N0TWVzc2FnZSIsInJlcGx5IiwiY29kZSIsInZhbHVlIiwibWFwIiwiaHlwZXJ0eSIsImh5cGVydHlJRCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YSIsInRoZW4iLCJfY29udmVydFRvRGlzY292ZXJlZE9iamVjdCIsImh5cGVydGllcyIsImNhdGNoIiwiZXJyb3IiLCJndWlkVVJMIiwiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsInJlZ2lzdHJ5T2JqZWN0cyIsImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCIsImRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEIiwidXNlciIsImFjdGl2ZURvbWFpbiIsImRpc2NvdmVySHlwZXJ0aWVzIiwiZGlzY292ZXJEYXRhT2JqZWN0cyIsInVybCIsImNyaXRlcmlhIiwiZGlzY292ZXJIeXBlcnR5UGVyVVJMIiwiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMIiwicmVnaXN0cnlPYmplY3QiLCJuYW1lIiwiZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUiLCJyZXBvcnRlciIsImRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlciIsImxlZ2FjeVVzZXIiLCJ1c2VySUQiLCJpbmZvIiwiZW1haWwiLCJpZCIsImRlc2NyaXB0b3IiLCJpZGVudGl0eVVSTCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJtZXNzYWdlIiwibW9zdFJlY2VudCIsImxhc3RIeXBlcnR5IiwibGFzdE1vZGlmaWVkIiwidW5kZWZpbmVkIiwiRGF0ZSIsImh5cGVydHlEYXRlIiwiZ2V0VGltZSIsImlkUGFja2FnZSIsIm5vdGlmaWNhdGlvbnMiLCJ1cmxzIiwiZm9yRWFjaCIsIm9iamVjdFVybCIsInNwbGl0IiwiZGF0YSIsImRpc2NvdmVySHlwZXJ0eVBlclVSTERPIiwiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMRE8iLCJhbGwiLCJ2YWx1ZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7SUFBWUEsTTs7QUFHWjs7QUFDQTs7Ozs7Ozs7QUFIQSxJQUFJQyxNQUFNRCxPQUFPRSxTQUFQLENBQWlCLFdBQWpCLENBQVYsQyxDQXpCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7O0FBT0E7Ozs7SUFJTUMsUzs7QUFFSjs7Ozs7O0FBTUEscUJBQVlDLFVBQVosRUFBd0JDLFVBQXhCLEVBQW9DQyxNQUFwQyxFQUE0QztBQUFBOztBQUMxQyxRQUFJQyxRQUFRLElBQVo7QUFDQUEsVUFBTUMsVUFBTixHQUFtQkYsTUFBbkI7QUFDQUMsVUFBTUYsVUFBTixHQUFtQkEsVUFBbkI7O0FBRUFFLFVBQU1FLE1BQU4sR0FBZSxzQkFBVUwsVUFBVixFQUFzQkssTUFBckM7QUFDQUYsVUFBTUcsWUFBTixHQUFxQk4sVUFBckI7QUFDRDs7QUFFRDs7Ozs7Ozs7OztrQ0FNY08sYyxFQUFnQjtBQUM1QixVQUFJQSxlQUFlQyxRQUFmLENBQXdCLEdBQXhCLEtBQWdDLENBQUNELGVBQWVDLFFBQWYsQ0FBd0IsU0FBeEIsQ0FBckMsRUFBeUU7QUFDdkUsZUFBTyxJQUFQO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsZUFB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QixDQUFKLEVBQXNDO0FBQ3BDb0UsOEJBQWMvQyxJQUFkLENBQW1CMUIsTUFBTStFLHVCQUFOLENBQThCSCxTQUE5QixDQUFuQjtBQUNELGVBRkQsTUFFTztBQUNMSCw4QkFBYy9DLElBQWQsQ0FBbUIxQixNQUFNZ0YsMEJBQU4sQ0FBaUNKLFNBQWpDLENBQW5CO0FBQ0Q7QUFDRixhQVhEO0FBWUEsOEJBQVFLLEdBQVIsQ0FBWVIsYUFBWixFQUEyQnpDLElBQTNCLENBQWdDLGtCQUFRO0FBQUVoQixzQkFBUWtFLE1BQVI7QUFBa0IsYUFBNUQ7QUFDRCxXQWpCRCxNQWlCTztBQUNMbEUsb0JBQVEsRUFBUjtBQUNEO0FBQ0YsU0F6QkQ7QUEyQkQsT0FqQ00sQ0FBUDtBQW1DRDs7Ozs7a0JBR1lwQixTIiwiZmlsZSI6IjEzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0FcbiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSURcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXG4qIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WXG4qIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQVxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXG4qIENvcHlyaWdodCAyMDE2IEFwaXplZVxuKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTlxuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKi9cblxuLy8gTG9nIFN5c3RlbVxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ2xvZ2xldmVsJztcbmxldCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdEaXNjb3ZlcnknKTtcblxuaW1wb3J0IHtkaXZpZGVVUkwsIGNvbnZlcnRUb1VzZXJVUkx9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCBEaXNjb3ZlcmVkT2JqZWN0IGZyb20gJy4vRGlzY292ZXJlZE9iamVjdCc7XG5cbi8qKlxuKiBDb3JlIERpc2NvdmVyeSBpbnRlcmZhY2VcbiogQ2xhc3MgdG8gYWxsb3cgYXBwbGljYXRpb25zIHRvIHNlYXJjaCBmb3IgaHlwZXJ0aWVzIGFuZCBEYXRhT2JqZWN0cyB1c2luZyB0aGUgbWVzc2FnZSBidXNcbiovXG5jbGFzcyBEaXNjb3Zlcnkge1xuXG4gIC8qKlxuICAqIFRvIGluaXRpYWxpc2UgdGhlIEh5cGVydHlEaXNjb3Zlciwgd2hpY2ggd2lsbCBwcm92aWRlIHRoZSBzdXBwb3J0IGZvciBoeXBlcnRpZXMgdG9cbiAgKiBxdWVyeSB1c2VycyByZWdpc3RlcmVkIGluIG91dHNpZGUgdGhlIGludGVybmFsIGNvcmUuXG4gICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1c1xuICAqIEBwYXJhbSAge1J1bnRpbWVVUkx9ICAgICAgICAgIHJ1bnRpbWVVUkwgICAgICAgICAgICBydW50aW1lVVJMXG4gICovXG4gIGNvbnN0cnVjdG9yKGh5cGVydHlVUkwsIHJ1bnRpbWVVUkwsIG1zZ0J1cykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMubWVzc2FnZUJ1cyA9IG1zZ0J1cztcbiAgICBfdGhpcy5ydW50aW1lVVJMID0gcnVudGltZVVSTDtcblxuICAgIF90aGlzLmRvbWFpbiA9IGRpdmlkZVVSTChoeXBlcnR5VVJMKS5kb21haW47XG4gICAgX3RoaXMuZGlzY292ZXJ5VVJMID0gaHlwZXJ0eVVSTDtcbiAgfVxuXG4gIC8qKlxuICAqIEFkdmFuY2VkIFNlYXJjaCBmb3IgSHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5IGFzc29jaWF0ZWQgd2l0aCBzb21lIHVzZXIgaWRlbnRpZmllciAoZWcgZW1haWwsIG5hbWUgLi4uKVxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXJJZGVudGlmaWVyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKi9cbiAgX2lzTGVnYWN5VXNlcih1c2VySWRlbnRpZmllcikge1xuICAgIGlmICh1c2VySWRlbnRpZmllci5pbmNsdWRlcygnOicpICYmICF1c2VySWRlbnRpZmllci5pbmNsdWRlcygndXNlcjovLycpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIEFkdmFuY2VkIFNlYXJjaCBmb3IgSHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5IGFzc29jaWF0ZWQgd2l0aCBzb21lIHVzZXIgaWRlbnRpZmllciAoZWcgZW1haWwsIG5hbWUgLi4uKVxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXJJZGVudGlmaWVyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKi9cbiAgZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEodXNlcklkZW50aWZpZXIsIHNjaGVtYSwgcmVzb3VyY2VzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZmlsdGVyZWRIeXBlcnRpZXMgPSBbXTtcblxuICAgIGxldCBtc2cgPSB7XG4gICAgICB0eXBlOiAncmVhZCcsXG4gICAgICBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsXG4gICAgICB0bzogX3RoaXMucnVudGltZVVSTCArICcvZGlzY292ZXJ5LycsXG4gICAgICBib2R5OiB7XG4gICAgICAgIHJlc291cmNlOiAnL2h5cGVydHkvdXNlcnByb2ZpbGUvJyArIHVzZXJJZGVudGlmaWVyLFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc2NoZW1hIHx8IHJlc291cmNlcykge1xuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XG4gICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxuICAgICAgICBkYXRhU2NoZW1lczogc2NoZW1hXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgaWYgKCFfdGhpcy5faXNMZWdhY3lVc2VyKHVzZXJJZGVudGlmaWVyKSkgey8vIHRvZG86IHRvIHJlb212ZSB3aGVuIGRpc2NvdmVyeSBvZiBsZWdjYXkgdXNlcnMgYXJlIHN1cHBvcnRlZFxuXG4gICAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcblxuICAgICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKXtcbiAgICAgICAgICAgIHJlcGx5LmJvZHkudmFsdWUubWFwKGZ1bmN0aW9uKGh5cGVydHkpIHtcbiAgICAgICAgICAgICAgIGlmKGh5cGVydHkuaHlwZXJ0eUlEICE9IF90aGlzLmRpc2NvdmVyeVVSTClcbiAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEh5cGVydGllcy5wdXNoKGh5cGVydHkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZihmaWx0ZXJlZEh5cGVydGllcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGxvZy5sb2coXCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhXSBSZXBseSBsb2c6IFwiLGZpbHRlcmVkSHlwZXJ0aWVzKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShmaWx0ZXJlZEh5cGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhXSBFcnJvciBSZXBseSBmb3IgXCIgKyB1c2VySWRlbnRpZmllciArIFwiIFJlYXNvbjogXCIsIHJlcGx5LmJvZHkuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoW3toeXBlcnR5SUQ6IHVzZXJJZGVudGlmaWVyLCBzdGF0dXM6ICdsaXZlJ31dKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIEFkdmFuY2VkIFNlYXJjaCBmb3IgSHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5IGFzc29jaWF0ZWQgd2l0aCBzb21lIHVzZXIgaWRlbnRpZmllciAoZWcgZW1haWwsIG5hbWUgLi4uKVxuICAqIHJldHVybnMgRGlzY292ZXJlZE9iamVjdFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXJJZGVudGlmaWVyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKi9cbiAgZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGFETyh1c2VySWRlbnRpZmllciwgc2NoZW1hLCByZXNvdXJjZXMpIHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhKC4uLmFyZ3VtZW50cylcbiAgICAgIC50aGVuKGh5cGVydGllcyA9PiB7XG4gICAgICAgIHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChoeXBlcnRpZXMpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBBZHZhbmNlZCBTZWFyY2ggZm9yIERhdGFPYmplY3RzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5IGFzc29jaWF0ZWQgd2l0aCBzb21lIHVzZXIgaWRlbnRpZmllciAoZWcgZW1haWwsIG5hbWUgLi4uKVxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXJJZGVudGlmaWVyXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKi9cbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSh1c2VySWRlbnRpZmllciwgc2NoZW1hLCByZXNvdXJjZXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICdyZWFkJyxcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVzb3VyY2U6ICcvZGF0YU9iamVjdC91c2VycHJvZmlsZS8nICsgdXNlcklkZW50aWZpZXIsXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcbiAgICAgIG1zZy5ib2R5Wydjcml0ZXJpYSddID0ge1xuICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIGlmICghX3RoaXMuX2lzTGVnYWN5VXNlcih1c2VySWRlbnRpZmllcikpIHsvLyB0b2RvOiB0byByZW9tdmUgd2hlbiBkaXNjb3Zlcnkgb2YgbGVnY2F5IHVzZXJzIGFyZSBzdXBwb3J0ZWRcblxuICAgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG5cbiAgICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCl7XG4gICAgICAgICAgICBsb2cubG9nKFwiUmVwbHkgbG9nOiBcIixyZXBseS5ib2R5LnZhbHVlKTtcbiAgICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGFdIEVycm9yIFJlcGx5IGZvciBcIiArIHVzZXJJZGVudGlmaWVyICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKFt7aHlwZXJ0eUlEOiB1c2VySWRlbnRpZmllciwgc3RhdHVzOiAnbGl2ZSd9XSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgZGF0YU9iamVjdCByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSwgYW5kXG4gICogcmV0dXJucyBkaXNjb3ZlcmVkT2JqZWN0LlxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGd1aWRVUkwgICAgICAgICAgICAgICAgZ3VpZCBVUkwgZS5nIHVzZXItZ3VpZDovLzx1bmlxdWUtdXNlci1pZGVudGlmaWVyPlxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBoeXBlcnRpZXMgc2NoZW1hc1xuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkgICAgIGRvbWFpbiBvZiB0aGUgcmVnaXN0cnkgdG8gc2VhcmNoXG4gICovXG4gIGRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGFETyhndWlkVVJMLCBzY2hlbWEsIHJlc291cmNlcykge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSguLi5hcmd1bWVudHMpXG4gICAgICAgIC50aGVuKHJlZ2lzdHJ5T2JqZWN0cyA9PiByZXNvbHZlKHRoaXMuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QocmVnaXN0cnlPYmplY3RzKSkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIEFkdmFuY2VkIFNlYXJjaCBmb3IgSHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5IGFzc29jaWF0ZWQgd2l0aCBzb21lIEdVSURcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBndWlkVVJMICAgICAgICAgICAgICAgIGd1aWQgVVJMIGUuZyB1c2VyLWd1aWQ6Ly88dW5pcXVlLXVzZXItaWRlbnRpZmllcj5cbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgaHlwZXJ0aWVzIHNjaGVtYXNcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgaHlwZXJ0aWVzIHJlc291cmNlc1xuICAqL1xuICBkaXNjb3Zlckh5cGVydGllc1BlckdVSUQoZ3VpZFVSTCwgc2NoZW1hLCByZXNvdXJjZXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBmaWx0ZXJlZEh5cGVydGllcyA9IFtdO1xuXG4gICAgbGV0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICdyZWFkJyxcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVzb3VyY2U6ICcvaHlwZXJ0eS9ndWlkLycgKyBndWlkVVJMLFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZihzY2hlbWEgfHwgcmVzb3VyY2VzKSB7XG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcbiAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXG4gICAgICAgIGRhdGFTY2hlbWVzOiBzY2hlbWFcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG5cbiAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xuICAgICAgICAgIHJlcGx5LmJvZHkudmFsdWUubWFwKGZ1bmN0aW9uKGh5cGVydHkpIHtcbiAgICAgICAgICAgICBpZihoeXBlcnR5Lmh5cGVydHlJRCAhPSBfdGhpcy5kaXNjb3ZlcnlVUkwpXG4gICAgICAgICAgICAgICAgIGZpbHRlcmVkSHlwZXJ0aWVzLnB1c2goaHlwZXJ0eSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYoZmlsdGVyZWRIeXBlcnRpZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmVqZWN0KCdObyBIeXBlcnR5IHdhcyBmb3VuZCcpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nLmxvZyhcIlJlcGx5IGxvZzogXCIsZmlsdGVyZWRIeXBlcnRpZXMpO1xuICAgICAgICAgICAgcmVzb2x2ZShmaWx0ZXJlZEh5cGVydGllcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvZy53YXJuKFwiW0Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc1BlckdVSURdIEVycm9yIFJlcGx5IGZvciBcIiArIGd1aWRVUkwgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBBZHZhbmNlZCBTZWFyY2ggZm9yIEh5cGVydGllcyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSBhc3NvY2lhdGVkIHdpdGggc29tZSBHVUlEXG4gICogcmV0dXJucyBEaXNjb3ZlcmVkT2JqZWN0XG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZ3VpZFVSTCAgICAgICAgICAgICAgICBndWlkIFVSTCBlLmcgdXNlci1ndWlkOi8vPHVuaXF1ZS11c2VyLWlkZW50aWZpZXI+XG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKi9cbiAgZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlERE8oZ3VpZFVSTCwgc2NoZW1hLCByZXNvdXJjZXMpIHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCguLi5hcmd1bWVudHMpXG4gICAgICAudGhlbihoeXBlcnRpZXMgPT4ge1xuICAgICAgICByZXNvbHZlKHRoaXMuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QoaHlwZXJ0aWVzKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogQWR2YW5jZWQgU2VhcmNoIGZvciBEYXRhT2JqZWN0cyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSBhc3NvY2lhdGVkIHdpdGggc29tZSBHVUlEXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZ3VpZFVSTCAgICAgICAgICAgICAgICBndWlkIFVSTCBlLmcgdXNlci1ndWlkOi8vPHVuaXF1ZS11c2VyLWlkZW50aWZpZXI+XG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcbiAgKi9cbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQoZ3VpZFVSTCwgc2NoZW1hLCByZXNvdXJjZXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICdyZWFkJyxcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVzb3VyY2U6ICcvZGF0YU9iamVjdC9ndWlkLycgKyBndWlkVVJMLFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZihzY2hlbWEgfHwgcmVzb3VyY2VzKSB7XG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcbiAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXG4gICAgICAgIGRhdGFTY2hlbWVzOiBzY2hlbWFcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG5cbiAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xuICAgICAgICAgIGxvZy5sb2coXCJSZXBseSBsb2c6IFwiLHJlcGx5LmJvZHkudmFsdWUpO1xuICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEXSBFcnJvciBSZXBseSBmb3IgXCIgKyBndWlkVVJMICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBkYXRhT2JqZWN0IHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm5zIGRpc2NvdmVyZWRPYmplY3QuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZ3VpZFVSTCAgICAgICAgICAgICAgICBndWlkIFVSTCBlLmcgdXNlci1ndWlkOi8vPHVuaXF1ZS11c2VyLWlkZW50aWZpZXI+XG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcbiAgKi9cbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSURETyhndWlkVVJMLCBzY2hlbWEsIHJlc291cmNlcykge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQoLi4uYXJndW1lbnRzKVxuICAgICAgICAudGhlbihyZWdpc3RyeU9iamVjdHMgPT4gcmVzb2x2ZSh0aGlzLl9jb252ZXJ0VG9EaXNjb3ZlcmVkT2JqZWN0KHJlZ2lzdHJ5T2JqZWN0cykpKVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQWR2YW5jZWQgU2VhcmNoIGZvciBIeXBlcnRpZXMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnlcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICB1c2VyICAgICAgICAgICAgICAgICAgdXNlciBpZGVudGlmaWVyLCBlaXRoZXIgaW4gdXJsIG9yIGVtYWlsIGZvcm1hdFxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBoeXBlcnRpZXMgc2NoZW1hc1xuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBoeXBlcnRpZXMgcmVzb3VyY2VzXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgZG9tYWluIChPcHRpb25hbCkgICAgIGRvbWFpbiBvZiB0aGUgcmVnaXN0cnkgdG8gc2VhcmNoXG4gICovXG4gIGRpc2NvdmVySHlwZXJ0aWVzKHVzZXIsIHNjaGVtYSwgcmVzb3VyY2VzLCBkb21haW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhY3RpdmVEb21haW47XG4gICAgbGV0IGZpbHRlcmVkSHlwZXJ0aWVzID0gW107XG5cbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XG5cbiAgICBsZXQgbXNnID0ge1xuICAgICAgdHlwZTogJ3JlYWQnLFxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxuICAgICAgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL2Rpc2NvdmVyeS8nLFxuICAgICAgYm9keToge1xuICAgICAgICByZXNvdXJjZTogJy9oeXBlcnR5L3VzZXIvJyArIHVzZXIsXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcbiAgICAgIG1zZy5ib2R5Wydjcml0ZXJpYSddID0ge1xuICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYSxcbiAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cbiAgICAgIH07XG4gICAgfWVsc2Uge1xuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XG4gICAgICAgIGRvbWFpbjogYWN0aXZlRG9tYWluXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBpZiAoIV90aGlzLl9pc0xlZ2FjeVVzZXIodXNlcikpIHsvLyB0b2RvOiB0byByZW9tdmUgd2hlbiBkaXNjb3Zlcnkgb2YgbGVnY2F5IHVzZXJzIGFyZSBzdXBwb3J0ZWRcblxuICAgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG5cbiAgICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCB8fCByZXBseS5ib2R5LmNvZGUgPT09IDUwMCl7XG4gICAgICAgICAgICByZXBseS5ib2R5LnZhbHVlLm1hcChmdW5jdGlvbihoeXBlcnR5KSB7XG4gICAgICAgICAgICAgICBpZihoeXBlcnR5Lmh5cGVydHlJRCAhPSBfdGhpcy5kaXNjb3ZlcnlVUkwpXG4gICAgICAgICAgICAgICAgICAgZmlsdGVyZWRIeXBlcnRpZXMucHVzaChoeXBlcnR5KTtcbiAgICAgICAgICAgIH0pO1xuLyogICAgICAgICAgICBpZihmaWx0ZXJlZEh5cGVydGllcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgIHJlamVjdCgnTm8gSHlwZXJ0eSB3YXMgZm91bmQnKTtcbiAgICAgICAgICAgIGVsc2UgeyovXG4gICAgICAgICAgICAgIGxvZy5sb2coXCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzXSBSZXBseSA6IFwiLGZpbHRlcmVkSHlwZXJ0aWVzKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShmaWx0ZXJlZEh5cGVydGllcyk7XG4vLyAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIEVycm9yIFJlcGx5IGZvciBcIiArIHVzZXIgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHJlc29sdmUoZmlsdGVyZWRIeXBlcnRpZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKFt7aHlwZXJ0eUlEOiB1c2VyLCBzdGF0dXM6ICdsaXZlJ31dKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBBZHZhbmNlZCBTZWFyY2ggZm9yIEh5cGVydGllcyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSxcbiAgKnJldHVybnMgRGlzY292ZXJlZE9iamVjdFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXIgICAgICAgICAgICAgICAgICB1c2VyIGlkZW50aWZpZXIsIGVpdGhlciBpbiB1cmwgb3IgZW1haWwgZm9ybWF0XG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcbiAgKi9cbiAgZGlzY292ZXJIeXBlcnRpZXNETyh1c2VyLCBzY2hlbWEsIHJlc291cmNlcywgZG9tYWluKSB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5kaXNjb3Zlckh5cGVydGllcyguLi5hcmd1bWVudHMpXG4gICAgICAudGhlbihoeXBlcnRpZXMgPT4ge1xuICAgICAgICByZXNvbHZlKHRoaXMuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QoaHlwZXJ0aWVzKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEFkdmFuY2VkIFNlYXJjaCBmb3IgRGF0YU9iamVjdHMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnlcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICB1c2VyICAgICAgICAgICAgICAgICAgdXNlciBpZGVudGlmaWVyLCBlaXRoZXIgaW4gdXJsIG9yIGVtYWlsIGZvcm1hdFxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHJlc291cmNlc1xuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpICAgICBkb21haW4gb2YgdGhlIHJlZ2lzdHJ5IHRvIHNlYXJjaFxuICAqL1xuICBkaXNjb3ZlckRhdGFPYmplY3RzKHVzZXIsIHNjaGVtYSwgcmVzb3VyY2VzLCBkb21haW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhY3RpdmVEb21haW47XG5cbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XG5cbiAgICBsZXQgbXNnID0ge1xuICAgICAgdHlwZTogJ3JlYWQnLFxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxuICAgICAgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL2Rpc2NvdmVyeS8nLFxuICAgICAgYm9keToge1xuICAgICAgICByZXNvdXJjZTogJy9kYXRhT2JqZWN0L3VzZXIvJyArIHVzZXIsXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmKHNjaGVtYSB8fCByZXNvdXJjZXMpIHtcbiAgICAgIG1zZy5ib2R5Wydjcml0ZXJpYSddID0ge1xuICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcbiAgICAgICAgZGF0YVNjaGVtZXM6IHNjaGVtYSxcbiAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cbiAgICAgIH07XG4gICAgfWVsc2Uge1xuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XG4gICAgICAgIGRvbWFpbjogYWN0aXZlRG9tYWluXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG5cbiAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xuICAgICAgICAgIGxvZy5sb2coXCJSZXBseSBWYWx1ZSBMb2c6IFwiLHJlcGx5LmJvZHkudmFsdWUpO1xuICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNdIEVycm9yIFJlcGx5IGZvciBcIiArIHVzZXIgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxuICAqIHJldHVybnMgZGlzY292ZXJlZE9iamVjdC5cbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICB1c2VyICAgICAgICAgICAgICAgICAgdXNlciBpZGVudGlmaWVyLCBlaXRoZXIgaW4gdXJsIG9yIGVtYWlsIGZvcm1hdFxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHJlc291cmNlc1xuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpICAgICBkb21haW4gb2YgdGhlIHJlZ2lzdHJ5IHRvIHNlYXJjaFxuICAqL1xuICBkaXNjb3ZlckRhdGFPYmplY3RzRE8odXNlciwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuZGlzY292ZXJEYXRhT2JqZWN0cyguLi5hcmd1bWVudHMpXG4gICAgICAgIC50aGVuKHJlZ2lzdHJ5T2JqZWN0cyA9PiByZXNvbHZlKHRoaXMuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QocmVnaXN0cnlPYmplY3RzKSkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm4gdGhlIGh5cGVydHkgaW5mb3JtYXRpb24sIGlmIGZvdW5kLlxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgIHVybCAgaHlwZXJ0eSBVUkxcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbClcbiAgKi9cbiAgZGlzY292ZXJIeXBlcnR5UGVyVVJMKHVybCwgZG9tYWluKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgYWN0aXZlRG9tYWluO1xuXG4gICAgYWN0aXZlRG9tYWluID0gKCFkb21haW4pID8gX3RoaXMuZG9tYWluIDogZG9tYWluO1xuXG4gICAgbGV0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICdyZWFkJyxcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVzb3VyY2U6ICcvaHlwZXJ0eS91cmwvJyArIHVybCxcbiAgICAgICAgY3JpdGVyaWE6IHtcbiAgICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xuXG4gICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKXtcbiAgICAgICAgICBsb2cubG9nKFwiUmVwbHkgVmFsdWUgTG9nOiBcIixyZXBseS5ib2R5LnZhbHVlKTtcbiAgICAgICAgICByZXNvbHZlKHJlcGx5LmJvZHkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvZy53YXJuKFwiW0Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydHlQZXJVUkxdIEVycm9yIFJlcGx5IGZvciBcIiArIHVybCArIFwiIFJlYXNvbjogXCIsIHJlcGx5LmJvZHkuZGVzY3JpcHRpb24pO1xuICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm5zIGRpc2NvdmVyZWRPYmplY3QuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgdXJsICBoeXBlcnR5IFVSTFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxuICAqL1xuICBkaXNjb3Zlckh5cGVydHlQZXJVUkxETyh1cmwsIGRvbWFpbikge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuZGlzY292ZXJIeXBlcnR5UGVyVVJMKC4uLmFyZ3VtZW50cylcbiAgICAgICAgLnRoZW4oaHlwZXJ0eSA9PiByZXNvbHZlKG5ldyBEaXNjb3ZlcmVkT2JqZWN0KGh5cGVydHksIHRoaXMucnVudGltZVVSTCwgdGhpcy5kaXNjb3ZlcnlVUkwsIHRoaXMubWVzc2FnZUJ1cywgdGhpcykpKVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxuICAqIHJldHVybiB0aGUgZGF0YU9iamVjdCBpbmZvcm1hdGlvbiwgaWYgZm91bmQuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgdXJsICBkYXRhT2JqZWN0IFVSTFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxuICAqL1xuICBkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwodXJsLCBkb21haW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhY3RpdmVEb21haW47XG5cbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XG5cbiAgICBsZXQgbXNnID0ge1xuICAgICAgdHlwZTogJ3JlYWQnLFxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxuICAgICAgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL2Rpc2NvdmVyeS8nLFxuICAgICAgYm9keToge1xuICAgICAgICByZXNvdXJjZTogJy9kYXRhT2JqZWN0L3VybC8nICsgdXJsLFxuICAgICAgICBjcml0ZXJpYToge1xuICAgICAgICAgIGRvbWFpbjogYWN0aXZlRG9tYWluXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KSA9PiB7XG5cbiAgICAgICAgaWYocmVwbHkuYm9keS5jb2RlID09PSAyMDApe1xuICAgICAgICAgIGxvZy5sb2coXCJSZXBseSBWYWx1ZSBMb2c6IFwiLHJlcGx5LmJvZHkudmFsdWUpO1xuICAgICAgICAgIHJlc29sdmUocmVwbHkuYm9keS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9nLndhcm4oXCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTF0gRXJyb3IgUmVwbHkgZm9yIFwiICsgdXJsICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBkYXRhT2JqZWN0IHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm5zIGRpc2NvdmVyZWRPYmplY3QuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgdXJsICBkYXRhT2JqZWN0IFVSTFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxuICAqL1xuICBkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkxETyh1cmwsIGRvbWFpbikge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMKC4uLmFyZ3VtZW50cylcbiAgICAgICAgLnRoZW4ocmVnaXN0cnlPYmplY3QgPT4gcmVzb2x2ZShuZXcgRGlzY292ZXJlZE9iamVjdChyZWdpc3RyeU9iamVjdCwgdGhpcy5ydW50aW1lVVJMLCB0aGlzLmRpc2NvdmVyeVVSTCwgdGhpcy5tZXNzYWdlQnVzLCB0aGlzKSkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgYW4gZGF0YU9iamVjdHMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnkgd2l0aCBhIGdpdmVuIG5hbWUsIGFuZFxuICAqIHJldHVybiB0aGUgZGF0YU9iamVjdHMgaW5mb3JtYXRpb24sIGlmIGZvdW5kLlxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgIG5hbWUgIGRhdGFPYmplY3QgVVJMXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHNjaGVtYXNcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICByZXNvdXJjZXMgKE9wdGlvbmFsKSAgdHlwZXMgb2YgZGF0YU9iamVjdHMgcmVzb3VyY2VzXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpXG4gICovXG4gIGRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKG5hbWUsIHNjaGVtYSwgcmVzb3VyY2VzLCBkb21haW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhY3RpdmVEb21haW47XG5cbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XG5cbiAgICBsZXQgbXNnID0ge1xuICAgICAgdHlwZTogJ3JlYWQnLFxuICAgICAgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLFxuICAgICAgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL2Rpc2NvdmVyeS8nLFxuICAgICAgYm9keToge1xuICAgICAgICByZXNvdXJjZTogJy9kYXRhT2JqZWN0L25hbWUvJyArIG5hbWVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYoc2NoZW1hIHx8IHJlc291cmNlcykge1xuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XG4gICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxuICAgICAgICBkYXRhU2NoZW1lczogc2NoZW1hLFxuICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxuICAgICAgfTtcbiAgICB9ZWxzZSB7XG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcbiAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcblxuICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCl7XG4gICAgICAgICAgbG9nLmxvZyhcIlJlcGx5IFZhbHVlIExvZzogXCIscmVwbHkuYm9keS52YWx1ZSk7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWVdIEVycm9yIFJlcGx5IGZvciBcIiArIG5hbWUgKyBcIiBSZWFzb246IFwiLCByZXBseS5ib2R5LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IGRhdGFPYmplY3QgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxuICAqIHJldHVybnMgZGlzY292ZXJlZE9iamVjdC5cbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgICBuYW1lICBkYXRhT2JqZWN0IFVSTFxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHJlc291cmNlc1xuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxuICAqL1xuICBkaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZURPKG5hbWUsIHNjaGVtYSwgcmVzb3VyY2VzLCBkb21haW4pIHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKC4uLmFyZ3VtZW50cylcbiAgICAgICAgLnRoZW4ocmVnaXN0cnlPYmplY3RzID0+IHJlc29sdmUodGhpcy5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdChyZWdpc3RyeU9iamVjdHMpKSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBzcGVjaWZpYyByZXBvcnRlciBkYXRhT2JqZWN0IHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm4gdGhlIGRhdGFPYmplY3RzIGZyb20gdGhhdCByZXBvcnRlci5cbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICByZXBvcnRlciAgICAgZGF0YU9iamVjdCByZXBvcnRlclxuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHNjaGVtYSAoT3B0aW9uYWwpICAgICB0eXBlcyBvZiBkYXRhT2JqZWN0cyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGRhdGFPYmplY3RzIHJlc291cmNlc1xuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGRvbWFpbiAgICAgICAoT3B0aW9uYWwpXG4gICovXG4gIGRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihyZXBvcnRlciwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcblxuICAgIGFjdGl2ZURvbWFpbiA9ICghZG9tYWluKSA/IF90aGlzLmRvbWFpbiA6IGRvbWFpbjtcblxuXG4gICAgbGV0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICdyZWFkJyxcbiAgICAgIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCxcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lVVJMICsgJy9kaXNjb3ZlcnkvJyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVzb3VyY2U6ICcvZGF0YU9iamVjdC9yZXBvcnRlci8nICsgcmVwb3J0ZXJcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYoc2NoZW1hIHx8IHJlc291cmNlcykge1xuICAgICAgbXNnLmJvZHlbJ2NyaXRlcmlhJ10gPSB7XG4gICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxuICAgICAgICBkYXRhU2NoZW1lczogc2NoZW1hLFxuICAgICAgICBkb21haW46IGFjdGl2ZURvbWFpblxuICAgICAgfTtcbiAgICB9ZWxzZSB7XG4gICAgICBtc2cuYm9keVsnY3JpdGVyaWEnXSA9IHtcbiAgICAgICAgZG9tYWluOiBhY3RpdmVEb21haW5cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcblxuICAgICAgICBpZihyZXBseS5ib2R5LmNvZGUgPT09IDIwMCl7XG4gICAgICAgICAgbG9nLmxvZyhcIlJlcGx5IFZhbHVlIExvZzogXCIscmVwbHkuYm9keS52YWx1ZSk7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWVdIEVycm9yIFJlcGx5IGZvciBcIiArIHJlcG9ydGVyICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCBkYXRhT2JqZWN0IHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm5zIGRpc2NvdmVyZWRPYmplY3QuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgbmFtZSAgZGF0YU9iamVjdCBVUkxcbiAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSAgICBzY2hlbWEgKE9wdGlvbmFsKSAgICAgdHlwZXMgb2YgZGF0YU9iamVjdHMgc2NoZW1hc1xuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBkYXRhT2JqZWN0cyByZXNvdXJjZXNcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgZG9tYWluIChPcHRpb25hbClcbiAgKi9cbiAgZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyRE8ocmVwb3J0ZXIsIHNjaGVtYSwgcmVzb3VyY2VzLCBkb21haW4pIHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlciguLi5hcmd1bWVudHMpXG4gICAgICAgIC50aGVuKHJlZ2lzdHJ5T2JqZWN0cyA9PiByZXNvbHZlKHRoaXMuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QocmVnaXN0cnlPYmplY3RzKSkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jb252ZXJ0VG9EaXNjb3ZlcmVkT2JqZWN0KHJlZ2lzdHJ5T2JqZWN0cykge1xuICAgIHJldHVybiByZWdpc3RyeU9iamVjdHMubWFwKChyZWdpc3RyeU9iamVjdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBEaXNjb3ZlcmVkT2JqZWN0KHJlZ2lzdHJ5T2JqZWN0LCB0aGlzLnJ1bnRpbWVVUkwsIHRoaXMuZGlzY292ZXJ5VVJMLCB0aGlzLm1lc3NhZ2VCdXMsIHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEFkdmFuY2VkIFNlYXJjaCBmb3IgZGF0YU9iamVjdHMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnlcbiAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkLiBVc2UgZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUgaW5zdGVhZFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIG5hbWUgICAgICAgICAgICAgICAgICBuYW1lIG9mIHRoZSBkYXRhT2JqZWN0XG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGRhdGFPYmplY3Qgc2NoZW1hc1xuICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59ICAgIHJlc291cmNlcyAoT3B0aW9uYWwpICB0eXBlcyBvZiBkYXRhT2JqZWN0IHJlc291cmNlc1xuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpICAgICBkb21haW4gb2YgdGhlIHJlZ2lzdHJ5IHRvIHNlYXJjaFxuICAqL1xuICBkaXNjb3ZlckRhdGFPYmplY3QobmFtZSwgc2NoZW1hLCByZXNvdXJjZXMsIGRvbWFpbikge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFjdGl2ZURvbWFpbjtcbiAgICAvL2xldCB1c2VySWRlbnRpZmllciA9IGNvbnZlcnRUb1VzZXJVUkwodXNlcik7XG5cbiAgICBhY3RpdmVEb21haW4gPSAoIWRvbWFpbikgPyBfdGhpcy5kb21haW4gOiBkb21haW47XG5cbiAgICBsZXQgbXNnID0ge1xuICAgICAgdHlwZTogJ3JlYWQnLCBmcm9tOiBfdGhpcy5kaXNjb3ZlcnlVUkwsIHRvOiAnZG9tYWluOi8vcmVnaXN0cnkuJyArIGFjdGl2ZURvbWFpbiwgYm9keTogeyByZXNvdXJjZTogbmFtZSxcbiAgICAgIGNyaXRlcmlhOiB7cmVzb3VyY2VzOiByZXNvdXJjZXMsIGRhdGFTY2hlbWVzOiBzY2hlbWF9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIChyZXBseSkgPT4ge1xuICAgICAgICBsb2cubG9nKCdbRGlzY292ZXJ5XScsIHJlcGx5KVxuXG4gICAgICAgIGlmKHJlcGx5LmJvZHkuY29kZT4yOTkpIHtcbiAgICAgICAgICBsb2cud2FybihcIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0XSBFcnJvciBSZXBseSBmb3IgXCIgKyBuYW1lICsgXCIgUmVhc29uOiBcIiwgcmVwbHkuYm9keS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGh5cGVydGllcyA9IHJlcGx5LmJvZHkudmFsdWU7XG5cbiAgICAgICAgaWYgKGh5cGVydGllcykge1xuICAgICAgICAgIHJlc29sdmUoaHlwZXJ0aWVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQWR2YW5jZWQgU2VhcmNoIGZvciBIeXBlcnRpZXMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnlcbiAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkLiBVc2UgZGlzY292ZXJIeXBlcnRpZXMgaW5zdGVhZFxuICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHVzZXIgICAgICAgICAgICAgICAgICB1c2VyIGlkZW50aWZpZXIsIGVpdGhlciBpbiB1cmwgb3IgZW1haWwgZm9ybWF0XG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgc2NoZW1hIChPcHRpb25hbCkgICAgIHR5cGVzIG9mIGh5cGVydGllcyBzY2hlbWFzXG4gICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gICAgcmVzb3VyY2VzIChPcHRpb25hbCkgIHR5cGVzIG9mIGh5cGVydGllcyByZXNvdXJjZXNcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKSAgICAgZG9tYWluIG9mIHRoZSByZWdpc3RyeSB0byBzZWFyY2hcbiAgKi9cbiAgZGlzY292ZXJIeXBlcnR5KHVzZXIsIHNjaGVtYSwgcmVzb3VyY2VzLCBkb21haW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhY3RpdmVEb21haW47XG4gICAgbGV0IHVzZXJJZGVudGlmaWVyID0gY29udmVydFRvVXNlclVSTCh1c2VyKTtcblxuICAgIGlmICghZG9tYWluKSB7XG4gICAgICBhY3RpdmVEb21haW4gPSBfdGhpcy5kb21haW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZURvbWFpbiA9IGRvbWFpbjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIGxvZy5sb2coJ1tEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnR5XSBBQ1RJVkUgRE9NQUlOIC0+ICcsIGFjdGl2ZURvbWFpbiwgJ3VzZXItPicsIHVzZXIsICdzY2hlbWEtPicsIHNjaGVtYSwgJ3Jlc291cmNlcy0+JywgcmVzb3VyY2VzLCAnZG9tYWluLT4nLCBkb21haW4pO1xuICAgICAgaWYgKHVzZXIuaW5jbHVkZXMoJzonKSAmJiAhdXNlci5pbmNsdWRlcygndXNlcjovLycpKSB7XG4gICAgICAgIGxvZy5sb2coJ1tEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnR5XSAnICsgdXNlciArICcgaXMgbGVnYWN5IGRvbWFpbicpO1xuICAgICAgICBsZXQgbGVnYWN5VXNlciA9IHsgdXNlcklEOiB1c2VyLCBoeXBlcnR5SUQ6IHVzZXIsIHNjaGVtYTogc2NoZW1hLCByZXNvdXJjZXM6IHJlc291cmNlcyB9O1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShsZWdhY3lVc2VyKTtcbiAgICAgIH1cbiAgICAgIGxldCBtc2cgPSB7XG4gICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4sIGJvZHk6IHsgcmVzb3VyY2U6IHVzZXJJZGVudGlmaWVyLFxuICAgICAgICBjcml0ZXJpYToge3Jlc291cmNlczogcmVzb3VyY2VzLCBkYXRhU2NoZW1lczogc2NoZW1hfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBsb2cuaW5mbygnW0Rpc2NvdmVyeV0gbXNnIHRvIHNlbmQtPicsIG1zZyk7XG5cbiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCAocmVwbHkpID0+IHtcblxuICAgICAgICBsb2cuaW5mbygnW0Rpc2NvdmVyeV0gT04gZGlzY292ZXJIeXBlcnR5LT4nLCByZXBseSk7XG4gICAgICAgIGxldCBoeXBlcnRpZXMgPSByZXBseS5ib2R5LnZhbHVlO1xuXG4gICAgICAgIGlmIChoeXBlcnRpZXMpIHtcbiAgICAgICAgICByZXNvbHZlKGh5cGVydGllcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KCdObyBIeXBlcnR5IHdhcyBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIGZ1bmN0aW9uIHRvIHJlcXVlc3QgYWJvdXQgdXNlcnMgcmVnaXN0ZXJlZCBpbiBkb21haW4gcmVnaXN0cnksIGFuZFxuICAqIHJldHVybiB0aGUgbGFzdCBoeXBlcnR5IGluc3RhbmNlIHJlZ2lzdGVyZWQgYnkgdGhlIHVzZXIuXG4gICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZC4gVXNlIGRpc2NvdmVySHlwZXJ0eSBpbnN0ZWFkXG4gICogQHBhcmFtICB7ZW1haWx9ICAgICAgICAgICAgICBlbWFpbFxuICAqIEBwYXJhbSAge2RvbWFpbn0gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxuICAqL1xuICBkaXNjb3Zlckh5cGVydHlQZXJVc2VyKGVtYWlsLCBkb21haW4pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhY3RpdmVEb21haW47XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIC8vIEhhY2sgZm9yIGxlZ2FjeSB1c2Vyc1xuICAgICAgaWYgKGVtYWlsLmluY2x1ZGVzKCc6JykgJiYgIWVtYWlsLmluY2x1ZGVzKCd1c2VyOi8vJykpIHtcbiAgICAgICAgbG9nLmxvZygnW0Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydHldICcgKyBlbWFpbCArJ2lzIGxlZ2FjeSBkb21haW4nKTtcbiAgICAgICAgbGV0IGxlZ2FjeVVzZXIgPSB7IGlkOiBlbWFpbCwgaHlwZXJ0eVVSTDogZW1haWwsIGRlc2NyaXB0b3I6ICd1bmtub3duJyB9O1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShsZWdhY3lVc2VyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkb21haW4pIHtcbiAgICAgICAgYWN0aXZlRG9tYWluID0gX3RoaXMuZG9tYWluO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlRG9tYWluID0gZG9tYWluO1xuICAgICAgfVxuXG4gICAgICBsZXQgaWRlbnRpdHlVUkwgPSAndXNlcjovLycgKyBlbWFpbC5zdWJzdHJpbmcoZW1haWwuaW5kZXhPZignQCcpICsgMSwgZW1haWwubGVuZ3RoKSArICcvJyArIGVtYWlsLnN1YnN0cmluZygwLCBlbWFpbC5pbmRleE9mKCdAJykpO1xuXG5cbiAgICAgIC8vIG1lc3NhZ2UgdG8gcXVlcnkgZG9tYWluIHJlZ2lzdHJ5LCBhc2tpbmcgZm9yIGEgdXNlciBoeXBlcnR5LlxuICAgICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4sIGJvZHk6IHsgcmVzb3VyY2U6IGlkZW50aXR5VVJMfVxuICAgICAgfTtcblxuICAgICAgbG9nLmluZm8oJ1tEaXNjb3ZlcnldIE1lc3NhZ2U6ICcsIG1lc3NhZ2UsIGFjdGl2ZURvbWFpbiwgaWRlbnRpdHlVUkwpO1xuXG4gICAgICAvL2xvZy5pbmZvKCdbRGlzY292ZXJ5XSBtZXNzYWdlIFJFQUQnLCBtZXNzYWdlKTtcblxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlLCAocmVwbHkpID0+IHtcbiAgICAgICAgbG9nLmluZm8oJ1tEaXNjb3ZlcnldIG1lc3NhZ2UgcmVwbHknLCByZXBseSk7XG5cbiAgICAgICAgbGV0IGh5cGVydHk7XG4gICAgICAgIGxldCBtb3N0UmVjZW50O1xuICAgICAgICBsZXQgbGFzdEh5cGVydHk7XG4gICAgICAgIGxldCB2YWx1ZSA9IHJlcGx5LmJvZHkudmFsdWU7XG5cbiAgICAgICAgZm9yIChoeXBlcnR5IGluIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlW2h5cGVydHldLmxhc3RNb2RpZmllZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAobW9zdFJlY2VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG1vc3RSZWNlbnQgPSBuZXcgRGF0ZSh2YWx1ZVtoeXBlcnR5XS5sYXN0TW9kaWZpZWQpO1xuICAgICAgICAgICAgICBsYXN0SHlwZXJ0eSA9IGh5cGVydHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgaHlwZXJ0eURhdGUgPSBuZXcgRGF0ZSh2YWx1ZVtoeXBlcnR5XS5sYXN0TW9kaWZpZWQpO1xuICAgICAgICAgICAgICBpZiAobW9zdFJlY2VudC5nZXRUaW1lKCkgPCBoeXBlcnR5RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICBtb3N0UmVjZW50ID0gaHlwZXJ0eURhdGU7XG4gICAgICAgICAgICAgICAgbGFzdEh5cGVydHkgPSBoeXBlcnR5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbG9nLmluZm8oJ1tEaXNjb3ZlcnldIExhc3QgSHlwZXJ0eTogJywgbGFzdEh5cGVydHksIG1vc3RSZWNlbnQpO1xuXG4gICAgICAgIGxldCBoeXBlcnR5VVJMID0gbGFzdEh5cGVydHk7XG5cbiAgICAgICAgaWYgKGh5cGVydHlVUkwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoJ1VzZXIgSHlwZXJ0eSBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpZFBhY2thZ2UgPSB7XG4gICAgICAgICAgaWQ6IGVtYWlsLFxuICAgICAgICAgIGRlc2NyaXB0b3I6IHZhbHVlW2h5cGVydHlVUkxdLmRlc2NyaXB0b3IsXG4gICAgICAgICAgaHlwZXJ0eVVSTDogaHlwZXJ0eVVSTFxuICAgICAgICB9O1xuXG4gICAgICAgIGxvZy5pbmZvKCdbRGlzY292ZXJ5XSA9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogJywgaWRQYWNrYWdlKTtcbiAgICAgICAgcmVzb2x2ZShpZFBhY2thZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBmdW5jdGlvbiB0byByZXF1ZXN0IGFib3V0IHVzZXJzIHJlZ2lzdGVyZWQgaW4gZG9tYWluIHJlZ2lzdHJ5LCBhbmRcbiAgKiByZXR1cm4gdGhlIGFsbCB0aGUgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgYnkgdGhlIHVzZXJcbiAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkLiBVc2UgZGlzY292ZXJIeXBlcnR5IGluc3RlYWRcbiAgKiBAcGFyYW0gIHtlbWFpbH0gICAgICAgICAgICAgIGVtYWlsXG4gICogQHBhcmFtICB7ZG9tYWlufSAgICAgICAgICAgIGRvbWFpbiAoT3B0aW9uYWwpXG4gICovXG4gIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcihlbWFpbCwgZG9tYWluKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgYWN0aXZlRG9tYWluO1xuICAgIGxvZy5sb2coJ29uIEZ1bmN0aW9uLT4nLCBlbWFpbCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBpZiAoZW1haWwuaW5jbHVkZXMoJzonKSAmJiAhZW1haWwuaW5jbHVkZXMoJ3VzZXI6Ly8nKSkge1xuICAgICAgICBsb2cubG9nKCdbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gaXMgbGVnYWN5IGRvbWFpbicpO1xuICAgICAgICBsZXQgbGVnYWN5VXNlciA9IHsgdXNlcklEOiBlbWFpbCwgaHlwZXJ0eUlEOiBlbWFpbCwgc2NoZW1hOiBzY2hlbWEsIHJlc291cmNlczogcmVzb3VyY2VzIH07XG4gICAgICAgIHJldHVybiByZXNvbHZlKGxlZ2FjeVVzZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRvbWFpbikge1xuICAgICAgICBhY3RpdmVEb21haW4gPSBfdGhpcy5kb21haW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVEb21haW4gPSBkb21haW47XG4gICAgICB9XG5cbiAgICAgIGxldCBpZGVudGl0eVVSTCA9ICd1c2VyOi8vJyArIGVtYWlsLnN1YnN0cmluZyhlbWFpbC5pbmRleE9mKCdAJykgKyAxLCBlbWFpbC5sZW5ndGgpICsgJy8nICsgZW1haWwuc3Vic3RyaW5nKDAsIGVtYWlsLmluZGV4T2YoJ0AnKSk7XG5cbiAgICAgIC8vIG1lc3NhZ2UgdG8gcXVlcnkgZG9tYWluIHJlZ2lzdHJ5LCBhc2tpbmcgZm9yIGEgdXNlciBoeXBlcnR5LlxuICAgICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6ICdyZWFkJywgZnJvbTogX3RoaXMuZGlzY292ZXJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBhY3RpdmVEb21haW4sIGJvZHk6IHsgcmVzb3VyY2U6IGlkZW50aXR5VVJMfVxuICAgICAgfTtcblxuICAgICAgbG9nLmxvZygnW0Rpc2NvdmVyeV0gTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICcsIG1lc3NhZ2UsIGFjdGl2ZURvbWFpbiwgaWRlbnRpdHlVUkwpO1xuXG4gICAgICAvL2xvZy5pbmZvKCdbRGlzY292ZXJ5XSBtZXNzYWdlIFJFQUQnLCBtZXNzYWdlKTtcblxuICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlLCAocmVwbHkpID0+IHtcbiAgICAgICAgbG9nLmluZm8oJ1tEaXNjb3ZlcnldIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciByZXBseScsIHJlcGx5KTtcblxuICAgICAgICBsZXQgdmFsdWUgPSByZXBseS5ib2R5LnZhbHVlO1xuXG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KCdVc2VyIEh5cGVydHkgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogZnVuY3Rpb24gdG8gcmVxdWVzdCBhYm91dCB1c2VycyByZWdpc3RlcmVkIGluIGRvbWFpbiByZWdpc3RyeSwgYW5kXG4gICogcmV0dXJuIHRoZSBhbGwgdGhlIGh5cGVydGllcyByZWdpc3RlcmVkIGJ5IHRoZSB1c2VyXG4gICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZC4gVXNlIGRpc2NvdmVySHlwZXJ0eSBpbnN0ZWFkXG4gICogQHBhcmFtICB7ZW1haWx9ICAgICAgICAgICAgICBlbWFpbFxuICAqIEBwYXJhbSAge2RvbWFpbn0gICAgICAgICAgICBkb21haW4gKE9wdGlvbmFsKVxuICAqL1xuICByZXN1bWVEaXNjb3ZlcmllcygpIHtcblxuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsb2cubG9nKCdbRGlzY292ZXJ5XSByZXN1bWVEaXNjb3ZlcmllcycpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICBsZXQgbXNnID0ge1xuICAgICAgICB0eXBlOiAncmVhZCcsIGZyb206IF90aGlzLmRpc2NvdmVyeVVSTCwgdG86IF90aGlzLnJ1bnRpbWVVUkwgKyAnL3N1YnNjcmlwdGlvbnMnLCBib2R5OiB7IHJlc291cmNlOiBfdGhpcy5kaXNjb3ZlcnlVUkx9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZywgKHJlcGx5KT0+e1xuICAgICAgICBsb2cubG9nKCdbRGlzY292ZXJ5LnJlc3VtZURpc2NvdmVyaWVzXSByZXBseTogJywgcmVwbHkpO1xuXG4gICAgICAgIGxldCBub3RpZmljYXRpb25zID0gW107XG5cbiAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgICAgbGV0IHVybHMgPSByZXBseS5ib2R5LnZhbHVlOy8vIFVSTHMgdG8gYWRkIGxpc3RlbmVycyB0b1xuXG4gICAgICAgICAgLy9sZXRzIGNyZWF0ZSBvbmUgRGlzY292ZXJ5T2JqZWN0IHBlciBub3RpZmljYXRpb25cbiAgICAgICAgICB1cmxzLmZvckVhY2goKHVybCkgPT4ge1xuICAgICAgICAgICAgbGV0IG9iamVjdFVybCA9IHVybC5zcGxpdCgnL3JlZ2lzdHJhdGlvbicpWzBdO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgICAgIGRhdGEudXJsID0gb2JqZWN0VXJsO1xuICAgICAgICAgICAgbG9nLmxvZygnW0Rpc2NvdmVyeS5yZXN1bWVEaXNjb3Zlcmllc10gYWRkaW5nIGxpc3RlbmVyIHRvOiAnLCBvYmplY3RVcmwpO1xuXG4gICAgICAgICAgICBpZiAob2JqZWN0VXJsLmluY2x1ZGVzKCdoeXBlcnR5Oi8vJykpIHtcbiAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucy5wdXNoKF90aGlzLmRpc2NvdmVySHlwZXJ0eVBlclVSTERPKG9iamVjdFVybCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucy5wdXNoKF90aGlzLmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTERPKG9iamVjdFVybCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFByb21pc2UuYWxsKG5vdGlmaWNhdGlvbnMpLnRoZW4odmFsdWVzPT57IHJlc29sdmUodmFsdWVzKTsgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNjb3Zlcnk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGlzY292ZXJ5L0Rpc2NvdmVyeS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///136\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _utils = __webpack_require__(21);\n\nvar _RegistrationStatus2 = __webpack_require__(124);\n\nvar _RegistrationStatus3 = _interopRequireDefault(_RegistrationStatus2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Discovered Object interface\n*/\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\nvar DiscoveredObject = function (_RegistrationStatus) {\n  (0, _inherits3.default)(DiscoveredObject, _RegistrationStatus);\n  (0, _createClass3.default)(DiscoveredObject, [{\n    key: 'data',\n    get: function get() {\n      return this._data;\n    }\n  }]);\n\n  function DiscoveredObject(data, runtimeURL, discoveryURL, msgBus, discovery) {\n    (0, _classCallCheck3.default)(this, DiscoveredObject);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DiscoveredObject.__proto__ || (0, _getPrototypeOf2.default)(DiscoveredObject)).call(this, data.hypertyID || data.url, runtimeURL, discoveryURL, msgBus));\n\n    _this2._data = data;\n    _this2._discovery = discovery;\n    return _this2;\n  }\n\n  /**\n  * function to check the status of the DiscoveredObject.\n  * Depending on existing subscribers it may trigger onLive or onDisconnected events.\n  *\n  */\n\n  (0, _createClass3.default)(DiscoveredObject, [{\n    key: 'check',\n    value: function check() {\n      // query DR for the status and call processNotification with msg received\n\n      var _this = this;\n      var message = {\n        body: {}\n      };\n\n      if (_this._discoveredObjectURL.startsWith('hyperty://')) {\n        _this._discovery.discoverHypertyPerURL(_this._discoveredObjectURL).then(function (registration) {\n          message.body.status = registration.status;\n          _this._processNotification(message);\n        });\n      } else {\n        _this._discovery.discoverDataObjectsPerURL(_this._discoveredObjectURL).then(function (registration) {\n          message.body.status = registration.status;\n          _this._processNotification(message);\n        });\n      }\n    }\n  }]);\n  return DiscoveredObject;\n}(_RegistrationStatus3.default);\n\nexports.default = DiscoveredObject;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXJ5L0Rpc2NvdmVyZWRPYmplY3QuanM/MmQ5OSJdLCJuYW1lcyI6WyJEaXNjb3ZlcmVkT2JqZWN0IiwiX2RhdGEiLCJkYXRhIiwicnVudGltZVVSTCIsImRpc2NvdmVyeVVSTCIsIm1zZ0J1cyIsImRpc2NvdmVyeSIsImh5cGVydHlJRCIsInVybCIsIl9kaXNjb3ZlcnkiLCJfdGhpcyIsIm1lc3NhZ2UiLCJib2R5IiwiX2Rpc2NvdmVyZWRPYmplY3RVUkwiLCJzdGFydHNXaXRoIiwiZGlzY292ZXJIeXBlcnR5UGVyVVJMIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsInN0YXR1cyIsIl9wcm9jZXNzTm90aWZpY2F0aW9uIiwiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVSTCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7O0FBQ0E7Ozs7OztBQUVBOzs7QUExQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBNkJNQSxnQjs7Ozt3QkFFTztBQUNULGFBQU8sS0FBS0MsS0FBWjtBQUNEOzs7QUFFRCw0QkFBWUMsSUFBWixFQUFrQkMsVUFBbEIsRUFBOEJDLFlBQTlCLEVBQTRDQyxNQUE1QyxFQUFvREMsU0FBcEQsRUFBK0Q7QUFBQTs7QUFBQSwySkFDdkRKLEtBQUtLLFNBQUwsSUFBa0JMLEtBQUtNLEdBRGdDLEVBQzNCTCxVQUQyQixFQUNmQyxZQURlLEVBQ0RDLE1BREM7O0FBRzdELFdBQUtKLEtBQUwsR0FBYUMsSUFBYjtBQUNBLFdBQUtPLFVBQUwsR0FBa0JILFNBQWxCO0FBSjZEO0FBSzlEOztBQUtEOzs7Ozs7Ozs0QkFNUTtBQUNOOztBQUVBLFVBQUlJLFFBQVEsSUFBWjtBQUNBLFVBQUlDLFVBQVU7QUFDWkMsY0FBTTtBQURNLE9BQWQ7O0FBSUEsVUFBSUYsTUFBTUcsb0JBQU4sQ0FBMkJDLFVBQTNCLENBQXNDLFlBQXRDLENBQUosRUFBMEQ7QUFDeERKLGNBQU1ELFVBQU4sQ0FBaUJNLHFCQUFqQixDQUF1Q0wsTUFBTUcsb0JBQTdDLEVBQW1FRyxJQUFuRSxDQUF3RSxVQUFDQyxZQUFELEVBQWdCO0FBQ3RGTixrQkFBUUMsSUFBUixDQUFhTSxNQUFiLEdBQXNCRCxhQUFhQyxNQUFuQztBQUNBUixnQkFBTVMsb0JBQU4sQ0FBMkJSLE9BQTNCO0FBQ0QsU0FIRDtBQUlELE9BTEQsTUFLTztBQUNMRCxjQUFNRCxVQUFOLENBQWlCVyx5QkFBakIsQ0FBMkNWLE1BQU1HLG9CQUFqRCxFQUF1RUcsSUFBdkUsQ0FBNEUsVUFBQ0MsWUFBRCxFQUFnQjtBQUMxRk4sa0JBQVFDLElBQVIsQ0FBYU0sTUFBYixHQUFzQkQsYUFBYUMsTUFBbkM7QUFDQVIsZ0JBQU1TLG9CQUFOLENBQTJCUixPQUEzQjtBQUNELFNBSEQ7QUFJRDtBQUNGOzs7OztrQkFNWVgsZ0IiLCJmaWxlIjoiMTM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG5pbXBvcnQge2RpdmlkZVVSTCwgY29udmVydFRvVXNlclVSTH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IFJlZ2lzdHJhdGlvblN0YXR1cyBmcm9tICcuL1JlZ2lzdHJhdGlvblN0YXR1cyc7XG5cbi8qKlxuKiBEaXNjb3ZlcmVkIE9iamVjdCBpbnRlcmZhY2VcbiovXG5jbGFzcyBEaXNjb3ZlcmVkT2JqZWN0IGV4dGVuZHMgUmVnaXN0cmF0aW9uU3RhdHVzIHtcblxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHJ1bnRpbWVVUkwsIGRpc2NvdmVyeVVSTCwgbXNnQnVzLCBkaXNjb3ZlcnkpIHtcbiAgICBzdXBlcihkYXRhLmh5cGVydHlJRCB8fCBkYXRhLnVybCwgcnVudGltZVVSTCwgZGlzY292ZXJ5VVJMLCBtc2dCdXMpO1xuXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fZGlzY292ZXJ5ID0gZGlzY292ZXJ5O1xuICB9XG5cblxuXG5cbiAgLyoqXG4gICogZnVuY3Rpb24gdG8gY2hlY2sgdGhlIHN0YXR1cyBvZiB0aGUgRGlzY292ZXJlZE9iamVjdC5cbiAgKiBEZXBlbmRpbmcgb24gZXhpc3Rpbmcgc3Vic2NyaWJlcnMgaXQgbWF5IHRyaWdnZXIgb25MaXZlIG9yIG9uRGlzY29ubmVjdGVkIGV2ZW50cy5cbiAgKlxuICAqL1xuXG4gIGNoZWNrKCkge1xuICAgIC8vIHF1ZXJ5IERSIGZvciB0aGUgc3RhdHVzIGFuZCBjYWxsIHByb2Nlc3NOb3RpZmljYXRpb24gd2l0aCBtc2cgcmVjZWl2ZWRcblxuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICBib2R5OiB7fVxuICAgIH07XG5cbiAgICBpZiAoX3RoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkwuc3RhcnRzV2l0aCgnaHlwZXJ0eTovLycpICkge1xuICAgICAgX3RoaXMuX2Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydHlQZXJVUkwoX3RoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkwpLnRoZW4oKHJlZ2lzdHJhdGlvbik9PntcbiAgICAgICAgbWVzc2FnZS5ib2R5LnN0YXR1cyA9IHJlZ2lzdHJhdGlvbi5zdGF0dXM7XG4gICAgICAgIF90aGlzLl9wcm9jZXNzTm90aWZpY2F0aW9uKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLl9kaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVSTChfdGhpcy5fZGlzY292ZXJlZE9iamVjdFVSTCkudGhlbigocmVnaXN0cmF0aW9uKT0+e1xuICAgICAgICBtZXNzYWdlLmJvZHkuc3RhdHVzID0gcmVnaXN0cmF0aW9uLnN0YXR1cztcbiAgICAgICAgX3RoaXMuX3Byb2Nlc3NOb3RpZmljYXRpb24obWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlzY292ZXJlZE9iamVjdDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kaXNjb3ZlcnkvRGlzY292ZXJlZE9iamVjdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///137\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _loglevel = __webpack_require__(23);\n\nvar logger = _interopRequireWildcard(_loglevel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = logger.getLogger('DataProvisional'); /**\n                                               * Copyright 2016 PT Inovação e Sistemas SA\n                                               * Copyright 2016 INESC-ID\n                                               * Copyright 2016 QUOBIS NETWORKS SL\n                                               * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                               * Copyright 2016 ORANGE SA\n                                               * Copyright 2016 Deutsche Telekom AG\n                                               * Copyright 2016 Apizee\n                                               * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                               *\n                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                               * you may not use this file except in compliance with the License.\n                                               * You may obtain a copy of the License at\n                                               *\n                                               *   http://www.apache.org/licenses/LICENSE-2.0\n                                               *\n                                               * Unless required by applicable law or agreed to in writing, software\n                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                               * See the License for the specific language governing permissions and\n                                               * limitations under the License.\n                                               **/\n\n/**\n * @access private\n * This class is responsible for collecting delta changes in remote objects, before the response of subscription reach the observer.\n * It's used in Syncher -> subscribe. The flow is defined as:\n * 1. (observer) --subscribe--\x3e (reporter)\n * 2. (observer) <--delta updates-- (reporter)\n * 3. (observer) <--subscribe response-- (reporter)\n * This means that there could be delta updates transferred before the subscription confirmation.\n * Since there is no DataObjectObserver before the ubscription confirmation, there should be some other object collecting the updates.\n * Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n */\n\n// Log System\n\nvar DataProvisional = function () {\n  /* private\n  _childrenListeners: [MsgListener]\n  _listener: MsgListener\n   _changes: []\n  */\n\n  function DataProvisional(owner, url, bus, children) {\n    (0, _classCallCheck3.default)(this, DataProvisional);\n\n    var _this = this;\n\n    _this._owner = owner;\n    _this._url = url;\n    _this._bus = bus;\n    _this._children = children;\n\n    _this._changes = [];\n    _this._allocateListeners();\n  }\n\n  (0, _createClass3.default)(DataProvisional, [{\n    key: '_allocateListeners',\n    value: function _allocateListeners() {\n      var _this = this;\n\n      _this._listener = _this._bus.addListener(_this._url, function (msg) {\n        log.log('DataProvisional-' + _this._url + '-RCV: ', msg);\n        _this._changes.push(msg);\n      });\n\n      /*\n      _this._childrenListeners = [];\n      if (_this._children) {\n        let childBaseURL = url + '/children/';\n        _this._children.forEach((child) => {\n          let childURL = childBaseURL + child;\n          let listener = _this._bus.addListener(childURL, (msg) => {\n            //ignore msg sent by himself\n            if (msg.from !== owner) {\n              log.log(msg);\n            }\n          });\n           _this._childrenListeners.push(listener);\n        });\n      }*/\n    }\n  }, {\n    key: '_releaseListeners',\n    value: function _releaseListeners() {\n      var _this = this;\n\n      _this._listener.remove();\n\n      /*_this._childrenListeners.forEach((listener) => {\n        listener.remove();\n      });*/\n    }\n  }, {\n    key: 'apply',\n    value: function apply(observer) {\n      var _this = this;\n      _this._changes.forEach(function (change) {\n        observer._changeObject(observer._syncObj, change);\n      });\n    }\n  }, {\n    key: 'children',\n    get: function get() {\n      return this._children;\n    }\n  }]);\n  return DataProvisional;\n}();\n\nexports.default = DataProvisional;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2hlci9EYXRhUHJvdmlzaW9uYWwuanM/YTYyNCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJsb2ciLCJnZXRMb2dnZXIiLCJEYXRhUHJvdmlzaW9uYWwiLCJvd25lciIsInVybCIsImJ1cyIsImNoaWxkcmVuIiwiX3RoaXMiLCJfb3duZXIiLCJfdXJsIiwiX2J1cyIsIl9jaGlsZHJlbiIsIl9jaGFuZ2VzIiwiX2FsbG9jYXRlTGlzdGVuZXJzIiwiX2xpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJtc2ciLCJwdXNoIiwicmVtb3ZlIiwib2JzZXJ2ZXIiLCJmb3JFYWNoIiwiY2hhbmdlIiwiX2NoYW5nZU9iamVjdCIsIl9zeW5jT2JqIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQW9DQTs7SUFBWUEsTTs7Ozs7O0FBQ1osSUFBSUMsTUFBTUQsT0FBT0UsU0FBUCxDQUFpQixpQkFBakIsQ0FBVixDLENBckNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7Ozs7Ozs7Ozs7O0FBWUE7O0lBSU1DLGU7QUFDSjs7Ozs7O0FBT0EsMkJBQVlDLEtBQVosRUFBbUJDLEdBQW5CLEVBQXdCQyxHQUF4QixFQUE2QkMsUUFBN0IsRUFBdUM7QUFBQTs7QUFDckMsUUFBSUMsUUFBUSxJQUFaOztBQUVBQSxVQUFNQyxNQUFOLEdBQWVMLEtBQWY7QUFDQUksVUFBTUUsSUFBTixHQUFhTCxHQUFiO0FBQ0FHLFVBQU1HLElBQU4sR0FBYUwsR0FBYjtBQUNBRSxVQUFNSSxTQUFOLEdBQWtCTCxRQUFsQjs7QUFFQUMsVUFBTUssUUFBTixHQUFpQixFQUFqQjtBQUNBTCxVQUFNTSxrQkFBTjtBQUNEOzs7O3lDQUVvQjtBQUNuQixVQUFJTixRQUFRLElBQVo7O0FBRUFBLFlBQU1PLFNBQU4sR0FBa0JQLE1BQU1HLElBQU4sQ0FBV0ssV0FBWCxDQUF1QlIsTUFBTUUsSUFBN0IsRUFBbUMsVUFBQ08sR0FBRCxFQUFTO0FBQzVEaEIsWUFBSUEsR0FBSixDQUFRLHFCQUFxQk8sTUFBTUUsSUFBM0IsR0FBa0MsUUFBMUMsRUFBb0RPLEdBQXBEO0FBQ0FULGNBQU1LLFFBQU4sQ0FBZUssSUFBZixDQUFvQkQsR0FBcEI7QUFDRCxPQUhpQixDQUFsQjs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JEOzs7d0NBRW1CO0FBQ2xCLFVBQUlULFFBQVEsSUFBWjs7QUFFQUEsWUFBTU8sU0FBTixDQUFnQkksTUFBaEI7O0FBRUE7OztBQUdEOzs7MEJBSUtDLFEsRUFBVTtBQUNkLFVBQUlaLFFBQVEsSUFBWjtBQUNBQSxZQUFNSyxRQUFOLENBQWVRLE9BQWYsQ0FBdUIsVUFBQ0MsTUFBRCxFQUFZO0FBQ2pDRixpQkFBU0csYUFBVCxDQUF1QkgsU0FBU0ksUUFBaEMsRUFBMENGLE1BQTFDO0FBQ0QsT0FGRDtBQUdEOzs7d0JBUGM7QUFBRSxhQUFPLEtBQUtWLFNBQVo7QUFBd0I7Ozs7O2tCQVU1QlQsZSIsImZpbGUiOiIxMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG5cbi8qKlxuICogQGFjY2VzcyBwcml2YXRlXG4gKiBUaGlzIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciBjb2xsZWN0aW5nIGRlbHRhIGNoYW5nZXMgaW4gcmVtb3RlIG9iamVjdHMsIGJlZm9yZSB0aGUgcmVzcG9uc2Ugb2Ygc3Vic2NyaXB0aW9uIHJlYWNoIHRoZSBvYnNlcnZlci5cbiAqIEl0J3MgdXNlZCBpbiBTeW5jaGVyIC0+IHN1YnNjcmliZS4gVGhlIGZsb3cgaXMgZGVmaW5lZCBhczpcbiAqIDEuIChvYnNlcnZlcikgLS1zdWJzY3JpYmUtLT4gKHJlcG9ydGVyKVxuICogMi4gKG9ic2VydmVyKSA8LS1kZWx0YSB1cGRhdGVzLS0gKHJlcG9ydGVyKVxuICogMy4gKG9ic2VydmVyKSA8LS1zdWJzY3JpYmUgcmVzcG9uc2UtLSAocmVwb3J0ZXIpXG4gKiBUaGlzIG1lYW5zIHRoYXQgdGhlcmUgY291bGQgYmUgZGVsdGEgdXBkYXRlcyB0cmFuc2ZlcnJlZCBiZWZvcmUgdGhlIHN1YnNjcmlwdGlvbiBjb25maXJtYXRpb24uXG4gKiBTaW5jZSB0aGVyZSBpcyBubyBEYXRhT2JqZWN0T2JzZXJ2ZXIgYmVmb3JlIHRoZSB1YnNjcmlwdGlvbiBjb25maXJtYXRpb24sIHRoZXJlIHNob3VsZCBiZSBzb21lIG90aGVyIG9iamVjdCBjb2xsZWN0aW5nIHRoZSB1cGRhdGVzLlxuICogUHJvdmlzaW9uYWwgZGF0YSBpcyBhcHBsaWVkIHRvIHRoZSBEYXRhT2JqZWN0T2JzZXJ2ZXIgYWZ0ZXIgY29uZmlybWF0aW9uLiBPciBkaXNjYXJkZWQgaWYgdGhlcmUgaXMgbm8gY29uZmlybWF0aW9uLlxuICovXG5cbi8vIExvZyBTeXN0ZW1cbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICdsb2dsZXZlbCc7XG5sZXQgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignRGF0YVByb3Zpc2lvbmFsJyk7XG5cbmNsYXNzIERhdGFQcm92aXNpb25hbCB7XG4gIC8qIHByaXZhdGVcbiAgX2NoaWxkcmVuTGlzdGVuZXJzOiBbTXNnTGlzdGVuZXJdXG4gIF9saXN0ZW5lcjogTXNnTGlzdGVuZXJcblxuICBfY2hhbmdlczogW11cbiAgKi9cblxuICBjb25zdHJ1Y3Rvcihvd25lciwgdXJsLCBidXMsIGNoaWxkcmVuKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xuICAgIF90aGlzLl91cmwgPSB1cmw7XG4gICAgX3RoaXMuX2J1cyA9IGJ1cztcbiAgICBfdGhpcy5fY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuICAgIF90aGlzLl9jaGFuZ2VzID0gW107XG4gICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7XG4gIH1cblxuICBfYWxsb2NhdGVMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLl9saXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoX3RoaXMuX3VybCwgKG1zZykgPT4ge1xuICAgICAgbG9nLmxvZygnRGF0YVByb3Zpc2lvbmFsLScgKyBfdGhpcy5fdXJsICsgJy1SQ1Y6ICcsIG1zZyk7XG4gICAgICBfdGhpcy5fY2hhbmdlcy5wdXNoKG1zZyk7XG4gICAgfSk7XG5cbiAgICAvKlxuICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycyA9IFtdO1xuICAgIGlmIChfdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgIGxldCBjaGlsZEJhc2VVUkwgPSB1cmwgKyAnL2NoaWxkcmVuLyc7XG4gICAgICBfdGhpcy5fY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgbGV0IGNoaWxkVVJMID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7XG4gICAgICAgIGxldCBsaXN0ZW5lciA9IF90aGlzLl9idXMuYWRkTGlzdGVuZXIoY2hpbGRVUkwsIChtc2cpID0+IHtcbiAgICAgICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXG4gICAgICAgICAgaWYgKG1zZy5mcm9tICE9PSBvd25lcikge1xuICAgICAgICAgICAgbG9nLmxvZyhtc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgfSk7XG4gICAgfSovXG4gIH1cblxuICBfcmVsZWFzZUxpc3RlbmVycygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuX2xpc3RlbmVyLnJlbW92ZSgpO1xuXG4gICAgLypfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgIGxpc3RlbmVyLnJlbW92ZSgpO1xuICAgIH0pOyovXG4gIH1cblxuICBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuXG4gIGFwcGx5KG9ic2VydmVyKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5fY2hhbmdlcy5mb3JFYWNoKChjaGFuZ2UpID0+IHtcbiAgICAgIG9ic2VydmVyLl9jaGFuZ2VPYmplY3Qob2JzZXJ2ZXIuX3N5bmNPYmosIGNoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVByb3Zpc2lvbmFsO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmNoZXIvRGF0YVByb3Zpc2lvbmFsLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///138\n")},,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the "License");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an "AS IS" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n * EventEmitter\n * All classes which extends this, can have addEventListener and trigger events;\n */\nvar EventEmitter = function () {\n  function EventEmitter() {\n    (0, _classCallCheck3.default)(this, EventEmitter);\n  }\n\n  (0, _createClass3.default)(EventEmitter, [{\n    key: "addEventListener",\n\n\n    /**\n     * addEventListener listen for an eventType\n     * @param  {string}         eventType - listening for this type of event\n     * @param  {Function}       cb        - callback function will be executed when the event it is invoked\n     */\n    value: function addEventListener(eventType, cb) {\n      var _this = this;\n      _this[eventType] = cb;\n    }\n\n    /**\n     * Invoke the eventType\n     * @param  {string} eventType - event will be invoked\n     * @param  {object} params - parameters will be passed to the addEventListener\n     */\n\n  }, {\n    key: "trigger",\n    value: function trigger(eventType, params) {\n      var _this = this;\n\n      if (_this[eventType]) {\n        _this[eventType](params);\n      }\n    }\n  }]);\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\nmodule.exports = exports["default"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRXZlbnRFbWl0dGVyLmpzP2E1YzEiXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwiZXZlbnRUeXBlIiwiY2IiLCJfdGhpcyIsInBhcmFtcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTs7OztJQUlNQSxZOzs7Ozs7Ozs7QUFFSjs7Ozs7cUNBS2lCQyxTLEVBQVdDLEUsRUFBSTtBQUM5QixVQUFJQyxRQUFRLElBQVo7QUFDQUEsWUFBTUYsU0FBTixJQUFtQkMsRUFBbkI7QUFDRDs7QUFFRDs7Ozs7Ozs7NEJBS1FELFMsRUFBV0csTSxFQUFRO0FBQ3pCLFVBQUlELFFBQVEsSUFBWjs7QUFFQSxVQUFJQSxNQUFNRixTQUFOLENBQUosRUFBc0I7QUFDcEJFLGNBQU1GLFNBQU4sRUFBaUJHLE1BQWpCO0FBQ0Q7QUFDRjs7Ozs7a0JBSVlKLFkiLCJmaWxlIjoiMTQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG4vKipcbiAqIEV2ZW50RW1pdHRlclxuICogQWxsIGNsYXNzZXMgd2hpY2ggZXh0ZW5kcyB0aGlzLCBjYW4gaGF2ZSBhZGRFdmVudExpc3RlbmVyIGFuZCB0cmlnZ2VyIGV2ZW50cztcbiAqL1xuY2xhc3MgRXZlbnRFbWl0dGVyIHtcblxuICAvKipcbiAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnRcbiAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgIGNiICAgICAgICAtIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgZXZlbnQgaXQgaXMgaW52b2tlZFxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNiKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpc1tldmVudFR5cGVdID0gY2I7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlIHRoZSBldmVudFR5cGVcbiAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWRcbiAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyXG4gICAqL1xuICB0cmlnZ2VyKGV2ZW50VHlwZSwgcGFyYW1zKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpc1tldmVudFR5cGVdKSB7XG4gICAgICBfdGhpc1tldmVudFR5cGVdKHBhcmFtcyk7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRFbWl0dGVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL0V2ZW50RW1pdHRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///147\n')},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.ContextReporter = exports.ContextObserver = undefined;\n\nvar _ContextObserver = __webpack_require__(162);\n\nvar _ContextObserver2 = _interopRequireDefault(_ContextObserver);\n\nvar _ContextReporter = __webpack_require__(163);\n\nvar _ContextReporter2 = _interopRequireDefault(_ContextReporter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.ContextObserver = _ContextObserver2.default;\nexports.ContextReporter = _ContextReporter2.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29udGV4dE1hbmFnZXIuanM/YmE4MyJdLCJuYW1lcyI6WyJDb250ZXh0T2JzZXJ2ZXIiLCJDb250ZXh0UmVwb3J0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7UUFFUUEsZTtRQUFpQkMsZSIsImZpbGUiOiIxNjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29udGV4dE9ic2VydmVyIGZyb20gJy4vY29udGV4dE1hbmFnZXIvQ29udGV4dE9ic2VydmVyJztcbmltcG9ydCBDb250ZXh0UmVwb3J0ZXIgZnJvbSAnLi9jb250ZXh0TWFuYWdlci9Db250ZXh0UmVwb3J0ZXInO1xuXG5leHBvcnQge0NvbnRleHRPYnNlcnZlciwgQ29udGV4dFJlcG9ydGVyfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9Db250ZXh0TWFuYWdlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///161\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Syncher = __webpack_require__(132);\n\nvar _Syncher2 = _interopRequireDefault(_Syncher);\n\nvar _Discovery = __webpack_require__(136);\n\nvar _Discovery2 = _interopRequireDefault(_Discovery);\n\nvar _utils = __webpack_require__(21);\n\nvar _EventEmitter2 = __webpack_require__(147);\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n* Context Observer;\r\n* @author Paulo Chainho [paulo-g-chainho@alticelabs.com]\r\n*/\n\n//import IdentityManager from '../identityManager/IdentityManager';\nvar ContextObserver = function (_EventEmitter) {\n  (0, _inherits3.default)(ContextObserver, _EventEmitter);\n\n  function ContextObserver(hypertyURL, bus, configuration, contextResourceTypes, syncher) {\n    (0, _classCallCheck3.default)(this, ContextObserver);\n\n    if (!hypertyURL) throw new Error('The hypertyURL is a needed parameter');\n    if (!bus) throw new Error('The MiniBus is a needed parameter');\n    if (!configuration) throw new Error('The configuration is a needed parameter ');\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (ContextObserver.__proto__ || (0, _getPrototypeOf2.default)(ContextObserver)).call(this));\n\n    var _this = _this2;\n\n    _this._contextResourceTypes = contextResourceTypes;\n    _this._url = hypertyURL;\n    _this._discoverUsersPromises = {}; // object with promises executed at discoverUsers function\n    _this._observePromises = {}; // object with promises executed at observe function\n\n\n    //let identityManager = new IdentityManager(hypertyURL, configuration.runtimeURL, bus);\n    console.log('[ContextObserver] started with hypertyURL->', hypertyURL);\n    _this._domain = (0, _utils.divideURL)(configuration.runtimeURL).domain;\n    _this._objectDescURL = 'hyperty-catalogue://catalogue.' + _this._domain + '/.well-known/dataschema/Context';\n\n    _this._users2observe = [];\n    _this._observers = {};\n\n    _this2._syncher = syncher ? syncher : new _Syncher2.default(hypertyURL, bus, configuration);\n\n    var discovery = new _Discovery2.default(hypertyURL, configuration.runtimeURL, bus);\n    _this._discovery = discovery;\n\n    _this._discoveries = {}; //list of discovered objects\n    //_this.identityManager = identityManager;\n    //_this.search = new Search(discovery, identityManager);\n    window.discovery = _this._discovery;\n    return _this2;\n  }\n\n  (0, _createClass3.default)(ContextObserver, [{\n    key: 'start',\n    value: function start(resumedContext, disconnectedCallBack) {\n      var _this = this;\n      console.log('[ContextObserver.start] ');\n\n      return new _promise2.default(function (resolve, reject) {\n        _this._syncher.resumeObservers({ store: true }).then(function (observers) {\n\n          var observersList = (0, _keys2.default)(observers);\n\n          if (observersList.length > 0) {\n\n            console.log('[ContextObserver.start] resuming: ', observers);\n\n            /*observersList.forEach((i)=>{\r\n            _this._users2observe.push(new UserAvailabilityController(observers[i]));\r\n            });*/\n            _this._observers = observers;\n\n            resolve(observers);\n\n            observersList.forEach(function (observer) {\n              var Context = observers[observer];\n\n              // By default resumed context is set with resumedContext.\n              if (resumedContext) context.data.values = resumedContext;\n\n              // Context will will be updated with value synchronized with reporter if connected\n              Context.sync();\n\n              //Add listener to be notified when reporter is abruptly disconnected\n              if (disconnectedCallBack) Context.onDisconnected(disconnectedCallBack);\n            });\n          } else {\n            resolve(false);\n          }\n        }).catch(function (reason) {\n          console.info('[ContextObserver] Resume Observer failed | ', reason);\n          resolve(false);\n        });\n      }).catch(function (reason) {\n        reject('[ContextObserver] Start failed | ', reason);\n      });\n    }\n  }, {\n    key: 'resumeDiscoveries',\n    value: function resumeDiscoveries() {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this._discovery.resumeDiscoveries().then(function (discoveries) {\n\n          console.log('[ContextObserver._resumeDiscoveries] found: ', discoveries);\n\n          discoveries.forEach(function (discovery) {\n\n            if (discovery.data.resources && discovery.data.resources[0] === _this._contextResourceTypes[0]) {\n              console.log('[ContextObserver._resumeDiscoveries] resuming: ', discovery);\n\n              if (discovery.data.status === 'live') {\n                // previously discovered object is now live\n                resolve([discovery.data]);\n                discovery.unsubscribeLive(_this._url);\n              } else {\n                // previously discovered object is still disconnected\n                discovery.onLive(_this._url, function () {\n                  console.log('[ContextObserver._resumeDiscoveries] disconnected Hyperty is back to live', discovery);\n                  resolve([discovery.data]);\n                  discovery.unsubscribeLive(_this._url);\n                });\n              }\n            }\n          });\n        });\n      }).catch(function (reason) {\n        reject('[ContextObserver] resumeDiscoveries failed | ', reason);\n      });\n    }\n  }, {\n    key: 'onResumeObserver',\n    value: function onResumeObserver(callback) {\n      var _this = this;\n      _this._onResumeObserver = callback;\n    }\n  }, {\n    key: 'discoverUsers',\n    value: function discoverUsers(email, domain) {\n      var _this = this;\n\n      var user = email + '@' + domain;\n\n      if (!_this._discoverUsersPromises[user]) {\n        _this._discoverUsersPromises[user] = new _promise2.default(function (resolve, reject) {\n\n          _this._discovery.discoverHypertiesDO(email, ['context'], _this._contextResourceTypes, domain).then(function (hyperties) {\n            //_this.search.users([email], [domain], ['context'], ['Context_context']).then(function(a) {\n            console.log('[ContextObserver.discoverUsers] discovery result->', hyperties);\n            var discovered = [];\n            var disconnected = [];\n            hyperties.forEach(function (hyperty) {\n              _this._discoveries[hyperty.data.hypertyID] = hyperty;\n              if (hyperty.data.status === 'live') {\n                discovered.push(hyperty.data);\n              } else {\n                disconnected.push(hyperty);\n              }\n            });\n\n            if (discovered.length > 0) {\n              console.log('[ContextObserver.discoverUsers] returning discovered hyperties data->', discovered);\n              resolve(discovered);\n            } else if (disconnected.length > 0) {\n              console.log('[ContextObserver.discoverUsers] disconnected Hyperties ', disconnected);\n\n              //resolve([]);\n\n              disconnected[0].onLive(_this._url, function () {\n                console.log('[ContextObserver.discoverUsers] disconnected Hyperty is back to live', disconnected[0]);\n\n                discovered.push(disconnected[0].data);\n                resolve(discovered);\n                disconnected[0].unsubscribeLive(_this._url);\n              });\n            }\n          });\n        });\n      }\n      return _this._discoverUsersPromises[user];\n    }\n\n    /**\r\n     * This function is used to start the user Context observation for a certain user Context reporter\r\n     * @param  {DiscoveredObject} hyperty       Hyperty to be observed.\r\n     * @return {<Promise> DataObjectObserver}      It returns as a Promise the UserAvailability Data Object Observer.\r\n     */\n\n  }, {\n    key: 'observe',\n    value: function observe(hyperty) {\n      var _this = this;\n      if (!_this._observePromises[hyperty.hypertyID]) {\n        _this._observePromises[hyperty.hypertyID] = new _promise2.default(function (resolve, reject) {\n          //check if we are already observing it\n          _this._users2observe.forEach(function (Context) {\n            if (Context._reporter === hyperty.hypertyID) return resolve(Context);\n          });\n\n          _this._discovery.discoverDataObjectsPerReporter(hyperty.hypertyID, ['context'], _this._contextResourceTypes, _this._domain).then(function (dataObjects) {\n            console.log('[ContextObserver.discoverAvailability] discovered context objects ', dataObjects);\n            var last = 0;\n            var url = void 0;\n\n            dataObjects.forEach(function (dataObject) {\n              if (dataObject.hasOwnProperty('lastModified') && dataObject.hasOwnProperty('url') && Date.parse(dataObject.lastModified) > last) {\n                last = dataObject.lastModified;\n                url = dataObject.url;\n\n                //console.log('URL DATA Object', url);\n              }\n            });\n            if (last != 0 && url) {\n              resolve(_this._subscribeContext(hyperty, url));\n            } else {\n              reject('[ContextObserver.observe] discovered DataObjecs are invalid', dataObjects);\n            }\n          });\n        });\n      }\n      return _this._observePromises[hyperty.hypertyID];\n    }\n  }, {\n    key: '_subscribeContext',\n    value: function _subscribeContext(hyperty, url) {\n      var _this = this;\n\n      // avoid duplicated subscriptions\n\n      return new _promise2.default(function (resolve, reject) {\n        _this._users2observe.forEach(function (Context) {\n          if (Context.url === url) return resolve(Context);\n        });\n\n        _this._syncher.subscribe(_this._objectDescURL, url).then(function (Context) {\n          console.log('[ContextObserver._subscribeContext] observer object', Context);\n\n          //let newUserAvailability = new UserAvailabilityController(Context, userID);\n\n          _this._users2observe.push(Context);\n\n          // When Object is disconnected set user Context status as unavailable\n          Context.onDisconnected(function () {\n            console.log('[ContextObserver.onDisconnected]: ', Context);\n\n            Context.data.values[0].value = 'unavailable';\n            Context.sync();\n          });\n\n          resolve(Context);\n        });\n      });\n    }\n  }, {\n    key: '_discoverAndSubscribeLegacyUsers',\n    value: function _discoverAndSubscribeLegacyUsers(name) {\n      var _this = this;\n      return new _promise2.default(function (resolve, reject) {\n        _this._discovery.discoverDataObjectsPerName(name).then(function (result) {\n          console.log('[ContextObserver._discoverAndSubscribeLegacyUsers] All DataObjects Result', result);\n          result.forEach(function (obj) {\n            if (obj.status === 'live') {\n              console.log('Live obj', obj);\n              if (!obj.hypertyID) {\n                obj.hypertyID = obj.reporter;\n              }\n              _this._subscribeContext(obj.schema, obj.url).then(function (resultSubscribe) {\n                console.log('[ContextObserver._discoverAndSubscribeLegacyUsers] _subscribeContext', resultSubscribe);\n                return resolve(resultSubscribe);\n              });\n            }\n          });\n        }).catch(function (err) {\n          console.log('error ', err);\n        });\n      });\n    }\n\n    /**\r\n    * This function is used to stop the user Context observation for a certain user\r\n    * @param  {string} Context       the UserAvailability Data Object Observer URL to be unobserved.\r\n    */\n\n  }, {\n    key: 'unobserve',\n    value: function unobserve(Context) {\n      var _this = this;\n\n      _this._users2observe.forEach(function (user, index) {\n        if (user.url === Context) {\n          user.unsubscribe();\n          _this._users2observe.splice(index, 1);\n        }\n      });\n    }\n  }]);\n  return ContextObserver;\n}(_EventEmitter3.default);\n\n//import Search from '../utils/Search';\n\n\nexports.default = ContextObserver;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dE1hbmFnZXIvQ29udGV4dE9ic2VydmVyLmpzPzEyY2MiXSwibmFtZXMiOlsiQ29udGV4dE9ic2VydmVyIiwiaHlwZXJ0eVVSTCIsImJ1cyIsImNvbmZpZ3VyYXRpb24iLCJjb250ZXh0UmVzb3VyY2VUeXBlcyIsInN5bmNoZXIiLCJFcnJvciIsIl90aGlzIiwiX2NvbnRleHRSZXNvdXJjZVR5cGVzIiwiX3VybCIsIl9kaXNjb3ZlclVzZXJzUHJvbWlzZXMiLCJfb2JzZXJ2ZVByb21pc2VzIiwiY29uc29sZSIsImxvZyIsIl9kb21haW4iLCJydW50aW1lVVJMIiwiZG9tYWluIiwiX29iamVjdERlc2NVUkwiLCJfdXNlcnMyb2JzZXJ2ZSIsIl9vYnNlcnZlcnMiLCJfc3luY2hlciIsImRpc2NvdmVyeSIsIl9kaXNjb3ZlcnkiLCJfZGlzY292ZXJpZXMiLCJ3aW5kb3ciLCJyZXN1bWVkQ29udGV4dCIsImRpc2Nvbm5lY3RlZENhbGxCYWNrIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VtZU9ic2VydmVycyIsInN0b3JlIiwidGhlbiIsIm9ic2VydmVycyIsIm9ic2VydmVyc0xpc3QiLCJsZW5ndGgiLCJmb3JFYWNoIiwib2JzZXJ2ZXIiLCJDb250ZXh0IiwiY29udGV4dCIsImRhdGEiLCJ2YWx1ZXMiLCJzeW5jIiwib25EaXNjb25uZWN0ZWQiLCJjYXRjaCIsInJlYXNvbiIsImluZm8iLCJyZXN1bWVEaXNjb3ZlcmllcyIsImRpc2NvdmVyaWVzIiwicmVzb3VyY2VzIiwic3RhdHVzIiwidW5zdWJzY3JpYmVMaXZlIiwib25MaXZlIiwiY2FsbGJhY2siLCJfb25SZXN1bWVPYnNlcnZlciIsImVtYWlsIiwidXNlciIsImRpc2NvdmVySHlwZXJ0aWVzRE8iLCJoeXBlcnRpZXMiLCJkaXNjb3ZlcmVkIiwiZGlzY29ubmVjdGVkIiwiaHlwZXJ0eSIsImh5cGVydHlJRCIsInB1c2giLCJfcmVwb3J0ZXIiLCJkaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIiLCJkYXRhT2JqZWN0cyIsImxhc3QiLCJ1cmwiLCJkYXRhT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJEYXRlIiwicGFyc2UiLCJsYXN0TW9kaWZpZWQiLCJfc3Vic2NyaWJlQ29udGV4dCIsInN1YnNjcmliZSIsInZhbHVlIiwibmFtZSIsImRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lIiwicmVzdWx0Iiwib2JqIiwicmVwb3J0ZXIiLCJzY2hlbWEiLCJyZXN1bHRTdWJzY3JpYmUiLCJlcnIiLCJpbmRleCIsInVuc3Vic2NyaWJlIiwic3BsaWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUdBOzs7Ozs7QUFFQTs7Ozs7QUFSQTtJQWFNQSxlOzs7QUFFSiwyQkFBWUMsVUFBWixFQUF3QkMsR0FBeEIsRUFBNkJDLGFBQTdCLEVBQTRDQyxvQkFBNUMsRUFBa0VDLE9BQWxFLEVBQTJFO0FBQUE7O0FBQ3pFLFFBQUksQ0FBQ0osVUFBTCxFQUFpQixNQUFNLElBQUlLLEtBQUosQ0FBVSxzQ0FBVixDQUFOO0FBQ2pCLFFBQUksQ0FBQ0osR0FBTCxFQUFVLE1BQU0sSUFBSUksS0FBSixDQUFVLG1DQUFWLENBQU47QUFDVixRQUFJLENBQUNILGFBQUwsRUFBb0IsTUFBTSxJQUFJRyxLQUFKLENBQVUsMENBQVYsQ0FBTjs7QUFIcUQ7O0FBT3pFLFFBQUlDLGNBQUo7O0FBRUFBLFVBQU1DLHFCQUFOLEdBQThCSixvQkFBOUI7QUFDQUcsVUFBTUUsSUFBTixHQUFhUixVQUFiO0FBQ0FNLFVBQU1HLHNCQUFOLEdBQStCLEVBQS9CLENBWHlFLENBV3RDO0FBQ25DSCxVQUFNSSxnQkFBTixHQUF5QixFQUF6QixDQVp5RSxDQVk1Qzs7O0FBRzdCO0FBQ0FDLFlBQVFDLEdBQVIsQ0FBWSw2Q0FBWixFQUEyRFosVUFBM0Q7QUFDQU0sVUFBTU8sT0FBTixHQUFnQixzQkFBVVgsY0FBY1ksVUFBeEIs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b3J0IElkZW50aXR5TWFuYWdlciBmcm9tICcuLi9pZGVudGl0eU1hbmFnZXIvSWRlbnRpdHlNYW5hZ2VyJztcclxuaW1wb3J0IFN5bmNoZXIgZnJvbSAnLi4vc3luY2hlci9TeW5jaGVyLmpzJztcclxuaW1wb3J0IERpc2NvdmVyeSBmcm9tICcuLi9kaXNjb3ZlcnkvRGlzY292ZXJ5LmpzJztcclxuaW1wb3J0IHtkaXZpZGVVUkx9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbi8vaW1wb3J0IFNlYXJjaCBmcm9tICcuLi91dGlscy9TZWFyY2gnO1xyXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4uL3V0aWxzL0V2ZW50RW1pdHRlcic7XHJcblxyXG4vKipcclxuKiBDb250ZXh0IE9ic2VydmVyO1xyXG4qIEBhdXRob3IgUGF1bG8gQ2hhaW5obyBbcGF1bG8tZy1jaGFpbmhvQGFsdGljZWxhYnMuY29tXVxyXG4qL1xyXG5cclxuY2xhc3MgQ29udGV4dE9ic2VydmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uLCBjb250ZXh0UmVzb3VyY2VUeXBlcywgc3luY2hlcikge1xyXG4gICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO1xyXG4gICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7XHJcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyICcpO1xyXG5cclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfdGhpcy5fY29udGV4dFJlc291cmNlVHlwZXMgPSBjb250ZXh0UmVzb3VyY2VUeXBlcztcclxuICAgIF90aGlzLl91cmwgPSBoeXBlcnR5VVJMO1xyXG4gICAgX3RoaXMuX2Rpc2NvdmVyVXNlcnNQcm9taXNlcyA9IHt9OyAvLyBvYmplY3Qgd2l0aCBwcm9taXNlcyBleGVjdXRlZCBhdCBkaXNjb3ZlclVzZXJzIGZ1bmN0aW9uXHJcbiAgICBfdGhpcy5fb2JzZXJ2ZVByb21pc2VzID0ge307IC8vIG9iamVjdCB3aXRoIHByb21pc2VzIGV4ZWN1dGVkIGF0IG9ic2VydmUgZnVuY3Rpb25cclxuXHJcblxyXG4gICAgLy9sZXQgaWRlbnRpdHlNYW5hZ2VyID0gbmV3IElkZW50aXR5TWFuYWdlcihoeXBlcnR5VVJMLCBjb25maWd1cmF0aW9uLnJ1bnRpbWVVUkwsIGJ1cyk7XHJcbiAgICBjb25zb2xlLmxvZygnW0NvbnRleHRPYnNlcnZlcl0gc3RhcnRlZCB3aXRoIGh5cGVydHlVUkwtPicsIGh5cGVydHlVUkwpO1xyXG4gICAgX3RoaXMuX2RvbWFpbiA9IGRpdmlkZVVSTChjb25maWd1cmF0aW9uLnJ1bnRpbWVVUkwpLmRvbWFpbjtcclxuICAgIF90aGlzLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyBfdGhpcy5fZG9tYWluICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbnRleHQnO1xyXG5cclxuICAgIF90aGlzLl91c2VyczJvYnNlcnZlID0gW107XHJcbiAgICBfdGhpcy5fb2JzZXJ2ZXJzID0ge307XHJcblxyXG4gICAgdGhpcy5fc3luY2hlciA9IHN5bmNoZXIgPyBzeW5jaGVyIDogbmV3IFN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICBsZXQgZGlzY292ZXJ5ID0gbmV3IERpc2NvdmVyeShoeXBlcnR5VVJMLCBjb25maWd1cmF0aW9uLnJ1bnRpbWVVUkwsIGJ1cyk7XHJcbiAgICBfdGhpcy5fZGlzY292ZXJ5ID0gZGlzY292ZXJ5O1xyXG5cclxuICAgIF90aGlzLl9kaXNjb3ZlcmllcyA9IHt9OyAvL2xpc3Qgb2YgZGlzY292ZXJlZCBvYmplY3RzXHJcbiAgICAvL190aGlzLmlkZW50aXR5TWFuYWdlciA9IGlkZW50aXR5TWFuYWdlcjtcclxuICAgIC8vX3RoaXMuc2VhcmNoID0gbmV3IFNlYXJjaChkaXNjb3ZlcnksIGlkZW50aXR5TWFuYWdlcik7XHJcbiAgICB3aW5kb3cuZGlzY292ZXJ5ID0gX3RoaXMuX2Rpc2NvdmVyeTtcclxuICB9XHJcblxyXG5cclxuICBzdGFydChyZXN1bWVkQ29udGV4dCwgZGlzY29ubmVjdGVkQ2FsbEJhY2spIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBjb25zb2xlLmxvZygnW0NvbnRleHRPYnNlcnZlci5zdGFydF0gJyk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgX3RoaXMuX3N5bmNoZXIucmVzdW1lT2JzZXJ2ZXJzKHtzdG9yZTogdHJ1ZX0pLnRoZW4oKG9ic2VydmVycykgPT4ge1xyXG5cclxuICAgICAgICBsZXQgb2JzZXJ2ZXJzTGlzdCA9IE9iamVjdC5rZXlzKG9ic2VydmVycyk7XHJcblxyXG4gICAgICAgIGlmIChvYnNlcnZlcnNMaXN0Lmxlbmd0aCAgPiAwKSB7XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tDb250ZXh0T2JzZXJ2ZXIuc3RhcnRdIHJlc3VtaW5nOiAnLCBvYnNlcnZlcnMpO1xyXG5cclxuICAgICAgICAgIC8qb2JzZXJ2ZXJzTGlzdC5mb3JFYWNoKChpKT0+e1xyXG4gICAgICAgICAgX3RoaXMuX3VzZXJzMm9ic2VydmUucHVzaChuZXcgVXNlckF2YWlsYWJpbGl0eUNvbnRyb2xsZXIob2JzZXJ2ZXJzW2ldKSk7XHJcbiAgICAgICAgfSk7Ki9cclxuICAgICAgICAgIF90aGlzLl9vYnNlcnZlcnMgPSBvYnNlcnZlcnM7XHJcblxyXG4gICAgICAgICAgcmVzb2x2ZShvYnNlcnZlcnMpO1xyXG5cclxuICAgICAgICAgIG9ic2VydmVyc0xpc3QuZm9yRWFjaCgob2JzZXJ2ZXIpID0+e1xyXG4gICAgICAgICAgICBsZXQgQ29udGV4dCA9IG9ic2VydmVyc1tvYnNlcnZlcl07XHJcblxyXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0IHJlc3VtZWQgY29udGV4dCBpcyBzZXQgd2l0aCByZXN1bWVkQ29udGV4dC5cclxuICAgICAgICAgICAgaWYgKHJlc3VtZWRDb250ZXh0KSBjb250ZXh0LmRhdGEudmFsdWVzID0gcmVzdW1lZENvbnRleHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBDb250ZXh0IHdpbGwgd2lsbCBiZSB1cGRhdGVkIHdpdGggdmFsdWUgc3luY2hyb25pemVkIHdpdGggcmVwb3J0ZXIgaWYgY29ubmVjdGVkXHJcbiAgICAgICAgICAgIENvbnRleHQuc3luYygpO1xyXG5cclxuICAgICAgICAgICAgLy9BZGQgbGlzdGVuZXIgdG8gYmUgbm90aWZpZWQgd2hlbiByZXBvcnRlciBpcyBhYnJ1cHRseSBkaXNjb25uZWN0ZWRcclxuICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3RlZENhbGxCYWNrKSBDb250ZXh0Lm9uRGlzY29ubmVjdGVkKGRpc2Nvbm5lY3RlZENhbGxCYWNrKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1tDb250ZXh0T2JzZXJ2ZXJdIFJlc3VtZSBPYnNlcnZlciBmYWlsZWQgfCAnLCByZWFzb24pO1xyXG4gICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgcmVqZWN0KCdbQ29udGV4dE9ic2VydmVyXSBTdGFydCBmYWlsZWQgfCAnLCByZWFzb24pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXN1bWVEaXNjb3ZlcmllcygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgX3RoaXMuX2Rpc2NvdmVyeS5yZXN1bWVEaXNjb3ZlcmllcygpLnRoZW4oKGRpc2NvdmVyaWVzKSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dE9ic2VydmVyLl9yZXN1bWVEaXNjb3Zlcmllc10gZm91bmQ6ICcsIGRpc2NvdmVyaWVzKTtcclxuXHJcbiAgICAgICAgZGlzY292ZXJpZXMuZm9yRWFjaCgoZGlzY292ZXJ5KSA9PntcclxuXHJcbiAgICAgICAgICBpZiAoZGlzY292ZXJ5LmRhdGEucmVzb3VyY2VzICYmIGRpc2NvdmVyeS5kYXRhLnJlc291cmNlc1swXSA9PT0gX3RoaXMuX2NvbnRleHRSZXNvdXJjZVR5cGVzWzBdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dE9ic2VydmVyLl9yZXN1bWVEaXNjb3Zlcmllc10gcmVzdW1pbmc6ICcsIGRpc2NvdmVyeSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlzY292ZXJ5LmRhdGEuc3RhdHVzID09PSAnbGl2ZScpIHsgLy8gcHJldmlvdXNseSBkaXNjb3ZlcmVkIG9iamVjdCBpcyBub3cgbGl2ZVxyXG4gICAgICAgICAgICAgIHJlc29sdmUoW2Rpc2NvdmVyeS5kYXRhXSk7XHJcbiAgICAgICAgICAgICAgZGlzY292ZXJ5LnVuc3Vic2NyaWJlTGl2ZShfdGhpcy5fdXJsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gcHJldmlvdXNseSBkaXNjb3ZlcmVkIG9iamVjdCBpcyBzdGlsbCBkaXNjb25uZWN0ZWRcclxuICAgICAgICAgICAgICBkaXNjb3Zlcnkub25MaXZlKF90aGlzLl91cmwsICgpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NvbnRleHRPYnNlcnZlci5fcmVzdW1lRGlzY292ZXJpZXNdIGRpc2Nvbm5lY3RlZCBIeXBlcnR5IGlzIGJhY2sgdG8gbGl2ZScsIGRpc2NvdmVyeSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKFtkaXNjb3ZlcnkuZGF0YV0pO1xyXG4gICAgICAgICAgICAgICAgZGlzY292ZXJ5LnVuc3Vic2NyaWJlTGl2ZShfdGhpcy5fdXJsKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgcmVqZWN0KCdbQ29udGV4dE9ic2VydmVyXSByZXN1bWVEaXNjb3ZlcmllcyBmYWlsZWQgfCAnLCByZWFzb24pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvblJlc3VtZU9ic2VydmVyKGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX29uUmVzdW1lT2JzZXJ2ZXIgPSBjYWxsYmFjaztcclxuICB9XHJcblxyXG5cclxuICBkaXNjb3ZlclVzZXJzKGVtYWlsLCBkb21haW4pIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG5cclxuICAgIGxldCB1c2VyID0gZW1haWwgKyAnQCcgKyBkb21haW47XHJcblxyXG4gICAgaWYgKCFfdGhpcy5fZGlzY292ZXJVc2Vyc1Byb21pc2VzW3VzZXJdKSB7XHJcbiAgICAgIF90aGlzLl9kaXNjb3ZlclVzZXJzUHJvbWlzZXNbdXNlcl0gPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgICAgX3RoaXMuX2Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc0RPKGVtYWlsLCBbJ2NvbnRleHQnXSwgX3RoaXMuX2NvbnRleHRSZXNvdXJjZVR5cGVzLCBkb21haW4pLnRoZW4oaHlwZXJ0aWVzID0+e1xyXG4gICAgICAgICAgLy9fdGhpcy5zZWFyY2gudXNlcnMoW2VtYWlsXSwgW2RvbWFpbl0sIFsnY29udGV4dCddLCBbJ0NvbnRleHRfY29udGV4dCddKS50aGVuKGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dE9ic2VydmVyLmRpc2NvdmVyVXNlcnNdIGRpc2NvdmVyeSByZXN1bHQtPicsIGh5cGVydGllcyk7XHJcbiAgICAgICAgICBsZXQgZGlzY292ZXJlZCA9IFtdO1xyXG4gICAgICAgICAgbGV0IGRpc2Nvbm5lY3RlZCA9IFtdO1xyXG4gICAgICAgICAgaHlwZXJ0aWVzLmZvckVhY2goaHlwZXJ0eSA9PntcclxuICAgICAgICAgICAgX3RoaXMuX2Rpc2NvdmVyaWVzW2h5cGVydHkuZGF0YS5oeXBlcnR5SURdID0gaHlwZXJ0eTtcclxuICAgICAgICAgICAgaWYgKGh5cGVydHkuZGF0YS5zdGF0dXMgPT09ICdsaXZlJykge1xyXG4gICAgICAgICAgICAgIGRpc2NvdmVyZWQucHVzaChoeXBlcnR5LmRhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGRpc2Nvbm5lY3RlZC5wdXNoKGh5cGVydHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgaWYgKGRpc2NvdmVyZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0NvbnRleHRPYnNlcnZlci5kaXNjb3ZlclVzZXJzXSByZXR1cm5pbmcgZGlzY292ZXJlZCBoeXBlcnRpZXMgZGF0YS0+JywgZGlzY292ZXJlZCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoZGlzY292ZXJlZCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRpc2Nvbm5lY3RlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dE9ic2VydmVyLmRpc2NvdmVyVXNlcnNdIGRpc2Nvbm5lY3RlZCBIeXBlcnRpZXMgJywgZGlzY29ubmVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgIC8vcmVzb2x2ZShbXSk7XHJcblxyXG4gICAgICAgICAgICBkaXNjb25uZWN0ZWRbMF0ub25MaXZlKF90aGlzLl91cmwsICgpPT57XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDb250ZXh0T2JzZXJ2ZXIuZGlzY292ZXJVc2Vyc10gZGlzY29ubmVjdGVkIEh5cGVydHkgaXMgYmFjayB0byBsaXZlJywgZGlzY29ubmVjdGVkWzBdKTtcclxuXHJcbiAgICAgICAgICAgICAgZGlzY292ZXJlZC5wdXNoKGRpc2Nvbm5lY3RlZFswXS5kYXRhKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKGRpc2NvdmVyZWQpO1xyXG4gICAgICAgICAgICAgIGRpc2Nvbm5lY3RlZFswXS51bnN1YnNjcmliZUxpdmUoX3RoaXMuX3VybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBfdGhpcy5fZGlzY292ZXJVc2Vyc1Byb21pc2VzW3VzZXJdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHN0YXJ0IHRoZSB1c2VyIENvbnRleHQgb2JzZXJ2YXRpb24gZm9yIGEgY2VydGFpbiB1c2VyIENvbnRleHQgcmVwb3J0ZXJcclxuICAgKiBAcGFyYW0gIHtEaXNjb3ZlcmVkT2JqZWN0fSBoeXBlcnR5ICAgICAgIEh5cGVydHkgdG8gYmUgb2JzZXJ2ZWQuXHJcbiAgICogQHJldHVybiB7PFByb21pc2U+IERhdGFPYmplY3RPYnNlcnZlcn0gICAgICBJdCByZXR1cm5zIGFzIGEgUHJvbWlzZSB0aGUgVXNlckF2YWlsYWJpbGl0eSBEYXRhIE9iamVjdCBPYnNlcnZlci5cclxuICAgKi9cclxuXHJcbiAgb2JzZXJ2ZShoeXBlcnR5KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgaWYgKCFfdGhpcy5fb2JzZXJ2ZVByb21pc2VzW2h5cGVydHkuaHlwZXJ0eUlEXSkge1xyXG4gICAgICBfdGhpcy5fb2JzZXJ2ZVByb21pc2VzW2h5cGVydHkuaHlwZXJ0eUlEXSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAvL2NoZWNrIGlmIHdlIGFyZSBhbHJlYWR5IG9ic2VydmluZyBpdFxyXG4gICAgICAgIF90aGlzLl91c2VyczJvYnNlcnZlLmZvckVhY2goKENvbnRleHQpID0+IHtcclxuICAgICAgICAgIGlmIChDb250ZXh0Ll9yZXBvcnRlciA9PT0gaHlwZXJ0eS5oeXBlcnR5SUQpIHJldHVybiByZXNvbHZlKENvbnRleHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBfdGhpcy5fZGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihoeXBlcnR5Lmh5cGVydHlJRCwgWydjb250ZXh0J10sIF90aGlzLl9jb250ZXh0UmVzb3VyY2VUeXBlcywgIF90aGlzLl9kb21haW4pLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdHMpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dE9ic2VydmVyLmRpc2NvdmVyQXZhaWxhYmlsaXR5XSBkaXNjb3ZlcmVkIGNvbnRleHQgb2JqZWN0cyAnLCBkYXRhT2JqZWN0cyk7XHJcbiAgICAgICAgICBsZXQgbGFzdCA9IDA7XHJcbiAgICAgICAgICBsZXQgdXJsO1xyXG5cclxuICAgICAgICAgIGRhdGFPYmplY3RzLmZvckVhY2goKGRhdGFPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGFPYmplY3QuaGFzT3duUHJvcGVydHkoJ2xhc3RNb2RpZmllZCcpICYmIGRhdGFPYmplY3QuaGFzT3duUHJvcGVydHkoJ3VybCcpICYmIERhdGUucGFyc2UoZGF0YU9iamVjdC5sYXN0TW9kaWZpZWQpID4gbGFzdCkge1xyXG4gICAgICAgICAgICAgIGxhc3QgPSBkYXRhT2JqZWN0Lmxhc3RNb2RpZmllZDtcclxuICAgICAgICAgICAgICB1cmwgPSBkYXRhT2JqZWN0LnVybDtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1VSTCBEQVRBIE9iamVjdCcsIHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgaWYgKGxhc3QgIT0gMCAmJiB1cmwpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5fc3Vic2NyaWJlQ29udGV4dChoeXBlcnR5LCB1cmwpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlamVjdCgnW0NvbnRleHRPYnNlcnZlci5vYnNlcnZlXSBkaXNjb3ZlcmVkIERhdGFPYmplY3MgYXJlIGludmFsaWQnLCBkYXRhT2JqZWN0cyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF90aGlzLl9vYnNlcnZlUHJvbWlzZXNbaHlwZXJ0eS5oeXBlcnR5SURdO1xyXG4gIH1cclxuXHJcbiAgX3N1YnNjcmliZUNvbnRleHQoaHlwZXJ0eSwgdXJsKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIC8vIGF2b2lkIGR1cGxpY2F0ZWQgc3Vic2NyaXB0aW9uc1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgX3RoaXMuX3VzZXJzMm9ic2VydmUuZm9yRWFjaCgoQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIGlmIChDb250ZXh0LnVybCA9PT0gdXJsKSByZXR1cm4gcmVzb2x2ZShDb250ZXh0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBfdGhpcy5fc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsIHVybCkudGhlbigoQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dE9ic2VydmVyLl9zdWJzY3JpYmVDb250ZXh0XSBvYnNlcnZlciBvYmplY3QnLCBDb250ZXh0KTtcclxuXHJcbiAgICAgICAgLy9sZXQgbmV3VXNlckF2YWlsYWJpbGl0eSA9IG5ldyBVc2VyQXZhaWxhYmlsaXR5Q29udHJvbGxlcihDb250ZXh0LCB1c2VySUQpO1xyXG5cclxuICAgICAgICBfdGhpcy5fdXNlcnMyb2JzZXJ2ZS5wdXNoKENvbnRleHQpO1xyXG5cclxuICAgICAgICAvLyBXaGVuIE9iamVjdCBpcyBkaXNjb25uZWN0ZWQgc2V0IHVzZXIgQ29udGV4dCBzdGF0dXMgYXMgdW5hdmFpbGFibGVcclxuICAgICAgICBDb250ZXh0Lm9uRGlzY29ubmVjdGVkKCgpPT57XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0NvbnRleHRPYnNlcnZlci5vbkRpc2Nvbm5lY3RlZF06ICcsIENvbnRleHQpO1xyXG5cclxuICAgICAgICAgIENvbnRleHQuZGF0YS52YWx1ZXNbMF0udmFsdWUgPSAndW5hdmFpbGFibGUnO1xyXG4gICAgICAgICAgQ29udGV4dC5zeW5jKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc29sdmUoQ29udGV4dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZGlzY292ZXJBbmRTdWJzY3JpYmVMZWdhY3lVc2VycyhuYW1lKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICBfdGhpcy5fZGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKG5hbWUpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tDb250ZXh0T2JzZXJ2ZXIuX2Rpc2NvdmVyQW5kU3Vic2NyaWJlTGVnYWN5VXNlcnNdIEFsbCBEYXRhT2JqZWN0cyBSZXN1bHQnLCByZXN1bHQpO1xyXG4gICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgaWYgKG9iai5zdGF0dXMgPT09ICdsaXZlJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGl2ZSBvYmonLCBvYmopO1xyXG4gICAgICAgICAgICBpZiAoIW9iai5oeXBlcnR5SUQpIHtcclxuICAgICAgICAgICAgICBvYmouaHlwZXJ0eUlEID0gb2JqLnJlcG9ydGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLl9zdWJzY3JpYmVDb250ZXh0KG9iai5zY2hlbWEsIG9iai51cmwpLnRoZW4oZnVuY3Rpb24ocmVzdWx0U3Vic2NyaWJlKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDb250ZXh0T2JzZXJ2ZXIuX2Rpc2NvdmVyQW5kU3Vic2NyaWJlTGVnYWN5VXNlcnNdIF9zdWJzY3JpYmVDb250ZXh0JywgcmVzdWx0U3Vic2NyaWJlKTtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHRTdWJzY3JpYmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yICcsIGVycik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHN0b3AgdGhlIHVzZXIgQ29udGV4dCBvYnNlcnZhdGlvbiBmb3IgYSBjZXJ0YWluIHVzZXJcclxuICogQHBhcmFtICB7c3RyaW5nfSBDb250ZXh0ICAgICAgIHRoZSBVc2VyQXZhaWxhYmlsaXR5IERhdGEgT2JqZWN0IE9ic2VydmVyIFVSTCB0byBiZSB1bm9ic2VydmVkLlxyXG4gKi9cclxuXHJcbiAgdW5vYnNlcnZlKENvbnRleHQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX3RoaXMuX3VzZXJzMm9ic2VydmUuZm9yRWFjaCgodXNlciwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKHVzZXIudXJsID09PSBDb250ZXh0KSB7XHJcbiAgICAgICAgdXNlci51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIF90aGlzLl91c2VyczJvYnNlcnZlLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0T2JzZXJ2ZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250ZXh0TWFuYWdlci9Db250ZXh0T2JzZXJ2ZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///162\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(20);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(28);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(7);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(36);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(37);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Syncher = __webpack_require__(132);\n\nvar _Syncher2 = _interopRequireDefault(_Syncher);\n\nvar _EventEmitter2 = __webpack_require__(147);\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _utils = __webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import availability from './availability.js';\n\n/**\r\n* Context Reporter;\r\n* @author Paulo Chainho [paulo-g-chainho@alticelabs.com]\r\n*/\n\n\n// Utils\nvar ContextReporter = function (_EventEmitter) {\n  (0, _inherits3.default)(ContextReporter, _EventEmitter);\n\n  function ContextReporter(hypertyURL, bus, configuration, syncher) {\n    (0, _classCallCheck3.default)(this, ContextReporter);\n\n    if (!hypertyURL) throw new Error('The hypertyURL is a needed parameter');\n    if (!bus) throw new Error('The MiniBus is a needed parameter');\n    if (!configuration) throw new Error('The configuration is a needed parameter');\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (ContextReporter.__proto__ || (0, _getPrototypeOf2.default)(ContextReporter)).call(this, hypertyURL, bus, configuration));\n\n    var _this = _this2;\n\n    console.info('[ContextReporter] started with url: ', hypertyURL);\n\n    _this2.syncher = syncher ? syncher : new _Syncher2.default(hypertyURL, bus, configuration);\n\n    //    this.discovery = new Discovery(hypertyURL, bus);\n    _this2.domain = (0, _utils.divideURL)(configuration.runtimeURL).domain;\n    _this2.contexts = {};\n\n    _this2.contextDescURL = 'hyperty-catalogue://catalogue.' + _this2.domain + '/.well-known/dataschema/Context';\n\n    //    this.heartbeat = [];\n\n    _this2.syncher.onNotification(function (event) {\n      var _this = _this2;\n      _this.onNotification(event);\n    });\n\n    //TODO: uncomment when used with service framework develop branch\n\n    _this2.syncher.onClose(function (event) {\n\n      console.log('[ContextReporter.onClose]');\n      var _this = _this2;\n      _this.setStatus(event.id, 'unavailable');\n      event.ack();\n    });\n\n    return _this2;\n  }\n\n  //TODO: move to User availability Reporter or to abstract HypertyContextReporter\n\n  (0, _createClass3.default)(ContextReporter, [{\n    key: 'start',\n    value: function start() {\n      var _this3 = this;\n\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n\n        _this3.syncher.resumeReporters({ store: true }).then(function (reporters) {\n\n          var reportersList = (0, _keys2.default)(reporters);\n\n          if (reportersList.length > 0) {\n\n            console.log('[ContextReporter.start] resuming ', reporters[reportersList[0]]);\n\n            // set availability to available\n\n            _this.contexts = reporters;\n\n            //TODO:\n            reportersList.forEach(function (context) {\n              _this._onSubscription(_this.contexts[context]);\n            });\n\n            resolve(_this.contexts);\n          } else {\n            console.log('[ContextReporter.start] nothing to resume ', reporters);\n            resolve(false);\n          }\n        }).catch(function (reason) {\n          console.error('[ContextReporter] Resume failed | ', reason);\n        });\n      }).catch(function (reason) {\n        reject('[ContextReporter] Start failed | ', reason);\n      });\n    }\n  }, {\n    key: 'processNotification',\n    value: function processNotification(event) {\n      var _this = this;\n      console.log('[ContextReporter.processNotification: ', event);\n\n      event.ack();\n    }\n\n    /**\r\n     * This function is used to create a new status object syncher\r\n     * @param  {URL.UserURL} contacts List of Users\r\n     * @return {Promise}\r\n     */\n\n  }, {\n    key: 'create',\n    value: function create(id, init, resources) {\n      var name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'myContext';\n      var reporter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      var reuseURL = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n      //debugger;\n      var _this = this;\n      var input = void 0;\n      return new _promise2.default(function (resolve, reject) {\n        if (!reporter && !reuseURL) {\n          input = { resources: resources, expires: 30 };\n        } else if (reporter && !reuseURL) {\n          input = { resources: resources, expires: 30, reporter: reporter };\n        } else if (!reporter && reuseURL) {\n          input = { resources: resources, expires: 30, reuseURL: reuseURL };\n        } else {\n          input = { resources: resources, expires: 30, reuseURL: reuseURL, reporter: reporter };\n        }\n\n        console.info('[ContextReporter.create] lets create a new User availability Context Object ', input);\n        _this.syncher.create(_this.contextDescURL, [], init, true, false, name, null, input).then(function (context) {\n          _this.contexts[id] = context;\n\n          _this._onSubscription(context);\n          resolve(context);\n        }).catch(function (reason) {\n          reject(reason);\n        });\n      });\n    }\n  }, {\n    key: '_onSubscription',\n    value: function _onSubscription(context) {\n      context.onSubscription(function (event) {\n        console.info('[ContextReporter._onSubscription] accepting: ', event);\n        event.accept();\n      });\n    }\n  }, {\n    key: 'setContext',\n    value: function setContext(id, newContext) {\n      var _this = this;\n      console.log('THIS [ContextReporter.setContext] before change :', _this.contexts[id]);\n      console.log('[ContextReporter.setContext] before change :', _this.contexts[id].data);\n\n      //    _this.contexts[id].data.values[0].value = newContext;\n\n      _this.contexts[id].data.values = newContext;\n      console.debug('[ContextReporter.setContext] after change :', _this.contexts[id].data);\n      _this.trigger(id + '-context-update', newContext);\n    }\n  }]);\n  return ContextReporter;\n}(_EventEmitter3.default); /**\r\n                           * Copyright 2016 PT Inovação e Sistemas SA\r\n                           * Copyright 2016 INESC-ID\r\n                           * Copyright 2016 QUOBIS NETWORKS SL\r\n                           * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\r\n                           * Copyright 2016 ORANGE SA\r\n                           * Copyright 2016 Deutsche Telekom AG\r\n                           * Copyright 2016 Apizee\r\n                           * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\r\n                           *\r\n                           * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                           * you may not use this file except in compliance with the License.\r\n                           * You may obtain a copy of the License at\r\n                           *\r\n                           *   http://www.apache.org/licenses/LICENSE-2.0\r\n                           *\r\n                           * Unless required by applicable law or agreed to in writing, software\r\n                           * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                           * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                           * See the License for the specific language governing permissions and\r\n                           * limitations under the License.\r\n                           **/\n\n// Service Framework\n\n\nexports.default = ContextReporter;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dE1hbmFnZXIvQ29udGV4dFJlcG9ydGVyLmpzP2NmNGYiXSwibmFtZXMiOlsiQ29udGV4dFJlcG9ydGVyIiwiaHlwZXJ0eVVSTCIsImJ1cyIsImNvbmZpZ3VyYXRpb24iLCJzeW5jaGVyIiwiRXJyb3IiLCJfdGhpcyIsImNvbnNvbGUiLCJpbmZvIiwiZG9tYWluIiwicnVudGltZVVSTCIsImNvbnRleHRzIiwiY29udGV4dERlc2NVUkwiLCJvbk5vdGlmaWNhdGlvbiIsImV2ZW50Iiwib25DbG9zZSIsImxvZyIsInNldFN0YXR1cyIsImlkIiwiYWNrIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VtZVJlcG9ydGVycyIsInN0b3JlIiwidGhlbiIsInJlcG9ydGVycyIsInJlcG9ydGVyc0xpc3QiLCJsZW5ndGgiLCJmb3JFYWNoIiwiY29udGV4dCIsIl9vblN1YnNjcmlwdGlvbiIsImNhdGNoIiwicmVhc29uIiwiZXJyb3IiLCJpbml0IiwicmVzb3VyY2VzIiwibmFtZSIsInJlcG9ydGVyIiwicmV1c2VVUkwiLCJpbnB1dCIsImV4cGlyZXMiLCJjcmVhdGUiLCJvblN1YnNjcmlwdGlvbiIsImFjY2VwdCIsIm5ld0NvbnRleHQiLCJkYXRhIiwidmFsdWVzIiwiZGVidWciLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBOzs7O0FBR0E7Ozs7QUFDQTs7OztBQUVBOztBQUVBOzs7Ozs7QUFOQTtJQVVNQSxlOzs7QUFFSiwyQkFBWUMsVUFBWixFQUF3QkMsR0FBeEIsRUFBNkJDLGFBQTdCLEVBQTRDQyxPQUE1QyxFQUFxRDtBQUFBOztBQUNuRCxRQUFJLENBQUNILFVBQUwsRUFBaUIsTUFBTSxJQUFJSSxLQUFKLENBQVUsc0NBQVYsQ0FBTjtBQUNqQixRQUFJLENBQUNILEdBQUwsRUFBVSxNQUFNLElBQUlHLEtBQUosQ0FBVSxtQ0FBVixDQUFOO0FBQ1YsUUFB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NUIsS0FBRCxFQUFXO0FBQ2hDUCxnQkFBUUMsSUFBUixDQUFhLCtDQUFiLEVBQThETSxLQUE5RDtBQUNBQSxjQUFNNkIsTUFBTjtBQUNELE9BSEQ7QUFJRDs7OytCQUVVekIsRSxFQUFJMEIsVSxFQUFZO0FBQ3pCLFVBQUl0QyxRQUFRLElBQVo7QUFDQUMsY0FBUVMsR0FBUixDQUFZLG1EQUFaLEVBQWlFVixNQUFNSyxRQUFOLENBQWVPLEVBQWYsQ0FBakU7QUFDQVgsY0FBUVMsR0FBUixDQUFZLDhDQUFaLEVBQTREVixNQUFNSyxRQUFOLENBQWVPLEVBQWYsRUFBbUIyQixJQUEvRTs7QUFFQTs7QUFFQXZDLFlBQU1LLFFBQU4sQ0FBZU8sRUFBZixFQUFtQjJCLElBQW5CLENBQXdCQyxNQUF4QixHQUFpQ0YsVUFBakM7QUFDQXJDLGNBQVF3QyxLQUFSLENBQWMsNkNBQWQsRUFBNkR6QyxNQUFNSyxRQUFOLENBQWVPLEVBQWYsRUFBbUIyQixJQUFoRjtBQUNBdkMsWUFBTTBDLE9BQU4sQ0FBYzlCLEtBQUssaUJBQW5CLEVBQXNDMEIsVUFBdEM7QUFFRDs7OzJCQW5MSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkE7OztrQkFpS2U1QyxlIiwiZmlsZSI6IjE2My5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxyXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXHJcbiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMXHJcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcclxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcclxuKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHXHJcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXHJcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cclxuKlxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4qXHJcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuKlxyXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKi9cclxuXHJcbi8vIFNlcnZpY2UgRnJhbWV3b3JrXHJcbmltcG9ydCBTeW5jaGVyIGZyb20gJy4uL3N5bmNoZXIvU3luY2hlcic7XHJcblxyXG4vLyBVdGlsc1xyXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4uL3V0aWxzL0V2ZW50RW1pdHRlci5qcyc7XHJcbmltcG9ydCB7ZGl2aWRlVVJMfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XHJcblxyXG4vLyBpbXBvcnQgYXZhaWxhYmlsaXR5IGZyb20gJy4vYXZhaWxhYmlsaXR5LmpzJztcclxuXHJcbi8qKlxyXG4qIENvbnRleHQgUmVwb3J0ZXI7XHJcbiogQGF1dGhvciBQYXVsbyBDaGFpbmhvIFtwYXVsby1nLWNoYWluaG9AYWx0aWNlbGFicy5jb21dXHJcbiovXHJcbmNsYXNzIENvbnRleHRSZXBvcnRlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbiwgc3luY2hlcikge1xyXG4gICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO1xyXG4gICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7XHJcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7XHJcblxyXG4gICAgc3VwZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGNvbnNvbGUuaW5mbygnW0NvbnRleHRSZXBvcnRlcl0gc3RhcnRlZCB3aXRoIHVybDogJywgaHlwZXJ0eVVSTCk7XHJcblxyXG4gICAgdGhpcy5zeW5jaGVyID0gc3luY2hlciA/IHN5bmNoZXIgOiBuZXcgU3luY2hlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pO1xyXG5cclxuXHJcbiAgICAvLyAgICB0aGlzLmRpc2NvdmVyeSA9IG5ldyBEaXNjb3ZlcnkoaHlwZXJ0eVVSTCwgYnVzKTtcclxuICAgIHRoaXMuZG9tYWluID0gZGl2aWRlVVJMKGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCkuZG9tYWluO1xyXG4gICAgdGhpcy5jb250ZXh0cyA9IHt9O1xyXG5cclxuICAgIHRoaXMuY29udGV4dERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIHRoaXMuZG9tYWluICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbnRleHQnO1xyXG5cclxuXHJcbiAgICAvLyAgICB0aGlzLmhlYXJ0YmVhdCA9IFtdO1xyXG5cclxuICAgIHRoaXMuc3luY2hlci5vbk5vdGlmaWNhdGlvbigoZXZlbnQpID0+IHtcclxuICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgX3RoaXMub25Ob3RpZmljYXRpb24oZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9UT0RPOiB1bmNvbW1lbnQgd2hlbiB1c2VkIHdpdGggc2VydmljZSBmcmFtZXdvcmsgZGV2ZWxvcCBicmFuY2hcclxuXHJcbiAgICB0aGlzLnN5bmNoZXIub25DbG9zZSgoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdbQ29udGV4dFJlcG9ydGVyLm9uQ2xvc2VdJyk7XHJcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgIF90aGlzLnNldFN0YXR1cyhldmVudC5pZCwgJ3VuYXZhaWxhYmxlJyk7XHJcbiAgICAgIGV2ZW50LmFjaygpO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy9UT0RPOiBtb3ZlIHRvIFVzZXIgYXZhaWxhYmlsaXR5IFJlcG9ydGVyIG9yIHRvIGFic3RyYWN0IEh5cGVydHlDb250ZXh0UmVwb3J0ZXJcclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICB0aGlzLnN5bmNoZXIucmVzdW1lUmVwb3J0ZXJzKHtzdG9yZTogdHJ1ZX0pLnRoZW4oKHJlcG9ydGVycykgPT4ge1xyXG5cclxuICAgICAgICBsZXQgcmVwb3J0ZXJzTGlzdCA9IE9iamVjdC5rZXlzKHJlcG9ydGVycyk7XHJcblxyXG4gICAgICAgIGlmIChyZXBvcnRlcnNMaXN0Lmxlbmd0aCAgPiAwKSB7XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tDb250ZXh0UmVwb3J0ZXIuc3RhcnRdIHJlc3VtaW5nICcsIHJlcG9ydGVyc1tyZXBvcnRlcnNMaXN0WzBdXSk7XHJcblxyXG4gICAgICAgICAgLy8gc2V0IGF2YWlsYWJpbGl0eSB0byBhdmFpbGFibGVcclxuXHJcbiAgICAgICAgICBfdGhpcy5jb250ZXh0cyA9IHJlcG9ydGVycztcclxuXHJcbiAgICAgICAgICAvL1RPRE86XHJcbiAgICAgICAgICByZXBvcnRlcnNMaXN0LmZvckVhY2goKGNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgX3RoaXMuX29uU3Vic2NyaXB0aW9uKF90aGlzLmNvbnRleHRzW2NvbnRleHRdKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoX3RoaXMuY29udGV4dHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0NvbnRleHRSZXBvcnRlci5zdGFydF0gbm90aGluZyB0byByZXN1bWUgJywgcmVwb3J0ZXJzKTtcclxuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbQ29udGV4dFJlcG9ydGVyXSBSZXN1bWUgZmFpbGVkIHwgJywgcmVhc29uKTtcclxuICAgICAgfSk7XHJcbiAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgIHJlamVjdCgnW0NvbnRleHRSZXBvcnRlcl0gU3RhcnQgZmFpbGVkIHwgJywgcmVhc29uKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIHByb2Nlc3NOb3RpZmljYXRpb24oZXZlbnQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBjb25zb2xlLmxvZygnW0NvbnRleHRSZXBvcnRlci5wcm9jZXNzTm90aWZpY2F0aW9uOiAnLCBldmVudCk7XHJcblxyXG4gICAgZXZlbnQuYWNrKCk7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBzdGF0dXMgb2JqZWN0IHN5bmNoZXJcclxuICAgKiBAcGFyYW0gIHtVUkwuVXNlclVSTH0gY29udGFjdHMgTGlzdCBvZiBVc2Vyc1xyXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XHJcbiAgICovXHJcbiAgY3JlYXRlKGlkLCBpbml0LCByZXNvdXJjZXMsIG5hbWUgPSAnbXlDb250ZXh0JywgcmVwb3J0ZXIgPSBudWxsLCByZXVzZVVSTCA9IG51bGwpIHtcclxuICAgIC8vZGVidWdnZXI7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGlucHV0O1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgaWYgKCFyZXBvcnRlciAmJiAhcmV1c2VVUkwpIHtcclxuICAgICAgICBpbnB1dCA9IHtyZXNvdXJjZXM6IHJlc291cmNlcywgZXhwaXJlczogMzB9O1xyXG4gICAgICB9IGVsc2UgaWYgKHJlcG9ydGVyICYmICFyZXVzZVVSTCkge1xyXG4gICAgICAgIGlucHV0ID0ge3Jlc291cmNlczogcmVzb3VyY2VzLCBleHBpcmVzOiAzMCwgcmVwb3J0ZXI6IHJlcG9ydGVyfTtcclxuICAgICAgfSBlbHNlIGlmICghcmVwb3J0ZXIgJiYgcmV1c2VVUkwpIHtcclxuICAgICAgICBpbnB1dCA9IHtyZXNvdXJjZXM6IHJlc291cmNlcywgZXhwaXJlczogMzAsIHJldXNlVVJMOiByZXVzZVVSTH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5wdXQgPSB7cmVzb3VyY2VzOiByZXNvdXJjZXMsIGV4cGlyZXM6IDMwLCByZXVzZVVSTDogcmV1c2VVUkwsIHJlcG9ydGVyOiByZXBvcnRlcn07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUuaW5mbygnW0NvbnRleHRSZXBvcnRlci5jcmVhdGVdIGxldHMgY3JlYXRlIGEgbmV3IFVzZXIgYXZhaWxhYmlsaXR5IENvbnRleHQgT2JqZWN0ICcsIGlucHV0KTtcclxuICAgICAgX3RoaXMuc3luY2hlci5jcmVhdGUoX3RoaXMuY29udGV4dERlc2NVUkwsIFtdLCBpbml0LCB0cnVlLCBmYWxzZSwgbmFtZSwgbnVsbCwgaW5wdXQpXHJcbiAgICAgICAgLnRoZW4oKGNvbnRleHQpID0+IHtcclxuICAgICAgICAgIF90aGlzLmNvbnRleHRzW2lkXSA9IGNvbnRleHQ7XHJcblxyXG4gICAgICAgICAgX3RoaXMuX29uU3Vic2NyaXB0aW9uKGNvbnRleHQpO1xyXG4gICAgICAgICAgcmVzb2x2ZShjb250ZXh0KTtcclxuXHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBfb25TdWJzY3JpcHRpb24oY29udGV4dCkge1xyXG4gICAgY29udGV4dC5vblN1YnNjcmlwdGlvbigoZXZlbnQpID0+IHtcclxuICAgICAgY29uc29sZS5pbmZvKCdbQ29udGV4dFJlcG9ydGVyLl9vblN1YnNjcmlwdGlvbl0gYWNjZXB0aW5nOiAnLCBldmVudCk7XHJcbiAgICAgIGV2ZW50LmFjY2VwdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRDb250ZXh0KGlkLCBuZXdDb250ZXh0KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgY29uc29sZS5sb2coJ1RISVMgW0NvbnRleHRSZXBvcnRlci5zZXRDb250ZXh0XSBiZWZvcmUgY2hhbmdlIDonLCBfdGhpcy5jb250ZXh0c1tpZF0pO1xyXG4gICAgY29uc29sZS5sb2coJ1tDb250ZXh0UmVwb3J0ZXIuc2V0Q29udGV4dF0gYmVmb3JlIGNoYW5nZSA6JywgX3RoaXMuY29udGV4dHNbaWRdLmRhdGEpO1xyXG5cclxuICAgIC8vICAgIF90aGlzLmNvbnRleHRzW2lkXS5kYXRhLnZhbHVlc1swXS52YWx1ZSA9IG5ld0NvbnRleHQ7XHJcblxyXG4gICAgX3RoaXMuY29udGV4dHNbaWRdLmRhdGEudmFsdWVzID0gbmV3Q29udGV4dDtcclxuICAgIGNvbnNvbGUuZGVidWcoJ1tDb250ZXh0UmVwb3J0ZXIuc2V0Q29udGV4dF0gYWZ0ZXIgY2hhbmdlIDonLCBfdGhpcy5jb250ZXh0c1tpZF0uZGF0YSk7XHJcbiAgICBfdGhpcy50cmlnZ2VyKGlkICsgJy1jb250ZXh0LXVwZGF0ZScsIG5ld0NvbnRleHQpO1xyXG5cclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udGV4dFJlcG9ydGVyO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29udGV4dE1hbmFnZXIvQ29udGV4dFJlcG9ydGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///163\n")}])});
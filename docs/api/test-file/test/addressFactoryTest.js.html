<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">test/addressFactoryTest.js | Service Framework API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">catalogue-factory</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/CatalogueDataObject.js~CatalogueDataObject.html">CatalogueDataObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/CatalogueDataObjectFactory.js~CatalogueDataObjectFactory.html">CatalogueDataObjectFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~CommunicationDataObjectSchema.html">CommunicationDataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~ConnectionDataObjectSchema.html">ConnectionDataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~ContextDataObjectSchema.html">ContextDataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~DataObjectSchema.html">DataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~HypertyDataObjectSchema.html">HypertyDataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~IdentityDataObjectSchema.html">IdentityDataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/DataObjectSchema.js~MessageDataObjectSchema.html">MessageDataObjectSchema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/HypertyDescriptor.js~HypertyDescriptor.html">HypertyDescriptor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/HypertyInterceptorDescriptor.js~PolicyEnforcerDescriptor.html">PolicyEnforcerDescriptor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/HypertyRuntimeDescriptor.js~HypertyRuntimeDescriptor.html">HypertyRuntimeDescriptor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/HypertyRuntimeDescriptor.js~RuntimeHypertyCapability.html">RuntimeHypertyCapability</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/HypertyRuntimeDescriptor.js~RuntimeProtocolCapability.html">RuntimeProtocolCapability</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/ProtocolStubDescriptor.js~ProtocolStubDescriptor.html">ProtocolStubDescriptor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/RuntimeConstraint.js~RuntimeConstraint.html">RuntimeConstraint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/catalogue-factory/SourcePackage.js~SourcePackage.html">SourcePackage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CatalogueObjectType">CatalogueObjectType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataObjectSourceLanguage">DataObjectSourceLanguage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataUrlScheme">DataUrlScheme</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-HypertyResourceType">HypertyResourceType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-HypertyType">HypertyType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RuntimeHypertyCapabilityType">RuntimeHypertyCapabilityType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RuntimeType">RuntimeType</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">discovery</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/discovery/Discovery.js~Discovery.html">Discovery</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">identityManager</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/identityManager/IdentityManager.js~IdentityManager.html">IdentityManager</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">idp</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activate">activate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activate">activate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activate">activate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-activate">activate</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">message-factory</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/Message.js~Message.html">Message</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~CreateMessageBody.html">CreateMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~DeleteMessageBody.html">DeleteMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~ExecuteMessageBody.html">ExecuteMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~ForwardMessageBody.html">ForwardMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~MessageBody.html">MessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~ReadMessageBody.html">ReadMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~ResponseMessageBody.html">ResponseMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageBody.js~UpdateMessageBody.html">UpdateMessageBody</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageFactory.js~IdGenerator.html">IdGenerator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/message-factory/MessageFactory.js~MessageFactory.html">MessageFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Enum">Enum</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MessageType">MessageType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ATTRIBUTE_TYPE">ATTRIBUTE_TYPE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-REASON_PHRASE">REASON_PHRASE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RESPONSE_CODE">RESPONSE_CODE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UPDATE_OPERATION">UPDATE_OPERATION</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">persistence</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/persistence/PersistenceManager.js~PersistenceManager.html">PersistenceManager</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">reTHINKObject</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/reTHINKObject/RethinkObject.js~RethinkObject.html">RethinkObject</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">runtime-capabilities</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/runtime-capabilities/RuntimeCapabilities.js~RuntimeCapabilities.html">RuntimeCapabilities</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">runtime-catalogue</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/runtime-catalogue/RuntimeCatalogue.js~RuntimeCatalogue.html">RuntimeCatalogue</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">storage-manager</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/storage-manager/StorageManager.js~StorageManager.html">StorageManager</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">syncher</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/syncher/DataObject.js~DataObject.html">DataObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/syncher/DataObjectChild.js~DataObjectChild.html">DataObjectChild</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/syncher/DataObjectObserver.js~DataObjectObserver.html">DataObjectObserver</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/syncher/DataObjectReporter.js~DataObjectReporter.html">DataObjectReporter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/syncher/Syncher.js~Syncher.html">Syncher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ChangeType">ChangeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ObjectType">ObjectType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ChangeType">ChangeType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ObjectType">ObjectType</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/EventEmitter.js~EventEmitter.html">EventEmitter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-convertToUserURL">convertToUserURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-deepClone">deepClone</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-divideEmail">divideEmail</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-divideURL">divideURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emptyObject">emptyObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getUserEmailFromURL">getUserEmailFromURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getUserURLFromEmail">getUserURLFromEmail</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-divideURL">divideURL</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">test/addressFactoryTest.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&quot;use strict&quot;;
/*global describe */
/*global it */
/*
const assert = require(&quot;assert&quot;);
const fs = require(&quot;fs&quot;);
const URL = require(&quot;../lib/url&quot;).createURLConstructor();

function testAll(testurl) {
    return function () {
	let url;

	try {
	    url = new URL(testurl.input, testurl.base);
	    assert.equal(url.protocol , testurl.output.protocol, &quot;\n\tGiven: *&quot; + url.protocol  +&quot;* \n\tTesturl.output.protocol: *&quot;+testurl.output.protocol+&quot;*&quot;);
	    assert.equal(url.origin , testurl.output.origin, &quot;\n\tGiven: &quot; + url.origin  +   &quot; \n\tTesturl.Output.origin: &quot;+testurl.output.origin);
	    assert.equal(url.hostname , testurl.output.hostname, &quot;\n\tGiven: &quot; + url.hostname  +   &quot; \n\tTesturl.Output.hostname: &quot;+testurl.output.hostname);
	    assert.equal(url.host , testurl.output.host, &quot;\n\tGiven: &quot; + url.host  +   &quot; \n\tTesturl.Output.host: &quot;+testurl.output.host);
	    assert.equal(url.port , testurl.output.port, &quot;\n\tGiven: &quot; + url.port  +   &quot; \n\tTesturl.Output.port: &quot;+testurl.output.port);
	    assert.equal(url.path , testurl.output.path, &quot;\n\tGiven: &quot; + url.path  +   &quot; \n\tTesturl.Output.path: &quot;+testurl.output.path);
	    assert.equal(url.search , testurl.output.search, &quot;\n\tGiven: &quot; + url.search  +   &quot; \n\tTesturl.Output.search: &quot;+testurl.output.search);
	    assert.equal(url.hash , testurl.output.hash, &quot;\n\tGiven: &quot; + url.hash  +   &quot; \n\tTesturl.Output.hash: &quot;+testurl.output.hash);
	    assert.equal(url.href , testurl.output.href, &quot;\n\tGiven: &quot; + url.href  +   &quot; \n\tTesturl.Output.href: &quot;+testurl.output.href);


	} catch (e) {
	    if (e instanceof TypeError &amp;&amp; expected.error === TypeError) {
	    } else {
		throw e;
	    }
	}
	
    }
}

function testOrigin(expected) {
    return function () {
	let url;

	try {
	    url = new URL(expected.input, expected.base);

	    assert.equal(url.origin, expected.origin, &quot;\n\tGiven: &quot; + url.origin  +   &quot; \n\tExpected: &quot;+expected.origin);
	} catch (e) {
	    if (e instanceof TypeError &amp;&amp; expected.error === TypeError) {
	    } else {
		throw e;
	    }
	}

    };
}


function testURL(expected) {
  return function () {
      let url;
      try {
	  url = new URL(expected.input, expected.base);
	  console.warn(&quot;Protocol: &quot; + url.protocol)
	  console.warn(&quot;Origin: &quot; + url.origin)
	  console.warn(&quot;Hostname: &quot; + url.hostname)
	  console.warn(&quot;Host: &quot; + url.host)
	  console.warn(&quot;Port: &quot; + url.port)
	  console.warn(&quot;Path: &quot; + url.path)
	  console.warn(&quot;Search: &quot; + url.search)
	  console.warn(&quot;Hash: &quot; + url.hash)
	  console.warn(&quot;Href: &quot; + url.href)	  

      } catch (e) {
	  if (e instanceof TypeError &amp;&amp; expected.protocol === &quot;:&quot;) {
	      console.error(&quot;TypeError...&quot;);
              return;
	  }
	  throw e;
      }

      console.warn(&quot;parsing...&quot;);
      if (expected.protocol === &quot;:&quot; &amp;&amp; url.protocol !== &quot;:&quot;) {
	  assert.fail(url.href, &quot;&quot;, &quot;Expected URL to fail parsing, got &quot; + url.href);
      }
  };
}

describe(&quot;Full tests:&quot;, function () {
    let urls = []
    let url = {}

    url={
	input:&quot;hyperty-runtime-esn://domain.com/12345&quot;,
	output: {
	    protocol: &quot;hyperty-runtime-esn:&quot;,
	    origin: &quot;hyperty-runtime-esn://domain.com&quot;,
	    hostname: &quot;domain.com&quot;,
	    host: &quot;domain.com&quot;,
	    port: &quot;&quot;,
	    path: undefined,
	    search: &quot;&quot;, 
	    hash:&quot;&quot;, 
	    href: &quot;hyperty-runtime-esn://domain.com/12345&quot;
	}
    }

    urls.push(url)

    url={
    	input:&quot;hyperty-runtime-esn://domain.com/12345#textafterhash&quot;,
    	output: {
	    protocol: &quot;hyperty-runtime-esn:&quot;,
	    origin: &quot;hyperty-runtime-esn://domain.com&quot;,
	    hostname: &quot;domain.com&quot;,
	    host: &quot;domain.com&quot;,
	    port: &quot;&quot;,
	    path: undefined,
	    search: &quot;&quot;, 
	    hash:&quot;#textafterhash&quot;, 
	    href: &quot;hyperty-runtime-esn://domain.com/12345#textafterhash&quot;
    	}
    }
    urls.push(url)

    url={
    	input:&quot;hyperty-runtime-esn://domain.com/12345?a=1&amp;b=2&amp;c=3&quot;,
    	output: {
	    protocol: &quot;hyperty-runtime-esn:&quot;,
	    origin: &quot;hyperty-runtime-esn://domain.com&quot;,
	    hostname: &quot;domain.com&quot;,
	    host: &quot;domain.com&quot;,
	    port: &quot;&quot;,
	    path: undefined,
	    search: &quot;?a=1&amp;b=2&amp;c=3&quot;, 
	    hash:&quot;&quot;, 
	    href: &quot;hyperty-runtime-esn://domain.com/12345?a=1&amp;b=2&amp;c=3&quot;
    	}
    }
    urls.push(url)

    // url={
    // 	input:&quot;hyperty-runtime-esn://domain.com/12345#hash?a=1&amp;b=2&amp;c=3&quot;,
    // 	output: {
    // 	    protocol: &quot;hyperty-runtime-esn:&quot;,
    // 	    origin: &quot;hyperty-runtime-esn://domain.com&quot;,
    // 	    hostname: &quot;domain.com&quot;,
    // 	    host: &quot;domain.com&quot;,
    // 	    port: &quot;&quot;,
    // 	    path: undefined,
    // 	    search: &quot;?a=1&amp;b=2&amp;c=3&quot;, 
    // 	    hash:&quot;&quot;, 
    // 	    href: &quot;hyperty-runtime-esn://domain.com/12345&quot;
    // 	}
    // }
    // urls.push(url)


    for (let i=0; i&lt;urls.length; i++) {
	it(urls[i].input+&quot;: &quot;, testAll(urls[i]))
    }

})



describe(&quot;Tests to check &apos;origin&apos;:&quot;, function () {
    let urls = []
    urls.push({input:&quot;blob:https://whatwg.org/d0360e2f-caee-469f-9a2f-87d5b0456f6f&quot;, origin:&quot;https://whatwg.org:443&quot;})

    // special scheme without port
    urls.push({input:&quot;wss://rethink.org/&quot;, origin:&quot;wss://rethink.org&quot;})

    // special scheme with default port
    urls.push({input:&quot;wss://rethink.org:443/&quot;, origin:&quot;wss://rethink.org&quot;})

    // special scheme without port
    urls.push({input:&quot;ws://rethink.org/&quot;, origin:&quot;ws://rethink.org&quot;})

    // special scheme with different port
    urls.push({input:&quot;wss://rethink.org:2345&quot;, origin:&quot;wss://rethink.org:2345&quot;})

    // special scheme with different port
    urls.push({input:&quot;ws://rethink.org:1000&quot;, origin:&quot;ws://rethink.org:1000&quot;})

    // special scheme with same port as default one
    urls.push({input:&quot;wss://rethink.org:443&quot;, origin:&quot;wss://rethink.org&quot;})

    urls.push({input:&quot;newschema://rethink.org&quot;, origin:&quot;null&quot;})

    urls.push({input:&quot;wss://rethink.org#section&quot;, origin:&quot;wss://rethink.org&quot;})

    urls.push({input:&quot;wss://rethink.org/section1/section2&quot;, origin:&quot;wss://rethink.org&quot;})

    urls.push({input:&quot;wss://something&quot;, origin:&quot;wss://something&quot;})
    urls.push({input:&quot;wss://a.b.c.d.e&quot;, origin:&quot;wss://a.b.c.d.e&quot;})

    // Invalid URLs
    urls.push({input:&quot;wss://&quot;, error:TypeError})
    urls.push({input:&quot;://rethink.org&quot;, error:TypeError})
    urls.push({input:&quot;&lt;some garbage&gt;&quot;, error:TypeError})

    // Valid URLs with IPv4
    urls.push({input:&quot;wss://127.0.0.1&quot;, origin:&quot;wss://127.0.0.1&quot;})

    // Invalid URLs with IPs v4
    urls.push({input:&quot;wss://127.0.0.300&quot;, error:TypeError})
    urls.push({input:&quot;wss://127.0.0&quot;, error:TypeError})
    urls.push({input:&quot;wss://127.0.0.1.2&quot;, error:TypeError})
    urls.push({input:&quot;wss://ABCD:EF01:2345:6789:ABCD:EF01:2345:6789&quot;, error:TypeError})

    // reThink URLs
    urls.push({input:&quot;user://twitter.com/pchainho&quot;, origin:&quot;user://twitter.com&quot;})
    urls.push({input:&quot;user://cm-lisboa.pt/campo-grande-28-building&quot;, origin:&quot;user://cm-lisboa.pt&quot;})
    urls.push({input:&quot;ctxt://myhouse/energy&quot;, origin:&quot;ctxt://myhouse&quot;})
    urls.push({input:&quot;comm://telekom.de/sdruesdow-20150802006&quot;, origin:&quot;comm://telekom.de&quot;})

    // reThink URls: hypertity runtime
    urls.push({input:&quot;hyperty-runtime://domain.com/12345&quot;, origin:&quot;hyperty-runtime://domain.com&quot;})
    urls.push({input:&quot;hyperty-runtime-uuid://domain.com/12345&quot;, origin:&quot;hyperty-runtime-uuid://domain.com&quot;})
    urls.push({input:&quot;hyperty-runtime-dev-os://domain.com/12345&quot;, origin:&quot;hyperty-runtime-dev-os://domain.com&quot;})
    urls.push({input:&quot;hyperty-runtime-imei://domain.com/12345&quot;, origin:&quot;hyperty-runtime-imei://domain.com&quot;})
    urls.push({input:&quot;hyperty-runtime-esn://domain.com/12345&quot;, origin:&quot;hyperty-runtime-esn://domain.com&quot;})
    urls.push({input:&quot;hyperty-runtime-meid://domain.com/12345&quot;, origin:&quot;hyperty-runtime-meid://domain.com&quot;})
    urls.push({input:&quot;hyperty-runtime-doesnotexist://domain.com/12345&quot;, origin:&quot;&quot;})
    urls.push({input:&quot;hyperty://meo.pt/123456&quot;, origin:&quot;hyperty://meo.pt/123456&quot;})

    for (let i=0; i&lt;urls.length; i++) {
	it(urls[i].input+&quot;: &quot;, testOrigin(urls[i]))
    }
}

)

// describe(&quot;Hosts&quot;, function () {
//     let url = {}
//     url.input=&quot;newprotocol://www.google.es&quot;;
//     url.expected={}
//     url.expected.protocol=&quot;newprotocol:&quot;
//     it(&quot;Testing: &quot;, testURL(url))

//     url.input=&quot;newprotocol://www.google.es#section&quot;;
//     url.expected={}
//     url.expected.protocol=&quot;newprotocol:&quot;
//     it(&quot;Testing: &quot;, testURL(url))

//     url.input=&quot;newprotocol://google.es#section&quot;;
//     url.expected={}
//     url.expected.protocol=&quot;newprotocol:&quot;
//     it(&quot;Testing: &quot;, testURL(url))

//     url.input=&quot;newprotocol://google#section&quot;;
//     url.expected={}
//     url.expected.protocol=&quot;newprotocol:&quot;
//     it(&quot;Testing: &quot;, testURL(url))
    
// });
*/</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
